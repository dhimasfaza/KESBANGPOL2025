var PX=Object.defineProperty;var iU=r=>{throw TypeError(r)};var FX=(r,t,e)=>t in r?PX(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Ft=(r,t,e)=>FX(r,typeof t!="symbol"?t+"":t,e),sS=(r,t,e)=>t.has(r)||iU("Cannot "+e);var B=(r,t,e)=>(sS(r,t,"read from private field"),e?e.call(r):t.get(r)),ot=(r,t,e)=>t.has(r)?iU("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),Z=(r,t,e,i)=>(sS(r,t,"write to private field"),i?i.call(r,e):t.set(r,e),e),lt=(r,t,e)=>(sS(r,t,"access private method"),e);var ta=(r,t,e,i)=>({set _(o){Z(r,t,o,e)},get _(){return B(r,t,i)}});var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Px(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var MC={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var OX=MC.exports,sU;function D5(){return sU||(sU=1,function(r){(function(t,e){r.exports=t.document?e(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}})(typeof window<"u"?window:OX,function(t,e){var i=[],o=Object.getPrototypeOf,a=i.slice,c=i.flat?function(S){return i.flat.call(S)}:function(S){return i.concat.apply([],S)},d=i.push,h=i.indexOf,p={},g=p.toString,w=p.hasOwnProperty,v=w.toString,k=v.call(Object),y={},x=function(O){return typeof O=="function"&&typeof O.nodeType!="number"&&typeof O.item!="function"},I=function(O){return O!=null&&O===O.window},F=t.document,R={type:!0,src:!0,nonce:!0,noModule:!0};function Q(S,O,j){j=j||F;var G,et,nt=j.createElement("script");if(nt.text=S,O)for(G in R)et=O[G]||O.getAttribute&&O.getAttribute(G),et&&nt.setAttribute(G,et);j.head.appendChild(nt).parentNode.removeChild(nt)}function V(S){return S==null?S+"":typeof S=="object"||typeof S=="function"?p[g.call(S)]||"object":typeof S}var W="3.7.1",X=/HTML$/i,P=function(S,O){return new P.fn.init(S,O)};P.fn=P.prototype={jquery:W,constructor:P,length:0,toArray:function(){return a.call(this)},get:function(S){return S==null?a.call(this):S<0?this[S+this.length]:this[S]},pushStack:function(S){var O=P.merge(this.constructor(),S);return O.prevObject=this,O},each:function(S){return P.each(this,S)},map:function(S){return this.pushStack(P.map(this,function(O,j){return S.call(O,j,O)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(S,O){return(O+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(S,O){return O%2}))},eq:function(S){var O=this.length,j=+S+(S<0?O:0);return this.pushStack(j>=0&&j<O?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:d,sort:i.sort,splice:i.splice},P.extend=P.fn.extend=function(){var S,O,j,G,et,nt,at=arguments[0]||{},kt=1,wt=arguments.length,Bt=!1;for(typeof at=="boolean"&&(Bt=at,at=arguments[kt]||{},kt++),typeof at!="object"&&!x(at)&&(at={}),kt===wt&&(at=this,kt--);kt<wt;kt++)if((S=arguments[kt])!=null)for(O in S)G=S[O],!(O==="__proto__"||at===G)&&(Bt&&G&&(P.isPlainObject(G)||(et=Array.isArray(G)))?(j=at[O],et&&!Array.isArray(j)?nt=[]:!et&&!P.isPlainObject(j)?nt={}:nt=j,et=!1,at[O]=P.extend(Bt,nt,G)):G!==void 0&&(at[O]=G));return at},P.extend({expando:"jQuery"+(W+Math.random()).replace(/\D/g,""),isReady:!0,error:function(S){throw new Error(S)},noop:function(){},isPlainObject:function(S){var O,j;return!S||g.call(S)!=="[object Object]"?!1:(O=o(S),O?(j=w.call(O,"constructor")&&O.constructor,typeof j=="function"&&v.call(j)===k):!0)},isEmptyObject:function(S){var O;for(O in S)return!1;return!0},globalEval:function(S,O,j){Q(S,{nonce:O&&O.nonce},j)},each:function(S,O){var j,G=0;if(K(S))for(j=S.length;G<j&&O.call(S[G],G,S[G])!==!1;G++);else for(G in S)if(O.call(S[G],G,S[G])===!1)break;return S},text:function(S){var O,j="",G=0,et=S.nodeType;if(!et)for(;O=S[G++];)j+=P.text(O);return et===1||et===11?S.textContent:et===9?S.documentElement.textContent:et===3||et===4?S.nodeValue:j},makeArray:function(S,O){var j=O||[];return S!=null&&(K(Object(S))?P.merge(j,typeof S=="string"?[S]:S):d.call(j,S)),j},inArray:function(S,O,j){return O==null?-1:h.call(O,S,j)},isXMLDoc:function(S){var O=S&&S.namespaceURI,j=S&&(S.ownerDocument||S).documentElement;return!X.test(O||j&&j.nodeName||"HTML")},merge:function(S,O){for(var j=+O.length,G=0,et=S.length;G<j;G++)S[et++]=O[G];return S.length=et,S},grep:function(S,O,j){for(var G,et=[],nt=0,at=S.length,kt=!j;nt<at;nt++)G=!O(S[nt],nt),G!==kt&&et.push(S[nt]);return et},map:function(S,O,j){var G,et,nt=0,at=[];if(K(S))for(G=S.length;nt<G;nt++)et=O(S[nt],nt,j),et!=null&&at.push(et);else for(nt in S)et=O(S[nt],nt,j),et!=null&&at.push(et);return c(at)},guid:1,support:y}),typeof Symbol=="function"&&(P.fn[Symbol.iterator]=i[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(S,O){p["[object "+O+"]"]=O.toLowerCase()});function K(S){var O=!!S&&"length"in S&&S.length,j=V(S);return x(S)||I(S)?!1:j==="array"||O===0||typeof O=="number"&&O>0&&O-1 in S}function J(S,O){return S.nodeName&&S.nodeName.toLowerCase()===O.toLowerCase()}var rt=i.pop,dt=i.sort,ht=i.splice,ut="[\\x20\\t\\r\\n\\f]",mt=new RegExp("^"+ut+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ut+"+$","g");P.contains=function(S,O){var j=O&&O.parentNode;return S===j||!!(j&&j.nodeType===1&&(S.contains?S.contains(j):S.compareDocumentPosition&&S.compareDocumentPosition(j)&16))};var St=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function vt(S,O){return O?S==="\0"?"ï¿½":S.slice(0,-1)+"\\"+S.charCodeAt(S.length-1).toString(16)+" ":"\\"+S}P.escapeSelector=function(S){return(S+"").replace(St,vt)};var pt=F,_t=d;(function(){var S,O,j,G,et,nt=_t,at,kt,wt,Bt,Ht,$t=P.expando,Rt=0,te=0,Pe=Cc(),Je=Cc(),We=Cc(),as=Cc(),hi=function(gt,Et){return gt===Et&&(et=!0),0},Cr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Gr="(?:\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",cn="\\["+ut+"*("+Gr+")(?:"+ut+"*([*^$|!~]?=)"+ut+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Gr+"))|)"+ut+"*\\]",Wr=":("+Gr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+cn+")*)|.*)\\)|)",nn=new RegExp(ut+"+","g"),oi=new RegExp("^"+ut+"*,"+ut+"*"),$r=new RegExp("^"+ut+"*([>+~]|"+ut+")"+ut+"*"),Ui=new RegExp(ut+"|>"),Qi=new RegExp(Wr),ma=new RegExp("^"+Gr+"$"),ys={ID:new RegExp("^#("+Gr+")"),CLASS:new RegExp("^\\.("+Gr+")"),TAG:new RegExp("^("+Gr+"|[*])"),ATTR:new RegExp("^"+cn),PSEUDO:new RegExp("^"+Wr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ut+"*(even|odd|(([+-]|)(\\d*)n|)"+ut+"*(?:([+-]|)"+ut+"*(\\d+)|))"+ut+"*\\)|)","i"),bool:new RegExp("^(?:"+Cr+")$","i"),needsContext:new RegExp("^"+ut+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ut+"*((?:-\\d)?\\d*)"+ut+"*\\)|)(?=[^-]|$)","i")},Er=/^(?:input|select|textarea|button)$/i,qr=/^h\d$/i,sr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ad=/[+~]/,Yr=new RegExp("\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\([^\\r\\n\\f])","g"),wo=function(gt,Et){var Nt="0x"+gt.slice(1)-65536;return Et||(Nt<0?String.fromCharCode(Nt+65536):String.fromCharCode(Nt>>10|55296,Nt&1023|56320))},Xr=function(){xr()},Rl=rr(function(gt){return gt.disabled===!0&&J(gt,"fieldset")},{dir:"parentNode",next:"legend"});function Zr(){try{return at.activeElement}catch{}}try{nt.apply(i=a.call(pt.childNodes),pt.childNodes),i[pt.childNodes.length].nodeType}catch{nt={apply:function(Et,Nt){_t.apply(Et,a.call(Nt))},call:function(Et){_t.apply(Et,a.call(arguments,1))}}}function dn(gt,Et,Nt,Ut){var Gt,re,ee,we,ue,ze,Fe,Re=Et&&Et.ownerDocument,$e=Et?Et.nodeType:9;if(Nt=Nt||[],typeof gt!="string"||!gt||$e!==1&&$e!==9&&$e!==11)return Nt;if(!Ut&&(xr(Et),Et=Et||at,wt)){if($e!==11&&(ue=sr.exec(gt)))if(Gt=ue[1]){if($e===9)if(ee=Et.getElementById(Gt)){if(ee.id===Gt)return nt.call(Nt,ee),Nt}else return Nt;else if(Re&&(ee=Re.getElementById(Gt))&&dn.contains(Et,ee)&&ee.id===Gt)return nt.call(Nt,ee),Nt}else{if(ue[2])return nt.apply(Nt,Et.getElementsByTagName(gt)),Nt;if((Gt=ue[3])&&Et.getElementsByClassName)return nt.apply(Nt,Et.getElementsByClassName(Gt)),Nt}if(!as[gt+" "]&&(!Bt||!Bt.test(gt))){if(Fe=gt,Re=Et,$e===1&&(Ui.test(gt)||$r.test(gt))){for(Re=Ad.test(gt)&&_o(Et.parentNode)||Et,(Re!=Et||!y.scope)&&((we=Et.getAttribute("id"))?we=P.escapeSelector(we):Et.setAttribute("id",we=$t)),ze=ba(gt),re=ze.length;re--;)ze[re]=(we?"#"+we:":scope")+" "+Ul(ze[re]);Fe=ze.join(",")}try{return nt.apply(Nt,Re.querySelectorAll(Fe)),Nt}catch{as(gt,!0)}finally{we===$t&&Et.removeAttribute("id")}}}return zl(gt.replace(mt,"$1"),Et,Nt,Ut)}function Cc(){var gt=[];function Et(Nt,Ut){return gt.push(Nt+" ")>O.cacheLength&&delete Et[gt.shift()],Et[Nt+" "]=Ut}return Et}function fi(gt){return gt[$t]=!0,gt}function vo(gt){var Et=at.createElement("fieldset");try{return!!gt(Et)}catch{return!1}finally{Et.parentNode&&Et.parentNode.removeChild(Et),Et=null}}function Ec(gt){return function(Et){return J(Et,"input")&&Et.type===gt}}function pA(gt){return function(Et){return(J(Et,"input")||J(Et,"button"))&&Et.type===gt}}function Jr(gt){return function(Et){return"form"in Et?Et.parentNode&&Et.disabled===!1?"label"in Et?"label"in Et.parentNode?Et.parentNode.disabled===gt:Et.disabled===gt:Et.isDisabled===gt||Et.isDisabled!==!gt&&Rl(Et)===gt:Et.disabled===gt:"label"in Et?Et.disabled===gt:!1}}function $o(gt){return fi(function(Et){return Et=+Et,fi(function(Nt,Ut){for(var Gt,re=gt([],Nt.length,Et),ee=re.length;ee--;)Nt[Gt=re[ee]]&&(Nt[Gt]=!(Ut[Gt]=Nt[Gt]))})})}function _o(gt){return gt&&typeof gt.getElementsByTagName<"u"&&gt}function xr(gt){var Et,Nt=gt?gt.ownerDocument||gt:pt;return Nt==at||Nt.nodeType!==9||!Nt.documentElement||(at=Nt,kt=at.documentElement,wt=!P.isXMLDoc(at),Ht=kt.matches||kt.webkitMatchesSelector||kt.msMatchesSelector,kt.msMatchesSelector&&pt!=at&&(Et=at.defaultView)&&Et.top!==Et&&Et.addEventListener("unload",Xr),y.getById=vo(function(Ut){return kt.appendChild(Ut).id=P.expando,!at.getElementsByName||!at.getElementsByName(P.expando).length}),y.disconnectedMatch=vo(function(Ut){return Ht.call(Ut,"*")}),y.scope=vo(function(){return at.querySelectorAll(":scope")}),y.cssHas=vo(function(){try{return at.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),y.getById?(O.filter.ID=function(Ut){var Gt=Ut.replace(Yr,wo);return function(re){return re.getAttribute("id")===Gt}},O.find.ID=function(Ut,Gt){if(typeof Gt.getElementById<"u"&&wt){var re=Gt.getElementById(Ut);return re?[re]:[]}}):(O.filter.ID=function(Ut){var Gt=Ut.replace(Yr,wo);return function(re){var ee=typeof re.getAttributeNode<"u"&&re.getAttributeNode("id");return ee&&ee.value===Gt}},O.find.ID=function(Ut,Gt){if(typeof Gt.getElementById<"u"&&wt){var re,ee,we,ue=Gt.getElementById(Ut);if(ue){if(re=ue.getAttributeNode("id"),re&&re.value===Ut)return[ue];for(we=Gt.getElementsByName(Ut),ee=0;ue=we[ee++];)if(re=ue.getAttributeNode("id"),re&&re.value===Ut)return[ue]}return[]}}),O.find.TAG=function(Ut,Gt){return typeof Gt.getElementsByTagName<"u"?Gt.getElementsByTagName(Ut):Gt.querySelectorAll(Ut)},O.find.CLASS=function(Ut,Gt){if(typeof Gt.getElementsByClassName<"u"&&wt)return Gt.getElementsByClassName(Ut)},Bt=[],vo(function(Ut){var Gt;kt.appendChild(Ut).innerHTML="<a id='"+$t+"' href='' disabled='disabled'></a><select id='"+$t+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ut.querySelectorAll("[selected]").length||Bt.push("\\["+ut+"*(?:value|"+Cr+")"),Ut.querySelectorAll("[id~="+$t+"-]").length||Bt.push("~="),Ut.querySelectorAll("a#"+$t+"+*").length||Bt.push(".#.+[+~]"),Ut.querySelectorAll(":checked").length||Bt.push(":checked"),Gt=at.createElement("input"),Gt.setAttribute("type","hidden"),Ut.appendChild(Gt).setAttribute("name","D"),kt.appendChild(Ut).disabled=!0,Ut.querySelectorAll(":disabled").length!==2&&Bt.push(":enabled",":disabled"),Gt=at.createElement("input"),Gt.setAttribute("name",""),Ut.appendChild(Gt),Ut.querySelectorAll("[name='']").length||Bt.push("\\["+ut+"*name"+ut+"*="+ut+`*(?:''|"")`)}),y.cssHas||Bt.push(":has"),Bt=Bt.length&&new RegExp(Bt.join("|")),hi=function(Ut,Gt){if(Ut===Gt)return et=!0,0;var re=!Ut.compareDocumentPosition-!Gt.compareDocumentPosition;return re||(re=(Ut.ownerDocument||Ut)==(Gt.ownerDocument||Gt)?Ut.compareDocumentPosition(Gt):1,re&1||!y.sortDetached&&Gt.compareDocumentPosition(Ut)===re?Ut===at||Ut.ownerDocument==pt&&dn.contains(pt,Ut)?-1:Gt===at||Gt.ownerDocument==pt&&dn.contains(pt,Gt)?1:G?h.call(G,Ut)-h.call(G,Gt):0:re&4?-1:1)}),at}dn.matches=function(gt,Et){return dn(gt,null,null,Et)},dn.matchesSelector=function(gt,Et){if(xr(gt),wt&&!as[Et+" "]&&(!Bt||!Bt.test(Et)))try{var Nt=Ht.call(gt,Et);if(Nt||y.disconnectedMatch||gt.document&&gt.document.nodeType!==11)return Nt}catch{as(Et,!0)}return dn(Et,at,null,[gt]).length>0},dn.contains=function(gt,Et){return(gt.ownerDocument||gt)!=at&&xr(gt),P.contains(gt,Et)},dn.attr=function(gt,Et){(gt.ownerDocument||gt)!=at&&xr(gt);var Nt=O.attrHandle[Et.toLowerCase()],Ut=Nt&&w.call(O.attrHandle,Et.toLowerCase())?Nt(gt,Et,!wt):void 0;return Ut!==void 0?Ut:gt.getAttribute(Et)},dn.error=function(gt){throw new Error("Syntax error, unrecognized expression: "+gt)},P.uniqueSort=function(gt){var Et,Nt=[],Ut=0,Gt=0;if(et=!y.sortStable,G=!y.sortStable&&a.call(gt,0),dt.call(gt,hi),et){for(;Et=gt[Gt++];)Et===gt[Gt]&&(Ut=Nt.push(Gt));for(;Ut--;)ht.call(gt,Nt[Ut],1)}return G=null,gt},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(a.apply(this)))},O=P.expr={cacheLength:50,createPseudo:fi,match:ys,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(gt){return gt[1]=gt[1].replace(Yr,wo),gt[3]=(gt[3]||gt[4]||gt[5]||"").replace(Yr,wo),gt[2]==="~="&&(gt[3]=" "+gt[3]+" "),gt.slice(0,4)},CHILD:function(gt){return gt[1]=gt[1].toLowerCase(),gt[1].slice(0,3)==="nth"?(gt[3]||dn.error(gt[0]),gt[4]=+(gt[4]?gt[5]+(gt[6]||1):2*(gt[3]==="even"||gt[3]==="odd")),gt[5]=+(gt[7]+gt[8]||gt[3]==="odd")):gt[3]&&dn.error(gt[0]),gt},PSEUDO:function(gt){var Et,Nt=!gt[6]&&gt[2];return ys.CHILD.test(gt[0])?null:(gt[3]?gt[2]=gt[4]||gt[5]||"":Nt&&Qi.test(Nt)&&(Et=ba(Nt,!0))&&(Et=Nt.indexOf(")",Nt.length-Et)-Nt.length)&&(gt[0]=gt[0].slice(0,Et),gt[2]=Nt.slice(0,Et)),gt.slice(0,3))}},filter:{TAG:function(gt){var Et=gt.replace(Yr,wo).toLowerCase();return gt==="*"?function(){return!0}:function(Nt){return J(Nt,Et)}},CLASS:function(gt){var Et=Pe[gt+" "];return Et||(Et=new RegExp("(^|"+ut+")"+gt+"("+ut+"|$)"))&&Pe(gt,function(Nt){return Et.test(typeof Nt.className=="string"&&Nt.className||typeof Nt.getAttribute<"u"&&Nt.getAttribute("class")||"")})},ATTR:function(gt,Et,Nt){return function(Ut){var Gt=dn.attr(Ut,gt);return Gt==null?Et==="!=":Et?(Gt+="",Et==="="?Gt===Nt:Et==="!="?Gt!==Nt:Et==="^="?Nt&&Gt.indexOf(Nt)===0:Et==="*="?Nt&&Gt.indexOf(Nt)>-1:Et==="$="?Nt&&Gt.slice(-Nt.length)===Nt:Et==="~="?(" "+Gt.replace(nn," ")+" ").indexOf(Nt)>-1:Et==="|="?Gt===Nt||Gt.slice(0,Nt.length+1)===Nt+"-":!1):!0}},CHILD:function(gt,Et,Nt,Ut,Gt){var re=gt.slice(0,3)!=="nth",ee=gt.slice(-4)!=="last",we=Et==="of-type";return Ut===1&&Gt===0?function(ue){return!!ue.parentNode}:function(ue,ze,Fe){var Re,$e,Ae,En,Cs,Vn=re!==ee?"nextSibling":"previousSibling",ar=ue.parentNode,lr=we&&ue.nodeName.toLowerCase(),Yo=!Fe&&!we,Ce=!1;if(ar){if(re){for(;Vn;){for(Ae=ue;Ae=Ae[Vn];)if(we?J(Ae,lr):Ae.nodeType===1)return!1;Cs=Vn=gt==="only"&&!Cs&&"nextSibling"}return!0}if(Cs=[ee?ar.firstChild:ar.lastChild],ee&&Yo){for($e=ar[$t]||(ar[$t]={}),Re=$e[gt]||[],En=Re[0]===Rt&&Re[1],Ce=En&&Re[2],Ae=En&&ar.childNodes[En];Ae=++En&&Ae&&Ae[Vn]||(Ce=En=0)||Cs.pop();)if(Ae.nodeType===1&&++Ce&&Ae===ue){$e[gt]=[Rt,En,Ce];break}}else if(Yo&&($e=ue[$t]||(ue[$t]={}),Re=$e[gt]||[],En=Re[0]===Rt&&Re[1],Ce=En),Ce===!1)for(;(Ae=++En&&Ae&&Ae[Vn]||(Ce=En=0)||Cs.pop())&&!((we?J(Ae,lr):Ae.nodeType===1)&&++Ce&&(Yo&&($e=Ae[$t]||(Ae[$t]={}),$e[gt]=[Rt,Ce]),Ae===ue)););return Ce-=Gt,Ce===Ut||Ce%Ut===0&&Ce/Ut>=0}}},PSEUDO:function(gt,Et){var Nt,Ut=O.pseudos[gt]||O.setFilters[gt.toLowerCase()]||dn.error("unsupported pseudo: "+gt);return Ut[$t]?Ut(Et):Ut.length>1?(Nt=[gt,gt,"",Et],O.setFilters.hasOwnProperty(gt.toLowerCase())?fi(function(Gt,re){for(var ee,we=Ut(Gt,Et),ue=we.length;ue--;)ee=h.call(Gt,we[ue]),Gt[ee]=!(re[ee]=we[ue])}):function(Gt){return Ut(Gt,0,Nt)}):Ut}},pseudos:{not:fi(function(gt){var Et=[],Nt=[],Ut=Hl(gt.replace(mt,"$1"));return Ut[$t]?fi(function(Gt,re,ee,we){for(var ue,ze=Ut(Gt,null,we,[]),Fe=Gt.length;Fe--;)(ue=ze[Fe])&&(Gt[Fe]=!(re[Fe]=ue))}):function(Gt,re,ee){return Et[0]=Gt,Ut(Et,null,ee,Nt),Et[0]=null,!Nt.pop()}}),has:fi(function(gt){return function(Et){return dn(gt,Et).length>0}}),contains:fi(function(gt){return gt=gt.replace(Yr,wo),function(Et){return(Et.textContent||P.text(Et)).indexOf(gt)>-1}}),lang:fi(function(gt){return ma.test(gt||"")||dn.error("unsupported lang: "+gt),gt=gt.replace(Yr,wo).toLowerCase(),function(Et){var Nt;do if(Nt=wt?Et.lang:Et.getAttribute("xml:lang")||Et.getAttribute("lang"))return Nt=Nt.toLowerCase(),Nt===gt||Nt.indexOf(gt+"-")===0;while((Et=Et.parentNode)&&Et.nodeType===1);return!1}}),target:function(gt){var Et=t.location&&t.location.hash;return Et&&Et.slice(1)===gt.id},root:function(gt){return gt===kt},focus:function(gt){return gt===Zr()&&at.hasFocus()&&!!(gt.type||gt.href||~gt.tabIndex)},enabled:Jr(!1),disabled:Jr(!0),checked:function(gt){return J(gt,"input")&&!!gt.checked||J(gt,"option")&&!!gt.selected},selected:function(gt){return gt.parentNode&&gt.parentNode.selectedIndex,gt.selected===!0},empty:function(gt){for(gt=gt.firstChild;gt;gt=gt.nextSibling)if(gt.nodeType<6)return!1;return!0},parent:function(gt){return!O.pseudos.empty(gt)},header:function(gt){return qr.test(gt.nodeName)},input:function(gt){return Er.test(gt.nodeName)},button:function(gt){return J(gt,"input")&&gt.type==="button"||J(gt,"button")},text:function(gt){var Et;return J(gt,"input")&&gt.type==="text"&&((Et=gt.getAttribute("type"))==null||Et.toLowerCase()==="text")},first:$o(function(){return[0]}),last:$o(function(gt,Et){return[Et-1]}),eq:$o(function(gt,Et,Nt){return[Nt<0?Nt+Et:Nt]}),even:$o(function(gt,Et){for(var Nt=0;Nt<Et;Nt+=2)gt.push(Nt);return gt}),odd:$o(function(gt,Et){for(var Nt=1;Nt<Et;Nt+=2)gt.push(Nt);return gt}),lt:$o(function(gt,Et,Nt){var Ut;for(Nt<0?Ut=Nt+Et:Nt>Et?Ut=Et:Ut=Nt;--Ut>=0;)gt.push(Ut);return gt}),gt:$o(function(gt,Et,Nt){for(var Ut=Nt<0?Nt+Et:Nt;++Ut<Et;)gt.push(Ut);return gt})}},O.pseudos.nth=O.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})O.pseudos[S]=Ec(S);for(S in{submit:!0,reset:!0})O.pseudos[S]=pA(S);function Ru(){}Ru.prototype=O.filters=O.pseudos,O.setFilters=new Ru;function ba(gt,Et){var Nt,Ut,Gt,re,ee,we,ue,ze=Je[gt+" "];if(ze)return Et?0:ze.slice(0);for(ee=gt,we=[],ue=O.preFilter;ee;){(!Nt||(Ut=oi.exec(ee)))&&(Ut&&(ee=ee.slice(Ut[0].length)||ee),we.push(Gt=[])),Nt=!1,(Ut=$r.exec(ee))&&(Nt=Ut.shift(),Gt.push({value:Nt,type:Ut[0].replace(mt," ")}),ee=ee.slice(Nt.length));for(re in O.filter)(Ut=ys[re].exec(ee))&&(!ue[re]||(Ut=ue[re](Ut)))&&(Nt=Ut.shift(),Gt.push({value:Nt,type:re,matches:Ut}),ee=ee.slice(Nt.length));if(!Nt)break}return Et?ee.length:ee?dn.error(gt):Je(gt,we).slice(0)}function Ul(gt){for(var Et=0,Nt=gt.length,Ut="";Et<Nt;Et++)Ut+=gt[Et].value;return Ut}function rr(gt,Et,Nt){var Ut=Et.dir,Gt=Et.next,re=Gt||Ut,ee=Nt&&re==="parentNode",we=te++;return Et.first?function(ue,ze,Fe){for(;ue=ue[Ut];)if(ue.nodeType===1||ee)return gt(ue,ze,Fe);return!1}:function(ue,ze,Fe){var Re,$e,Ae=[Rt,we];if(Fe){for(;ue=ue[Ut];)if((ue.nodeType===1||ee)&&gt(ue,ze,Fe))return!0}else for(;ue=ue[Ut];)if(ue.nodeType===1||ee)if($e=ue[$t]||(ue[$t]={}),Gt&&J(ue,Gt))ue=ue[Ut]||ue;else{if((Re=$e[re])&&Re[0]===Rt&&Re[1]===we)return Ae[2]=Re[2];if($e[re]=Ae,Ae[2]=gt(ue,ze,Fe))return!0}return!1}}function xc(gt){return gt.length>1?function(Et,Nt,Ut){for(var Gt=gt.length;Gt--;)if(!gt[Gt](Et,Nt,Ut))return!1;return!0}:gt[0]}function qo(gt,Et,Nt){for(var Ut=0,Gt=Et.length;Ut<Gt;Ut++)dn(gt,Et[Ut],Nt);return Nt}function Ql(gt,Et,Nt,Ut,Gt){for(var re,ee=[],we=0,ue=gt.length,ze=Et!=null;we<ue;we++)(re=gt[we])&&(!Nt||Nt(re,Ut,Gt))&&(ee.push(re),ze&&Et.push(we));return ee}function or(gt,Et,Nt,Ut,Gt,re){return Ut&&!Ut[$t]&&(Ut=or(Ut)),Gt&&!Gt[$t]&&(Gt=or(Gt,re)),fi(function(ee,we,ue,ze){var Fe,Re,$e,Ae,En=[],Cs=[],Vn=we.length,ar=ee||qo(Et||"*",ue.nodeType?[ue]:ue,[]),lr=gt&&(ee||!Et)?Ql(ar,En,gt,ue,ze):ar;if(Nt?(Ae=Gt||(ee?gt:Vn||Ut)?[]:we,Nt(lr,Ae,ue,ze)):Ae=lr,Ut)for(Fe=Ql(Ae,Cs),Ut(Fe,[],ue,ze),Re=Fe.length;Re--;)($e=Fe[Re])&&(Ae[Cs[Re]]=!(lr[Cs[Re]]=$e));if(ee){if(Gt||gt){if(Gt){for(Fe=[],Re=Ae.length;Re--;)($e=Ae[Re])&&Fe.push(lr[Re]=$e);Gt(null,Ae=[],Fe,ze)}for(Re=Ae.length;Re--;)($e=Ae[Re])&&(Fe=Gt?h.call(ee,$e):En[Re])>-1&&(ee[Fe]=!(we[Fe]=$e))}}else Ae=Ql(Ae===we?Ae.splice(Vn,Ae.length):Ae),Gt?Gt(null,we,Ae,ze):nt.apply(we,Ae)})}function Yi(gt){for(var Et,Nt,Ut,Gt=gt.length,re=O.relative[gt[0].type],ee=re||O.relative[" "],we=re?1:0,ue=rr(function(Re){return Re===Et},ee,!0),ze=rr(function(Re){return h.call(Et,Re)>-1},ee,!0),Fe=[function(Re,$e,Ae){var En=!re&&(Ae||$e!=j)||((Et=$e).nodeType?ue(Re,$e,Ae):ze(Re,$e,Ae));return Et=null,En}];we<Gt;we++)if(Nt=O.relative[gt[we].type])Fe=[rr(xc(Fe),Nt)];else{if(Nt=O.filter[gt[we].type].apply(null,gt[we].matches),Nt[$t]){for(Ut=++we;Ut<Gt&&!O.relative[gt[Ut].type];Ut++);return or(we>1&&xc(Fe),we>1&&Ul(gt.slice(0,we-1).concat({value:gt[we-2].type===" "?"*":""})).replace(mt,"$1"),Nt,we<Ut&&Yi(gt.slice(we,Ut)),Ut<Gt&&Yi(gt=gt.slice(Ut)),Ut<Gt&&Ul(gt))}Fe.push(Nt)}return xc(Fe)}function Uu(gt,Et){var Nt=Et.length>0,Ut=gt.length>0,Gt=function(re,ee,we,ue,ze){var Fe,Re,$e,Ae=0,En="0",Cs=re&&[],Vn=[],ar=j,lr=re||Ut&&O.find.TAG("*",ze),Yo=Rt+=ar==null?1:Math.random()||.1,Ce=lr.length;for(ze&&(j=ee==at||ee||ze);En!==Ce&&(Fe=lr[En])!=null;En++){if(Ut&&Fe){for(Re=0,!ee&&Fe.ownerDocument!=at&&(xr(Fe),we=!wt);$e=gt[Re++];)if($e(Fe,ee||at,we)){nt.call(ue,Fe);break}ze&&(Rt=Yo)}Nt&&((Fe=!$e&&Fe)&&Ae--,re&&Cs.push(Fe))}if(Ae+=En,Nt&&En!==Ae){for(Re=0;$e=Et[Re++];)$e(Cs,Vn,ee,we);if(re){if(Ae>0)for(;En--;)Cs[En]||Vn[En]||(Vn[En]=rt.call(ue));Vn=Ql(Vn)}nt.apply(ue,Vn),ze&&!re&&Vn.length>0&&Ae+Et.length>1&&P.uniqueSort(ue)}return ze&&(Rt=Yo,j=ar),Cs};return Nt?fi(Gt):Gt}function Hl(gt,Et){var Nt,Ut=[],Gt=[],re=We[gt+" "];if(!re){for(Et||(Et=ba(gt)),Nt=Et.length;Nt--;)re=Yi(Et[Nt]),re[$t]?Ut.push(re):Gt.push(re);re=We(gt,Uu(Gt,Ut)),re.selector=gt}return re}function zl(gt,Et,Nt,Ut){var Gt,re,ee,we,ue,ze=typeof gt=="function"&&gt,Fe=!Ut&&ba(gt=ze.selector||gt);if(Nt=Nt||[],Fe.length===1){if(re=Fe[0]=Fe[0].slice(0),re.length>2&&(ee=re[0]).type==="ID"&&Et.nodeType===9&&wt&&O.relative[re[1].type]){if(Et=(O.find.ID(ee.matches[0].replace(Yr,wo),Et)||[])[0],Et)ze&&(Et=Et.parentNode);else return Nt;gt=gt.slice(re.shift().value.length)}for(Gt=ys.needsContext.test(gt)?0:re.length;Gt--&&(ee=re[Gt],!O.relative[we=ee.type]);)if((ue=O.find[we])&&(Ut=ue(ee.matches[0].replace(Yr,wo),Ad.test(re[0].type)&&_o(Et.parentNode)||Et))){if(re.splice(Gt,1),gt=Ut.length&&Ul(re),!gt)return nt.apply(Nt,Ut),Nt;break}}return(ze||Hl(gt,Fe))(Ut,Et,!wt,Nt,!Et||Ad.test(gt)&&_o(Et.parentNode)||Et),Nt}y.sortStable=$t.split("").sort(hi).join("")===$t,xr(),y.sortDetached=vo(function(gt){return gt.compareDocumentPosition(at.createElement("fieldset"))&1}),P.find=dn,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,dn.compile=Hl,dn.select=zl,dn.setDocument=xr,dn.tokenize=ba,dn.escape=P.escapeSelector,dn.getText=P.text,dn.isXML=P.isXMLDoc,dn.selectors=P.expr,dn.support=P.support,dn.uniqueSort=P.uniqueSort})();var Dt=function(S,O,j){for(var G=[],et=j!==void 0;(S=S[O])&&S.nodeType!==9;)if(S.nodeType===1){if(et&&P(S).is(j))break;G.push(S)}return G},yt=function(S,O){for(var j=[];S;S=S.nextSibling)S.nodeType===1&&S!==O&&j.push(S);return j},se=P.expr.match.needsContext,oe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ie(S,O,j){return x(O)?P.grep(S,function(G,et){return!!O.call(G,et,G)!==j}):O.nodeType?P.grep(S,function(G){return G===O!==j}):typeof O!="string"?P.grep(S,function(G){return h.call(O,G)>-1!==j}):P.filter(O,S,j)}P.filter=function(S,O,j){var G=O[0];return j&&(S=":not("+S+")"),O.length===1&&G.nodeType===1?P.find.matchesSelector(G,S)?[G]:[]:P.find.matches(S,P.grep(O,function(et){return et.nodeType===1}))},P.fn.extend({find:function(S){var O,j,G=this.length,et=this;if(typeof S!="string")return this.pushStack(P(S).filter(function(){for(O=0;O<G;O++)if(P.contains(et[O],this))return!0}));for(j=this.pushStack([]),O=0;O<G;O++)P.find(S,et[O],j);return G>1?P.uniqueSort(j):j},filter:function(S){return this.pushStack(ie(this,S||[],!1))},not:function(S){return this.pushStack(ie(this,S||[],!0))},is:function(S){return!!ie(this,typeof S=="string"&&se.test(S)?P(S):S||[],!1).length}});var le,Lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Tt=P.fn.init=function(S,O,j){var G,et;if(!S)return this;if(j=j||le,typeof S=="string")if(S[0]==="<"&&S[S.length-1]===">"&&S.length>=3?G=[null,S,null]:G=Lt.exec(S),G&&(G[1]||!O))if(G[1]){if(O=O instanceof P?O[0]:O,P.merge(this,P.parseHTML(G[1],O&&O.nodeType?O.ownerDocument||O:F,!0)),oe.test(G[1])&&P.isPlainObject(O))for(G in O)x(this[G])?this[G](O[G]):this.attr(G,O[G]);return this}else return et=F.getElementById(G[2]),et&&(this[0]=et,this.length=1),this;else return!O||O.jquery?(O||j).find(S):this.constructor(O).find(S);else{if(S.nodeType)return this[0]=S,this.length=1,this;if(x(S))return j.ready!==void 0?j.ready(S):S(P)}return P.makeArray(S,this)};Tt.prototype=P.fn,le=P(F);var Pt=/^(?:parents|prev(?:Until|All))/,jt={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(S){var O=P(S,this),j=O.length;return this.filter(function(){for(var G=0;G<j;G++)if(P.contains(this,O[G]))return!0})},closest:function(S,O){var j,G=0,et=this.length,nt=[],at=typeof S!="string"&&P(S);if(!se.test(S)){for(;G<et;G++)for(j=this[G];j&&j!==O;j=j.parentNode)if(j.nodeType<11&&(at?at.index(j)>-1:j.nodeType===1&&P.find.matchesSelector(j,S))){nt.push(j);break}}return this.pushStack(nt.length>1?P.uniqueSort(nt):nt)},index:function(S){return S?typeof S=="string"?h.call(P(S),this[0]):h.call(this,S.jquery?S[0]:S):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(S,O){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(S,O))))},addBack:function(S){return this.add(S==null?this.prevObject:this.prevObject.filter(S))}});function Ne(S,O){for(;(S=S[O])&&S.nodeType!==1;);return S}P.each({parent:function(S){var O=S.parentNode;return O&&O.nodeType!==11?O:null},parents:function(S){return Dt(S,"parentNode")},parentsUntil:function(S,O,j){return Dt(S,"parentNode",j)},next:function(S){return Ne(S,"nextSibling")},prev:function(S){return Ne(S,"previousSibling")},nextAll:function(S){return Dt(S,"nextSibling")},prevAll:function(S){return Dt(S,"previousSibling")},nextUntil:function(S,O,j){return Dt(S,"nextSibling",j)},prevUntil:function(S,O,j){return Dt(S,"previousSibling",j)},siblings:function(S){return yt((S.parentNode||{}).firstChild,S)},children:function(S){return yt(S.firstChild)},contents:function(S){return S.contentDocument!=null&&o(S.contentDocument)?S.contentDocument:(J(S,"template")&&(S=S.content||S),P.merge([],S.childNodes))}},function(S,O){P.fn[S]=function(j,G){var et=P.map(this,O,j);return S.slice(-5)!=="Until"&&(G=j),G&&typeof G=="string"&&(et=P.filter(G,et)),this.length>1&&(jt[S]||P.uniqueSort(et),Pt.test(S)&&et.reverse()),this.pushStack(et)}});var Ge=/[^\x20\t\r\n\f]+/g;function hn(S){var O={};return P.each(S.match(Ge)||[],function(j,G){O[G]=!0}),O}P.Callbacks=function(S){S=typeof S=="string"?hn(S):P.extend({},S);var O,j,G,et,nt=[],at=[],kt=-1,wt=function(){for(et=et||S.once,G=O=!0;at.length;kt=-1)for(j=at.shift();++kt<nt.length;)nt[kt].apply(j[0],j[1])===!1&&S.stopOnFalse&&(kt=nt.length,j=!1);S.memory||(j=!1),O=!1,et&&(j?nt=[]:nt="")},Bt={add:function(){return nt&&(j&&!O&&(kt=nt.length-1,at.push(j)),function Ht($t){P.each($t,function(Rt,te){x(te)?(!S.unique||!Bt.has(te))&&nt.push(te):te&&te.length&&V(te)!=="string"&&Ht(te)})}(arguments),j&&!O&&wt()),this},remove:function(){return P.each(arguments,function(Ht,$t){for(var Rt;(Rt=P.inArray($t,nt,Rt))>-1;)nt.splice(Rt,1),Rt<=kt&&kt--}),this},has:function(Ht){return Ht?P.inArray(Ht,nt)>-1:nt.length>0},empty:function(){return nt&&(nt=[]),this},disable:function(){return et=at=[],nt=j="",this},disabled:function(){return!nt},lock:function(){return et=at=[],!j&&!O&&(nt=j=""),this},locked:function(){return!!et},fireWith:function(Ht,$t){return et||($t=$t||[],$t=[Ht,$t.slice?$t.slice():$t],at.push($t),O||wt()),this},fire:function(){return Bt.fireWith(this,arguments),this},fired:function(){return!!G}};return Bt};function Ye(S){return S}function Se(S){throw S}function ae(S,O,j,G){var et;try{S&&x(et=S.promise)?et.call(S).done(O).fail(j):S&&x(et=S.then)?et.call(S,O,j):O.apply(void 0,[S].slice(G))}catch(nt){j.apply(void 0,[nt])}}P.extend({Deferred:function(S){var O=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],j="pending",G={state:function(){return j},always:function(){return et.done(arguments).fail(arguments),this},catch:function(nt){return G.then(null,nt)},pipe:function(){var nt=arguments;return P.Deferred(function(at){P.each(O,function(kt,wt){var Bt=x(nt[wt[4]])&&nt[wt[4]];et[wt[1]](function(){var Ht=Bt&&Bt.apply(this,arguments);Ht&&x(Ht.promise)?Ht.promise().progress(at.notify).done(at.resolve).fail(at.reject):at[wt[0]+"With"](this,Bt?[Ht]:arguments)})}),nt=null}).promise()},then:function(nt,at,kt){var wt=0;function Bt(Ht,$t,Rt,te){return function(){var Pe=this,Je=arguments,We=function(){var hi,Cr;if(!(Ht<wt)){if(hi=Rt.apply(Pe,Je),hi===$t.promise())throw new TypeError("Thenable self-resolution");Cr=hi&&(typeof hi=="object"||typeof hi=="function")&&hi.then,x(Cr)?te?Cr.call(hi,Bt(wt,$t,Ye,te),Bt(wt,$t,Se,te)):(wt++,Cr.call(hi,Bt(wt,$t,Ye,te),Bt(wt,$t,Se,te),Bt(wt,$t,Ye,$t.notifyWith))):(Rt!==Ye&&(Pe=void 0,Je=[hi]),(te||$t.resolveWith)(Pe,Je))}},as=te?We:function(){try{We()}catch(hi){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(hi,as.error),Ht+1>=wt&&(Rt!==Se&&(Pe=void 0,Je=[hi]),$t.rejectWith(Pe,Je))}};Ht?as():(P.Deferred.getErrorHook?as.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(as.error=P.Deferred.getStackHook()),t.setTimeout(as))}}return P.Deferred(function(Ht){O[0][3].add(Bt(0,Ht,x(kt)?kt:Ye,Ht.notifyWith)),O[1][3].add(Bt(0,Ht,x(nt)?nt:Ye)),O[2][3].add(Bt(0,Ht,x(at)?at:Se))}).promise()},promise:function(nt){return nt!=null?P.extend(nt,G):G}},et={};return P.each(O,function(nt,at){var kt=at[2],wt=at[5];G[at[1]]=kt.add,wt&&kt.add(function(){j=wt},O[3-nt][2].disable,O[3-nt][3].disable,O[0][2].lock,O[0][3].lock),kt.add(at[3].fire),et[at[0]]=function(){return et[at[0]+"With"](this===et?void 0:this,arguments),this},et[at[0]+"With"]=kt.fireWith}),G.promise(et),S&&S.call(et,et),et},when:function(S){var O=arguments.length,j=O,G=Array(j),et=a.call(arguments),nt=P.Deferred(),at=function(kt){return function(wt){G[kt]=this,et[kt]=arguments.length>1?a.call(arguments):wt,--O||nt.resolveWith(G,et)}};if(O<=1&&(ae(S,nt.done(at(j)).resolve,nt.reject,!O),nt.state()==="pending"||x(et[j]&&et[j].then)))return nt.then();for(;j--;)ae(et[j],at(j),nt.reject);return nt.promise()}});var rn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(S,O){t.console&&t.console.warn&&S&&rn.test(S.name)&&t.console.warn("jQuery.Deferred exception: "+S.message,S.stack,O)},P.readyException=function(S){t.setTimeout(function(){throw S})};var Rn=P.Deferred();P.fn.ready=function(S){return Rn.then(S).catch(function(O){P.readyException(O)}),this},P.extend({isReady:!1,readyWait:1,ready:function(S){(S===!0?--P.readyWait:P.isReady)||(P.isReady=!0,!(S!==!0&&--P.readyWait>0)&&Rn.resolveWith(F,[P]))}}),P.ready.then=Rn.then;function Le(){F.removeEventListener("DOMContentLoaded",Le),t.removeEventListener("load",Le),P.ready()}F.readyState==="complete"||F.readyState!=="loading"&&!F.documentElement.doScroll?t.setTimeout(P.ready):(F.addEventListener("DOMContentLoaded",Le),t.addEventListener("load",Le));var Hn=function(S,O,j,G,et,nt,at){var kt=0,wt=S.length,Bt=j==null;if(V(j)==="object"){et=!0;for(kt in j)Hn(S,O,kt,j[kt],!0,nt,at)}else if(G!==void 0&&(et=!0,x(G)||(at=!0),Bt&&(at?(O.call(S,G),O=null):(Bt=O,O=function(Ht,$t,Rt){return Bt.call(P(Ht),Rt)})),O))for(;kt<wt;kt++)O(S[kt],j,at?G:G.call(S[kt],kt,O(S[kt],j)));return et?S:Bt?O.call(S):wt?O(S[0],j):nt},$s=/^-ms-/,rs=/-([a-z])/g;function vs(S,O){return O.toUpperCase()}function xn(S){return S.replace($s,"ms-").replace(rs,vs)}var ti=function(S){return S.nodeType===1||S.nodeType===9||!+S.nodeType};function os(){this.expando=P.expando+os.uid++}os.uid=1,os.prototype={cache:function(S){var O=S[this.expando];return O||(O={},ti(S)&&(S.nodeType?S[this.expando]=O:Object.defineProperty(S,this.expando,{value:O,configurable:!0}))),O},set:function(S,O,j){var G,et=this.cache(S);if(typeof O=="string")et[xn(O)]=j;else for(G in O)et[xn(G)]=O[G];return et},get:function(S,O){return O===void 0?this.cache(S):S[this.expando]&&S[this.expando][xn(O)]},access:function(S,O,j){return O===void 0||O&&typeof O=="string"&&j===void 0?this.get(S,O):(this.set(S,O,j),j!==void 0?j:O)},remove:function(S,O){var j,G=S[this.expando];if(G!==void 0){if(O!==void 0)for(Array.isArray(O)?O=O.map(xn):(O=xn(O),O=O in G?[O]:O.match(Ge)||[]),j=O.length;j--;)delete G[O[j]];(O===void 0||P.isEmptyObject(G))&&(S.nodeType?S[this.expando]=void 0:delete S[this.expando])}},hasData:function(S){var O=S[this.expando];return O!==void 0&&!P.isEmptyObject(O)}};var fe=new os,vn=new os,Ii=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Uo=/[A-Z]/g;function zr(S){return S==="true"?!0:S==="false"?!1:S==="null"?null:S===+S+""?+S:Ii.test(S)?JSON.parse(S):S}function Aa(S,O,j){var G;if(j===void 0&&S.nodeType===1)if(G="data-"+O.replace(Uo,"-$&").toLowerCase(),j=S.getAttribute(G),typeof j=="string"){try{j=zr(j)}catch{}vn.set(S,O,j)}else j=void 0;return j}P.extend({hasData:function(S){return vn.hasData(S)||fe.hasData(S)},data:function(S,O,j){return vn.access(S,O,j)},removeData:function(S,O){vn.remove(S,O)},_data:function(S,O,j){return fe.access(S,O,j)},_removeData:function(S,O){fe.remove(S,O)}}),P.fn.extend({data:function(S,O){var j,G,et,nt=this[0],at=nt&&nt.attributes;if(S===void 0){if(this.length&&(et=vn.get(nt),nt.nodeType===1&&!fe.get(nt,"hasDataAttrs"))){for(j=at.length;j--;)at[j]&&(G=at[j].name,G.indexOf("data-")===0&&(G=xn(G.slice(5)),Aa(nt,G,et[G])));fe.set(nt,"hasDataAttrs",!0)}return et}return typeof S=="object"?this.each(function(){vn.set(this,S)}):Hn(this,function(kt){var wt;if(nt&&kt===void 0)return wt=vn.get(nt,S),wt!==void 0||(wt=Aa(nt,S),wt!==void 0)?wt:void 0;this.each(function(){vn.set(this,S,kt)})},null,O,arguments.length>1,null,!0)},removeData:function(S){return this.each(function(){vn.remove(this,S)})}}),P.extend({queue:function(S,O,j){var G;if(S)return O=(O||"fx")+"queue",G=fe.get(S,O),j&&(!G||Array.isArray(j)?G=fe.access(S,O,P.makeArray(j)):G.push(j)),G||[]},dequeue:function(S,O){O=O||"fx";var j=P.queue(S,O),G=j.length,et=j.shift(),nt=P._queueHooks(S,O),at=function(){P.dequeue(S,O)};et==="inprogress"&&(et=j.shift(),G--),et&&(O==="fx"&&j.unshift("inprogress"),delete nt.stop,et.call(S,at,nt)),!G&&nt&&nt.empty.fire()},_queueHooks:function(S,O){var j=O+"queueHooks";return fe.get(S,j)||fe.access(S,j,{empty:P.Callbacks("once memory").add(function(){fe.remove(S,[O+"queue",j])})})}}),P.fn.extend({queue:function(S,O){var j=2;return typeof S!="string"&&(O=S,S="fx",j--),arguments.length<j?P.queue(this[0],S):O===void 0?this:this.each(function(){var G=P.queue(this,S,O);P._queueHooks(this,S),S==="fx"&&G[0]!=="inprogress"&&P.dequeue(this,S)})},dequeue:function(S){return this.each(function(){P.dequeue(this,S)})},clearQueue:function(S){return this.queue(S||"fx",[])},promise:function(S,O){var j,G=1,et=P.Deferred(),nt=this,at=this.length,kt=function(){--G||et.resolveWith(nt,[nt])};for(typeof S!="string"&&(O=S,S=void 0),S=S||"fx";at--;)j=fe.get(nt[at],S+"queueHooks"),j&&j.empty&&(G++,j.empty.add(kt));return kt(),et.promise(O)}});var wr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ua=new RegExp("^(?:([+-])=|)("+wr+")([a-z%]*)$","i"),go=["Top","Right","Bottom","Left"],jr=F.documentElement,ha=function(S){return P.contains(S.ownerDocument,S)},fa={composed:!0};jr.getRootNode&&(ha=function(S){return P.contains(S.ownerDocument,S)||S.getRootNode(fa)===S.ownerDocument});var _i=function(S,O){return S=O||S,S.style.display==="none"||S.style.display===""&&ha(S)&&P.css(S,"display")==="none"};function qs(S,O,j,G){var et,nt,at=20,kt=G?function(){return G.cur()}:function(){return P.css(S,O,"")},wt=kt(),Bt=j&&j[3]||(P.cssNumber[O]?"":"px"),Ht=S.nodeType&&(P.cssNumber[O]||Bt!=="px"&&+wt)&&ua.exec(P.css(S,O));if(Ht&&Ht[3]!==Bt){for(wt=wt/2,Bt=Bt||Ht[3],Ht=+wt||1;at--;)P.style(S,O,Ht+Bt),(1-nt)*(1-(nt=kt()/wt||.5))<=0&&(at=0),Ht=Ht/nt;Ht=Ht*2,P.style(S,O,Ht+Bt),j=j||[]}return j&&(Ht=+Ht||+wt||0,et=j[1]?Ht+(j[1]+1)*j[2]:+j[2],G&&(G.unit=Bt,G.start=Ht,G.end=et)),et}var sA={};function rA(S){var O,j=S.ownerDocument,G=S.nodeName,et=sA[G];return et||(O=j.body.appendChild(j.createElement(G)),et=P.css(O,"display"),O.parentNode.removeChild(O),et==="none"&&(et="block"),sA[G]=et,et)}function Qo(S,O){for(var j,G,et=[],nt=0,at=S.length;nt<at;nt++)G=S[nt],G.style&&(j=G.style.display,O?(j==="none"&&(et[nt]=fe.get(G,"display")||null,et[nt]||(G.style.display="")),G.style.display===""&&_i(G)&&(et[nt]=rA(G))):j!=="none"&&(et[nt]="none",fe.set(G,"display",j)));for(nt=0;nt<at;nt++)et[nt]!=null&&(S[nt].style.display=et[nt]);return S}P.fn.extend({show:function(){return Qo(this,!0)},hide:function(){return Qo(this)},toggle:function(S){return typeof S=="boolean"?S?this.show():this.hide():this.each(function(){_i(this)?P(this).show():P(this).hide()})}});var Vr=/^(?:checkbox|radio)$/i,oA=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,aA=/^$|^module$|\/(?:java|ecma)script/i;(function(){var S=F.createDocumentFragment(),O=S.appendChild(F.createElement("div")),j=F.createElement("input");j.setAttribute("type","radio"),j.setAttribute("checked","checked"),j.setAttribute("name","t"),O.appendChild(j),y.checkClone=O.cloneNode(!0).cloneNode(!0).lastChild.checked,O.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!O.cloneNode(!0).lastChild.defaultValue,O.innerHTML="<option></option>",y.option=!!O.lastChild})();var Ys={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ys.tbody=Ys.tfoot=Ys.colgroup=Ys.caption=Ys.thead,Ys.th=Ys.td,y.option||(Ys.optgroup=Ys.option=[1,"<select multiple='multiple'>","</select>"]);function Ns(S,O){var j;return typeof S.getElementsByTagName<"u"?j=S.getElementsByTagName(O||"*"):typeof S.querySelectorAll<"u"?j=S.querySelectorAll(O||"*"):j=[],O===void 0||O&&J(S,O)?P.merge([S],j):j}function lA(S,O){for(var j=0,G=S.length;j<G;j++)fe.set(S[j],"globalEval",!O||fe.get(O[j],"globalEval"))}var Xs=/<|&#?\w+;/;function Ho(S,O,j,G,et){for(var nt,at,kt,wt,Bt,Ht,$t=O.createDocumentFragment(),Rt=[],te=0,Pe=S.length;te<Pe;te++)if(nt=S[te],nt||nt===0)if(V(nt)==="object")P.merge(Rt,nt.nodeType?[nt]:nt);else if(!Xs.test(nt))Rt.push(O.createTextNode(nt));else{for(at=at||$t.appendChild(O.createElement("div")),kt=(oA.exec(nt)||["",""])[1].toLowerCase(),wt=Ys[kt]||Ys._default,at.innerHTML=wt[1]+P.htmlPrefilter(nt)+wt[2],Ht=wt[0];Ht--;)at=at.lastChild;P.merge(Rt,at.childNodes),at=$t.firstChild,at.textContent=""}for($t.textContent="",te=0;nt=Rt[te++];){if(G&&P.inArray(nt,G)>-1){et&&et.push(nt);continue}if(Bt=ha(nt),at=Ns($t.appendChild(nt),"script"),Bt&&lA(at),j)for(Ht=0;nt=at[Ht++];)aA.test(nt.type||"")&&j.push(nt)}return $t}var mo=/^([^.]*)(?:\.(.+)|)/;function zo(){return!0}function Ml(){return!1}function cA(S,O,j,G,et,nt){var at,kt;if(typeof O=="object"){typeof j!="string"&&(G=G||j,j=void 0);for(kt in O)cA(S,kt,j,G,O[kt],nt);return S}if(G==null&&et==null?(et=j,G=j=void 0):et==null&&(typeof j=="string"?(et=G,G=void 0):(et=G,G=j,j=void 0)),et===!1)et=Ml;else if(!et)return S;return nt===1&&(at=et,et=function(wt){return P().off(wt),at.apply(this,arguments)},et.guid=at.guid||(at.guid=P.guid++)),S.each(function(){P.event.add(this,O,et,G,j)})}P.event={global:{},add:function(S,O,j,G,et){var nt,at,kt,wt,Bt,Ht,$t,Rt,te,Pe,Je,We=fe.get(S);if(ti(S))for(j.handler&&(nt=j,j=nt.handler,et=nt.selector),et&&P.find.matchesSelector(jr,et),j.guid||(j.guid=P.guid++),(wt=We.events)||(wt=We.events=Object.create(null)),(at=We.handle)||(at=We.handle=function(as){return typeof P<"u"&&P.event.triggered!==as.type?P.event.dispatch.apply(S,arguments):void 0}),O=(O||"").match(Ge)||[""],Bt=O.length;Bt--;)kt=mo.exec(O[Bt])||[],te=Je=kt[1],Pe=(kt[2]||"").split(".").sort(),te&&($t=P.event.special[te]||{},te=(et?$t.delegateType:$t.bindType)||te,$t=P.event.special[te]||{},Ht=P.extend({type:te,origType:Je,data:G,handler:j,guid:j.guid,selector:et,needsContext:et&&P.expr.match.needsContext.test(et),namespace:Pe.join(".")},nt),(Rt=wt[te])||(Rt=wt[te]=[],Rt.delegateCount=0,(!$t.setup||$t.setup.call(S,G,Pe,at)===!1)&&S.addEventListener&&S.addEventListener(te,at)),$t.add&&($t.add.call(S,Ht),Ht.handler.guid||(Ht.handler.guid=j.guid)),et?Rt.splice(Rt.delegateCount++,0,Ht):Rt.push(Ht),P.event.global[te]=!0)},remove:function(S,O,j,G,et){var nt,at,kt,wt,Bt,Ht,$t,Rt,te,Pe,Je,We=fe.hasData(S)&&fe.get(S);if(!(!We||!(wt=We.events))){for(O=(O||"").match(Ge)||[""],Bt=O.length;Bt--;){if(kt=mo.exec(O[Bt])||[],te=Je=kt[1],Pe=(kt[2]||"").split(".").sort(),!te){for(te in wt)P.event.remove(S,te+O[Bt],j,G,!0);continue}for($t=P.event.special[te]||{},te=(G?$t.delegateType:$t.bindType)||te,Rt=wt[te]||[],kt=kt[2]&&new RegExp("(^|\\.)"+Pe.join("\\.(?:.*\\.|)")+"(\\.|$)"),at=nt=Rt.length;nt--;)Ht=Rt[nt],(et||Je===Ht.origType)&&(!j||j.guid===Ht.guid)&&(!kt||kt.test(Ht.namespace))&&(!G||G===Ht.selector||G==="**"&&Ht.selector)&&(Rt.splice(nt,1),Ht.selector&&Rt.delegateCount--,$t.remove&&$t.remove.call(S,Ht));at&&!Rt.length&&((!$t.teardown||$t.teardown.call(S,Pe,We.handle)===!1)&&P.removeEvent(S,te,We.handle),delete wt[te])}P.isEmptyObject(wt)&&fe.remove(S,"handle events")}},dispatch:function(S){var O,j,G,et,nt,at,kt=new Array(arguments.length),wt=P.event.fix(S),Bt=(fe.get(this,"events")||Object.create(null))[wt.type]||[],Ht=P.event.special[wt.type]||{};for(kt[0]=wt,O=1;O<arguments.length;O++)kt[O]=arguments[O];if(wt.delegateTarget=this,!(Ht.preDispatch&&Ht.preDispatch.call(this,wt)===!1)){for(at=P.event.handlers.call(this,wt,Bt),O=0;(et=at[O++])&&!wt.isPropagationStopped();)for(wt.currentTarget=et.elem,j=0;(nt=et.handlers[j++])&&!wt.isImmediatePropagationStopped();)(!wt.rnamespace||nt.namespace===!1||wt.rnamespace.test(nt.namespace))&&(wt.handleObj=nt,wt.data=nt.data,G=((P.event.special[nt.origType]||{}).handle||nt.handler).apply(et.elem,kt),G!==void 0&&(wt.result=G)===!1&&(wt.preventDefault(),wt.stopPropagation()));return Ht.postDispatch&&Ht.postDispatch.call(this,wt),wt.result}},handlers:function(S,O){var j,G,et,nt,at,kt=[],wt=O.delegateCount,Bt=S.target;if(wt&&Bt.nodeType&&!(S.type==="click"&&S.button>=1)){for(;Bt!==this;Bt=Bt.parentNode||this)if(Bt.nodeType===1&&!(S.type==="click"&&Bt.disabled===!0)){for(nt=[],at={},j=0;j<wt;j++)G=O[j],et=G.selector+" ",at[et]===void 0&&(at[et]=G.needsContext?P(et,this).index(Bt)>-1:P.find(et,this,null,[Bt]).length),at[et]&&nt.push(G);nt.length&&kt.push({elem:Bt,handlers:nt})}}return Bt=this,wt<O.length&&kt.push({elem:Bt,handlers:O.slice(wt)}),kt},addProp:function(S,O){Object.defineProperty(P.Event.prototype,S,{enumerable:!0,configurable:!0,get:x(O)?function(){if(this.originalEvent)return O(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[S]},set:function(j){Object.defineProperty(this,S,{enumerable:!0,configurable:!0,writable:!0,value:j})}})},fix:function(S){return S[P.expando]?S:new P.Event(S)},special:{load:{noBubble:!0},click:{setup:function(S){var O=this||S;return Vr.test(O.type)&&O.click&&J(O,"input")&&Zs(O,"click",!0),!1},trigger:function(S){var O=this||S;return Vr.test(O.type)&&O.click&&J(O,"input")&&Zs(O,"click"),!0},_default:function(S){var O=S.target;return Vr.test(O.type)&&O.click&&J(O,"input")&&fe.get(O,"click")||J(O,"a")}},beforeunload:{postDispatch:function(S){S.result!==void 0&&S.originalEvent&&(S.originalEvent.returnValue=S.result)}}}};function Zs(S,O,j){if(!j){fe.get(S,O)===void 0&&P.event.add(S,O,zo);return}fe.set(S,O,!1),P.event.add(S,O,{namespace:!1,handler:function(G){var et,nt=fe.get(this,O);if(G.isTrigger&1&&this[O]){if(nt)(P.event.special[O]||{}).delegateType&&G.stopPropagation();else if(nt=a.call(arguments),fe.set(this,O,nt),this[O](),et=fe.get(this,O),fe.set(this,O,!1),nt!==et)return G.stopImmediatePropagation(),G.preventDefault(),et}else nt&&(fe.set(this,O,P.event.trigger(nt[0],nt.slice(1),this)),G.stopPropagation(),G.isImmediatePropagationStopped=zo)}})}P.removeEvent=function(S,O,j){S.removeEventListener&&S.removeEventListener(O,j)},P.Event=function(S,O){if(!(this instanceof P.Event))return new P.Event(S,O);S&&S.type?(this.originalEvent=S,this.type=S.type,this.isDefaultPrevented=S.defaultPrevented||S.defaultPrevented===void 0&&S.returnValue===!1?zo:Ml,this.target=S.target&&S.target.nodeType===3?S.target.parentNode:S.target,this.currentTarget=S.currentTarget,this.relatedTarget=S.relatedTarget):this.type=S,O&&P.extend(this,O),this.timeStamp=S&&S.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Ml,isPropagationStopped:Ml,isImmediatePropagationStopped:Ml,isSimulated:!1,preventDefault:function(){var S=this.originalEvent;this.isDefaultPrevented=zo,S&&!this.isSimulated&&S.preventDefault()},stopPropagation:function(){var S=this.originalEvent;this.isPropagationStopped=zo,S&&!this.isSimulated&&S.stopPropagation()},stopImmediatePropagation:function(){var S=this.originalEvent;this.isImmediatePropagationStopped=zo,S&&!this.isSimulated&&S.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},function(S,O){function j(G){if(F.documentMode){var et=fe.get(this,"handle"),nt=P.event.fix(G);nt.type=G.type==="focusin"?"focus":"blur",nt.isSimulated=!0,et(G),nt.target===nt.currentTarget&&et(nt)}else P.event.simulate(O,G.target,P.event.fix(G))}P.event.special[S]={setup:function(){var G;if(Zs(this,S,!0),F.documentMode)G=fe.get(this,O),G||this.addEventListener(O,j),fe.set(this,O,(G||0)+1);else return!1},trigger:function(){return Zs(this,S),!0},teardown:function(){var G;if(F.documentMode)G=fe.get(this,O)-1,G?fe.set(this,O,G):(this.removeEventListener(O,j),fe.remove(this,O));else return!1},_default:function(G){return fe.get(G.target,S)},delegateType:O},P.event.special[O]={setup:function(){var G=this.ownerDocument||this.document||this,et=F.documentMode?this:G,nt=fe.get(et,O);nt||(F.documentMode?this.addEventListener(O,j):G.addEventListener(S,j,!0)),fe.set(et,O,(nt||0)+1)},teardown:function(){var G=this.ownerDocument||this.document||this,et=F.documentMode?this:G,nt=fe.get(et,O)-1;nt?fe.set(et,O,nt):(F.documentMode?this.removeEventListener(O,j):G.removeEventListener(S,j,!0),fe.remove(et,O))}}}),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(S,O){P.event.special[S]={delegateType:O,bindType:O,handle:function(j){var G,et=this,nt=j.relatedTarget,at=j.handleObj;return(!nt||nt!==et&&!P.contains(et,nt))&&(j.type=at.origType,G=at.handler.apply(this,arguments),j.type=O),G}}}),P.fn.extend({on:function(S,O,j,G){return cA(this,S,O,j,G)},one:function(S,O,j,G){return cA(this,S,O,j,G,1)},off:function(S,O,j){var G,et;if(S&&S.preventDefault&&S.handleObj)return G=S.handleObj,P(S.delegateTarget).off(G.namespace?G.origType+"."+G.namespace:G.origType,G.selector,G.handler),this;if(typeof S=="object"){for(et in S)this.off(et,O,S[et]);return this}return(O===!1||typeof O=="function")&&(j=O,O=void 0),j===!1&&(j=Ml),this.each(function(){P.event.remove(this,S,j,O)})}});var Te=/<script|<style|<link/i,id=/checked\s*(?:[^=]|=\s*.checked.)/i,vr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function jo(S,O){return J(S,"table")&&J(O.nodeType!==11?O:O.firstChild,"tr")&&P(S).children("tbody")[0]||S}function Fu(S){return S.type=(S.getAttribute("type")!==null)+"/"+S.type,S}function vc(S){return(S.type||"").slice(0,5)==="true/"?S.type=S.type.slice(5):S.removeAttribute("type"),S}function dA(S,O){var j,G,et,nt,at,kt,wt;if(O.nodeType===1){if(fe.hasData(S)&&(nt=fe.get(S),wt=nt.events,wt)){fe.remove(O,"handle events");for(et in wt)for(j=0,G=wt[et].length;j<G;j++)P.event.add(O,et,wt[et][j])}vn.hasData(S)&&(at=vn.access(S),kt=P.extend({},at),vn.set(O,kt))}}function Ll(S,O){var j=O.nodeName.toLowerCase();j==="input"&&Vr.test(S.type)?O.checked=S.checked:(j==="input"||j==="textarea")&&(O.defaultValue=S.defaultValue)}function Ki(S,O,j,G){O=c(O);var et,nt,at,kt,wt,Bt,Ht=0,$t=S.length,Rt=$t-1,te=O[0],Pe=x(te);if(Pe||$t>1&&typeof te=="string"&&!y.checkClone&&id.test(te))return S.each(function(Je){var We=S.eq(Je);Pe&&(O[0]=te.call(this,Je,We.html())),Ki(We,O,j,G)});if($t&&(et=Ho(O,S[0].ownerDocument,!1,S,G),nt=et.firstChild,et.childNodes.length===1&&(et=nt),nt||G)){for(at=P.map(Ns(et,"script"),Fu),kt=at.length;Ht<$t;Ht++)wt=et,Ht!==Rt&&(wt=P.clone(wt,!0,!0),kt&&P.merge(at,Ns(wt,"script"))),j.call(S[Ht],wt,Ht);if(kt)for(Bt=at[at.length-1].ownerDocument,P.map(at,vc),Ht=0;Ht<kt;Ht++)wt=at[Ht],aA.test(wt.type||"")&&!fe.access(wt,"globalEval")&&P.contains(Bt,wt)&&(wt.src&&(wt.type||"").toLowerCase()!=="module"?P._evalUrl&&!wt.noModule&&P._evalUrl(wt.src,{nonce:wt.nonce||wt.getAttribute("nonce")},Bt):Q(wt.textContent.replace(vr,""),wt,Bt))}return S}function Gi(S,O,j){for(var G,et=O?P.filter(O,S):S,nt=0;(G=et[nt])!=null;nt++)!j&&G.nodeType===1&&P.cleanData(Ns(G)),G.parentNode&&(j&&ha(G)&&lA(Ns(G,"script")),G.parentNode.removeChild(G));return S}P.extend({htmlPrefilter:function(S){return S},clone:function(S,O,j){var G,et,nt,at,kt=S.cloneNode(!0),wt=ha(S);if(!y.noCloneChecked&&(S.nodeType===1||S.nodeType===11)&&!P.isXMLDoc(S))for(at=Ns(kt),nt=Ns(S),G=0,et=nt.length;G<et;G++)Ll(nt[G],at[G]);if(O)if(j)for(nt=nt||Ns(S),at=at||Ns(kt),G=0,et=nt.length;G<et;G++)dA(nt[G],at[G]);else dA(S,kt);return at=Ns(kt,"script"),at.length>0&&lA(at,!wt&&Ns(S,"script")),kt},cleanData:function(S){for(var O,j,G,et=P.event.special,nt=0;(j=S[nt])!==void 0;nt++)if(ti(j)){if(O=j[fe.expando]){if(O.events)for(G in O.events)et[G]?P.event.remove(j,G):P.removeEvent(j,G,O.handle);j[fe.expando]=void 0}j[vn.expando]&&(j[vn.expando]=void 0)}}}),P.fn.extend({detach:function(S){return Gi(this,S,!0)},remove:function(S){return Gi(this,S)},text:function(S){return Hn(this,function(O){return O===void 0?P.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=O)})},null,S,arguments.length)},append:function(){return Ki(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var O=jo(this,S);O.appendChild(S)}})},prepend:function(){return Ki(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var O=jo(this,S);O.insertBefore(S,O.firstChild)}})},before:function(){return Ki(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this)})},after:function(){return Ki(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this.nextSibling)})},empty:function(){for(var S,O=0;(S=this[O])!=null;O++)S.nodeType===1&&(P.cleanData(Ns(S,!1)),S.textContent="");return this},clone:function(S,O){return S=S??!1,O=O??S,this.map(function(){return P.clone(this,S,O)})},html:function(S){return Hn(this,function(O){var j=this[0]||{},G=0,et=this.length;if(O===void 0&&j.nodeType===1)return j.innerHTML;if(typeof O=="string"&&!Te.test(O)&&!Ys[(oA.exec(O)||["",""])[1].toLowerCase()]){O=P.htmlPrefilter(O);try{for(;G<et;G++)j=this[G]||{},j.nodeType===1&&(P.cleanData(Ns(j,!1)),j.innerHTML=O);j=0}catch{}}j&&this.empty().append(O)},null,S,arguments.length)},replaceWith:function(){var S=[];return Ki(this,arguments,function(O){var j=this.parentNode;P.inArray(this,S)<0&&(P.cleanData(Ns(this)),j&&j.replaceChild(O,this))},S)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(S,O){P.fn[S]=function(j){for(var G,et=[],nt=P(j),at=nt.length-1,kt=0;kt<=at;kt++)G=kt===at?this:this.clone(!0),P(nt[kt])[O](G),d.apply(et,G.get());return this.pushStack(et)}});var fs=new RegExp("^("+wr+")(?!px)[a-z%]+$","i"),_s=/^--/,Wi=function(S){var O=S.ownerDocument.defaultView;return(!O||!O.opener)&&(O=t),O.getComputedStyle(S)},_r=function(S,O,j){var G,et,nt={};for(et in O)nt[et]=S.style[et],S.style[et]=O[et];G=j.call(S);for(et in O)S.style[et]=nt[et];return G},Pl=new RegExp(go.join("|"),"i");(function(){function S(){if(Bt){wt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Bt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",jr.appendChild(wt).appendChild(Bt);var Ht=t.getComputedStyle(Bt);j=Ht.top!=="1%",kt=O(Ht.marginLeft)===12,Bt.style.right="60%",nt=O(Ht.right)===36,G=O(Ht.width)===36,Bt.style.position="absolute",et=O(Bt.offsetWidth/3)===12,jr.removeChild(wt),Bt=null}}function O(Ht){return Math.round(parseFloat(Ht))}var j,G,et,nt,at,kt,wt=F.createElement("div"),Bt=F.createElement("div");Bt.style&&(Bt.style.backgroundClip="content-box",Bt.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle=Bt.style.backgroundClip==="content-box",P.extend(y,{boxSizingReliable:function(){return S(),G},pixelBoxStyles:function(){return S(),nt},pixelPosition:function(){return S(),j},reliableMarginLeft:function(){return S(),kt},scrollboxSize:function(){return S(),et},reliableTrDimensions:function(){var Ht,$t,Rt,te;return at==null&&(Ht=F.createElement("table"),$t=F.createElement("tr"),Rt=F.createElement("div"),Ht.style.cssText="position:absolute;left:-11111px;border-collapse:separate",$t.style.cssText="box-sizing:content-box;border:1px solid",$t.style.height="1px",Rt.style.height="9px",Rt.style.display="block",jr.appendChild(Ht).appendChild($t).appendChild(Rt),te=t.getComputedStyle($t),at=parseInt(te.height,10)+parseInt(te.borderTopWidth,10)+parseInt(te.borderBottomWidth,10)===$t.offsetHeight,jr.removeChild(Ht)),at}}))})();function Rs(S,O,j){var G,et,nt,at,kt=_s.test(O),wt=S.style;return j=j||Wi(S),j&&(at=j.getPropertyValue(O)||j[O],kt&&at&&(at=at.replace(mt,"$1")||void 0),at===""&&!ha(S)&&(at=P.style(S,O)),!y.pixelBoxStyles()&&fs.test(at)&&Pl.test(O)&&(G=wt.width,et=wt.minWidth,nt=wt.maxWidth,wt.minWidth=wt.maxWidth=wt.width=at,at=j.width,wt.width=G,wt.minWidth=et,wt.maxWidth=nt)),at!==void 0?at+"":at}function Qa(S,O){return{get:function(){if(S()){delete this.get;return}return(this.get=O).apply(this,arguments)}}}var AA=["Webkit","Moz","ms"],sd=F.createElement("div").style,Ha={};function Ou(S){for(var O=S[0].toUpperCase()+S.slice(1),j=AA.length;j--;)if(S=AA[j]+O,S in sd)return S}function za(S){var O=P.cssProps[S]||Ha[S];return O||(S in sd?S:Ha[S]=Ou(S)||S)}var Js=/^(none|table(?!-c[ea]).+)/,ja={position:"absolute",visibility:"hidden",display:"block"},pa={letterSpacing:"0",fontWeight:"400"};function Va(S,O,j){var G=ua.exec(O);return G?Math.max(0,G[2]-(j||0))+(G[3]||"px"):O}function wn(S,O,j,G,et,nt){var at=O==="width"?1:0,kt=0,wt=0,Bt=0;if(j===(G?"border":"content"))return 0;for(;at<4;at+=2)j==="margin"&&(Bt+=P.css(S,j+go[at],!0,et)),G?(j==="content"&&(wt-=P.css(S,"padding"+go[at],!0,et)),j!=="margin"&&(wt-=P.css(S,"border"+go[at]+"Width",!0,et))):(wt+=P.css(S,"padding"+go[at],!0,et),j!=="padding"?wt+=P.css(S,"border"+go[at]+"Width",!0,et):kt+=P.css(S,"border"+go[at]+"Width",!0,et));return!G&&nt>=0&&(wt+=Math.max(0,Math.ceil(S["offset"+O[0].toUpperCase()+O.slice(1)]-nt-wt-kt-.5))||0),wt+Bt}function ei(S,O,j){var G=Wi(S),et=!y.boxSizingReliable()||j,nt=et&&P.css(S,"boxSizing",!1,G)==="border-box",at=nt,kt=Rs(S,O,G),wt="offset"+O[0].toUpperCase()+O.slice(1);if(fs.test(kt)){if(!j)return kt;kt="auto"}return(!y.boxSizingReliable()&&nt||!y.reliableTrDimensions()&&J(S,"tr")||kt==="auto"||!parseFloat(kt)&&P.css(S,"display",!1,G)==="inline")&&S.getClientRects().length&&(nt=P.css(S,"boxSizing",!1,G)==="border-box",at=wt in S,at&&(kt=S[wt])),kt=parseFloat(kt)||0,kt+wn(S,O,j||(nt?"border":"content"),at,G,kt)+"px"}P.extend({cssHooks:{opacity:{get:function(S,O){if(O){var j=Rs(S,"opacity");return j===""?"1":j}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(S,O,j,G){if(!(!S||S.nodeType===3||S.nodeType===8||!S.style)){var et,nt,at,kt=xn(O),wt=_s.test(O),Bt=S.style;if(wt||(O=za(kt)),at=P.cssHooks[O]||P.cssHooks[kt],j!==void 0){if(nt=typeof j,nt==="string"&&(et=ua.exec(j))&&et[1]&&(j=qs(S,O,et),nt="number"),j==null||j!==j)return;nt==="number"&&!wt&&(j+=et&&et[3]||(P.cssNumber[kt]?"":"px")),!y.clearCloneStyle&&j===""&&O.indexOf("background")===0&&(Bt[O]="inherit"),(!at||!("set"in at)||(j=at.set(S,j,G))!==void 0)&&(wt?Bt.setProperty(O,j):Bt[O]=j)}else return at&&"get"in at&&(et=at.get(S,!1,G))!==void 0?et:Bt[O]}},css:function(S,O,j,G){var et,nt,at,kt=xn(O),wt=_s.test(O);return wt||(O=za(kt)),at=P.cssHooks[O]||P.cssHooks[kt],at&&"get"in at&&(et=at.get(S,!0,j)),et===void 0&&(et=Rs(S,O,G)),et==="normal"&&O in pa&&(et=pa[O]),j===""||j?(nt=parseFloat(et),j===!0||isFinite(nt)?nt||0:et):et}}),P.each(["height","width"],function(S,O){P.cssHooks[O]={get:function(j,G,et){if(G)return Js.test(P.css(j,"display"))&&(!j.getClientRects().length||!j.getBoundingClientRect().width)?_r(j,ja,function(){return ei(j,O,et)}):ei(j,O,et)},set:function(j,G,et){var nt,at=Wi(j),kt=!y.scrollboxSize()&&at.position==="absolute",wt=kt||et,Bt=wt&&P.css(j,"boxSizing",!1,at)==="border-box",Ht=et?wn(j,O,et,Bt,at):0;return Bt&&kt&&(Ht-=Math.ceil(j["offset"+O[0].toUpperCase()+O.slice(1)]-parseFloat(at[O])-wn(j,O,"border",!1,at)-.5)),Ht&&(nt=ua.exec(G))&&(nt[3]||"px")!=="px"&&(j.style[O]=G,G=P.css(j,O)),Va(j,G,Ht)}}}),P.cssHooks.marginLeft=Qa(y.reliableMarginLeft,function(S,O){if(O)return(parseFloat(Rs(S,"marginLeft"))||S.getBoundingClientRect().left-_r(S,{marginLeft:0},function(){return S.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(S,O){P.cssHooks[S+O]={expand:function(j){for(var G=0,et={},nt=typeof j=="string"?j.split(" "):[j];G<4;G++)et[S+go[G]+O]=nt[G]||nt[G-2]||nt[0];return et}},S!=="margin"&&(P.cssHooks[S+O].set=Va)}),P.fn.extend({css:function(S,O){return Hn(this,function(j,G,et){var nt,at,kt={},wt=0;if(Array.isArray(G)){for(nt=Wi(j),at=G.length;wt<at;wt++)kt[G[wt]]=P.css(j,G[wt],!1,nt);return kt}return et!==void 0?P.style(j,G,et):P.css(j,G)},S,O,arguments.length>1)}});function $i(S,O,j,G,et){return new $i.prototype.init(S,O,j,G,et)}P.Tween=$i,$i.prototype={constructor:$i,init:function(S,O,j,G,et,nt){this.elem=S,this.prop=j,this.easing=et||P.easing._default,this.options=O,this.start=this.now=this.cur(),this.end=G,this.unit=nt||(P.cssNumber[j]?"":"px")},cur:function(){var S=$i.propHooks[this.prop];return S&&S.get?S.get(this):$i.propHooks._default.get(this)},run:function(S){var O,j=$i.propHooks[this.prop];return this.options.duration?this.pos=O=P.easing[this.easing](S,this.options.duration*S,0,1,this.options.duration):this.pos=O=S,this.now=(this.end-this.start)*O+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),j&&j.set?j.set(this):$i.propHooks._default.set(this),this}},$i.prototype.init.prototype=$i.prototype,$i.propHooks={_default:{get:function(S){var O;return S.elem.nodeType!==1||S.elem[S.prop]!=null&&S.elem.style[S.prop]==null?S.elem[S.prop]:(O=P.css(S.elem,S.prop,""),!O||O==="auto"?0:O)},set:function(S){P.fx.step[S.prop]?P.fx.step[S.prop](S):S.elem.nodeType===1&&(P.cssHooks[S.prop]||S.elem.style[za(S.prop)]!=null)?P.style(S.elem,S.prop,S.now+S.unit):S.elem[S.prop]=S.now}}},$i.propHooks.scrollTop=$i.propHooks.scrollLeft={set:function(S){S.elem.nodeType&&S.elem.parentNode&&(S.elem[S.prop]=S.now)}},P.easing={linear:function(S){return S},swing:function(S){return .5-Math.cos(S*Math.PI)/2},_default:"swing"},P.fx=$i.prototype.init,P.fx.step={};var kr,bo,rd=/^(?:toggle|show|hide)$/,Qe=/queueHooks$/;function Cn(){bo&&(F.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Cn):t.setTimeout(Cn,P.fx.interval),P.fx.tick())}function ps(){return t.setTimeout(function(){kr=void 0}),kr=Date.now()}function tr(S,O){var j,G=0,et={height:S};for(O=O?1:0;G<4;G+=2-O)j=go[G],et["margin"+j]=et["padding"+j]=S;return O&&(et.opacity=et.width=S),et}function zn(S,O,j){for(var G,et=(Xn.tweeners[O]||[]).concat(Xn.tweeners["*"]),nt=0,at=et.length;nt<at;nt++)if(G=et[nt].call(j,O,S))return G}function uA(S,O,j){var G,et,nt,at,kt,wt,Bt,Ht,$t="width"in O||"height"in O,Rt=this,te={},Pe=S.style,Je=S.nodeType&&_i(S),We=fe.get(S,"fxshow");j.queue||(at=P._queueHooks(S,"fx"),at.unqueued==null&&(at.unqueued=0,kt=at.empty.fire,at.empty.fire=function(){at.unqueued||kt()}),at.unqueued++,Rt.always(function(){Rt.always(function(){at.unqueued--,P.queue(S,"fx").length||at.empty.fire()})}));for(G in O)if(et=O[G],rd.test(et)){if(delete O[G],nt=nt||et==="toggle",et===(Je?"hide":"show"))if(et==="show"&&We&&We[G]!==void 0)Je=!0;else continue;te[G]=We&&We[G]||P.style(S,G)}if(wt=!P.isEmptyObject(O),!(!wt&&P.isEmptyObject(te))){$t&&S.nodeType===1&&(j.overflow=[Pe.overflow,Pe.overflowX,Pe.overflowY],Bt=We&&We.display,Bt==null&&(Bt=fe.get(S,"display")),Ht=P.css(S,"display"),Ht==="none"&&(Bt?Ht=Bt:(Qo([S],!0),Bt=S.style.display||Bt,Ht=P.css(S,"display"),Qo([S]))),(Ht==="inline"||Ht==="inline-block"&&Bt!=null)&&P.css(S,"float")==="none"&&(wt||(Rt.done(function(){Pe.display=Bt}),Bt==null&&(Ht=Pe.display,Bt=Ht==="none"?"":Ht)),Pe.display="inline-block")),j.overflow&&(Pe.overflow="hidden",Rt.always(function(){Pe.overflow=j.overflow[0],Pe.overflowX=j.overflow[1],Pe.overflowY=j.overflow[2]})),wt=!1;for(G in te)wt||(We?"hidden"in We&&(Je=We.hidden):We=fe.access(S,"fxshow",{display:Bt}),nt&&(We.hidden=!Je),Je&&Qo([S],!0),Rt.done(function(){Je||Qo([S]),fe.remove(S,"fxshow");for(G in te)P.style(S,G,te[G])})),wt=zn(Je?We[G]:0,G,Rt),G in We||(We[G]=wt.start,Je&&(wt.end=wt.start,wt.start=0))}}function Fl(S,O){var j,G,et,nt,at;for(j in S)if(G=xn(j),et=O[G],nt=S[j],Array.isArray(nt)&&(et=nt[1],nt=S[j]=nt[0]),j!==G&&(S[G]=nt,delete S[j]),at=P.cssHooks[G],at&&"expand"in at){nt=at.expand(nt),delete S[G];for(j in nt)j in S||(S[j]=nt[j],O[j]=et)}else O[G]=et}function Xn(S,O,j){var G,et,nt=0,at=Xn.prefilters.length,kt=P.Deferred().always(function(){delete wt.elem}),wt=function(){if(et)return!1;for(var $t=kr||ps(),Rt=Math.max(0,Bt.startTime+Bt.duration-$t),te=Rt/Bt.duration||0,Pe=1-te,Je=0,We=Bt.tweens.length;Je<We;Je++)Bt.tweens[Je].run(Pe);return kt.notifyWith(S,[Bt,Pe,Rt]),Pe<1&&We?Rt:(We||kt.notifyWith(S,[Bt,1,0]),kt.resolveWith(S,[Bt]),!1)},Bt=kt.promise({elem:S,props:P.extend({},O),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},j),originalProperties:O,originalOptions:j,startTime:kr||ps(),duration:j.duration,tweens:[],createTween:function($t,Rt){var te=P.Tween(S,Bt.opts,$t,Rt,Bt.opts.specialEasing[$t]||Bt.opts.easing);return Bt.tweens.push(te),te},stop:function($t){var Rt=0,te=$t?Bt.tweens.length:0;if(et)return this;for(et=!0;Rt<te;Rt++)Bt.tweens[Rt].run(1);return $t?(kt.notifyWith(S,[Bt,1,0]),kt.resolveWith(S,[Bt,$t])):kt.rejectWith(S,[Bt,$t]),this}}),Ht=Bt.props;for(Fl(Ht,Bt.opts.specialEasing);nt<at;nt++)if(G=Xn.prefilters[nt].call(Bt,S,Ht,Bt.opts),G)return x(G.stop)&&(P._queueHooks(Bt.elem,Bt.opts.queue).stop=G.stop.bind(G)),G;return P.map(Ht,zn,Bt),x(Bt.opts.start)&&Bt.opts.start.call(S,Bt),Bt.progress(Bt.opts.progress).done(Bt.opts.done,Bt.opts.complete).fail(Bt.opts.fail).always(Bt.opts.always),P.fx.timer(P.extend(wt,{elem:S,anim:Bt,queue:Bt.opts.queue})),Bt}P.Animation=P.extend(Xn,{tweeners:{"*":[function(S,O){var j=this.createTween(S,O);return qs(j.elem,S,ua.exec(O),j),j}]},tweener:function(S,O){x(S)?(O=S,S=["*"]):S=S.match(Ge);for(var j,G=0,et=S.length;G<et;G++)j=S[G],Xn.tweeners[j]=Xn.tweeners[j]||[],Xn.tweeners[j].unshift(O)},prefilters:[uA],prefilter:function(S,O){O?Xn.prefilters.unshift(S):Xn.prefilters.push(S)}}),P.speed=function(S,O,j){var G=S&&typeof S=="object"?P.extend({},S):{complete:j||!j&&O||x(S)&&S,duration:S,easing:j&&O||O&&!x(O)&&O};return P.fx.off?G.duration=0:typeof G.duration!="number"&&(G.duration in P.fx.speeds?G.duration=P.fx.speeds[G.duration]:G.duration=P.fx.speeds._default),(G.queue==null||G.queue===!0)&&(G.queue="fx"),G.old=G.complete,G.complete=function(){x(G.old)&&G.old.call(this),G.queue&&P.dequeue(this,G.queue)},G},P.fn.extend({fadeTo:function(S,O,j,G){return this.filter(_i).css("opacity",0).show().end().animate({opacity:O},S,j,G)},animate:function(S,O,j,G){var et=P.isEmptyObject(S),nt=P.speed(O,j,G),at=function(){var kt=Xn(this,P.extend({},S),nt);(et||fe.get(this,"finish"))&&kt.stop(!0)};return at.finish=at,et||nt.queue===!1?this.each(at):this.queue(nt.queue,at)},stop:function(S,O,j){var G=function(et){var nt=et.stop;delete et.stop,nt(j)};return typeof S!="string"&&(j=O,O=S,S=void 0),O&&this.queue(S||"fx",[]),this.each(function(){var et=!0,nt=S!=null&&S+"queueHooks",at=P.timers,kt=fe.get(this);if(nt)kt[nt]&&kt[nt].stop&&G(kt[nt]);else for(nt in kt)kt[nt]&&kt[nt].stop&&Qe.test(nt)&&G(kt[nt]);for(nt=at.length;nt--;)at[nt].elem===this&&(S==null||at[nt].queue===S)&&(at[nt].anim.stop(j),et=!1,at.splice(nt,1));(et||!j)&&P.dequeue(this,S)})},finish:function(S){return S!==!1&&(S=S||"fx"),this.each(function(){var O,j=fe.get(this),G=j[S+"queue"],et=j[S+"queueHooks"],nt=P.timers,at=G?G.length:0;for(j.finish=!0,P.queue(this,S,[]),et&&et.stop&&et.stop.call(this,!0),O=nt.length;O--;)nt[O].elem===this&&nt[O].queue===S&&(nt[O].anim.stop(!0),nt.splice(O,1));for(O=0;O<at;O++)G[O]&&G[O].finish&&G[O].finish.call(this);delete j.finish})}}),P.each(["toggle","show","hide"],function(S,O){var j=P.fn[O];P.fn[O]=function(G,et,nt){return G==null||typeof G=="boolean"?j.apply(this,arguments):this.animate(tr(O,!0),G,et,nt)}}),P.each({slideDown:tr("show"),slideUp:tr("hide"),slideToggle:tr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(S,O){P.fn[S]=function(j,G,et){return this.animate(O,j,G,et)}}),P.timers=[],P.fx.tick=function(){var S,O=0,j=P.timers;for(kr=Date.now();O<j.length;O++)S=j[O],!S()&&j[O]===S&&j.splice(O--,1);j.length||P.fx.stop(),kr=void 0},P.fx.timer=function(S){P.timers.push(S),P.fx.start()},P.fx.interval=13,P.fx.start=function(){bo||(bo=!0,Cn())},P.fx.stop=function(){bo=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(S,O){return S=P.fx&&P.fx.speeds[S]||S,O=O||"fx",this.queue(O,function(j,G){var et=t.setTimeout(j,S);G.stop=function(){t.clearTimeout(et)}})},function(){var S=F.createElement("input"),O=F.createElement("select"),j=O.appendChild(F.createElement("option"));S.type="checkbox",y.checkOn=S.value!=="",y.optSelected=j.selected,S=F.createElement("input"),S.value="t",S.type="radio",y.radioValue=S.value==="t"}();var jn,Ni=P.expr.attrHandle;P.fn.extend({attr:function(S,O){return Hn(this,P.attr,S,O,arguments.length>1)},removeAttr:function(S){return this.each(function(){P.removeAttr(this,S)})}}),P.extend({attr:function(S,O,j){var G,et,nt=S.nodeType;if(!(nt===3||nt===8||nt===2)){if(typeof S.getAttribute>"u")return P.prop(S,O,j);if((nt!==1||!P.isXMLDoc(S))&&(et=P.attrHooks[O.toLowerCase()]||(P.expr.match.bool.test(O)?jn:void 0)),j!==void 0){if(j===null){P.removeAttr(S,O);return}return et&&"set"in et&&(G=et.set(S,j,O))!==void 0?G:(S.setAttribute(O,j+""),j)}return et&&"get"in et&&(G=et.get(S,O))!==null?G:(G=P.find.attr(S,O),G??void 0)}},attrHooks:{type:{set:function(S,O){if(!y.radioValue&&O==="radio"&&J(S,"input")){var j=S.value;return S.setAttribute("type",O),j&&(S.value=j),O}}}},removeAttr:function(S,O){var j,G=0,et=O&&O.match(Ge);if(et&&S.nodeType===1)for(;j=et[G++];)S.removeAttribute(j)}}),jn={set:function(S,O,j){return O===!1?P.removeAttr(S,j):S.setAttribute(j,j),j}},P.each(P.expr.match.bool.source.match(/\w+/g),function(S,O){var j=Ni[O]||P.find.attr;Ni[O]=function(G,et,nt){var at,kt,wt=et.toLowerCase();return nt||(kt=Ni[wt],Ni[wt]=at,at=j(G,et,nt)!=null?wt:null,Ni[wt]=kt),at}});var er=/^(?:input|select|textarea|button)$/i,Ka=/^(?:a|area)$/i;P.fn.extend({prop:function(S,O){return Hn(this,P.prop,S,O,arguments.length>1)},removeProp:function(S){return this.each(function(){delete this[P.propFix[S]||S]})}}),P.extend({prop:function(S,O,j){var G,et,nt=S.nodeType;if(!(nt===3||nt===8||nt===2))return(nt!==1||!P.isXMLDoc(S))&&(O=P.propFix[O]||O,et=P.propHooks[O]),j!==void 0?et&&"set"in et&&(G=et.set(S,j,O))!==void 0?G:S[O]=j:et&&"get"in et&&(G=et.get(S,O))!==null?G:S[O]},propHooks:{tabIndex:{get:function(S){var O=P.find.attr(S,"tabindex");return O?parseInt(O,10):er.test(S.nodeName)||Ka.test(S.nodeName)&&S.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(P.propHooks.selected={get:function(S){var O=S.parentNode;return O&&O.parentNode&&O.parentNode.selectedIndex,null},set:function(S){var O=S.parentNode;O&&(O.selectedIndex,O.parentNode&&O.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this});function ks(S){var O=S.match(Ge)||[];return O.join(" ")}function Di(S){return S.getAttribute&&S.getAttribute("class")||""}function Ga(S){return Array.isArray(S)?S:typeof S=="string"?S.match(Ge)||[]:[]}P.fn.extend({addClass:function(S){var O,j,G,et,nt,at;return x(S)?this.each(function(kt){P(this).addClass(S.call(this,kt,Di(this)))}):(O=Ga(S),O.length?this.each(function(){if(G=Di(this),j=this.nodeType===1&&" "+ks(G)+" ",j){for(nt=0;nt<O.length;nt++)et=O[nt],j.indexOf(" "+et+" ")<0&&(j+=et+" ");at=ks(j),G!==at&&this.setAttribute("class",at)}}):this)},removeClass:function(S){var O,j,G,et,nt,at;return x(S)?this.each(function(kt){P(this).removeClass(S.call(this,kt,Di(this)))}):arguments.length?(O=Ga(S),O.length?this.each(function(){if(G=Di(this),j=this.nodeType===1&&" "+ks(G)+" ",j){for(nt=0;nt<O.length;nt++)for(et=O[nt];j.indexOf(" "+et+" ")>-1;)j=j.replace(" "+et+" "," ");at=ks(j),G!==at&&this.setAttribute("class",at)}}):this):this.attr("class","")},toggleClass:function(S,O){var j,G,et,nt,at=typeof S,kt=at==="string"||Array.isArray(S);return x(S)?this.each(function(wt){P(this).toggleClass(S.call(this,wt,Di(this),O),O)}):typeof O=="boolean"&&kt?O?this.addClass(S):this.removeClass(S):(j=Ga(S),this.each(function(){if(kt)for(nt=P(this),et=0;et<j.length;et++)G=j[et],nt.hasClass(G)?nt.removeClass(G):nt.addClass(G);else(S===void 0||at==="boolean")&&(G=Di(this),G&&fe.set(this,"__className__",G),this.setAttribute&&this.setAttribute("class",G||S===!1?"":fe.get(this,"__className__")||""))}))},hasClass:function(S){var O,j,G=0;for(O=" "+S+" ";j=this[G++];)if(j.nodeType===1&&(" "+ks(Di(j))+" ").indexOf(O)>-1)return!0;return!1}});var Wa=/\r/g;P.fn.extend({val:function(S){var O,j,G,et=this[0];return arguments.length?(G=x(S),this.each(function(nt){var at;this.nodeType===1&&(G?at=S.call(this,nt,P(this).val()):at=S,at==null?at="":typeof at=="number"?at+="":Array.isArray(at)&&(at=P.map(at,function(kt){return kt==null?"":kt+""})),O=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],(!O||!("set"in O)||O.set(this,at,"value")===void 0)&&(this.value=at))})):et?(O=P.valHooks[et.type]||P.valHooks[et.nodeName.toLowerCase()],O&&"get"in O&&(j=O.get(et,"value"))!==void 0?j:(j=et.value,typeof j=="string"?j.replace(Wa,""):j??"")):void 0}}),P.extend({valHooks:{option:{get:function(S){var O=P.find.attr(S,"value");return O??ks(P.text(S))}},select:{get:function(S){var O,j,G,et=S.options,nt=S.selectedIndex,at=S.type==="select-one",kt=at?null:[],wt=at?nt+1:et.length;for(nt<0?G=wt:G=at?nt:0;G<wt;G++)if(j=et[G],(j.selected||G===nt)&&!j.disabled&&(!j.parentNode.disabled||!J(j.parentNode,"optgroup"))){if(O=P(j).val(),at)return O;kt.push(O)}return kt},set:function(S,O){for(var j,G,et=S.options,nt=P.makeArray(O),at=et.length;at--;)G=et[at],(G.selected=P.inArray(P.valHooks.option.get(G),nt)>-1)&&(j=!0);return j||(S.selectedIndex=-1),nt}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(S,O){if(Array.isArray(O))return S.checked=P.inArray(P(S).val(),O)>-1}},y.checkOn||(P.valHooks[this].get=function(S){return S.getAttribute("value")===null?"on":S.value})});var qi=t.location,od={guid:Date.now()},Us=/\?/;P.parseXML=function(S){var O,j;if(!S||typeof S!="string")return null;try{O=new t.DOMParser().parseFromString(S,"text/xml")}catch{}return j=O&&O.getElementsByTagName("parsererror")[0],(!O||j)&&P.error("Invalid XML: "+(j?P.map(j.childNodes,function(G){return G.textContent}).join(`
`):S)),O};var nr=/^(?:focusinfocus|focusoutblur)$/,ad=function(S){S.stopPropagation()};P.extend(P.event,{trigger:function(S,O,j,G){var et,nt,at,kt,wt,Bt,Ht,$t,Rt=[j||F],te=w.call(S,"type")?S.type:S,Pe=w.call(S,"namespace")?S.namespace.split("."):[];if(nt=$t=at=j=j||F,!(j.nodeType===3||j.nodeType===8)&&!nr.test(te+P.event.triggered)&&(te.indexOf(".")>-1&&(Pe=te.split("."),te=Pe.shift(),Pe.sort()),wt=te.indexOf(":")<0&&"on"+te,S=S[P.expando]?S:new P.Event(te,typeof S=="object"&&S),S.isTrigger=G?2:3,S.namespace=Pe.join("."),S.rnamespace=S.namespace?new RegExp("(^|\\.)"+Pe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,S.result=void 0,S.target||(S.target=j),O=O==null?[S]:P.makeArray(O,[S]),Ht=P.event.special[te]||{},!(!G&&Ht.trigger&&Ht.trigger.apply(j,O)===!1))){if(!G&&!Ht.noBubble&&!I(j)){for(kt=Ht.delegateType||te,nr.test(kt+te)||(nt=nt.parentNode);nt;nt=nt.parentNode)Rt.push(nt),at=nt;at===(j.ownerDocument||F)&&Rt.push(at.defaultView||at.parentWindow||t)}for(et=0;(nt=Rt[et++])&&!S.isPropagationStopped();)$t=nt,S.type=et>1?kt:Ht.bindType||te,Bt=(fe.get(nt,"events")||Object.create(null))[S.type]&&fe.get(nt,"handle"),Bt&&Bt.apply(nt,O),Bt=wt&&nt[wt],Bt&&Bt.apply&&ti(nt)&&(S.result=Bt.apply(nt,O),S.result===!1&&S.preventDefault());return S.type=te,!G&&!S.isDefaultPrevented()&&(!Ht._default||Ht._default.apply(Rt.pop(),O)===!1)&&ti(j)&&wt&&x(j[te])&&!I(j)&&(at=j[wt],at&&(j[wt]=null),P.event.triggered=te,S.isPropagationStopped()&&$t.addEventListener(te,ad),j[te](),S.isPropagationStopped()&&$t.removeEventListener(te,ad),P.event.triggered=void 0,at&&(j[wt]=at)),S.result}},simulate:function(S,O,j){var G=P.extend(new P.Event,j,{type:S,isSimulated:!0});P.event.trigger(G,null,O)}}),P.fn.extend({trigger:function(S,O){return this.each(function(){P.event.trigger(S,O,this)})},triggerHandler:function(S,O){var j=this[0];if(j)return P.event.trigger(S,O,j,!0)}});var ga=/\[\]$/,_c=/\r?\n/g,He=/^(?:submit|button|image|reset|file)$/i,Kr=/^(?:input|select|textarea|keygen)/i;function In(S,O,j,G){var et;if(Array.isArray(O))P.each(O,function(nt,at){j||ga.test(S)?G(S,at):In(S+"["+(typeof at=="object"&&at!=null?nt:"")+"]",at,j,G)});else if(!j&&V(O)==="object")for(et in O)In(S+"["+et+"]",O[et],j,G);else G(S,O)}P.param=function(S,O){var j,G=[],et=function(nt,at){var kt=x(at)?at():at;G[G.length]=encodeURIComponent(nt)+"="+encodeURIComponent(kt??"")};if(S==null)return"";if(Array.isArray(S)||S.jquery&&!P.isPlainObject(S))P.each(S,function(){et(this.name,this.value)});else for(j in S)In(j,S[j],O,et);return G.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var S=P.prop(this,"elements");return S?P.makeArray(S):this}).filter(function(){var S=this.type;return this.name&&!P(this).is(":disabled")&&Kr.test(this.nodeName)&&!He.test(S)&&(this.checked||!Vr.test(S))}).map(function(S,O){var j=P(this).val();return j==null?null:Array.isArray(j)?P.map(j,function(G){return{name:O.name,value:G.replace(_c,`\r
`)}}):{name:O.name,value:j.replace(_c,`\r
`)}}).get()}});var hA=/%20/g,Vo=/#.*$/,ld=/([?&])_=[^&]*/,kc=/^(.*?):[ \t]*([^\r\n]*)$/mg,ir=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ol=/^(?:GET|HEAD)$/,Ko=/^\/\//,Ri={},fn={},fA="*/".concat("*"),$a=F.createElement("a");$a.href=qi.href;function yc(S){return function(O,j){typeof O!="string"&&(j=O,O="*");var G,et=0,nt=O.toLowerCase().match(Ge)||[];if(x(j))for(;G=nt[et++];)G[0]==="+"?(G=G.slice(1)||"*",(S[G]=S[G]||[]).unshift(j)):(S[G]=S[G]||[]).push(j)}}function Go(S,O,j,G){var et={},nt=S===fn;function at(kt){var wt;return et[kt]=!0,P.each(S[kt]||[],function(Bt,Ht){var $t=Ht(O,j,G);if(typeof $t=="string"&&!nt&&!et[$t])return O.dataTypes.unshift($t),at($t),!1;if(nt)return!(wt=$t)}),wt}return at(O.dataTypes[0])||!et["*"]&&at("*")}function Wo(S,O){var j,G,et=P.ajaxSettings.flatOptions||{};for(j in O)O[j]!==void 0&&((et[j]?S:G||(G={}))[j]=O[j]);return G&&P.extend(!0,S,G),S}function qa(S,O,j){for(var G,et,nt,at,kt=S.contents,wt=S.dataTypes;wt[0]==="*";)wt.shift(),G===void 0&&(G=S.mimeType||O.getResponseHeader("Content-Type"));if(G){for(et in kt)if(kt[et]&&kt[et].test(G)){wt.unshift(et);break}}if(wt[0]in j)nt=wt[0];else{for(et in j){if(!wt[0]||S.converters[et+" "+wt[0]]){nt=et;break}at||(at=et)}nt=nt||at}if(nt)return nt!==wt[0]&&wt.unshift(nt),j[nt]}function Ya(S,O,j,G){var et,nt,at,kt,wt,Bt={},Ht=S.dataTypes.slice();if(Ht[1])for(at in S.converters)Bt[at.toLowerCase()]=S.converters[at];for(nt=Ht.shift();nt;)if(S.responseFields[nt]&&(j[S.responseFields[nt]]=O),!wt&&G&&S.dataFilter&&(O=S.dataFilter(O,S.dataType)),wt=nt,nt=Ht.shift(),nt){if(nt==="*")nt=wt;else if(wt!=="*"&&wt!==nt){if(at=Bt[wt+" "+nt]||Bt["* "+nt],!at){for(et in Bt)if(kt=et.split(" "),kt[1]===nt&&(at=Bt[wt+" "+kt[0]]||Bt["* "+kt[0]],at)){at===!0?at=Bt[et]:Bt[et]!==!0&&(nt=kt[0],Ht.unshift(kt[1]));break}}if(at!==!0)if(at&&S.throws)O=at(O);else try{O=at(O)}catch($t){return{state:"parsererror",error:at?$t:"No conversion from "+wt+" to "+nt}}}}return{state:"success",data:O}}P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qi.href,type:"GET",isLocal:ir.test(qi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":fA,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(S,O){return O?Wo(Wo(S,P.ajaxSettings),O):Wo(P.ajaxSettings,S)},ajaxPrefilter:yc(Ri),ajaxTransport:yc(fn),ajax:function(S,O){typeof S=="object"&&(O=S,S=void 0),O=O||{};var j,G,et,nt,at,kt,wt,Bt,Ht,$t,Rt=P.ajaxSetup({},O),te=Rt.context||Rt,Pe=Rt.context&&(te.nodeType||te.jquery)?P(te):P.event,Je=P.Deferred(),We=P.Callbacks("once memory"),as=Rt.statusCode||{},hi={},Cr={},Gr="canceled",cn={readyState:0,getResponseHeader:function(nn){var oi;if(wt){if(!nt)for(nt={};oi=kc.exec(et);)nt[oi[1].toLowerCase()+" "]=(nt[oi[1].toLowerCase()+" "]||[]).concat(oi[2]);oi=nt[nn.toLowerCase()+" "]}return oi==null?null:oi.join(", ")},getAllResponseHeaders:function(){return wt?et:null},setRequestHeader:function(nn,oi){return wt==null&&(nn=Cr[nn.toLowerCase()]=Cr[nn.toLowerCase()]||nn,hi[nn]=oi),this},overrideMimeType:function(nn){return wt==null&&(Rt.mimeType=nn),this},statusCode:function(nn){var oi;if(nn)if(wt)cn.always(nn[cn.status]);else for(oi in nn)as[oi]=[as[oi],nn[oi]];return this},abort:function(nn){var oi=nn||Gr;return j&&j.abort(oi),Wr(0,oi),this}};if(Je.promise(cn),Rt.url=((S||Rt.url||qi.href)+"").replace(Ko,qi.protocol+"//"),Rt.type=O.method||O.type||Rt.method||Rt.type,Rt.dataTypes=(Rt.dataType||"*").toLowerCase().match(Ge)||[""],Rt.crossDomain==null){kt=F.createElement("a");try{kt.href=Rt.url,kt.href=kt.href,Rt.crossDomain=$a.protocol+"//"+$a.host!=kt.protocol+"//"+kt.host}catch{Rt.crossDomain=!0}}if(Rt.data&&Rt.processData&&typeof Rt.data!="string"&&(Rt.data=P.param(Rt.data,Rt.traditional)),Go(Ri,Rt,O,cn),wt)return cn;Bt=P.event&&Rt.global,Bt&&P.active++===0&&P.event.trigger("ajaxStart"),Rt.type=Rt.type.toUpperCase(),Rt.hasContent=!Ol.test(Rt.type),G=Rt.url.replace(Vo,""),Rt.hasContent?Rt.data&&Rt.processData&&(Rt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Rt.data=Rt.data.replace(hA,"+")):($t=Rt.url.slice(G.length),Rt.data&&(Rt.processData||typeof Rt.data=="string")&&(G+=(Us.test(G)?"&":"?")+Rt.data,delete Rt.data),Rt.cache===!1&&(G=G.replace(ld,"$1"),$t=(Us.test(G)?"&":"?")+"_="+od.guid+++$t),Rt.url=G+$t),Rt.ifModified&&(P.lastModified[G]&&cn.setRequestHeader("If-Modified-Since",P.lastModified[G]),P.etag[G]&&cn.setRequestHeader("If-None-Match",P.etag[G])),(Rt.data&&Rt.hasContent&&Rt.contentType!==!1||O.contentType)&&cn.setRequestHeader("Content-Type",Rt.contentType),cn.setRequestHeader("Accept",Rt.dataTypes[0]&&Rt.accepts[Rt.dataTypes[0]]?Rt.accepts[Rt.dataTypes[0]]+(Rt.dataTypes[0]!=="*"?", "+fA+"; q=0.01":""):Rt.accepts["*"]);for(Ht in Rt.headers)cn.setRequestHeader(Ht,Rt.headers[Ht]);if(Rt.beforeSend&&(Rt.beforeSend.call(te,cn,Rt)===!1||wt))return cn.abort();if(Gr="abort",We.add(Rt.complete),cn.done(Rt.success),cn.fail(Rt.error),j=Go(fn,Rt,O,cn),!j)Wr(-1,"No Transport");else{if(cn.readyState=1,Bt&&Pe.trigger("ajaxSend",[cn,Rt]),wt)return cn;Rt.async&&Rt.timeout>0&&(at=t.setTimeout(function(){cn.abort("timeout")},Rt.timeout));try{wt=!1,j.send(hi,Wr)}catch(nn){if(wt)throw nn;Wr(-1,nn)}}function Wr(nn,oi,$r,Ui){var Qi,ma,ys,Er,qr,sr=oi;wt||(wt=!0,at&&t.clearTimeout(at),j=void 0,et=Ui||"",cn.readyState=nn>0?4:0,Qi=nn>=200&&nn<300||nn===304,$r&&(Er=qa(Rt,cn,$r)),!Qi&&P.inArray("script",Rt.dataTypes)>-1&&P.inArray("json",Rt.dataTypes)<0&&(Rt.converters["text script"]=function(){}),Er=Ya(Rt,Er,cn,Qi),Qi?(Rt.ifModified&&(qr=cn.getResponseHeader("Last-Modified"),qr&&(P.lastModified[G]=qr),qr=cn.getResponseHeader("etag"),qr&&(P.etag[G]=qr)),nn===204||Rt.type==="HEAD"?sr="nocontent":nn===304?sr="notmodified":(sr=Er.state,ma=Er.data,ys=Er.error,Qi=!ys)):(ys=sr,(nn||!sr)&&(sr="error",nn<0&&(nn=0))),cn.status=nn,cn.statusText=(oi||sr)+"",Qi?Je.resolveWith(te,[ma,sr,cn]):Je.rejectWith(te,[cn,sr,ys]),cn.statusCode(as),as=void 0,Bt&&Pe.trigger(Qi?"ajaxSuccess":"ajaxError",[cn,Rt,Qi?ma:ys]),We.fireWith(te,[cn,sr]),Bt&&(Pe.trigger("ajaxComplete",[cn,Rt]),--P.active||P.event.trigger("ajaxStop")))}return cn},getJSON:function(S,O,j){return P.get(S,O,j,"json")},getScript:function(S,O){return P.get(S,void 0,O,"script")}}),P.each(["get","post"],function(S,O){P[O]=function(j,G,et,nt){return x(G)&&(nt=nt||et,et=G,G=void 0),P.ajax(P.extend({url:j,type:O,dataType:nt,data:G,success:et},P.isPlainObject(j)&&j))}}),P.ajaxPrefilter(function(S){var O;for(O in S.headers)O.toLowerCase()==="content-type"&&(S.contentType=S.headers[O]||"")}),P._evalUrl=function(S,O,j){return P.ajax({url:S,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(G){P.globalEval(G,O,j)}})},P.fn.extend({wrapAll:function(S){var O;return this[0]&&(x(S)&&(S=S.call(this[0])),O=P(S,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&O.insertBefore(this[0]),O.map(function(){for(var j=this;j.firstElementChild;)j=j.firstElementChild;return j}).append(this)),this},wrapInner:function(S){return x(S)?this.each(function(O){P(this).wrapInner(S.call(this,O))}):this.each(function(){var O=P(this),j=O.contents();j.length?j.wrapAll(S):O.append(S)})},wrap:function(S){var O=x(S);return this.each(function(j){P(this).wrapAll(O?S.call(this,j):S)})},unwrap:function(S){return this.parent(S).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(S){return!P.expr.pseudos.visible(S)},P.expr.pseudos.visible=function(S){return!!(S.offsetWidth||S.offsetHeight||S.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var ln={0:200,1223:204},Nl=P.ajaxSettings.xhr();y.cors=!!Nl&&"withCredentials"in Nl,y.ajax=Nl=!!Nl,P.ajaxTransport(function(S){var O,j;if(y.cors||Nl&&!S.crossDomain)return{send:function(G,et){var nt,at=S.xhr();if(at.open(S.type,S.url,S.async,S.username,S.password),S.xhrFields)for(nt in S.xhrFields)at[nt]=S.xhrFields[nt];S.mimeType&&at.overrideMimeType&&at.overrideMimeType(S.mimeType),!S.crossDomain&&!G["X-Requested-With"]&&(G["X-Requested-With"]="XMLHttpRequest");for(nt in G)at.setRequestHeader(nt,G[nt]);O=function(kt){return function(){O&&(O=j=at.onload=at.onerror=at.onabort=at.ontimeout=at.onreadystatechange=null,kt==="abort"?at.abort():kt==="error"?typeof at.status!="number"?et(0,"error"):et(at.status,at.statusText):et(ln[at.status]||at.status,at.statusText,(at.responseType||"text")!=="text"||typeof at.responseText!="string"?{binary:at.response}:{text:at.responseText},at.getAllResponseHeaders()))}},at.onload=O(),j=at.onerror=at.ontimeout=O("error"),at.onabort!==void 0?at.onabort=j:at.onreadystatechange=function(){at.readyState===4&&t.setTimeout(function(){O&&j()})},O=O("abort");try{at.send(S.hasContent&&S.data||null)}catch(kt){if(O)throw kt}},abort:function(){O&&O()}}}),P.ajaxPrefilter(function(S){S.crossDomain&&(S.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(S){return P.globalEval(S),S}}}),P.ajaxPrefilter("script",function(S){S.cache===void 0&&(S.cache=!1),S.crossDomain&&(S.type="GET")}),P.ajaxTransport("script",function(S){if(S.crossDomain||S.scriptAttrs){var O,j;return{send:function(G,et){O=P("<script>").attr(S.scriptAttrs||{}).prop({charset:S.scriptCharset,src:S.url}).on("load error",j=function(nt){O.remove(),j=null,nt&&et(nt.type==="error"?404:200,nt.type)}),F.head.appendChild(O[0])},abort:function(){j&&j()}}}});var Qs=[],yr=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var S=Qs.pop()||P.expando+"_"+od.guid++;return this[S]=!0,S}}),P.ajaxPrefilter("json jsonp",function(S,O,j){var G,et,nt,at=S.jsonp!==!1&&(yr.test(S.url)?"url":typeof S.data=="string"&&(S.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&yr.test(S.data)&&"data");if(at||S.dataTypes[0]==="jsonp")return G=S.jsonpCallback=x(S.jsonpCallback)?S.jsonpCallback():S.jsonpCallback,at?S[at]=S[at].replace(yr,"$1"+G):S.jsonp!==!1&&(S.url+=(Us.test(S.url)?"&":"?")+S.jsonp+"="+G),S.converters["script json"]=function(){return nt||P.error(G+" was not called"),nt[0]},S.dataTypes[0]="json",et=t[G],t[G]=function(){nt=arguments},j.always(function(){et===void 0?P(t).removeProp(G):t[G]=et,S[G]&&(S.jsonpCallback=O.jsonpCallback,Qs.push(G)),nt&&x(et)&&et(nt[0]),nt=et=void 0}),"script"}),y.createHTMLDocument=function(){var S=F.implementation.createHTMLDocument("").body;return S.innerHTML="<form></form><form></form>",S.childNodes.length===2}(),P.parseHTML=function(S,O,j){if(typeof S!="string")return[];typeof O=="boolean"&&(j=O,O=!1);var G,et,nt;return O||(y.createHTMLDocument?(O=F.implementation.createHTMLDocument(""),G=O.createElement("base"),G.href=F.location.href,O.head.appendChild(G)):O=F),et=oe.exec(S),nt=!j&&[],et?[O.createElement(et[1])]:(et=Ho([S],O,nt),nt&&nt.length&&P(nt).remove(),P.merge([],et.childNodes))},P.fn.load=function(S,O,j){var G,et,nt,at=this,kt=S.indexOf(" ");return kt>-1&&(G=ks(S.slice(kt)),S=S.slice(0,kt)),x(O)?(j=O,O=void 0):O&&typeof O=="object"&&(et="POST"),at.length>0&&P.ajax({url:S,type:et||"GET",dataType:"html",data:O}).done(function(wt){nt=arguments,at.html(G?P("<div>").append(P.parseHTML(wt)).find(G):wt)}).always(j&&function(wt,Bt){at.each(function(){j.apply(this,nt||[wt.responseText,Bt,wt])})}),this},P.expr.pseudos.animated=function(S){return P.grep(P.timers,function(O){return S===O.elem}).length},P.offset={setOffset:function(S,O,j){var G,et,nt,at,kt,wt,Bt,Ht=P.css(S,"position"),$t=P(S),Rt={};Ht==="static"&&(S.style.position="relative"),kt=$t.offset(),nt=P.css(S,"top"),wt=P.css(S,"left"),Bt=(Ht==="absolute"||Ht==="fixed")&&(nt+wt).indexOf("auto")>-1,Bt?(G=$t.position(),at=G.top,et=G.left):(at=parseFloat(nt)||0,et=parseFloat(wt)||0),x(O)&&(O=O.call(S,j,P.extend({},kt))),O.top!=null&&(Rt.top=O.top-kt.top+at),O.left!=null&&(Rt.left=O.left-kt.left+et),"using"in O?O.using.call(S,Rt):$t.css(Rt)}},P.fn.extend({offset:function(S){if(arguments.length)return S===void 0?this:this.each(function(et){P.offset.setOffset(this,S,et)});var O,j,G=this[0];if(G)return G.getClientRects().length?(O=G.getBoundingClientRect(),j=G.ownerDocument.defaultView,{top:O.top+j.pageYOffset,left:O.left+j.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var S,O,j,G=this[0],et={top:0,left:0};if(P.css(G,"position")==="fixed")O=G.getBoundingClientRect();else{for(O=this.offset(),j=G.ownerDocument,S=G.offsetParent||j.documentElement;S&&(S===j.body||S===j.documentElement)&&P.css(S,"position")==="static";)S=S.parentNode;S&&S!==G&&S.nodeType===1&&(et=P(S).offset(),et.top+=P.css(S,"borderTopWidth",!0),et.left+=P.css(S,"borderLeftWidth",!0))}return{top:O.top-et.top-P.css(G,"marginTop",!0),left:O.left-et.left-P.css(G,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var S=this.offsetParent;S&&P.css(S,"position")==="static";)S=S.offsetParent;return S||jr})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(S,O){var j=O==="pageYOffset";P.fn[S]=function(G){return Hn(this,function(et,nt,at){var kt;if(I(et)?kt=et:et.nodeType===9&&(kt=et.defaultView),at===void 0)return kt?kt[O]:et[nt];kt?kt.scrollTo(j?kt.pageXOffset:at,j?at:kt.pageYOffset):et[nt]=at},S,G,arguments.length)}}),P.each(["top","left"],function(S,O){P.cssHooks[O]=Qa(y.pixelPosition,function(j,G){if(G)return G=Rs(j,O),fs.test(G)?P(j).position()[O]+"px":G})}),P.each({Height:"height",Width:"width"},function(S,O){P.each({padding:"inner"+S,content:O,"":"outer"+S},function(j,G){P.fn[G]=function(et,nt){var at=arguments.length&&(j||typeof et!="boolean"),kt=j||(et===!0||nt===!0?"margin":"border");return Hn(this,function(wt,Bt,Ht){var $t;return I(wt)?G.indexOf("outer")===0?wt["inner"+S]:wt.document.documentElement["client"+S]:wt.nodeType===9?($t=wt.documentElement,Math.max(wt.body["scroll"+S],$t["scroll"+S],wt.body["offset"+S],$t["offset"+S],$t["client"+S])):Ht===void 0?P.css(wt,Bt,kt):P.style(wt,Bt,Ht,kt)},O,at?et:void 0,at)}})}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(S,O){P.fn[O]=function(j){return this.on(O,j)}}),P.fn.extend({bind:function(S,O,j){return this.on(S,null,O,j)},unbind:function(S,O){return this.off(S,null,O)},delegate:function(S,O,j,G){return this.on(O,S,j,G)},undelegate:function(S,O,j){return arguments.length===1?this.off(S,"**"):this.off(O,S||"**",j)},hover:function(S,O){return this.on("mouseenter",S).on("mouseleave",O||S)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(S,O){P.fn[O]=function(j,G){return arguments.length>0?this.on(O,null,j,G):this.trigger(O)}});var cd=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(S,O){var j,G,et;if(typeof O=="string"&&(j=S[O],O=S,S=j),!!x(S))return G=a.call(arguments,2),et=function(){return S.apply(O||this,G.concat(a.call(arguments)))},et.guid=S.guid=S.guid||P.guid++,et},P.holdReady=function(S){S?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=J,P.isFunction=x,P.isWindow=I,P.camelCase=xn,P.type=V,P.now=Date.now,P.isNumeric=function(S){var O=P.type(S);return(O==="number"||O==="string")&&!isNaN(S-parseFloat(S))},P.trim=function(S){return S==null?"":(S+"").replace(cd,"$1")};var Nu=t.jQuery,dd=t.$;return P.noConflict=function(S){return t.$===P&&(t.$=dd),S&&t.jQuery===P&&(t.jQuery=Nu),P},typeof e>"u"&&(t.jQuery=t.$=P),P})}(MC)),MC.exports}var NX=D5();const xo=Px(NX);var la="top",Tl="bottom",Il="right",ca="left",Fx="auto",bw=[la,Tl,Il,ca],xg="start",rw="end",M5="clippingParents",ZD="viewport",Dm="popper",L5="reference",FT=bw.reduce(function(r,t){return r.concat([t+"-"+xg,t+"-"+rw])},[]),JD=[].concat(bw,[Fx]).reduce(function(r,t){return r.concat([t,t+"-"+xg,t+"-"+rw])},[]),P5="beforeRead",F5="read",O5="afterRead",N5="beforeMain",R5="main",U5="afterMain",Q5="beforeWrite",H5="write",z5="afterWrite",j5=[P5,F5,O5,N5,R5,U5,Q5,H5,z5];function Jd(r){return r?(r.nodeName||"").toLowerCase():null}function Dl(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var t=r.ownerDocument;return t&&t.defaultView||window}return r}function Bg(r){var t=Dl(r).Element;return r instanceof t||r instanceof Element}function fc(r){var t=Dl(r).HTMLElement;return r instanceof t||r instanceof HTMLElement}function tM(r){if(typeof ShadowRoot>"u")return!1;var t=Dl(r).ShadowRoot;return r instanceof t||r instanceof ShadowRoot}function RX(r){var t=r.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},o=t.attributes[e]||{},a=t.elements[e];!fc(a)||!Jd(a)||(Object.assign(a.style,i),Object.keys(o).forEach(function(c){var d=o[c];d===!1?a.removeAttribute(c):a.setAttribute(c,d===!0?"":d)}))})}function UX(r){var t=r.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var o=t.elements[i],a=t.attributes[i]||{},c=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),d=c.reduce(function(h,p){return h[p]="",h},{});!fc(o)||!Jd(o)||(Object.assign(o.style,d),Object.keys(a).forEach(function(h){o.removeAttribute(h)}))})}}const eM={name:"applyStyles",enabled:!0,phase:"write",fn:RX,effect:UX,requires:["computeStyles"]};function Yd(r){return r.split("-")[0]}var mg=Math.max,DE=Math.min,ow=Math.round;function OT(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function V5(){return!/^((?!chrome|android).)*safari/i.test(OT())}function aw(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=r.getBoundingClientRect(),o=1,a=1;t&&fc(r)&&(o=r.offsetWidth>0&&ow(i.width)/r.offsetWidth||1,a=r.offsetHeight>0&&ow(i.height)/r.offsetHeight||1);var c=Bg(r)?Dl(r):window,d=c.visualViewport,h=!V5()&&e,p=(i.left+(h&&d?d.offsetLeft:0))/o,g=(i.top+(h&&d?d.offsetTop:0))/a,w=i.width/o,v=i.height/a;return{width:w,height:v,top:g,right:p+w,bottom:g+v,left:p,x:p,y:g}}function nM(r){var t=aw(r),e=r.offsetWidth,i=r.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:r.offsetLeft,y:r.offsetTop,width:e,height:i}}function K5(r,t){var e=t.getRootNode&&t.getRootNode();if(r.contains(t))return!0;if(e&&tM(e)){var i=t;do{if(i&&r.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Su(r){return Dl(r).getComputedStyle(r)}function QX(r){return["table","td","th"].indexOf(Jd(r))>=0}function ff(r){return((Bg(r)?r.ownerDocument:r.document)||window.document).documentElement}function Ox(r){return Jd(r)==="html"?r:r.assignedSlot||r.parentNode||(tM(r)?r.host:null)||ff(r)}function rU(r){return!fc(r)||Su(r).position==="fixed"?null:r.offsetParent}function HX(r){var t=/firefox/i.test(OT()),e=/Trident/i.test(OT());if(e&&fc(r)){var i=Su(r);if(i.position==="fixed")return null}var o=Ox(r);for(tM(o)&&(o=o.host);fc(o)&&["html","body"].indexOf(Jd(o))<0;){var a=Su(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function i0(r){for(var t=Dl(r),e=rU(r);e&&QX(e)&&Su(e).position==="static";)e=rU(e);return e&&(Jd(e)==="html"||Jd(e)==="body"&&Su(e).position==="static")?t:e||HX(r)||t}function iM(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Jv(r,t,e){return mg(r,DE(t,e))}function zX(r,t,e){var i=Jv(r,t,e);return i>e?e:i}function G5(){return{top:0,right:0,bottom:0,left:0}}function W5(r){return Object.assign({},G5(),r)}function $5(r,t){return t.reduce(function(e,i){return e[i]=r,e},{})}var jX=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,W5(typeof t!="number"?t:$5(t,bw))};function VX(r){var t,e=r.state,i=r.name,o=r.options,a=e.elements.arrow,c=e.modifiersData.popperOffsets,d=Yd(e.placement),h=iM(d),p=[ca,Il].indexOf(d)>=0,g=p?"height":"width";if(!(!a||!c)){var w=jX(o.padding,e),v=nM(a),k=h==="y"?la:ca,y=h==="y"?Tl:Il,x=e.rects.reference[g]+e.rects.reference[h]-c[h]-e.rects.popper[g],I=c[h]-e.rects.reference[h],F=i0(a),R=F?h==="y"?F.clientHeight||0:F.clientWidth||0:0,Q=x/2-I/2,V=w[k],W=R-v[g]-w[y],X=R/2-v[g]/2+Q,P=Jv(V,X,W),K=h;e.modifiersData[i]=(t={},t[K]=P,t.centerOffset=P-X,t)}}function KX(r){var t=r.state,e=r.options,i=e.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||K5(t.elements.popper,o)&&(t.elements.arrow=o))}const q5={name:"arrow",enabled:!0,phase:"main",fn:VX,effect:KX,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lw(r){return r.split("-")[1]}var GX={top:"auto",right:"auto",bottom:"auto",left:"auto"};function WX(r,t){var e=r.x,i=r.y,o=t.devicePixelRatio||1;return{x:ow(e*o)/o||0,y:ow(i*o)/o||0}}function oU(r){var t,e=r.popper,i=r.popperRect,o=r.placement,a=r.variation,c=r.offsets,d=r.position,h=r.gpuAcceleration,p=r.adaptive,g=r.roundOffsets,w=r.isFixed,v=c.x,k=v===void 0?0:v,y=c.y,x=y===void 0?0:y,I=typeof g=="function"?g({x:k,y:x}):{x:k,y:x};k=I.x,x=I.y;var F=c.hasOwnProperty("x"),R=c.hasOwnProperty("y"),Q=ca,V=la,W=window;if(p){var X=i0(e),P="clientHeight",K="clientWidth";if(X===Dl(e)&&(X=ff(e),Su(X).position!=="static"&&d==="absolute"&&(P="scrollHeight",K="scrollWidth")),X=X,o===la||(o===ca||o===Il)&&a===rw){V=Tl;var J=w&&X===W&&W.visualViewport?W.visualViewport.height:X[P];x-=J-i.height,x*=h?1:-1}if(o===ca||(o===la||o===Tl)&&a===rw){Q=Il;var rt=w&&X===W&&W.visualViewport?W.visualViewport.width:X[K];k-=rt-i.width,k*=h?1:-1}}var dt=Object.assign({position:d},p&&GX),ht=g===!0?WX({x:k,y:x},Dl(e)):{x:k,y:x};if(k=ht.x,x=ht.y,h){var ut;return Object.assign({},dt,(ut={},ut[V]=R?"0":"",ut[Q]=F?"0":"",ut.transform=(W.devicePixelRatio||1)<=1?"translate("+k+"px, "+x+"px)":"translate3d("+k+"px, "+x+"px, 0)",ut))}return Object.assign({},dt,(t={},t[V]=R?x+"px":"",t[Q]=F?k+"px":"",t.transform="",t))}function $X(r){var t=r.state,e=r.options,i=e.gpuAcceleration,o=i===void 0?!0:i,a=e.adaptive,c=a===void 0?!0:a,d=e.roundOffsets,h=d===void 0?!0:d,p={placement:Yd(t.placement),variation:lw(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,oU(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:h})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,oU(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const sM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$X,data:{}};var ky={passive:!0};function qX(r){var t=r.state,e=r.instance,i=r.options,o=i.scroll,a=o===void 0?!0:o,c=i.resize,d=c===void 0?!0:c,h=Dl(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",e.update,ky)}),d&&h.addEventListener("resize",e.update,ky),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",e.update,ky)}),d&&h.removeEventListener("resize",e.update,ky)}}const rM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qX,data:{}};var YX={left:"right",right:"left",bottom:"top",top:"bottom"};function LC(r){return r.replace(/left|right|bottom|top/g,function(t){return YX[t]})}var XX={start:"end",end:"start"};function aU(r){return r.replace(/start|end/g,function(t){return XX[t]})}function oM(r){var t=Dl(r),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function aM(r){return aw(ff(r)).left+oM(r).scrollLeft}function ZX(r,t){var e=Dl(r),i=ff(r),o=e.visualViewport,a=i.clientWidth,c=i.clientHeight,d=0,h=0;if(o){a=o.width,c=o.height;var p=V5();(p||!p&&t==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}return{width:a,height:c,x:d+aM(r),y:h}}function JX(r){var t,e=ff(r),i=oM(r),o=(t=r.ownerDocument)==null?void 0:t.body,a=mg(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),c=mg(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),d=-i.scrollLeft+aM(r),h=-i.scrollTop;return Su(o||e).direction==="rtl"&&(d+=mg(e.clientWidth,o?o.clientWidth:0)-a),{width:a,height:c,x:d,y:h}}function lM(r){var t=Su(r),e=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+o+i)}function Y5(r){return["html","body","#document"].indexOf(Jd(r))>=0?r.ownerDocument.body:fc(r)&&lM(r)?r:Y5(Ox(r))}function t_(r,t){var e;t===void 0&&(t=[]);var i=Y5(r),o=i===((e=r.ownerDocument)==null?void 0:e.body),a=Dl(i),c=o?[a].concat(a.visualViewport||[],lM(i)?i:[]):i,d=t.concat(c);return o?d:d.concat(t_(Ox(c)))}function NT(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function tZ(r,t){var e=aw(r,!1,t==="fixed");return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function lU(r,t,e){return t===ZD?NT(ZX(r,e)):Bg(t)?tZ(t,e):NT(JX(ff(r)))}function eZ(r){var t=t_(Ox(r)),e=["absolute","fixed"].indexOf(Su(r).position)>=0,i=e&&fc(r)?i0(r):r;return Bg(i)?t.filter(function(o){return Bg(o)&&K5(o,i)&&Jd(o)!=="body"}):[]}function nZ(r,t,e,i){var o=t==="clippingParents"?eZ(r):[].concat(t),a=[].concat(o,[e]),c=a[0],d=a.reduce(function(h,p){var g=lU(r,p,i);return h.top=mg(g.top,h.top),h.right=DE(g.right,h.right),h.bottom=DE(g.bottom,h.bottom),h.left=mg(g.left,h.left),h},lU(r,c,i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function X5(r){var t=r.reference,e=r.element,i=r.placement,o=i?Yd(i):null,a=i?lw(i):null,c=t.x+t.width/2-e.width/2,d=t.y+t.height/2-e.height/2,h;switch(o){case la:h={x:c,y:t.y-e.height};break;case Tl:h={x:c,y:t.y+t.height};break;case Il:h={x:t.x+t.width,y:d};break;case ca:h={x:t.x-e.width,y:d};break;default:h={x:t.x,y:t.y}}var p=o?iM(o):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case xg:h[p]=h[p]-(t[g]/2-e[g]/2);break;case rw:h[p]=h[p]+(t[g]/2-e[g]/2);break}}return h}function cw(r,t){t===void 0&&(t={});var e=t,i=e.placement,o=i===void 0?r.placement:i,a=e.strategy,c=a===void 0?r.strategy:a,d=e.boundary,h=d===void 0?M5:d,p=e.rootBoundary,g=p===void 0?ZD:p,w=e.elementContext,v=w===void 0?Dm:w,k=e.altBoundary,y=k===void 0?!1:k,x=e.padding,I=x===void 0?0:x,F=W5(typeof I!="number"?I:$5(I,bw)),R=v===Dm?L5:Dm,Q=r.rects.popper,V=r.elements[y?R:v],W=nZ(Bg(V)?V:V.contextElement||ff(r.elements.popper),h,g,c),X=aw(r.elements.reference),P=X5({reference:X,element:Q,placement:o}),K=NT(Object.assign({},Q,P)),J=v===Dm?K:X,rt={top:W.top-J.top+F.top,bottom:J.bottom-W.bottom+F.bottom,left:W.left-J.left+F.left,right:J.right-W.right+F.right},dt=r.modifiersData.offset;if(v===Dm&&dt){var ht=dt[o];Object.keys(rt).forEach(function(ut){var mt=[Il,Tl].indexOf(ut)>=0?1:-1,St=[la,Tl].indexOf(ut)>=0?"y":"x";rt[ut]+=ht[St]*mt})}return rt}function iZ(r,t){t===void 0&&(t={});var e=t,i=e.placement,o=e.boundary,a=e.rootBoundary,c=e.padding,d=e.flipVariations,h=e.allowedAutoPlacements,p=h===void 0?JD:h,g=lw(i),w=g?d?FT:FT.filter(function(y){return lw(y)===g}):bw,v=w.filter(function(y){return p.indexOf(y)>=0});v.length===0&&(v=w);var k=v.reduce(function(y,x){return y[x]=cw(r,{placement:x,boundary:o,rootBoundary:a,padding:c})[Yd(x)],y},{});return Object.keys(k).sort(function(y,x){return k[y]-k[x]})}function sZ(r){if(Yd(r)===Fx)return[];var t=LC(r);return[aU(r),t,aU(t)]}function rZ(r){var t=r.state,e=r.options,i=r.name;if(!t.modifiersData[i]._skip){for(var o=e.mainAxis,a=o===void 0?!0:o,c=e.altAxis,d=c===void 0?!0:c,h=e.fallbackPlacements,p=e.padding,g=e.boundary,w=e.rootBoundary,v=e.altBoundary,k=e.flipVariations,y=k===void 0?!0:k,x=e.allowedAutoPlacements,I=t.options.placement,F=Yd(I),R=F===I,Q=h||(R||!y?[LC(I)]:sZ(I)),V=[I].concat(Q).reduce(function(le,Lt){return le.concat(Yd(Lt)===Fx?iZ(t,{placement:Lt,boundary:g,rootBoundary:w,padding:p,flipVariations:y,allowedAutoPlacements:x}):Lt)},[]),W=t.rects.reference,X=t.rects.popper,P=new Map,K=!0,J=V[0],rt=0;rt<V.length;rt++){var dt=V[rt],ht=Yd(dt),ut=lw(dt)===xg,mt=[la,Tl].indexOf(ht)>=0,St=mt?"width":"height",vt=cw(t,{placement:dt,boundary:g,rootBoundary:w,altBoundary:v,padding:p}),pt=mt?ut?Il:ca:ut?Tl:la;W[St]>X[St]&&(pt=LC(pt));var _t=LC(pt),Dt=[];if(a&&Dt.push(vt[ht]<=0),d&&Dt.push(vt[pt]<=0,vt[_t]<=0),Dt.every(function(le){return le})){J=dt,K=!1;break}P.set(dt,Dt)}if(K)for(var yt=y?3:1,se=function(Lt){var Tt=V.find(function(Pt){var jt=P.get(Pt);if(jt)return jt.slice(0,Lt).every(function(Ne){return Ne})});if(Tt)return J=Tt,"break"},oe=yt;oe>0;oe--){var ie=se(oe);if(ie==="break")break}t.placement!==J&&(t.modifiersData[i]._skip=!0,t.placement=J,t.reset=!0)}}const Z5={name:"flip",enabled:!0,phase:"main",fn:rZ,requiresIfExists:["offset"],data:{_skip:!1}};function cU(r,t,e){return e===void 0&&(e={x:0,y:0}),{top:r.top-t.height-e.y,right:r.right-t.width+e.x,bottom:r.bottom-t.height+e.y,left:r.left-t.width-e.x}}function dU(r){return[la,Il,Tl,ca].some(function(t){return r[t]>=0})}function oZ(r){var t=r.state,e=r.name,i=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,c=cw(t,{elementContext:"reference"}),d=cw(t,{altBoundary:!0}),h=cU(c,i),p=cU(d,o,a),g=dU(h),w=dU(p);t.modifiersData[e]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:w},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":w})}const J5={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:oZ};function aZ(r,t,e){var i=Yd(r),o=[ca,la].indexOf(i)>=0?-1:1,a=typeof e=="function"?e(Object.assign({},t,{placement:r})):e,c=a[0],d=a[1];return c=c||0,d=(d||0)*o,[ca,Il].indexOf(i)>=0?{x:d,y:c}:{x:c,y:d}}function lZ(r){var t=r.state,e=r.options,i=r.name,o=e.offset,a=o===void 0?[0,0]:o,c=JD.reduce(function(g,w){return g[w]=aZ(w,t.rects,a),g},{}),d=c[t.placement],h=d.x,p=d.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=p),t.modifiersData[i]=c}const tz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lZ};function cZ(r){var t=r.state,e=r.name;t.modifiersData[e]=X5({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const cM={name:"popperOffsets",enabled:!0,phase:"read",fn:cZ,data:{}};function dZ(r){return r==="x"?"y":"x"}function AZ(r){var t=r.state,e=r.options,i=r.name,o=e.mainAxis,a=o===void 0?!0:o,c=e.altAxis,d=c===void 0?!1:c,h=e.boundary,p=e.rootBoundary,g=e.altBoundary,w=e.padding,v=e.tether,k=v===void 0?!0:v,y=e.tetherOffset,x=y===void 0?0:y,I=cw(t,{boundary:h,rootBoundary:p,padding:w,altBoundary:g}),F=Yd(t.placement),R=lw(t.placement),Q=!R,V=iM(F),W=dZ(V),X=t.modifiersData.popperOffsets,P=t.rects.reference,K=t.rects.popper,J=typeof x=="function"?x(Object.assign({},t.rects,{placement:t.placement})):x,rt=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),dt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ht={x:0,y:0};if(X){if(a){var ut,mt=V==="y"?la:ca,St=V==="y"?Tl:Il,vt=V==="y"?"height":"width",pt=X[V],_t=pt+I[mt],Dt=pt-I[St],yt=k?-K[vt]/2:0,se=R===xg?P[vt]:K[vt],oe=R===xg?-K[vt]:-P[vt],ie=t.elements.arrow,le=k&&ie?nM(ie):{width:0,height:0},Lt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:G5(),Tt=Lt[mt],Pt=Lt[St],jt=Jv(0,P[vt],le[vt]),Ne=Q?P[vt]/2-yt-jt-Tt-rt.mainAxis:se-jt-Tt-rt.mainAxis,Ge=Q?-P[vt]/2+yt+jt+Pt+rt.mainAxis:oe+jt+Pt+rt.mainAxis,hn=t.elements.arrow&&i0(t.elements.arrow),Ye=hn?V==="y"?hn.clientTop||0:hn.clientLeft||0:0,Se=(ut=dt==null?void 0:dt[V])!=null?ut:0,ae=pt+Ne-Se-Ye,rn=pt+Ge-Se,Rn=Jv(k?DE(_t,ae):_t,pt,k?mg(Dt,rn):Dt);X[V]=Rn,ht[V]=Rn-pt}if(d){var Le,Hn=V==="x"?la:ca,$s=V==="x"?Tl:Il,rs=X[W],vs=W==="y"?"height":"width",xn=rs+I[Hn],ti=rs-I[$s],os=[la,ca].indexOf(F)!==-1,fe=(Le=dt==null?void 0:dt[W])!=null?Le:0,vn=os?xn:rs-P[vs]-K[vs]-fe+rt.altAxis,Ii=os?rs+P[vs]+K[vs]-fe-rt.altAxis:ti,Uo=k&&os?zX(vn,rs,Ii):Jv(k?vn:xn,rs,k?Ii:ti);X[W]=Uo,ht[W]=Uo-rs}t.modifiersData[i]=ht}}const ez={name:"preventOverflow",enabled:!0,phase:"main",fn:AZ,requiresIfExists:["offset"]};function uZ(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function hZ(r){return r===Dl(r)||!fc(r)?oM(r):uZ(r)}function fZ(r){var t=r.getBoundingClientRect(),e=ow(t.width)/r.offsetWidth||1,i=ow(t.height)/r.offsetHeight||1;return e!==1||i!==1}function pZ(r,t,e){e===void 0&&(e=!1);var i=fc(t),o=fc(t)&&fZ(t),a=ff(t),c=aw(r,o,e),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(i||!i&&!e)&&((Jd(t)!=="body"||lM(a))&&(d=hZ(t)),fc(t)?(h=aw(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):a&&(h.x=aM(a))),{x:c.left+d.scrollLeft-h.x,y:c.top+d.scrollTop-h.y,width:c.width,height:c.height}}function gZ(r){var t=new Map,e=new Set,i=[];r.forEach(function(a){t.set(a.name,a)});function o(a){e.add(a.name);var c=[].concat(a.requires||[],a.requiresIfExists||[]);c.forEach(function(d){if(!e.has(d)){var h=t.get(d);h&&o(h)}}),i.push(a)}return r.forEach(function(a){e.has(a.name)||o(a)}),i}function mZ(r){var t=gZ(r);return j5.reduce(function(e,i){return e.concat(t.filter(function(o){return o.phase===i}))},[])}function bZ(r){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(r())})})),t}}function wZ(r){var t=r.reduce(function(e,i){var o=e[i.name];return e[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var AU={placement:"bottom",modifiers:[],strategy:"absolute"};function uU(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Nx(r){r===void 0&&(r={});var t=r,e=t.defaultModifiers,i=e===void 0?[]:e,o=t.defaultOptions,a=o===void 0?AU:o;return function(d,h,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},AU,a),modifiersData:{},elements:{reference:d,popper:h},attributes:{},styles:{}},w=[],v=!1,k={state:g,setOptions:function(F){var R=typeof F=="function"?F(g.options):F;x(),g.options=Object.assign({},a,g.options,R),g.scrollParents={reference:Bg(d)?t_(d):d.contextElement?t_(d.contextElement):[],popper:t_(h)};var Q=mZ(wZ([].concat(i,g.options.modifiers)));return g.orderedModifiers=Q.filter(function(V){return V.enabled}),y(),k.update()},forceUpdate:function(){if(!v){var F=g.elements,R=F.reference,Q=F.popper;if(uU(R,Q)){g.rects={reference:pZ(R,i0(Q),g.options.strategy==="fixed"),popper:nM(Q)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(rt){return g.modifiersData[rt.name]=Object.assign({},rt.data)});for(var V=0;V<g.orderedModifiers.length;V++){if(g.reset===!0){g.reset=!1,V=-1;continue}var W=g.orderedModifiers[V],X=W.fn,P=W.options,K=P===void 0?{}:P,J=W.name;typeof X=="function"&&(g=X({state:g,options:K,name:J,instance:k})||g)}}}},update:bZ(function(){return new Promise(function(I){k.forceUpdate(),I(g)})}),destroy:function(){x(),v=!0}};if(!uU(d,h))return k;k.setOptions(p).then(function(I){!v&&p.onFirstUpdate&&p.onFirstUpdate(I)});function y(){g.orderedModifiers.forEach(function(I){var F=I.name,R=I.options,Q=R===void 0?{}:R,V=I.effect;if(typeof V=="function"){var W=V({state:g,name:F,instance:k,options:Q}),X=function(){};w.push(W||X)}})}function x(){w.forEach(function(I){return I()}),w=[]}return k}}var vZ=Nx(),_Z=[rM,cM,sM,eM],kZ=Nx({defaultModifiers:_Z}),yZ=[rM,cM,sM,eM,tz,Z5,ez,q5,J5],dM=Nx({defaultModifiers:yZ});const nz=Object.freeze(Object.defineProperty({__proto__:null,afterMain:U5,afterRead:O5,afterWrite:z5,applyStyles:eM,arrow:q5,auto:Fx,basePlacements:bw,beforeMain:N5,beforeRead:P5,beforeWrite:Q5,bottom:Tl,clippingParents:M5,computeStyles:sM,createPopper:dM,createPopperBase:vZ,createPopperLite:kZ,detectOverflow:cw,end:rw,eventListeners:rM,flip:Z5,hide:J5,left:ca,main:R5,modifierPhases:j5,offset:tz,placements:JD,popper:Dm,popperGenerator:Nx,popperOffsets:cM,preventOverflow:ez,read:F5,reference:L5,right:Il,start:xg,top:la,variationPlacements:FT,viewport:ZD,write:H5},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const nh=new Map,rS={set(r,t,e){nh.has(r)||nh.set(r,new Map);const i=nh.get(r);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,e)},get(r,t){return nh.has(r)&&nh.get(r).get(t)||null},remove(r,t){if(!nh.has(r))return;const e=nh.get(r);e.delete(t),e.size===0&&nh.delete(r)}},CZ=1e6,EZ=1e3,RT="transitionend",iz=r=>(r&&window.CSS&&window.CSS.escape&&(r=r.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),r),xZ=r=>r==null?`${r}`:Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase(),BZ=r=>{do r+=Math.floor(Math.random()*CZ);while(document.getElementById(r));return r},SZ=r=>{if(!r)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(r);const i=Number.parseFloat(t),o=Number.parseFloat(e);return!i&&!o?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*EZ)},sz=r=>{r.dispatchEvent(new Event(RT))},yu=r=>!r||typeof r!="object"?!1:(typeof r.jquery<"u"&&(r=r[0]),typeof r.nodeType<"u"),nf=r=>yu(r)?r.jquery?r[0]:r:typeof r=="string"&&r.length>0?document.querySelector(iz(r)):null,ww=r=>{if(!yu(r)||r.getClientRects().length===0)return!1;const t=getComputedStyle(r).getPropertyValue("visibility")==="visible",e=r.closest("details:not([open])");if(!e)return t;if(e!==r){const i=r.closest("summary");if(i&&i.parentNode!==e||i===null)return!1}return t},sf=r=>!r||r.nodeType!==Node.ELEMENT_NODE||r.classList.contains("disabled")?!0:typeof r.disabled<"u"?r.disabled:r.hasAttribute("disabled")&&r.getAttribute("disabled")!=="false",rz=r=>{if(!document.documentElement.attachShadow)return null;if(typeof r.getRootNode=="function"){const t=r.getRootNode();return t instanceof ShadowRoot?t:null}return r instanceof ShadowRoot?r:r.parentNode?rz(r.parentNode):null},ME=()=>{},s0=r=>{r.offsetHeight},oz=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,oS=[],TZ=r=>{document.readyState==="loading"?(oS.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of oS)t()}),oS.push(r)):r()},gc=()=>document.documentElement.dir==="rtl",wc=r=>{TZ(()=>{const t=oz();if(t){const e=r.NAME,i=t.fn[e];t.fn[e]=r.jQueryInterface,t.fn[e].Constructor=r,t.fn[e].noConflict=()=>(t.fn[e]=i,r.jQueryInterface)}})},Oa=(r,t=[],e=r)=>typeof r=="function"?r.call(...t):e,az=(r,t,e=!0)=>{if(!e){Oa(r);return}const o=SZ(t)+5;let a=!1;const c=({target:d})=>{d===t&&(a=!0,t.removeEventListener(RT,c),Oa(r))};t.addEventListener(RT,c),setTimeout(()=>{a||sz(t)},o)},AM=(r,t,e,i)=>{const o=r.length;let a=r.indexOf(t);return a===-1?!e&&i?r[o-1]:r[0]:(a+=e?1:-1,i&&(a=(a+o)%o),r[Math.max(0,Math.min(a,o-1))])},IZ=/[^.]*(?=\..*)\.|.*/,DZ=/\..*/,MZ=/::\d+$/,aS={};let hU=1;const lz={mouseenter:"mouseover",mouseleave:"mouseout"},LZ=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function cz(r,t){return t&&`${t}::${hU++}`||r.uidEvent||hU++}function dz(r){const t=cz(r);return r.uidEvent=t,aS[t]=aS[t]||{},aS[t]}function PZ(r,t){return function e(i){return uM(i,{delegateTarget:r}),e.oneOff&&ne.off(r,i.type,t),t.apply(r,[i])}}function FZ(r,t,e){return function i(o){const a=r.querySelectorAll(t);for(let{target:c}=o;c&&c!==this;c=c.parentNode)for(const d of a)if(d===c)return uM(o,{delegateTarget:c}),i.oneOff&&ne.off(r,o.type,t,e),e.apply(c,[o])}}function Az(r,t,e=null){return Object.values(r).find(i=>i.callable===t&&i.delegationSelector===e)}function uz(r,t,e){const i=typeof t=="string",o=i?e:t||e;let a=hz(r);return LZ.has(a)||(a=r),[i,o,a]}function fU(r,t,e,i,o){if(typeof t!="string"||!r)return;let[a,c,d]=uz(t,e,i);t in lz&&(c=(y=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return y.call(this,x)})(c));const h=dz(r),p=h[d]||(h[d]={}),g=Az(p,c,a?e:null);if(g){g.oneOff=g.oneOff&&o;return}const w=cz(c,t.replace(IZ,"")),v=a?FZ(r,e,c):PZ(r,c);v.delegationSelector=a?e:null,v.callable=c,v.oneOff=o,v.uidEvent=w,p[w]=v,r.addEventListener(d,v,a)}function UT(r,t,e,i,o){const a=Az(t[e],i,o);a&&(r.removeEventListener(e,a,!!o),delete t[e][a.uidEvent])}function OZ(r,t,e,i){const o=t[e]||{};for(const[a,c]of Object.entries(o))a.includes(i)&&UT(r,t,e,c.callable,c.delegationSelector)}function hz(r){return r=r.replace(DZ,""),lz[r]||r}const ne={on(r,t,e,i){fU(r,t,e,i,!1)},one(r,t,e,i){fU(r,t,e,i,!0)},off(r,t,e,i){if(typeof t!="string"||!r)return;const[o,a,c]=uz(t,e,i),d=c!==t,h=dz(r),p=h[c]||{},g=t.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;UT(r,h,c,a,o?e:null);return}if(g)for(const w of Object.keys(h))OZ(r,h,w,t.slice(1));for(const[w,v]of Object.entries(p)){const k=w.replace(MZ,"");(!d||t.includes(k))&&UT(r,h,c,v.callable,v.delegationSelector)}},trigger(r,t,e){if(typeof t!="string"||!r)return null;const i=oz(),o=hz(t),a=t!==o;let c=null,d=!0,h=!0,p=!1;a&&i&&(c=i.Event(t,e),i(r).trigger(c),d=!c.isPropagationStopped(),h=!c.isImmediatePropagationStopped(),p=c.isDefaultPrevented());const g=uM(new Event(t,{bubbles:d,cancelable:!0}),e);return p&&g.preventDefault(),h&&r.dispatchEvent(g),g.defaultPrevented&&c&&c.preventDefault(),g}};function uM(r,t={}){for(const[e,i]of Object.entries(t))try{r[e]=i}catch{Object.defineProperty(r,e,{configurable:!0,get(){return i}})}return r}function pU(r){if(r==="true")return!0;if(r==="false")return!1;if(r===Number(r).toString())return Number(r);if(r===""||r==="null")return null;if(typeof r!="string")return r;try{return JSON.parse(decodeURIComponent(r))}catch{return r}}function lS(r){return r.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Cu={setDataAttribute(r,t,e){r.setAttribute(`data-bs-${lS(t)}`,e)},removeDataAttribute(r,t){r.removeAttribute(`data-bs-${lS(t)}`)},getDataAttributes(r){if(!r)return{};const t={},e=Object.keys(r.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let o=i.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1),t[o]=pU(r.dataset[i])}return t},getDataAttribute(r,t){return pU(r.getAttribute(`data-bs-${lS(t)}`))}};let r0=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=yu(e)?Cu.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...yu(e)?Cu.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,o]of Object.entries(e)){const a=t[i],c=yu(a)?"element":xZ(a);if(!new RegExp(o).test(c))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${c}" but expected type "${o}".`)}}};const NZ="5.3.6";class Jc extends r0{constructor(t,e){super(),t=nf(t),t&&(this._element=t,this._config=this._getConfig(e),rS.set(this._element,this.constructor.DATA_KEY,this))}dispose(){rS.remove(this._element,this.constructor.DATA_KEY),ne.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){az(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return rS.get(nf(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return NZ}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const cS=r=>{let t=r.getAttribute("data-bs-target");if(!t||t==="#"){let e=r.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>iz(e)).join(","):null},Ue={find(r,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,r))},findOne(r,t=document.documentElement){return Element.prototype.querySelector.call(t,r)},children(r,t){return[].concat(...r.children).filter(e=>e.matches(t))},parents(r,t){const e=[];let i=r.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(r,t){let e=r.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(r,t){let e=r.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(r){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,r).filter(e=>!sf(e)&&ww(e))},getSelectorFromElement(r){const t=cS(r);return t&&Ue.findOne(t)?t:null},getElementFromSelector(r){const t=cS(r);return t?Ue.findOne(t):null},getMultipleElementsFromSelector(r){const t=cS(r);return t?Ue.find(t):[]}},Rx=(r,t="hide")=>{const e=`click.dismiss${r.EVENT_KEY}`,i=r.NAME;ne.on(document,e,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),sf(this))return;const a=Ue.getElementFromSelector(this)||this.closest(`.${i}`);r.getOrCreateInstance(a)[t]()})},RZ="alert",UZ="bs.alert",fz=`.${UZ}`,QZ=`close${fz}`,HZ=`closed${fz}`,zZ="fade",jZ="show";class Ux extends Jc{static get NAME(){return RZ}close(){if(ne.trigger(this._element,QZ).defaultPrevented)return;this._element.classList.remove(jZ);const e=this._element.classList.contains(zZ);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),ne.trigger(this._element,HZ),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Ux.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Rx(Ux,"close");wc(Ux);const VZ="button",KZ="bs.button",GZ=`.${KZ}`,WZ=".data-api",$Z="active",gU='[data-bs-toggle="button"]',qZ=`click${GZ}${WZ}`;class Qx extends Jc{static get NAME(){return VZ}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle($Z))}static jQueryInterface(t){return this.each(function(){const e=Qx.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}ne.on(document,qZ,gU,r=>{r.preventDefault();const t=r.target.closest(gU);Qx.getOrCreateInstance(t).toggle()});wc(Qx);const YZ="swipe",vw=".bs.swipe",XZ=`touchstart${vw}`,ZZ=`touchmove${vw}`,JZ=`touchend${vw}`,tJ=`pointerdown${vw}`,eJ=`pointerup${vw}`,nJ="touch",iJ="pen",sJ="pointer-event",rJ=40,oJ={endCallback:null,leftCallback:null,rightCallback:null},aJ={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class LE extends r0{constructor(t,e){super(),this._element=t,!(!t||!LE.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return oJ}static get DefaultType(){return aJ}static get NAME(){return YZ}dispose(){ne.off(this._element,vw)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Oa(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=rJ)return;const e=t/this._deltaX;this._deltaX=0,e&&Oa(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ne.on(this._element,tJ,t=>this._start(t)),ne.on(this._element,eJ,t=>this._end(t)),this._element.classList.add(sJ)):(ne.on(this._element,XZ,t=>this._start(t)),ne.on(this._element,ZZ,t=>this._move(t)),ne.on(this._element,JZ,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===iJ||t.pointerType===nJ)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const lJ="carousel",cJ="bs.carousel",pf=`.${cJ}`,pz=".data-api",dJ="ArrowLeft",AJ="ArrowRight",uJ=500,tv="next",pm="prev",Mm="left",PC="right",hJ=`slide${pf}`,dS=`slid${pf}`,fJ=`keydown${pf}`,pJ=`mouseenter${pf}`,gJ=`mouseleave${pf}`,mJ=`dragstart${pf}`,bJ=`load${pf}${pz}`,wJ=`click${pf}${pz}`,gz="carousel",yy="active",vJ="slide",_J="carousel-item-end",kJ="carousel-item-start",yJ="carousel-item-next",CJ="carousel-item-prev",mz=".active",bz=".carousel-item",EJ=mz+bz,xJ=".carousel-item img",BJ=".carousel-indicators",SJ="[data-bs-slide], [data-bs-slide-to]",TJ='[data-bs-ride="carousel"]',IJ={[dJ]:PC,[AJ]:Mm},DJ={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},MJ={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class o0 extends Jc{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ue.findOne(BJ,this._element),this._addEventListeners(),this._config.ride===gz&&this.cycle()}static get Default(){return DJ}static get DefaultType(){return MJ}static get NAME(){return lJ}next(){this._slide(tv)}nextWhenVisible(){!document.hidden&&ww(this._element)&&this.next()}prev(){this._slide(pm)}pause(){this._isSliding&&sz(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ne.one(this._element,dS,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){ne.one(this._element,dS,()=>this.to(t));return}const i=this._getItemIndex(this._getActive());if(i===t)return;const o=t>i?tv:pm;this._slide(o,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&ne.on(this._element,fJ,t=>this._keydown(t)),this._config.pause==="hover"&&(ne.on(this._element,pJ,()=>this.pause()),ne.on(this._element,gJ,()=>this._maybeEnableCycle())),this._config.touch&&LE.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Ue.find(xJ,this._element))ne.on(i,mJ,o=>o.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(Mm)),rightCallback:()=>this._slide(this._directionToOrder(PC)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),uJ+this._config.interval))}};this._swipeHelper=new LE(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=IJ[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Ue.findOne(mz,this._indicatorsElement);e.classList.remove(yy),e.removeAttribute("aria-current");const i=Ue.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(yy),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),o=t===tv,a=e||AM(this._getItems(),i,o,this._config.wrap);if(a===i)return;const c=this._getItemIndex(a),d=k=>ne.trigger(this._element,k,{relatedTarget:a,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:c});if(d(hJ).defaultPrevented||!i||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(c),this._activeElement=a;const g=o?kJ:_J,w=o?yJ:CJ;a.classList.add(w),s0(a),i.classList.add(g),a.classList.add(g);const v=()=>{a.classList.remove(g,w),a.classList.add(yy),i.classList.remove(yy,w,g),this._isSliding=!1,d(dS)};this._queueCallback(v,i,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(vJ)}_getActive(){return Ue.findOne(EJ,this._element)}_getItems(){return Ue.find(bz,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return gc()?t===Mm?pm:tv:t===Mm?tv:pm}_orderToDirection(t){return gc()?t===pm?Mm:PC:t===pm?PC:Mm}static jQueryInterface(t){return this.each(function(){const e=o0.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}ne.on(document,wJ,SJ,function(r){const t=Ue.getElementFromSelector(this);if(!t||!t.classList.contains(gz))return;r.preventDefault();const e=o0.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){e.to(i),e._maybeEnableCycle();return}if(Cu.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});ne.on(window,bJ,()=>{const r=Ue.find(TJ);for(const t of r)o0.getOrCreateInstance(t)});wc(o0);const LJ="collapse",PJ="bs.collapse",a0=`.${PJ}`,FJ=".data-api",OJ=`show${a0}`,NJ=`shown${a0}`,RJ=`hide${a0}`,UJ=`hidden${a0}`,QJ=`click${a0}${FJ}`,AS="show",Vm="collapse",Cy="collapsing",HJ="collapsed",zJ=`:scope .${Vm} .${Vm}`,jJ="collapse-horizontal",VJ="width",KJ="height",GJ=".collapse.show, .collapse.collapsing",QT='[data-bs-toggle="collapse"]',WJ={parent:null,toggle:!0},$J={parent:"(null|element)",toggle:"boolean"};class f_ extends Jc{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=Ue.find(QT);for(const o of i){const a=Ue.getSelectorFromElement(o),c=Ue.find(a).filter(d=>d===this._element);a!==null&&c.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return WJ}static get DefaultType(){return $J}static get NAME(){return LJ}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(GJ).filter(d=>d!==this._element).map(d=>f_.getOrCreateInstance(d,{toggle:!1}))),t.length&&t[0]._isTransitioning||ne.trigger(this._element,OJ).defaultPrevented)return;for(const d of t)d.hide();const i=this._getDimension();this._element.classList.remove(Vm),this._element.classList.add(Cy),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Cy),this._element.classList.add(Vm,AS),this._element.style[i]="",ne.trigger(this._element,NJ)},c=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown()||ne.trigger(this._element,RJ).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,s0(this._element),this._element.classList.add(Cy),this._element.classList.remove(Vm,AS);for(const o of this._triggerArray){const a=Ue.getElementFromSelector(o);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Cy),this._element.classList.add(Vm),ne.trigger(this._element,UJ)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(AS)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=nf(t.parent),t}_getDimension(){return this._element.classList.contains(jJ)?VJ:KJ}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(QT);for(const e of t){const i=Ue.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=Ue.find(zJ,this._config.parent);return Ue.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle(HJ,!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=f_.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}ne.on(document,QJ,QT,function(r){(r.target.tagName==="A"||r.delegateTarget&&r.delegateTarget.tagName==="A")&&r.preventDefault();for(const t of Ue.getMultipleElementsFromSelector(this))f_.getOrCreateInstance(t,{toggle:!1}).toggle()});wc(f_);const mU="dropdown",qJ="bs.dropdown",Pg=`.${qJ}`,hM=".data-api",YJ="Escape",bU="Tab",XJ="ArrowUp",wU="ArrowDown",ZJ=2,JJ=`hide${Pg}`,ttt=`hidden${Pg}`,ett=`show${Pg}`,ntt=`shown${Pg}`,wz=`click${Pg}${hM}`,vz=`keydown${Pg}${hM}`,itt=`keyup${Pg}${hM}`,Lm="show",stt="dropup",rtt="dropend",ott="dropstart",att="dropup-center",ltt="dropdown-center",ap='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ctt=`${ap}.${Lm}`,FC=".dropdown-menu",dtt=".navbar",Att=".navbar-nav",utt=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",htt=gc()?"top-end":"top-start",ftt=gc()?"top-start":"top-end",ptt=gc()?"bottom-end":"bottom-start",gtt=gc()?"bottom-start":"bottom-end",mtt=gc()?"left-start":"right-start",btt=gc()?"right-start":"left-start",wtt="top",vtt="bottom",_tt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ktt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Xd extends Jc{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Ue.next(this._element,FC)[0]||Ue.prev(this._element,FC)[0]||Ue.findOne(FC,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _tt}static get DefaultType(){return ktt}static get NAME(){return mU}toggle(){return this._isShown()?this.hide():this.show()}show(){if(sf(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!ne.trigger(this._element,ett,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Att))for(const i of[].concat(...document.body.children))ne.on(i,"mouseover",ME);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Lm),this._element.classList.add(Lm),ne.trigger(this._element,ntt,t)}}hide(){if(sf(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!ne.trigger(this._element,JJ,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ne.off(i,"mouseover",ME);this._popper&&this._popper.destroy(),this._menu.classList.remove(Lm),this._element.classList.remove(Lm),this._element.setAttribute("aria-expanded","false"),Cu.removeDataAttribute(this._menu,"popper"),ne.trigger(this._element,ttt,t),this._element.focus()}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!yu(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${mU.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof nz>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:yu(this._config.reference)?t=nf(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=dM(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Lm)}_getPlacement(){const t=this._parent;if(t.classList.contains(rtt))return mtt;if(t.classList.contains(ott))return btt;if(t.classList.contains(att))return wtt;if(t.classList.contains(ltt))return vtt;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(stt)?e?ftt:htt:e?gtt:ptt}_detectNavbar(){return this._element.closest(dtt)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Cu.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Oa(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:e}){const i=Ue.find(utt,this._menu).filter(o=>ww(o));i.length&&AM(i,e,t===wU,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Xd.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===ZJ||t.type==="keyup"&&t.key!==bU)return;const e=Ue.find(ctt);for(const i of e){const o=Xd.getInstance(i);if(!o||o._config.autoClose===!1)continue;const a=t.composedPath(),c=a.includes(o._menu);if(a.includes(o._element)||o._config.autoClose==="inside"&&!c||o._config.autoClose==="outside"&&c||o._menu.contains(t.target)&&(t.type==="keyup"&&t.key===bU||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const d={relatedTarget:o._element};t.type==="click"&&(d.clickEvent=t),o._completeHide(d)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=t.key===YJ,o=[XJ,wU].includes(t.key);if(!o&&!i||e&&!i)return;t.preventDefault();const a=this.matches(ap)?this:Ue.prev(this,ap)[0]||Ue.next(this,ap)[0]||Ue.findOne(ap,t.delegateTarget.parentNode),c=Xd.getOrCreateInstance(a);if(o){t.stopPropagation(),c.show(),c._selectMenuItem(t);return}c._isShown()&&(t.stopPropagation(),c.hide(),a.focus())}}ne.on(document,vz,ap,Xd.dataApiKeydownHandler);ne.on(document,vz,FC,Xd.dataApiKeydownHandler);ne.on(document,wz,Xd.clearMenus);ne.on(document,itt,Xd.clearMenus);ne.on(document,wz,ap,function(r){r.preventDefault(),Xd.getOrCreateInstance(this).toggle()});wc(Xd);const _z="backdrop",ytt="fade",vU="show",_U=`mousedown.bs.${_z}`,Ctt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ett={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class kz extends r0{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Ctt}static get DefaultType(){return Ett}static get NAME(){return _z}show(t){if(!this._config.isVisible){Oa(t);return}this._append();const e=this._getElement();this._config.isAnimated&&s0(e),e.classList.add(vU),this._emulateAnimation(()=>{Oa(t)})}hide(t){if(!this._config.isVisible){Oa(t);return}this._getElement().classList.remove(vU),this._emulateAnimation(()=>{this.dispose(),Oa(t)})}dispose(){this._isAppended&&(ne.off(this._element,_U),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(ytt),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=nf(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),ne.on(t,_U,()=>{Oa(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){az(t,this._getElement(),this._config.isAnimated)}}const xtt="focustrap",Btt="bs.focustrap",PE=`.${Btt}`,Stt=`focusin${PE}`,Ttt=`keydown.tab${PE}`,Itt="Tab",Dtt="forward",kU="backward",Mtt={autofocus:!0,trapElement:null},Ltt={autofocus:"boolean",trapElement:"element"};class yz extends r0{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Mtt}static get DefaultType(){return Ltt}static get NAME(){return xtt}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ne.off(document,PE),ne.on(document,Stt,t=>this._handleFocusin(t)),ne.on(document,Ttt,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ne.off(document,PE))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=Ue.focusableChildren(e);i.length===0?e.focus():this._lastTabNavDirection===kU?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===Itt&&(this._lastTabNavDirection=t.shiftKey?kU:Dtt)}}const yU=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",CU=".sticky-top",Ey="padding-right",EU="margin-right";class HT{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ey,e=>e+t),this._setElementAttributes(yU,Ey,e=>e+t),this._setElementAttributes(CU,EU,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ey),this._resetElementAttributes(yU,Ey),this._resetElementAttributes(CU,EU)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const o=this.getWidth(),a=c=>{if(c!==this._element&&window.innerWidth>c.clientWidth+o)return;this._saveInitialAttribute(c,e);const d=window.getComputedStyle(c).getPropertyValue(e);c.style.setProperty(e,`${i(Number.parseFloat(d))}px`)};this._applyManipulationCallback(t,a)}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&Cu.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){const i=o=>{const a=Cu.getDataAttribute(o,e);if(a===null){o.style.removeProperty(e);return}Cu.removeDataAttribute(o,e),o.style.setProperty(e,a)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,e){if(yu(t)){e(t);return}for(const i of Ue.find(t,this._element))e(i)}}const Ptt="modal",Ftt="bs.modal",mc=`.${Ftt}`,Ott=".data-api",Ntt="Escape",Rtt=`hide${mc}`,Utt=`hidePrevented${mc}`,Cz=`hidden${mc}`,Ez=`show${mc}`,Qtt=`shown${mc}`,Htt=`resize${mc}`,ztt=`click.dismiss${mc}`,jtt=`mousedown.dismiss${mc}`,Vtt=`keydown.dismiss${mc}`,Ktt=`click${mc}${Ott}`,xU="modal-open",Gtt="fade",BU="show",uS="modal-static",Wtt=".modal.show",$tt=".modal-dialog",qtt=".modal-body",Ytt='[data-bs-toggle="modal"]',Xtt={backdrop:!0,focus:!0,keyboard:!0},Ztt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class dw extends Jc{constructor(t,e){super(t,e),this._dialog=Ue.findOne($tt,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new HT,this._addEventListeners()}static get Default(){return Xtt}static get DefaultType(){return Ztt}static get NAME(){return Ptt}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||ne.trigger(this._element,Ez,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xU),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||ne.trigger(this._element,Rtt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(BU),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ne.off(window,mc),ne.off(this._dialog,mc),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new kz({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yz({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Ue.findOne(qtt,this._dialog);e&&(e.scrollTop=0),s0(this._element),this._element.classList.add(BU);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ne.trigger(this._element,Qtt,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){ne.on(this._element,Vtt,t=>{if(t.key===Ntt){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ne.on(window,Htt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ne.on(this._element,jtt,t=>{ne.one(this._element,ztt,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(xU),this._resetAdjustments(),this._scrollBar.reset(),ne.trigger(this._element,Cz)})}_isAnimated(){return this._element.classList.contains(Gtt)}_triggerBackdropTransition(){if(ne.trigger(this._element,Utt).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(uS)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(uS),this._queueCallback(()=>{this._element.classList.remove(uS),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const o=gc()?"paddingLeft":"paddingRight";this._element.style[o]=`${e}px`}if(!i&&t){const o=gc()?"paddingRight":"paddingLeft";this._element.style[o]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=dw.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](e)}})}}ne.on(document,Ktt,Ytt,function(r){const t=Ue.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&r.preventDefault(),ne.one(t,Ez,o=>{o.defaultPrevented||ne.one(t,Cz,()=>{ww(this)&&this.focus()})});const e=Ue.findOne(Wtt);e&&dw.getInstance(e).hide(),dw.getOrCreateInstance(t).toggle(this)});Rx(dw);wc(dw);const Jtt="offcanvas",tet="bs.offcanvas",Lu=`.${tet}`,xz=".data-api",eet=`load${Lu}${xz}`,net="Escape",SU="show",TU="showing",IU="hiding",iet="offcanvas-backdrop",Bz=".offcanvas.show",set=`show${Lu}`,ret=`shown${Lu}`,oet=`hide${Lu}`,DU=`hidePrevented${Lu}`,Sz=`hidden${Lu}`,aet=`resize${Lu}`,cet=`click${Lu}${xz}`,det=`keydown.dismiss${Lu}`,Aet='[data-bs-toggle="offcanvas"]',uet={backdrop:!0,keyboard:!0,scroll:!1},het={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class rf extends Jc{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return uet}static get DefaultType(){return het}static get NAME(){return Jtt}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||ne.trigger(this._element,set,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new HT().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(TU);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(SU),this._element.classList.remove(TU),ne.trigger(this._element,ret,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||ne.trigger(this._element,oet).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(IU),this._backdrop.hide();const e=()=>{this._element.classList.remove(SU,IU),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new HT().reset(),ne.trigger(this._element,Sz)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){ne.trigger(this._element,DU);return}this.hide()},e=!!this._config.backdrop;return new kz({className:iet,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new yz({trapElement:this._element})}_addEventListeners(){ne.on(this._element,det,t=>{if(t.key===net){if(this._config.keyboard){this.hide();return}ne.trigger(this._element,DU)}})}static jQueryInterface(t){return this.each(function(){const e=rf.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}ne.on(document,cet,Aet,function(r){const t=Ue.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),sf(this))return;ne.one(t,Sz,()=>{ww(this)&&this.focus()});const e=Ue.findOne(Bz);e&&e!==t&&rf.getInstance(e).hide(),rf.getOrCreateInstance(t).toggle(this)});ne.on(window,eet,()=>{for(const r of Ue.find(Bz))rf.getOrCreateInstance(r).show()});ne.on(window,aet,()=>{for(const r of Ue.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(r).position!=="fixed"&&rf.getOrCreateInstance(r).hide()});Rx(rf);wc(rf);const fet=/^aria-[\w-]*$/i,Tz={"*":["class","dir","id","lang","role",fet],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},pet=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),get=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,met=(r,t)=>{const e=r.nodeName.toLowerCase();return t.includes(e)?pet.has(e)?!!get.test(r.nodeValue):!0:t.filter(i=>i instanceof RegExp).some(i=>i.test(e))};function bet(r,t,e){if(!r.length)return r;if(e&&typeof e=="function")return e(r);const o=new window.DOMParser().parseFromString(r,"text/html"),a=[].concat(...o.body.querySelectorAll("*"));for(const c of a){const d=c.nodeName.toLowerCase();if(!Object.keys(t).includes(d)){c.remove();continue}const h=[].concat(...c.attributes),p=[].concat(t["*"]||[],t[d]||[]);for(const g of h)met(g,p)||c.removeAttribute(g.nodeName)}return o.body.innerHTML}const wet="TemplateFactory",vet={allowList:Tz,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},_et={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ket={entry:"(string|element|function|null)",selector:"(string|element)"};class yet extends r0{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return vet}static get DefaultType(){return _et}static get NAME(){return wet}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[o,a]of Object.entries(this._config.content))this._setContent(t,a,o);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},ket)}_setContent(t,e,i){const o=Ue.findOne(i,t);if(o){if(e=this._resolvePossibleFunction(e),!e){o.remove();return}if(yu(e)){this._putElementInTemplate(nf(e),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(e);return}o.textContent=e}}_maybeSanitize(t){return this._config.sanitize?bet(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Oa(t,[void 0,this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const Cet="tooltip",Eet=new Set(["sanitize","allowList","sanitizeFn"]),hS="fade",xet="modal",xy="show",Bet=".tooltip-inner",MU=`.${xet}`,LU="hide.bs.modal",ev="hover",fS="focus",Tet="click",Iet="manual",Det="hide",Met="hidden",Let="show",Pet="shown",Fet="inserted",Oet="click",Net="focusin",Ret="focusout",Uet="mouseenter",Qet="mouseleave",Het={AUTO:"auto",TOP:"top",RIGHT:gc()?"left":"right",BOTTOM:"bottom",LEFT:gc()?"right":"left"},zet={allowList:Tz,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jet={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Hx=class Iz extends Jc{constructor(t,e){if(typeof nz>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return zet}static get DefaultType(){return jet}static get NAME(){return Cet}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ne.off(this._element.closest(MU),LU,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=ne.trigger(this._element,this.constructor.eventName(Let)),i=(rz(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(o),ne.trigger(this._element,this.constructor.eventName(Fet))),this._popper=this._createPopper(o),o.classList.add(xy),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))ne.on(d,"mouseover",ME);const c=()=>{ne.trigger(this._element,this.constructor.eventName(Pet)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(c,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ne.trigger(this._element,this.constructor.eventName(Det)).defaultPrevented)return;if(this._getTipElement().classList.remove(xy),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))ne.off(o,"mouseover",ME);this._activeTrigger[Tet]=!1,this._activeTrigger[fS]=!1,this._activeTrigger[ev]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ne.trigger(this._element,this.constructor.eventName(Met)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(hS,xy),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=BZ(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(hS),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new yet({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Bet]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hS)}_isShown(){return this.tip&&this.tip.classList.contains(xy)}_createPopper(t){const e=Oa(this._config.placement,[this,t,this._element]),i=Het[e.toUpperCase()];return dM(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Oa(t,[this._element,this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...e,...Oa(this._config.popperConfig,[void 0,e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")ne.on(this._element,this.constructor.eventName(Oet),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(e!==Iet){const i=e===ev?this.constructor.eventName(Uet):this.constructor.eventName(Net),o=e===ev?this.constructor.eventName(Qet):this.constructor.eventName(Ret);ne.on(this._element,i,this._config.selector,a=>{const c=this._initializeOnDelegatedTarget(a);c._activeTrigger[a.type==="focusin"?fS:ev]=!0,c._enter()}),ne.on(this._element,o,this._config.selector,a=>{const c=this._initializeOnDelegatedTarget(a);c._activeTrigger[a.type==="focusout"?fS:ev]=c._element.contains(a.relatedTarget),c._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ne.on(this._element.closest(MU),LU,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=Cu.getDataAttributes(this._element);for(const i of Object.keys(e))Eet.has(i)&&delete e[i];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:nf(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Iz.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}};wc(Hx);const Vet="popover",Ket=".popover-header",Get=".popover-body",Wet={...Hx.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$et={...Hx.DefaultType,content:"(null|string|element|function)"};class fM extends Hx{static get Default(){return Wet}static get DefaultType(){return $et}static get NAME(){return Vet}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ket]:this._getTitle(),[Get]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=fM.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}wc(fM);const qet="scrollspy",Yet="bs.scrollspy",pM=`.${Yet}`,Xet=".data-api",Zet=`activate${pM}`,PU=`click${pM}`,Jet=`load${pM}${Xet}`,tnt="dropdown-item",gm="active",ent='[data-bs-spy="scroll"]',pS="[href]",nnt=".nav, .list-group",FU=".nav-link",int=".nav-item",snt=".list-group-item",rnt=`${FU}, ${int} > ${FU}, ${snt}`,ont=".dropdown",ant=".dropdown-toggle",lnt={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},cnt={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class zx extends Jc{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return lnt}static get DefaultType(){return cnt}static get NAME(){return qet}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=nf(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ne.off(this._config.target,PU),ne.on(this._config.target,PU,pS,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,o=e.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:o,behavior:"smooth"});return}i.scrollTop=o}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=c=>this._targetLinks.get(`#${c.target.id}`),i=c=>{this._previousScrollData.visibleEntryTop=c.target.offsetTop,this._process(e(c))},o=(this._rootElement||document.documentElement).scrollTop,a=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const c of t){if(!c.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(c));continue}const d=c.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&d){if(i(c),!o)return;continue}!a&&!d&&i(c)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Ue.find(pS,this._config.target);for(const e of t){if(!e.hash||sf(e))continue;const i=Ue.findOne(decodeURI(e.hash),this._element);ww(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(gm),this._activateParents(t),ne.trigger(this._element,Zet,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(tnt)){Ue.findOne(ant,t.closest(ont)).classList.add(gm);return}for(const e of Ue.parents(t,nnt))for(const i of Ue.prev(e,rnt))i.classList.add(gm)}_clearActiveClass(t){t.classList.remove(gm);const e=Ue.find(`${pS}.${gm}`,t);for(const i of e)i.classList.remove(gm)}static jQueryInterface(t){return this.each(function(){const e=zx.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}ne.on(window,Jet,()=>{for(const r of Ue.find(ent))zx.getOrCreateInstance(r)});wc(zx);const dnt="tab",Ant="bs.tab",Fg=`.${Ant}`,unt=`hide${Fg}`,hnt=`hidden${Fg}`,fnt=`show${Fg}`,pnt=`shown${Fg}`,gnt=`click${Fg}`,mnt=`keydown${Fg}`,bnt=`load${Fg}`,wnt="ArrowLeft",OU="ArrowRight",vnt="ArrowUp",NU="ArrowDown",gS="Home",RU="End",lp="active",UU="fade",mS="show",_nt="dropdown",Dz=".dropdown-toggle",knt=".dropdown-menu",bS=`:not(${Dz})`,ynt='.list-group, .nav, [role="tablist"]',Cnt=".nav-item, .list-group-item",Ent=`.nav-link${bS}, .list-group-item${bS}, [role="tab"]${bS}`,Mz='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',wS=`${Ent}, ${Mz}`,xnt=`.${lp}[data-bs-toggle="tab"], .${lp}[data-bs-toggle="pill"], .${lp}[data-bs-toggle="list"]`;class Aw extends Jc{constructor(t){super(t),this._parent=this._element.closest(ynt),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ne.on(this._element,mnt,e=>this._keydown(e)))}static get NAME(){return dnt}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?ne.trigger(e,unt,{relatedTarget:t}):null;ne.trigger(t,fnt,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(lp),this._activate(Ue.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(mS);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),ne.trigger(t,pnt,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(UU))}_deactivate(t,e){if(!t)return;t.classList.remove(lp),t.blur(),this._deactivate(Ue.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(mS);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),ne.trigger(t,hnt,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(UU))}_keydown(t){if(![wnt,OU,vnt,NU,gS,RU].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(o=>!sf(o));let i;if([gS,RU].includes(t.key))i=e[t.key===gS?0:e.length-1];else{const o=[OU,NU].includes(t.key);i=AM(e,t.target,o,!0)}i&&(i.focus({preventScroll:!0}),Aw.getOrCreateInstance(i).show())}_getChildren(){return Ue.find(wS,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=Ue.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains(_nt))return;const o=(a,c)=>{const d=Ue.findOne(a,i);d&&d.classList.toggle(c,e)};o(Dz,lp),o(knt,mS),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(lp)}_getInnerElement(t){return t.matches(wS)?t:Ue.findOne(wS,t)}_getOuterElement(t){return t.closest(Cnt)||t}static jQueryInterface(t){return this.each(function(){const e=Aw.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}ne.on(document,gnt,Mz,function(r){["A","AREA"].includes(this.tagName)&&r.preventDefault(),!sf(this)&&Aw.getOrCreateInstance(this).show()});ne.on(window,bnt,()=>{for(const r of Ue.find(xnt))Aw.getOrCreateInstance(r)});wc(Aw);const Bnt="toast",Snt="bs.toast",gf=`.${Snt}`,Tnt=`mouseover${gf}`,Int=`mouseout${gf}`,Dnt=`focusin${gf}`,Mnt=`focusout${gf}`,Lnt=`hide${gf}`,Pnt=`hidden${gf}`,Fnt=`show${gf}`,Ont=`shown${gf}`,Nnt="fade",QU="hide",By="show",Sy="showing",Rnt={animation:"boolean",autohide:"boolean",delay:"number"},Unt={animation:!0,autohide:!0,delay:5e3};class jx extends Jc{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Unt}static get DefaultType(){return Rnt}static get NAME(){return Bnt}show(){if(ne.trigger(this._element,Fnt).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Nnt);const e=()=>{this._element.classList.remove(Sy),ne.trigger(this._element,Ont),this._maybeScheduleHide()};this._element.classList.remove(QU),s0(this._element),this._element.classList.add(By,Sy),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||ne.trigger(this._element,Lnt).defaultPrevented)return;const e=()=>{this._element.classList.add(QU),this._element.classList.remove(Sy,By),ne.trigger(this._element,Pnt)};this._element.classList.add(Sy),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(By),super.dispose()}isShown(){return this._element.classList.contains(By)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){ne.on(this._element,Tnt,t=>this._onInteraction(t,!0)),ne.on(this._element,Int,t=>this._onInteraction(t,!1)),ne.on(this._element,Dnt,t=>this._onInteraction(t,!0)),ne.on(this._element,Mnt,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=jx.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Rx(jx);wc(jx);function Lz(r,t){return function(){return r.apply(t,arguments)}}const{toString:Qnt}=Object.prototype,{getPrototypeOf:gM}=Object,Vx=(r=>t=>{const e=Qnt.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),td=r=>(r=r.toLowerCase(),t=>Vx(t)===r),Kx=r=>t=>typeof t===r,{isArray:_w}=Array,p_=Kx("undefined");function Hnt(r){return r!==null&&!p_(r)&&r.constructor!==null&&!p_(r.constructor)&&Bl(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Pz=td("ArrayBuffer");function znt(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&Pz(r.buffer),t}const jnt=Kx("string"),Bl=Kx("function"),Fz=Kx("number"),Gx=r=>r!==null&&typeof r=="object",Vnt=r=>r===!0||r===!1,OC=r=>{if(Vx(r)!=="object")return!1;const t=gM(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Knt=td("Date"),Gnt=td("File"),Wnt=td("Blob"),$nt=td("FileList"),qnt=r=>Gx(r)&&Bl(r.pipe),Ynt=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||Bl(r.append)&&((t=Vx(r))==="formdata"||t==="object"&&Bl(r.toString)&&r.toString()==="[object FormData]"))},Xnt=td("URLSearchParams"),[Znt,Jnt,tit,eit]=["ReadableStream","Request","Response","Headers"].map(td),nit=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function l0(r,t,{allOwnKeys:e=!1}={}){if(r===null||typeof r>"u")return;let i,o;if(typeof r!="object"&&(r=[r]),_w(r))for(i=0,o=r.length;i<o;i++)t.call(null,r[i],i,r);else{const a=e?Object.getOwnPropertyNames(r):Object.keys(r),c=a.length;let d;for(i=0;i<c;i++)d=a[i],t.call(null,r[d],d,r)}}function Oz(r,t){t=t.toLowerCase();const e=Object.keys(r);let i=e.length,o;for(;i-- >0;)if(o=e[i],t===o.toLowerCase())return o;return null}const cp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nz=r=>!p_(r)&&r!==cp;function zT(){const{caseless:r}=Nz(this)&&this||{},t={},e=(i,o)=>{const a=r&&Oz(t,o)||o;OC(t[a])&&OC(i)?t[a]=zT(t[a],i):OC(i)?t[a]=zT({},i):_w(i)?t[a]=i.slice():t[a]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&l0(arguments[i],e);return t}const iit=(r,t,e,{allOwnKeys:i}={})=>(l0(t,(o,a)=>{e&&Bl(o)?r[a]=Lz(o,e):r[a]=o},{allOwnKeys:i}),r),sit=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),rit=(r,t,e,i)=>{r.prototype=Object.create(t.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),e&&Object.assign(r.prototype,e)},oit=(r,t,e,i)=>{let o,a,c;const d={};if(t=t||{},r==null)return t;do{for(o=Object.getOwnPropertyNames(r),a=o.length;a-- >0;)c=o[a],(!i||i(c,r,t))&&!d[c]&&(t[c]=r[c],d[c]=!0);r=e!==!1&&gM(r)}while(r&&(!e||e(r,t))&&r!==Object.prototype);return t},ait=(r,t,e)=>{r=String(r),(e===void 0||e>r.length)&&(e=r.length),e-=t.length;const i=r.indexOf(t,e);return i!==-1&&i===e},lit=r=>{if(!r)return null;if(_w(r))return r;let t=r.length;if(!Fz(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=r[t];return e},cit=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&gM(Uint8Array)),dit=(r,t)=>{const i=(r&&r[Symbol.iterator]).call(r);let o;for(;(o=i.next())&&!o.done;){const a=o.value;t.call(r,a[0],a[1])}},Ait=(r,t)=>{let e;const i=[];for(;(e=r.exec(t))!==null;)i.push(e);return i},uit=td("HTMLFormElement"),hit=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,o){return i.toUpperCase()+o}),HU=(({hasOwnProperty:r})=>(t,e)=>r.call(t,e))(Object.prototype),fit=td("RegExp"),Rz=(r,t)=>{const e=Object.getOwnPropertyDescriptors(r),i={};l0(e,(o,a)=>{let c;(c=t(o,a,r))!==!1&&(i[a]=c||o)}),Object.defineProperties(r,i)},pit=r=>{Rz(r,(t,e)=>{if(Bl(r)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=r[e];if(Bl(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},git=(r,t)=>{const e={},i=o=>{o.forEach(a=>{e[a]=!0})};return _w(r)?i(r):i(String(r).split(t)),e},mit=()=>{},bit=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function wit(r){return!!(r&&Bl(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const vit=r=>{const t=new Array(10),e=(i,o)=>{if(Gx(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[o]=i;const a=_w(i)?[]:{};return l0(i,(c,d)=>{const h=e(c,o+1);!p_(h)&&(a[d]=h)}),t[o]=void 0,a}}return i};return e(r,0)},_it=td("AsyncFunction"),kit=r=>r&&(Gx(r)||Bl(r))&&Bl(r.then)&&Bl(r.catch),Uz=((r,t)=>r?setImmediate:t?((e,i)=>(cp.addEventListener("message",({source:o,data:a})=>{o===cp&&a===e&&i.length&&i.shift()()},!1),o=>{i.push(o),cp.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Bl(cp.postMessage)),yit=typeof queueMicrotask<"u"?queueMicrotask.bind(cp):typeof process<"u"&&process.nextTick||Uz,Kt={isArray:_w,isArrayBuffer:Pz,isBuffer:Hnt,isFormData:Ynt,isArrayBufferView:znt,isString:jnt,isNumber:Fz,isBoolean:Vnt,isObject:Gx,isPlainObject:OC,isReadableStream:Znt,isRequest:Jnt,isResponse:tit,isHeaders:eit,isUndefined:p_,isDate:Knt,isFile:Gnt,isBlob:Wnt,isRegExp:fit,isFunction:Bl,isStream:qnt,isURLSearchParams:Xnt,isTypedArray:cit,isFileList:$nt,forEach:l0,merge:zT,extend:iit,trim:nit,stripBOM:sit,inherits:rit,toFlatObject:oit,kindOf:Vx,kindOfTest:td,endsWith:ait,toArray:lit,forEachEntry:dit,matchAll:Ait,isHTMLForm:uit,hasOwnProperty:HU,hasOwnProp:HU,reduceDescriptors:Rz,freezeMethods:pit,toObjectSet:git,toCamelCase:hit,noop:mit,toFiniteNumber:bit,findKey:Oz,global:cp,isContextDefined:Nz,isSpecCompliantForm:wit,toJSONObject:vit,isAsyncFn:_it,isThenable:kit,setImmediate:Uz,asap:yit};function gn(r,t,e,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}Kt.inherits(gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Kt.toJSONObject(this.config),code:this.code,status:this.status}}});const Qz=gn.prototype,Hz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Hz[r]={value:r}});Object.defineProperties(gn,Hz);Object.defineProperty(Qz,"isAxiosError",{value:!0});gn.from=(r,t,e,i,o,a)=>{const c=Object.create(Qz);return Kt.toFlatObject(r,c,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),gn.call(c,r.message,t,e,i,o),c.cause=r,c.name=r.name,a&&Object.assign(c,a),c};const Cit=null;function jT(r){return Kt.isPlainObject(r)||Kt.isArray(r)}function zz(r){return Kt.endsWith(r,"[]")?r.slice(0,-2):r}function zU(r,t,e){return r?r.concat(t).map(function(o,a){return o=zz(o),!e&&a?"["+o+"]":o}).join(e?".":""):t}function Eit(r){return Kt.isArray(r)&&!r.some(jT)}const xit=Kt.toFlatObject(Kt,{},null,function(t){return/^is[A-Z]/.test(t)});function Wx(r,t,e){if(!Kt.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,e=Kt.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,I){return!Kt.isUndefined(I[x])});const i=e.metaTokens,o=e.visitor||g,a=e.dots,c=e.indexes,h=(e.Blob||typeof Blob<"u"&&Blob)&&Kt.isSpecCompliantForm(t);if(!Kt.isFunction(o))throw new TypeError("visitor must be a function");function p(y){if(y===null)return"";if(Kt.isDate(y))return y.toISOString();if(!h&&Kt.isBlob(y))throw new gn("Blob is not supported. Use a Buffer instead.");return Kt.isArrayBuffer(y)||Kt.isTypedArray(y)?h&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function g(y,x,I){let F=y;if(y&&!I&&typeof y=="object"){if(Kt.endsWith(x,"{}"))x=i?x:x.slice(0,-2),y=JSON.stringify(y);else if(Kt.isArray(y)&&Eit(y)||(Kt.isFileList(y)||Kt.endsWith(x,"[]"))&&(F=Kt.toArray(y)))return x=zz(x),F.forEach(function(Q,V){!(Kt.isUndefined(Q)||Q===null)&&t.append(c===!0?zU([x],V,a):c===null?x:x+"[]",p(Q))}),!1}return jT(y)?!0:(t.append(zU(I,x,a),p(y)),!1)}const w=[],v=Object.assign(xit,{defaultVisitor:g,convertValue:p,isVisitable:jT});function k(y,x){if(!Kt.isUndefined(y)){if(w.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));w.push(y),Kt.forEach(y,function(F,R){(!(Kt.isUndefined(F)||F===null)&&o.call(t,F,Kt.isString(R)?R.trim():R,x,v))===!0&&k(F,x?x.concat(R):[R])}),w.pop()}}if(!Kt.isObject(r))throw new TypeError("data must be an object");return k(r),t}function jU(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function mM(r,t){this._pairs=[],r&&Wx(r,this,t)}const jz=mM.prototype;jz.append=function(t,e){this._pairs.push([t,e])};jz.toString=function(t){const e=t?function(i){return t.call(this,i,jU)}:jU;return this._pairs.map(function(o){return e(o[0])+"="+e(o[1])},"").join("&")};function Bit(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vz(r,t,e){if(!t)return r;const i=e&&e.encode||Bit;Kt.isFunction(e)&&(e={serialize:e});const o=e&&e.serialize;let a;if(o?a=o(t,e):a=Kt.isURLSearchParams(t)?t.toString():new mM(t,e).toString(i),a){const c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r}class VU{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Kt.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Kz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sit=typeof URLSearchParams<"u"?URLSearchParams:mM,Tit=typeof FormData<"u"?FormData:null,Iit=typeof Blob<"u"?Blob:null,Dit={isBrowser:!0,classes:{URLSearchParams:Sit,FormData:Tit,Blob:Iit},protocols:["http","https","file","blob","url","data"]},bM=typeof window<"u"&&typeof document<"u",VT=typeof navigator=="object"&&navigator||void 0,Mit=bM&&(!VT||["ReactNative","NativeScript","NS"].indexOf(VT.product)<0),Lit=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pit=bM&&window.location.href||"http://localhost",Fit=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bM,hasStandardBrowserEnv:Mit,hasStandardBrowserWebWorkerEnv:Lit,navigator:VT,origin:Pit},Symbol.toStringTag,{value:"Module"})),Oo={...Fit,...Dit};function Oit(r,t){return Wx(r,new Oo.classes.URLSearchParams,Object.assign({visitor:function(e,i,o,a){return Oo.isNode&&Kt.isBuffer(e)?(this.append(i,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Nit(r){return Kt.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Rit(r){const t={},e=Object.keys(r);let i;const o=e.length;let a;for(i=0;i<o;i++)a=e[i],t[a]=r[a];return t}function Gz(r){function t(e,i,o,a){let c=e[a++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=a>=e.length;return c=!c&&Kt.isArray(o)?o.length:c,h?(Kt.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!d):((!o[c]||!Kt.isObject(o[c]))&&(o[c]=[]),t(e,i,o[c],a)&&Kt.isArray(o[c])&&(o[c]=Rit(o[c])),!d)}if(Kt.isFormData(r)&&Kt.isFunction(r.entries)){const e={};return Kt.forEachEntry(r,(i,o)=>{t(Nit(i),o,e,0)}),e}return null}function Uit(r,t,e){if(Kt.isString(r))try{return(t||JSON.parse)(r),Kt.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(r)}const c0={transitional:Kz,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",o=i.indexOf("application/json")>-1,a=Kt.isObject(t);if(a&&Kt.isHTMLForm(t)&&(t=new FormData(t)),Kt.isFormData(t))return o?JSON.stringify(Gz(t)):t;if(Kt.isArrayBuffer(t)||Kt.isBuffer(t)||Kt.isStream(t)||Kt.isFile(t)||Kt.isBlob(t)||Kt.isReadableStream(t))return t;if(Kt.isArrayBufferView(t))return t.buffer;if(Kt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Oit(t,this.formSerializer).toString();if((d=Kt.isFileList(t))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Wx(d?{"files[]":t}:t,h&&new h,this.formSerializer)}}return a||o?(e.setContentType("application/json",!1),Uit(t)):t}],transformResponse:[function(t){const e=this.transitional||c0.transitional,i=e&&e.forcedJSONParsing,o=this.responseType==="json";if(Kt.isResponse(t)||Kt.isReadableStream(t))return t;if(t&&Kt.isString(t)&&(i&&!this.responseType||o)){const c=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?gn.from(d,gn.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oo.classes.FormData,Blob:Oo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Kt.forEach(["delete","get","head","post","put","patch"],r=>{c0.headers[r]={}});const Qit=Kt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hit=r=>{const t={};let e,i,o;return r&&r.split(`
`).forEach(function(c){o=c.indexOf(":"),e=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!e||t[e]&&Qit[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},KU=Symbol("internals");function nv(r){return r&&String(r).trim().toLowerCase()}function NC(r){return r===!1||r==null?r:Kt.isArray(r)?r.map(NC):String(r)}function zit(r){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(r);)t[i[1]]=i[2];return t}const jit=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function vS(r,t,e,i,o){if(Kt.isFunction(i))return i.call(this,t,e);if(o&&(t=e),!!Kt.isString(t)){if(Kt.isString(i))return t.indexOf(i)!==-1;if(Kt.isRegExp(i))return i.test(t)}}function Vit(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function Kit(r,t){const e=Kt.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+e,{value:function(o,a,c){return this[i].call(this,t,o,a,c)},configurable:!0})})}let Ua=class{constructor(t){t&&this.set(t)}set(t,e,i){const o=this;function a(d,h,p){const g=nv(h);if(!g)throw new Error("header name must be a non-empty string");const w=Kt.findKey(o,g);(!w||o[w]===void 0||p===!0||p===void 0&&o[w]!==!1)&&(o[w||h]=NC(d))}const c=(d,h)=>Kt.forEach(d,(p,g)=>a(p,g,h));if(Kt.isPlainObject(t)||t instanceof this.constructor)c(t,e);else if(Kt.isString(t)&&(t=t.trim())&&!jit(t))c(Hit(t),e);else if(Kt.isHeaders(t))for(const[d,h]of t.entries())a(h,d,i);else t!=null&&a(e,t,i);return this}get(t,e){if(t=nv(t),t){const i=Kt.findKey(this,t);if(i){const o=this[i];if(!e)return o;if(e===!0)return zit(o);if(Kt.isFunction(e))return e.call(this,o,i);if(Kt.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=nv(t),t){const i=Kt.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||vS(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let o=!1;function a(c){if(c=nv(c),c){const d=Kt.findKey(i,c);d&&(!e||vS(i,i[d],d,e))&&(delete i[d],o=!0)}}return Kt.isArray(t)?t.forEach(a):a(t),o}clear(t){const e=Object.keys(this);let i=e.length,o=!1;for(;i--;){const a=e[i];(!t||vS(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const e=this,i={};return Kt.forEach(this,(o,a)=>{const c=Kt.findKey(i,a);if(c){e[c]=NC(o),delete e[a];return}const d=t?Vit(a):String(a).trim();d!==a&&delete e[a],e[d]=NC(o),i[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Kt.forEach(this,(i,o)=>{i!=null&&i!==!1&&(e[o]=t&&Kt.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(o=>i.set(o)),i}static accessor(t){const i=(this[KU]=this[KU]={accessors:{}}).accessors,o=this.prototype;function a(c){const d=nv(c);i[d]||(Kit(o,c),i[d]=!0)}return Kt.isArray(t)?t.forEach(a):a(t),this}};Ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Kt.reduceDescriptors(Ua.prototype,({value:r},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(i){this[e]=i}}});Kt.freezeMethods(Ua);function _S(r,t){const e=this||c0,i=t||e,o=Ua.from(i.headers);let a=i.data;return Kt.forEach(r,function(d){a=d.call(e,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function Wz(r){return!!(r&&r.__CANCEL__)}function kw(r,t,e){gn.call(this,r??"canceled",gn.ERR_CANCELED,t,e),this.name="CanceledError"}Kt.inherits(kw,gn,{__CANCEL__:!0});function $z(r,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?r(e):t(new gn("Request failed with status code "+e.status,[gn.ERR_BAD_REQUEST,gn.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function Git(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function Wit(r,t){r=r||10;const e=new Array(r),i=new Array(r);let o=0,a=0,c;return t=t!==void 0?t:1e3,function(h){const p=Date.now(),g=i[a];c||(c=p),e[o]=h,i[o]=p;let w=a,v=0;for(;w!==o;)v+=e[w++],w=w%r;if(o=(o+1)%r,o===a&&(a=(a+1)%r),p-c<t)return;const k=g&&p-g;return k?Math.round(v*1e3/k):void 0}}function $it(r,t){let e=0,i=1e3/t,o,a;const c=(p,g=Date.now())=>{e=g,o=null,a&&(clearTimeout(a),a=null),r.apply(null,p)};return[(...p)=>{const g=Date.now(),w=g-e;w>=i?c(p,g):(o=p,a||(a=setTimeout(()=>{a=null,c(o)},i-w)))},()=>o&&c(o)]}const FE=(r,t,e=3)=>{let i=0;const o=Wit(50,250);return $it(a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,h=c-i,p=o(h),g=c<=d;i=c;const w={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:p||void 0,estimated:p&&d&&g?(d-c)/p:void 0,event:a,lengthComputable:d!=null,[t?"download":"upload"]:!0};r(w)},e)},GU=(r,t)=>{const e=r!=null;return[i=>t[0]({lengthComputable:e,total:r,loaded:i}),t[1]]},WU=r=>(...t)=>Kt.asap(()=>r(...t)),qit=Oo.hasStandardBrowserEnv?((r,t)=>e=>(e=new URL(e,Oo.origin),r.protocol===e.protocol&&r.host===e.host&&(t||r.port===e.port)))(new URL(Oo.origin),Oo.navigator&&/(msie|trident)/i.test(Oo.navigator.userAgent)):()=>!0,Yit=Oo.hasStandardBrowserEnv?{write(r,t,e,i,o,a){const c=[r+"="+encodeURIComponent(t)];Kt.isNumber(e)&&c.push("expires="+new Date(e).toGMTString()),Kt.isString(i)&&c.push("path="+i),Kt.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(r){const t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xit(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Zit(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function qz(r,t,e){let i=!Xit(t);return r&&(i||e==!1)?Zit(r,t):t}const $U=r=>r instanceof Ua?{...r}:r;function Sg(r,t){t=t||{};const e={};function i(p,g,w,v){return Kt.isPlainObject(p)&&Kt.isPlainObject(g)?Kt.merge.call({caseless:v},p,g):Kt.isPlainObject(g)?Kt.merge({},g):Kt.isArray(g)?g.slice():g}function o(p,g,w,v){if(Kt.isUndefined(g)){if(!Kt.isUndefined(p))return i(void 0,p,w,v)}else return i(p,g,w,v)}function a(p,g){if(!Kt.isUndefined(g))return i(void 0,g)}function c(p,g){if(Kt.isUndefined(g)){if(!Kt.isUndefined(p))return i(void 0,p)}else return i(void 0,g)}function d(p,g,w){if(w in t)return i(p,g);if(w in r)return i(void 0,p)}const h={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(p,g,w)=>o($U(p),$U(g),w,!0)};return Kt.forEach(Object.keys(Object.assign({},r,t)),function(g){const w=h[g]||o,v=w(r[g],t[g],g);Kt.isUndefined(v)&&w!==d||(e[g]=v)}),e}const Yz=r=>{const t=Sg({},r);let{data:e,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:d}=t;t.headers=c=Ua.from(c),t.url=Vz(qz(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(Kt.isFormData(e)){if(Oo.hasStandardBrowserEnv||Oo.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[p,...g]=h?h.split(";").map(w=>w.trim()).filter(Boolean):[];c.setContentType([p||"multipart/form-data",...g].join("; "))}}if(Oo.hasStandardBrowserEnv&&(i&&Kt.isFunction(i)&&(i=i(t)),i||i!==!1&&qit(t.url))){const p=o&&a&&Yit.read(a);p&&c.set(o,p)}return t},Jit=typeof XMLHttpRequest<"u",tst=Jit&&function(r){return new Promise(function(e,i){const o=Yz(r);let a=o.data;const c=Ua.from(o.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:p}=o,g,w,v,k,y;function x(){k&&k(),y&&y(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let I=new XMLHttpRequest;I.open(o.method.toUpperCase(),o.url,!0),I.timeout=o.timeout;function F(){if(!I)return;const Q=Ua.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),W={data:!d||d==="text"||d==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:Q,config:r,request:I};$z(function(P){e(P),x()},function(P){i(P),x()},W),I=null}"onloadend"in I?I.onloadend=F:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(F)},I.onabort=function(){I&&(i(new gn("Request aborted",gn.ECONNABORTED,r,I)),I=null)},I.onerror=function(){i(new gn("Network Error",gn.ERR_NETWORK,r,I)),I=null},I.ontimeout=function(){let V=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const W=o.transitional||Kz;o.timeoutErrorMessage&&(V=o.timeoutErrorMessage),i(new gn(V,W.clarifyTimeoutError?gn.ETIMEDOUT:gn.ECONNABORTED,r,I)),I=null},a===void 0&&c.setContentType(null),"setRequestHeader"in I&&Kt.forEach(c.toJSON(),function(V,W){I.setRequestHeader(W,V)}),Kt.isUndefined(o.withCredentials)||(I.withCredentials=!!o.withCredentials),d&&d!=="json"&&(I.responseType=o.responseType),p&&([v,y]=FE(p,!0),I.addEventListener("progress",v)),h&&I.upload&&([w,k]=FE(h),I.upload.addEventListener("progress",w),I.upload.addEventListener("loadend",k)),(o.cancelToken||o.signal)&&(g=Q=>{I&&(i(!Q||Q.type?new kw(null,r,I):Q),I.abort(),I=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const R=Git(o.url);if(R&&Oo.protocols.indexOf(R)===-1){i(new gn("Unsupported protocol "+R+":",gn.ERR_BAD_REQUEST,r));return}I.send(a||null)})},est=(r,t)=>{const{length:e}=r=r?r.filter(Boolean):[];if(t||e){let i=new AbortController,o;const a=function(p){if(!o){o=!0,d();const g=p instanceof Error?p:this.reason;i.abort(g instanceof gn?g:new kw(g instanceof Error?g.message:g))}};let c=t&&setTimeout(()=>{c=null,a(new gn(`timeout ${t} of ms exceeded`,gn.ETIMEDOUT))},t);const d=()=>{r&&(c&&clearTimeout(c),c=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),r=null)};r.forEach(p=>p.addEventListener("abort",a));const{signal:h}=i;return h.unsubscribe=()=>Kt.asap(d),h}},nst=function*(r,t){let e=r.byteLength;if(e<t){yield r;return}let i=0,o;for(;i<e;)o=i+t,yield r.slice(i,o),i=o},ist=async function*(r,t){for await(const e of sst(r))yield*nst(e,t)},sst=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},qU=(r,t,e,i)=>{const o=ist(r,t);let a=0,c,d=h=>{c||(c=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:p,value:g}=await o.next();if(p){d(),h.close();return}let w=g.byteLength;if(e){let v=a+=w;e(v)}h.enqueue(new Uint8Array(g))}catch(p){throw d(p),p}},cancel(h){return d(h),o.return()}},{highWaterMark:2})},$x=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xz=$x&&typeof ReadableStream=="function",rst=$x&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Zz=(r,...t)=>{try{return!!r(...t)}catch{return!1}},ost=Xz&&Zz(()=>{let r=!1;const t=new Request(Oo.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),YU=64*1024,KT=Xz&&Zz(()=>Kt.isReadableStream(new Response("").body)),OE={stream:KT&&(r=>r.body)};$x&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!OE[t]&&(OE[t]=Kt.isFunction(r[t])?e=>e[t]():(e,i)=>{throw new gn(`Response type '${t}' is not supported`,gn.ERR_NOT_SUPPORT,i)})})})(new Response);const ast=async r=>{if(r==null)return 0;if(Kt.isBlob(r))return r.size;if(Kt.isSpecCompliantForm(r))return(await new Request(Oo.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Kt.isArrayBufferView(r)||Kt.isArrayBuffer(r))return r.byteLength;if(Kt.isURLSearchParams(r)&&(r=r+""),Kt.isString(r))return(await rst(r)).byteLength},lst=async(r,t)=>{const e=Kt.toFiniteNumber(r.getContentLength());return e??ast(t)},cst=$x&&(async r=>{let{url:t,method:e,data:i,signal:o,cancelToken:a,timeout:c,onDownloadProgress:d,onUploadProgress:h,responseType:p,headers:g,withCredentials:w="same-origin",fetchOptions:v}=Yz(r);p=p?(p+"").toLowerCase():"text";let k=est([o,a&&a.toAbortSignal()],c),y;const x=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let I;try{if(h&&ost&&e!=="get"&&e!=="head"&&(I=await lst(g,i))!==0){let W=new Request(t,{method:"POST",body:i,duplex:"half"}),X;if(Kt.isFormData(i)&&(X=W.headers.get("content-type"))&&g.setContentType(X),W.body){const[P,K]=GU(I,FE(WU(h)));i=qU(W.body,YU,P,K)}}Kt.isString(w)||(w=w?"include":"omit");const F="credentials"in Request.prototype;y=new Request(t,{...v,signal:k,method:e.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:F?w:void 0});let R=await fetch(y);const Q=KT&&(p==="stream"||p==="response");if(KT&&(d||Q&&x)){const W={};["status","statusText","headers"].forEach(J=>{W[J]=R[J]});const X=Kt.toFiniteNumber(R.headers.get("content-length")),[P,K]=d&&GU(X,FE(WU(d),!0))||[];R=new Response(qU(R.body,YU,P,()=>{K&&K(),x&&x()}),W)}p=p||"text";let V=await OE[Kt.findKey(OE,p)||"text"](R,r);return!Q&&x&&x(),await new Promise((W,X)=>{$z(W,X,{data:V,headers:Ua.from(R.headers),status:R.status,statusText:R.statusText,config:r,request:y})})}catch(F){throw x&&x(),F&&F.name==="TypeError"&&/fetch/i.test(F.message)?Object.assign(new gn("Network Error",gn.ERR_NETWORK,r,y),{cause:F.cause||F}):gn.from(F,F&&F.code,r,y)}}),GT={http:Cit,xhr:tst,fetch:cst};Kt.forEach(GT,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const XU=r=>`- ${r}`,dst=r=>Kt.isFunction(r)||r===null||r===!1,Jz={getAdapter:r=>{r=Kt.isArray(r)?r:[r];const{length:t}=r;let e,i;const o={};for(let a=0;a<t;a++){e=r[a];let c;if(i=e,!dst(e)&&(i=GT[(c=String(e)).toLowerCase()],i===void 0))throw new gn(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+a]=i}if(!i){const a=Object.entries(o).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=t?a.length>1?`since :
`+a.map(XU).join(`
`):" "+XU(a[0]):"as no adapter specified";throw new gn("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:GT};function kS(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new kw(null,r)}function ZU(r){return kS(r),r.headers=Ua.from(r.headers),r.data=_S.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Jz.getAdapter(r.adapter||c0.adapter)(r).then(function(i){return kS(r),i.data=_S.call(r,r.transformResponse,i),i.headers=Ua.from(i.headers),i},function(i){return Wz(i)||(kS(r),i&&i.response&&(i.response.data=_S.call(r,r.transformResponse,i.response),i.response.headers=Ua.from(i.response.headers))),Promise.reject(i)})}const t3="1.8.4",qx={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{qx[r]=function(i){return typeof i===r||"a"+(t<1?"n ":" ")+r}});const JU={};qx.transitional=function(t,e,i){function o(a,c){return"[Axios v"+t3+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,d)=>{if(t===!1)throw new gn(o(c," has been removed"+(e?" in "+e:"")),gn.ERR_DEPRECATED);return e&&!JU[c]&&(JU[c]=!0,console.warn(o(c," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(a,c,d):!0}};qx.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function Ast(r,t,e){if(typeof r!="object")throw new gn("options must be an object",gn.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let o=i.length;for(;o-- >0;){const a=i[o],c=t[a];if(c){const d=r[a],h=d===void 0||c(d,a,r);if(h!==!0)throw new gn("option "+a+" must be "+h,gn.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new gn("Unknown option "+a,gn.ERR_BAD_OPTION)}}const RC={assertOptions:Ast,validators:qx},yd=RC.validators;let bg=class{constructor(t){this.defaults=t,this.interceptors={request:new VU,response:new VU}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Sg(this.defaults,e);const{transitional:i,paramsSerializer:o,headers:a}=e;i!==void 0&&RC.assertOptions(i,{silentJSONParsing:yd.transitional(yd.boolean),forcedJSONParsing:yd.transitional(yd.boolean),clarifyTimeoutError:yd.transitional(yd.boolean)},!1),o!=null&&(Kt.isFunction(o)?e.paramsSerializer={serialize:o}:RC.assertOptions(o,{encode:yd.function,serialize:yd.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),RC.assertOptions(e,{baseUrl:yd.spelling("baseURL"),withXsrfToken:yd.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let c=a&&Kt.merge(a.common,a[e.method]);a&&Kt.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),e.headers=Ua.concat(c,a);const d=[];let h=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(e)===!1||(h=h&&x.synchronous,d.unshift(x.fulfilled,x.rejected))});const p=[];this.interceptors.response.forEach(function(x){p.push(x.fulfilled,x.rejected)});let g,w=0,v;if(!h){const y=[ZU.bind(this),void 0];for(y.unshift.apply(y,d),y.push.apply(y,p),v=y.length,g=Promise.resolve(e);w<v;)g=g.then(y[w++],y[w++]);return g}v=d.length;let k=e;for(w=0;w<v;){const y=d[w++],x=d[w++];try{k=y(k)}catch(I){x.call(this,I);break}}try{g=ZU.call(this,k)}catch(y){return Promise.reject(y)}for(w=0,v=p.length;w<v;)g=g.then(p[w++],p[w++]);return g}getUri(t){t=Sg(this.defaults,t);const e=qz(t.baseURL,t.url,t.allowAbsoluteUrls);return Vz(e,t.params,t.paramsSerializer)}};Kt.forEach(["delete","get","head","options"],function(t){bg.prototype[t]=function(e,i){return this.request(Sg(i||{},{method:t,url:e,data:(i||{}).data}))}});Kt.forEach(["post","put","patch"],function(t){function e(i){return function(a,c,d){return this.request(Sg(d||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}bg.prototype[t]=e(),bg.prototype[t+"Form"]=e(!0)});let ust=class e3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(a){e=a});const i=this;this.promise.then(o=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](o);i._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(d=>{i.subscribe(d),a=d}).then(o);return c.cancel=function(){i.unsubscribe(a)},c},t(function(a,c,d){i.reason||(i.reason=new kw(a,c,d),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new e3(function(o){t=o}),cancel:t}}};function hst(r){return function(e){return r.apply(null,e)}}function fst(r){return Kt.isObject(r)&&r.isAxiosError===!0}const WT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(WT).forEach(([r,t])=>{WT[t]=r});function n3(r){const t=new bg(r),e=Lz(bg.prototype.request,t);return Kt.extend(e,bg.prototype,t,{allOwnKeys:!0}),Kt.extend(e,t,null,{allOwnKeys:!0}),e.create=function(o){return n3(Sg(r,o))},e}const Fs=n3(c0);Fs.Axios=bg;Fs.CanceledError=kw;Fs.CancelToken=ust;Fs.isCancel=Wz;Fs.VERSION=t3;Fs.toFormData=Wx;Fs.AxiosError=gn;Fs.Cancel=Fs.CanceledError;Fs.all=function(t){return Promise.all(t)};Fs.spread=hst;Fs.isAxiosError=fst;Fs.mergeConfig=Sg;Fs.AxiosHeaders=Ua;Fs.formToJSON=r=>Gz(Kt.isHTMLForm(r)?new FormData(r):r);Fs.getAdapter=Jz.getAdapter;Fs.HttpStatusCode=WT;Fs.default=Fs;const{Axios:Zbt,AxiosError:Jbt,CanceledError:twt,isCancel:ewt,CancelToken:nwt,VERSION:iwt,all:swt,Cancel:rwt,isAxiosError:owt,spread:awt,toFormData:lwt,AxiosHeaders:cwt,HttpStatusCode:dwt,formToJSON:Awt,getAdapter:uwt,mergeConfig:hwt}=Fs;window.axios=Fs;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var UC={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var pst=UC.exports,t4;function gst(){return t4||(t4=1,function(r,t){(function(e,i){r.exports=i()})(pst,function(){const e=new Map,i={set(st,N,q){e.has(st)||e.set(st,new Map);const ft=e.get(st);ft.has(N)||ft.size===0?ft.set(N,q):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ft.keys())[0]}.`)},get:(st,N)=>e.has(st)&&e.get(st).get(N)||null,remove(st,N){if(!e.has(st))return;const q=e.get(st);q.delete(N),q.size===0&&e.delete(st)}},o="transitionend",a=st=>(st&&window.CSS&&window.CSS.escape&&(st=st.replace(/#([^\s"#']+)/g,(N,q)=>`#${CSS.escape(q)}`)),st),c=st=>{st.dispatchEvent(new Event(o))},d=st=>!(!st||typeof st!="object")&&(st.jquery!==void 0&&(st=st[0]),st.nodeType!==void 0),h=st=>d(st)?st.jquery?st[0]:st:typeof st=="string"&&st.length>0?document.querySelector(a(st)):null,p=st=>{if(!d(st)||st.getClientRects().length===0)return!1;const N=getComputedStyle(st).getPropertyValue("visibility")==="visible",q=st.closest("details:not([open])");if(!q)return N;if(q!==st){const ft=st.closest("summary");if(ft&&ft.parentNode!==q||ft===null)return!1}return N},g=st=>!st||st.nodeType!==Node.ELEMENT_NODE||!!st.classList.contains("disabled")||(st.disabled!==void 0?st.disabled:st.hasAttribute("disabled")&&st.getAttribute("disabled")!=="false"),w=st=>{if(!document.documentElement.attachShadow)return null;if(typeof st.getRootNode=="function"){const N=st.getRootNode();return N instanceof ShadowRoot?N:null}return st instanceof ShadowRoot?st:st.parentNode?w(st.parentNode):null},v=()=>{},k=st=>{st.offsetHeight},y=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,x=[],I=()=>document.documentElement.dir==="rtl",F=st=>{var N;N=()=>{const q=y();if(q){const ft=st.NAME,Mt=q.fn[ft];q.fn[ft]=st.jQueryInterface,q.fn[ft].Constructor=st,q.fn[ft].noConflict=()=>(q.fn[ft]=Mt,st.jQueryInterface)}},document.readyState==="loading"?(x.length||document.addEventListener("DOMContentLoaded",()=>{for(const q of x)q()}),x.push(N)):N()},R=(st,N=[],q=st)=>typeof st=="function"?st.call(...N):q,Q=(st,N,q=!0)=>{if(!q)return void R(st);const ft=(Vt=>{if(!Vt)return 0;let{transitionDuration:Yt,transitionDelay:ce}=window.getComputedStyle(Vt);const _e=Number.parseFloat(Yt),Ee=Number.parseFloat(ce);return _e||Ee?(Yt=Yt.split(",")[0],ce=ce.split(",")[0],1e3*(Number.parseFloat(Yt)+Number.parseFloat(ce))):0})(N)+5;let Mt=!1;const xt=({target:Vt})=>{Vt===N&&(Mt=!0,N.removeEventListener(o,xt),R(st))};N.addEventListener(o,xt),setTimeout(()=>{Mt||c(N)},ft)},V=(st,N,q,ft)=>{const Mt=st.length;let xt=st.indexOf(N);return xt===-1?!q&&ft?st[Mt-1]:st[0]:(xt+=q?1:-1,ft&&(xt=(xt+Mt)%Mt),st[Math.max(0,Math.min(xt,Mt-1))])},W=/[^.]*(?=\..*)\.|.*/,X=/\..*/,P=/::\d+$/,K={};let J=1;const rt={mouseenter:"mouseover",mouseleave:"mouseout"},dt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ht(st,N){return N&&`${N}::${J++}`||st.uidEvent||J++}function ut(st){const N=ht(st);return st.uidEvent=N,K[N]=K[N]||{},K[N]}function mt(st,N,q=null){return Object.values(st).find(ft=>ft.callable===N&&ft.delegationSelector===q)}function St(st,N,q){const ft=typeof N=="string",Mt=ft?q:N||q;let xt=Dt(st);return dt.has(xt)||(xt=st),[ft,Mt,xt]}function vt(st,N,q,ft,Mt){if(typeof N!="string"||!st)return;let[xt,Vt,Yt]=St(N,q,ft);N in rt&&(Vt=(en=>function(Xe){if(!Xe.relatedTarget||Xe.relatedTarget!==Xe.delegateTarget&&!Xe.delegateTarget.contains(Xe.relatedTarget))return en.call(this,Xe)})(Vt));const ce=ut(st),_e=ce[Yt]||(ce[Yt]={}),Ee=mt(_e,Vt,xt?q:null);if(Ee)return void(Ee.oneOff=Ee.oneOff&&Mt);const me=ht(Vt,N.replace(W,"")),un=xt?function(je,en,Xe){return function Ze(ni){const ki=je.querySelectorAll(en);for(let{target:kn}=ni;kn&&kn!==this;kn=kn.parentNode)for(const Gn of ki)if(Gn===kn)return se(ni,{delegateTarget:kn}),Ze.oneOff&&yt.off(je,ni.type,en,Xe),Xe.apply(kn,[ni])}}(st,q,Vt):function(je,en){return function Xe(Ze){return se(Ze,{delegateTarget:je}),Xe.oneOff&&yt.off(je,Ze.type,en),en.apply(je,[Ze])}}(st,Vt);un.delegationSelector=xt?q:null,un.callable=Vt,un.oneOff=Mt,un.uidEvent=me,_e[me]=un,st.addEventListener(Yt,un,xt)}function pt(st,N,q,ft,Mt){const xt=mt(N[q],ft,Mt);xt&&(st.removeEventListener(q,xt,!!Mt),delete N[q][xt.uidEvent])}function _t(st,N,q,ft){const Mt=N[q]||{};for(const[xt,Vt]of Object.entries(Mt))xt.includes(ft)&&pt(st,N,q,Vt.callable,Vt.delegationSelector)}function Dt(st){return st=st.replace(X,""),rt[st]||st}const yt={on(st,N,q,ft){vt(st,N,q,ft,!1)},one(st,N,q,ft){vt(st,N,q,ft,!0)},off(st,N,q,ft){if(typeof N!="string"||!st)return;const[Mt,xt,Vt]=St(N,q,ft),Yt=Vt!==N,ce=ut(st),_e=ce[Vt]||{},Ee=N.startsWith(".");if(xt===void 0){if(Ee)for(const me of Object.keys(ce))_t(st,ce,me,N.slice(1));for(const[me,un]of Object.entries(_e)){const je=me.replace(P,"");Yt&&!N.includes(je)||pt(st,ce,Vt,un.callable,un.delegationSelector)}}else{if(!Object.keys(_e).length)return;pt(st,ce,Vt,xt,Mt?q:null)}},trigger(st,N,q){if(typeof N!="string"||!st)return null;const ft=y();let Mt=null,xt=!0,Vt=!0,Yt=!1;N!==Dt(N)&&ft&&(Mt=ft.Event(N,q),ft(st).trigger(Mt),xt=!Mt.isPropagationStopped(),Vt=!Mt.isImmediatePropagationStopped(),Yt=Mt.isDefaultPrevented());const ce=se(new Event(N,{bubbles:xt,cancelable:!0}),q);return Yt&&ce.preventDefault(),Vt&&st.dispatchEvent(ce),ce.defaultPrevented&&Mt&&Mt.preventDefault(),ce}};function se(st,N={}){for(const[q,ft]of Object.entries(N))try{st[q]=ft}catch{Object.defineProperty(st,q,{configurable:!0,get:()=>ft})}return st}function oe(st){if(st==="true")return!0;if(st==="false")return!1;if(st===Number(st).toString())return Number(st);if(st===""||st==="null")return null;if(typeof st!="string")return st;try{return JSON.parse(decodeURIComponent(st))}catch{return st}}function ie(st){return st.replace(/[A-Z]/g,N=>`-${N.toLowerCase()}`)}const le={setDataAttribute(st,N,q){st.setAttribute(`data-bs-${ie(N)}`,q)},removeDataAttribute(st,N){st.removeAttribute(`data-bs-${ie(N)}`)},getDataAttributes(st){if(!st)return{};const N={},q=Object.keys(st.dataset).filter(ft=>ft.startsWith("bs")&&!ft.startsWith("bsConfig"));for(const ft of q){let Mt=ft.replace(/^bs/,"");Mt=Mt.charAt(0).toLowerCase()+Mt.slice(1),N[Mt]=oe(st.dataset[ft])}return N},getDataAttribute:(st,N)=>oe(st.getAttribute(`data-bs-${ie(N)}`))};class Lt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(N){return N=this._mergeConfigObj(N),N=this._configAfterMerge(N),this._typeCheckConfig(N),N}_configAfterMerge(N){return N}_mergeConfigObj(N,q){const ft=d(q)?le.getDataAttribute(q,"config"):{};return{...this.constructor.Default,...typeof ft=="object"?ft:{},...d(q)?le.getDataAttributes(q):{},...typeof N=="object"?N:{}}}_typeCheckConfig(N,q=this.constructor.DefaultType){for(const[Mt,xt]of Object.entries(q)){const Vt=N[Mt],Yt=d(Vt)?"element":(ft=Vt)==null?`${ft}`:Object.prototype.toString.call(ft).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(xt).test(Yt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Mt}" provided type "${Yt}" but expected type "${xt}".`)}var ft}}class Tt extends Lt{constructor(N,q){super(),(N=h(N))&&(this._element=N,this._config=this._getConfig(q),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),yt.off(this._element,this.constructor.EVENT_KEY);for(const N of Object.getOwnPropertyNames(this))this[N]=null}_queueCallback(N,q,ft=!0){Q(N,q,ft)}_getConfig(N){return N=this._mergeConfigObj(N,this._element),N=this._configAfterMerge(N),this._typeCheckConfig(N),N}static getInstance(N){return i.get(h(N),this.DATA_KEY)}static getOrCreateInstance(N,q={}){return this.getInstance(N)||new this(N,typeof q=="object"?q:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(N){return`${N}${this.EVENT_KEY}`}}const Pt=st=>{let N=st.getAttribute("data-bs-target");if(!N||N==="#"){let q=st.getAttribute("href");if(!q||!q.includes("#")&&!q.startsWith("."))return null;q.includes("#")&&!q.startsWith("#")&&(q=`#${q.split("#")[1]}`),N=q&&q!=="#"?q.trim():null}return N?N.split(",").map(q=>a(q)).join(","):null},jt={find:(st,N=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(N,st)),findOne:(st,N=document.documentElement)=>Element.prototype.querySelector.call(N,st),children:(st,N)=>[].concat(...st.children).filter(q=>q.matches(N)),parents(st,N){const q=[];let ft=st.parentNode.closest(N);for(;ft;)q.push(ft),ft=ft.parentNode.closest(N);return q},prev(st,N){let q=st.previousElementSibling;for(;q;){if(q.matches(N))return[q];q=q.previousElementSibling}return[]},next(st,N){let q=st.nextElementSibling;for(;q;){if(q.matches(N))return[q];q=q.nextElementSibling}return[]},focusableChildren(st){const N=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(q=>`${q}:not([tabindex^="-"])`).join(",");return this.find(N,st).filter(q=>!g(q)&&p(q))},getSelectorFromElement(st){const N=Pt(st);return N&&jt.findOne(N)?N:null},getElementFromSelector(st){const N=Pt(st);return N?jt.findOne(N):null},getMultipleElementsFromSelector(st){const N=Pt(st);return N?jt.find(N):[]}},Ne=(st,N="hide")=>{const q=`click.dismiss${st.EVENT_KEY}`,ft=st.NAME;yt.on(document,q,`[data-bs-dismiss="${ft}"]`,function(Mt){if(["A","AREA"].includes(this.tagName)&&Mt.preventDefault(),g(this))return;const xt=jt.getElementFromSelector(this)||this.closest(`.${ft}`);st.getOrCreateInstance(xt)[N]()})},Ge=".bs.alert",hn=`close${Ge}`,Ye=`closed${Ge}`;class Se extends Tt{static get NAME(){return"alert"}close(){if(yt.trigger(this._element,hn).defaultPrevented)return;this._element.classList.remove("show");const N=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,N)}_destroyElement(){this._element.remove(),yt.trigger(this._element,Ye),this.dispose()}static jQueryInterface(N){return this.each(function(){const q=Se.getOrCreateInstance(this);if(typeof N=="string"){if(q[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);q[N](this)}})}}Ne(Se,"close"),F(Se);const ae='[data-bs-toggle="button"]';class rn extends Tt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(N){return this.each(function(){const q=rn.getOrCreateInstance(this);N==="toggle"&&q[N]()})}}yt.on(document,"click.bs.button.data-api",ae,st=>{st.preventDefault();const N=st.target.closest(ae);rn.getOrCreateInstance(N).toggle()}),F(rn);const Rn=".bs.swipe",Le=`touchstart${Rn}`,Hn=`touchmove${Rn}`,$s=`touchend${Rn}`,rs=`pointerdown${Rn}`,vs=`pointerup${Rn}`,xn={endCallback:null,leftCallback:null,rightCallback:null},ti={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class os extends Lt{constructor(N,q){super(),this._element=N,N&&os.isSupported()&&(this._config=this._getConfig(q),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return xn}static get DefaultType(){return ti}static get NAME(){return"swipe"}dispose(){yt.off(this._element,Rn)}_start(N){this._supportPointerEvents?this._eventIsPointerPenTouch(N)&&(this._deltaX=N.clientX):this._deltaX=N.touches[0].clientX}_end(N){this._eventIsPointerPenTouch(N)&&(this._deltaX=N.clientX-this._deltaX),this._handleSwipe(),R(this._config.endCallback)}_move(N){this._deltaX=N.touches&&N.touches.length>1?0:N.touches[0].clientX-this._deltaX}_handleSwipe(){const N=Math.abs(this._deltaX);if(N<=40)return;const q=N/this._deltaX;this._deltaX=0,q&&R(q>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(yt.on(this._element,rs,N=>this._start(N)),yt.on(this._element,vs,N=>this._end(N)),this._element.classList.add("pointer-event")):(yt.on(this._element,Le,N=>this._start(N)),yt.on(this._element,Hn,N=>this._move(N)),yt.on(this._element,$s,N=>this._end(N)))}_eventIsPointerPenTouch(N){return this._supportPointerEvents&&(N.pointerType==="pen"||N.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const fe=".bs.carousel",vn=".data-api",Ii="ArrowLeft",Uo="ArrowRight",zr="next",Aa="prev",wr="left",ua="right",go=`slide${fe}`,jr=`slid${fe}`,ha=`keydown${fe}`,fa=`mouseenter${fe}`,_i=`mouseleave${fe}`,qs=`dragstart${fe}`,sA=`load${fe}${vn}`,rA=`click${fe}${vn}`,Qo="carousel",Vr="active",oA=".active",aA=".carousel-item",Ys=oA+aA,Ns={[Ii]:ua,[Uo]:wr},lA={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Xs={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ho extends Tt{constructor(N,q){super(N,q),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=jt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Qo&&this.cycle()}static get Default(){return lA}static get DefaultType(){return Xs}static get NAME(){return"carousel"}next(){this._slide(zr)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(Aa)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?yt.one(this._element,jr,()=>this.cycle()):this.cycle())}to(N){const q=this._getItems();if(N>q.length-1||N<0)return;if(this._isSliding)return void yt.one(this._element,jr,()=>this.to(N));const ft=this._getItemIndex(this._getActive());if(ft===N)return;const Mt=N>ft?zr:Aa;this._slide(Mt,q[N])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(N){return N.defaultInterval=N.interval,N}_addEventListeners(){this._config.keyboard&&yt.on(this._element,ha,N=>this._keydown(N)),this._config.pause==="hover"&&(yt.on(this._element,fa,()=>this.pause()),yt.on(this._element,_i,()=>this._maybeEnableCycle())),this._config.touch&&os.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const q of jt.find(".carousel-item img",this._element))yt.on(q,qs,ft=>ft.preventDefault());const N={leftCallback:()=>this._slide(this._directionToOrder(wr)),rightCallback:()=>this._slide(this._directionToOrder(ua)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new os(this._element,N)}_keydown(N){if(/input|textarea/i.test(N.target.tagName))return;const q=Ns[N.key];q&&(N.preventDefault(),this._slide(this._directionToOrder(q)))}_getItemIndex(N){return this._getItems().indexOf(N)}_setActiveIndicatorElement(N){if(!this._indicatorsElement)return;const q=jt.findOne(oA,this._indicatorsElement);q.classList.remove(Vr),q.removeAttribute("aria-current");const ft=jt.findOne(`[data-bs-slide-to="${N}"]`,this._indicatorsElement);ft&&(ft.classList.add(Vr),ft.setAttribute("aria-current","true"))}_updateInterval(){const N=this._activeElement||this._getActive();if(!N)return;const q=Number.parseInt(N.getAttribute("data-bs-interval"),10);this._config.interval=q||this._config.defaultInterval}_slide(N,q=null){if(this._isSliding)return;const ft=this._getActive(),Mt=N===zr,xt=q||V(this._getItems(),ft,Mt,this._config.wrap);if(xt===ft)return;const Vt=this._getItemIndex(xt),Yt=me=>yt.trigger(this._element,me,{relatedTarget:xt,direction:this._orderToDirection(N),from:this._getItemIndex(ft),to:Vt});if(Yt(go).defaultPrevented||!ft||!xt)return;const ce=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Vt),this._activeElement=xt;const _e=Mt?"carousel-item-start":"carousel-item-end",Ee=Mt?"carousel-item-next":"carousel-item-prev";xt.classList.add(Ee),k(xt),ft.classList.add(_e),xt.classList.add(_e),this._queueCallback(()=>{xt.classList.remove(_e,Ee),xt.classList.add(Vr),ft.classList.remove(Vr,Ee,_e),this._isSliding=!1,Yt(jr)},ft,this._isAnimated()),ce&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return jt.findOne(Ys,this._element)}_getItems(){return jt.find(aA,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(N){return I()?N===wr?Aa:zr:N===wr?zr:Aa}_orderToDirection(N){return I()?N===Aa?wr:ua:N===Aa?ua:wr}static jQueryInterface(N){return this.each(function(){const q=Ho.getOrCreateInstance(this,N);if(typeof N!="number"){if(typeof N=="string"){if(q[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);q[N]()}}else q.to(N)})}}yt.on(document,rA,"[data-bs-slide], [data-bs-slide-to]",function(st){const N=jt.getElementFromSelector(this);if(!N||!N.classList.contains(Qo))return;st.preventDefault();const q=Ho.getOrCreateInstance(N),ft=this.getAttribute("data-bs-slide-to");return ft?(q.to(ft),void q._maybeEnableCycle()):le.getDataAttribute(this,"slide")==="next"?(q.next(),void q._maybeEnableCycle()):(q.prev(),void q._maybeEnableCycle())}),yt.on(window,sA,()=>{const st=jt.find('[data-bs-ride="carousel"]');for(const N of st)Ho.getOrCreateInstance(N)}),F(Ho);const mo=".bs.collapse",zo=`show${mo}`,Ml=`shown${mo}`,cA=`hide${mo}`,Zs=`hidden${mo}`,Te=`click${mo}.data-api`,id="show",vr="collapse",jo="collapsing",Fu=`:scope .${vr} .${vr}`,vc='[data-bs-toggle="collapse"]',dA={parent:null,toggle:!0},Ll={parent:"(null|element)",toggle:"boolean"};class Ki extends Tt{constructor(N,q){super(N,q),this._isTransitioning=!1,this._triggerArray=[];const ft=jt.find(vc);for(const Mt of ft){const xt=jt.getSelectorFromElement(Mt),Vt=jt.find(xt).filter(Yt=>Yt===this._element);xt!==null&&Vt.length&&this._triggerArray.push(Mt)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return dA}static get DefaultType(){return Ll}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let N=[];if(this._config.parent&&(N=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Mt=>Mt!==this._element).map(Mt=>Ki.getOrCreateInstance(Mt,{toggle:!1}))),N.length&&N[0]._isTransitioning||yt.trigger(this._element,zo).defaultPrevented)return;for(const Mt of N)Mt.hide();const q=this._getDimension();this._element.classList.remove(vr),this._element.classList.add(jo),this._element.style[q]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ft=`scroll${q[0].toUpperCase()+q.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(jo),this._element.classList.add(vr,id),this._element.style[q]="",yt.trigger(this._element,Ml)},this._element,!0),this._element.style[q]=`${this._element[ft]}px`}hide(){if(this._isTransitioning||!this._isShown()||yt.trigger(this._element,cA).defaultPrevented)return;const N=this._getDimension();this._element.style[N]=`${this._element.getBoundingClientRect()[N]}px`,k(this._element),this._element.classList.add(jo),this._element.classList.remove(vr,id);for(const q of this._triggerArray){const ft=jt.getElementFromSelector(q);ft&&!this._isShown(ft)&&this._addAriaAndCollapsedClass([q],!1)}this._isTransitioning=!0,this._element.style[N]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(jo),this._element.classList.add(vr),yt.trigger(this._element,Zs)},this._element,!0)}_isShown(N=this._element){return N.classList.contains(id)}_configAfterMerge(N){return N.toggle=!!N.toggle,N.parent=h(N.parent),N}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const N=this._getFirstLevelChildren(vc);for(const q of N){const ft=jt.getElementFromSelector(q);ft&&this._addAriaAndCollapsedClass([q],this._isShown(ft))}}_getFirstLevelChildren(N){const q=jt.find(Fu,this._config.parent);return jt.find(N,this._config.parent).filter(ft=>!q.includes(ft))}_addAriaAndCollapsedClass(N,q){if(N.length)for(const ft of N)ft.classList.toggle("collapsed",!q),ft.setAttribute("aria-expanded",q)}static jQueryInterface(N){const q={};return typeof N=="string"&&/show|hide/.test(N)&&(q.toggle=!1),this.each(function(){const ft=Ki.getOrCreateInstance(this,q);if(typeof N=="string"){if(ft[N]===void 0)throw new TypeError(`No method named "${N}"`);ft[N]()}})}}yt.on(document,Te,vc,function(st){(st.target.tagName==="A"||st.delegateTarget&&st.delegateTarget.tagName==="A")&&st.preventDefault();for(const N of jt.getMultipleElementsFromSelector(this))Ki.getOrCreateInstance(N,{toggle:!1}).toggle()}),F(Ki);var Gi="top",fs="bottom",_s="right",Wi="left",_r="auto",Pl=[Gi,fs,_s,Wi],Rs="start",Qa="end",AA="clippingParents",sd="viewport",Ha="popper",Ou="reference",za=Pl.reduce(function(st,N){return st.concat([N+"-"+Rs,N+"-"+Qa])},[]),Js=[].concat(Pl,[_r]).reduce(function(st,N){return st.concat([N,N+"-"+Rs,N+"-"+Qa])},[]),ja="beforeRead",pa="read",Va="afterRead",wn="beforeMain",ei="main",$i="afterMain",kr="beforeWrite",bo="write",rd="afterWrite",Qe=[ja,pa,Va,wn,ei,$i,kr,bo,rd];function Cn(st){return st?(st.nodeName||"").toLowerCase():null}function ps(st){if(st==null)return window;if(st.toString()!=="[object Window]"){var N=st.ownerDocument;return N&&N.defaultView||window}return st}function tr(st){return st instanceof ps(st).Element||st instanceof Element}function zn(st){return st instanceof ps(st).HTMLElement||st instanceof HTMLElement}function uA(st){return typeof ShadowRoot<"u"&&(st instanceof ps(st).ShadowRoot||st instanceof ShadowRoot)}const Fl={name:"applyStyles",enabled:!0,phase:"write",fn:function(st){var N=st.state;Object.keys(N.elements).forEach(function(q){var ft=N.styles[q]||{},Mt=N.attributes[q]||{},xt=N.elements[q];zn(xt)&&Cn(xt)&&(Object.assign(xt.style,ft),Object.keys(Mt).forEach(function(Vt){var Yt=Mt[Vt];Yt===!1?xt.removeAttribute(Vt):xt.setAttribute(Vt,Yt===!0?"":Yt)}))})},effect:function(st){var N=st.state,q={popper:{position:N.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(N.elements.popper.style,q.popper),N.styles=q,N.elements.arrow&&Object.assign(N.elements.arrow.style,q.arrow),function(){Object.keys(N.elements).forEach(function(ft){var Mt=N.elements[ft],xt=N.attributes[ft]||{},Vt=Object.keys(N.styles.hasOwnProperty(ft)?N.styles[ft]:q[ft]).reduce(function(Yt,ce){return Yt[ce]="",Yt},{});zn(Mt)&&Cn(Mt)&&(Object.assign(Mt.style,Vt),Object.keys(xt).forEach(function(Yt){Mt.removeAttribute(Yt)}))})}},requires:["computeStyles"]};function Xn(st){return st.split("-")[0]}var jn=Math.max,Ni=Math.min,er=Math.round;function Ka(){var st=navigator.userAgentData;return st!=null&&st.brands&&Array.isArray(st.brands)?st.brands.map(function(N){return N.brand+"/"+N.version}).join(" "):navigator.userAgent}function ks(){return!/^((?!chrome|android).)*safari/i.test(Ka())}function Di(st,N,q){N===void 0&&(N=!1),q===void 0&&(q=!1);var ft=st.getBoundingClientRect(),Mt=1,xt=1;N&&zn(st)&&(Mt=st.offsetWidth>0&&er(ft.width)/st.offsetWidth||1,xt=st.offsetHeight>0&&er(ft.height)/st.offsetHeight||1);var Vt=(tr(st)?ps(st):window).visualViewport,Yt=!ks()&&q,ce=(ft.left+(Yt&&Vt?Vt.offsetLeft:0))/Mt,_e=(ft.top+(Yt&&Vt?Vt.offsetTop:0))/xt,Ee=ft.width/Mt,me=ft.height/xt;return{width:Ee,height:me,top:_e,right:ce+Ee,bottom:_e+me,left:ce,x:ce,y:_e}}function Ga(st){var N=Di(st),q=st.offsetWidth,ft=st.offsetHeight;return Math.abs(N.width-q)<=1&&(q=N.width),Math.abs(N.height-ft)<=1&&(ft=N.height),{x:st.offsetLeft,y:st.offsetTop,width:q,height:ft}}function Wa(st,N){var q=N.getRootNode&&N.getRootNode();if(st.contains(N))return!0;if(q&&uA(q)){var ft=N;do{if(ft&&st.isSameNode(ft))return!0;ft=ft.parentNode||ft.host}while(ft)}return!1}function qi(st){return ps(st).getComputedStyle(st)}function od(st){return["table","td","th"].indexOf(Cn(st))>=0}function Us(st){return((tr(st)?st.ownerDocument:st.document)||window.document).documentElement}function nr(st){return Cn(st)==="html"?st:st.assignedSlot||st.parentNode||(uA(st)?st.host:null)||Us(st)}function ad(st){return zn(st)&&qi(st).position!=="fixed"?st.offsetParent:null}function ga(st){for(var N=ps(st),q=ad(st);q&&od(q)&&qi(q).position==="static";)q=ad(q);return q&&(Cn(q)==="html"||Cn(q)==="body"&&qi(q).position==="static")?N:q||function(ft){var Mt=/firefox/i.test(Ka());if(/Trident/i.test(Ka())&&zn(ft)&&qi(ft).position==="fixed")return null;var xt=nr(ft);for(uA(xt)&&(xt=xt.host);zn(xt)&&["html","body"].indexOf(Cn(xt))<0;){var Vt=qi(xt);if(Vt.transform!=="none"||Vt.perspective!=="none"||Vt.contain==="paint"||["transform","perspective"].indexOf(Vt.willChange)!==-1||Mt&&Vt.willChange==="filter"||Mt&&Vt.filter&&Vt.filter!=="none")return xt;xt=xt.parentNode}return null}(st)||N}function _c(st){return["top","bottom"].indexOf(st)>=0?"x":"y"}function He(st,N,q){return jn(st,Ni(N,q))}function Kr(st){return Object.assign({},{top:0,right:0,bottom:0,left:0},st)}function In(st,N){return N.reduce(function(q,ft){return q[ft]=st,q},{})}const hA={name:"arrow",enabled:!0,phase:"main",fn:function(st){var N,q=st.state,ft=st.name,Mt=st.options,xt=q.elements.arrow,Vt=q.modifiersData.popperOffsets,Yt=Xn(q.placement),ce=_c(Yt),_e=[Wi,_s].indexOf(Yt)>=0?"height":"width";if(xt&&Vt){var Ee=function(Zn,Wn){return Kr(typeof(Zn=typeof Zn=="function"?Zn(Object.assign({},Wn.rects,{placement:Wn.placement})):Zn)!="number"?Zn:In(Zn,Pl))}(Mt.padding,q),me=Ga(xt),un=ce==="y"?Gi:Wi,je=ce==="y"?fs:_s,en=q.rects.reference[_e]+q.rects.reference[ce]-Vt[ce]-q.rects.popper[_e],Xe=Vt[ce]-q.rects.reference[ce],Ze=ga(xt),ni=Ze?ce==="y"?Ze.clientHeight||0:Ze.clientWidth||0:0,ki=en/2-Xe/2,kn=Ee[un],Gn=ni-me[_e]-Ee[je],pn=ni/2-me[_e]/2+ki,Bn=He(kn,pn,Gn),ii=ce;q.modifiersData[ft]=((N={})[ii]=Bn,N.centerOffset=Bn-pn,N)}},effect:function(st){var N=st.state,q=st.options.element,ft=q===void 0?"[data-popper-arrow]":q;ft!=null&&(typeof ft!="string"||(ft=N.elements.popper.querySelector(ft)))&&Wa(N.elements.popper,ft)&&(N.elements.arrow=ft)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vo(st){return st.split("-")[1]}var ld={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kc(st){var N,q=st.popper,ft=st.popperRect,Mt=st.placement,xt=st.variation,Vt=st.offsets,Yt=st.position,ce=st.gpuAcceleration,_e=st.adaptive,Ee=st.roundOffsets,me=st.isFixed,un=Vt.x,je=un===void 0?0:un,en=Vt.y,Xe=en===void 0?0:en,Ze=typeof Ee=="function"?Ee({x:je,y:Xe}):{x:je,y:Xe};je=Ze.x,Xe=Ze.y;var ni=Vt.hasOwnProperty("x"),ki=Vt.hasOwnProperty("y"),kn=Wi,Gn=Gi,pn=window;if(_e){var Bn=ga(q),ii="clientHeight",Zn="clientWidth";Bn===ps(q)&&qi(Bn=Us(q)).position!=="static"&&Yt==="absolute"&&(ii="scrollHeight",Zn="scrollWidth"),(Mt===Gi||(Mt===Wi||Mt===_s)&&xt===Qa)&&(Gn=fs,Xe-=(me&&Bn===pn&&pn.visualViewport?pn.visualViewport.height:Bn[ii])-ft.height,Xe*=ce?1:-1),Mt!==Wi&&(Mt!==Gi&&Mt!==fs||xt!==Qa)||(kn=_s,je-=(me&&Bn===pn&&pn.visualViewport?pn.visualViewport.width:Bn[Zn])-ft.width,je*=ce?1:-1)}var Wn,Xi=Object.assign({position:Yt},_e&&ld),Xo=Ee===!0?function(Br,cr){var Zo=Br.x,_a=Br.y,Hi=cr.devicePixelRatio||1;return{x:er(Zo*Hi)/Hi||0,y:er(_a*Hi)/Hi||0}}({x:je,y:Xe},ps(q)):{x:je,y:Xe};return je=Xo.x,Xe=Xo.y,ce?Object.assign({},Xi,((Wn={})[Gn]=ki?"0":"",Wn[kn]=ni?"0":"",Wn.transform=(pn.devicePixelRatio||1)<=1?"translate("+je+"px, "+Xe+"px)":"translate3d("+je+"px, "+Xe+"px, 0)",Wn)):Object.assign({},Xi,((N={})[Gn]=ki?Xe+"px":"",N[kn]=ni?je+"px":"",N.transform="",N))}const ir={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(st){var N=st.state,q=st.options,ft=q.gpuAcceleration,Mt=ft===void 0||ft,xt=q.adaptive,Vt=xt===void 0||xt,Yt=q.roundOffsets,ce=Yt===void 0||Yt,_e={placement:Xn(N.placement),variation:Vo(N.placement),popper:N.elements.popper,popperRect:N.rects.popper,gpuAcceleration:Mt,isFixed:N.options.strategy==="fixed"};N.modifiersData.popperOffsets!=null&&(N.styles.popper=Object.assign({},N.styles.popper,kc(Object.assign({},_e,{offsets:N.modifiersData.popperOffsets,position:N.options.strategy,adaptive:Vt,roundOffsets:ce})))),N.modifiersData.arrow!=null&&(N.styles.arrow=Object.assign({},N.styles.arrow,kc(Object.assign({},_e,{offsets:N.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ce})))),N.attributes.popper=Object.assign({},N.attributes.popper,{"data-popper-placement":N.placement})},data:{}};var Ol={passive:!0};const Ko={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(st){var N=st.state,q=st.instance,ft=st.options,Mt=ft.scroll,xt=Mt===void 0||Mt,Vt=ft.resize,Yt=Vt===void 0||Vt,ce=ps(N.elements.popper),_e=[].concat(N.scrollParents.reference,N.scrollParents.popper);return xt&&_e.forEach(function(Ee){Ee.addEventListener("scroll",q.update,Ol)}),Yt&&ce.addEventListener("resize",q.update,Ol),function(){xt&&_e.forEach(function(Ee){Ee.removeEventListener("scroll",q.update,Ol)}),Yt&&ce.removeEventListener("resize",q.update,Ol)}},data:{}};var Ri={left:"right",right:"left",bottom:"top",top:"bottom"};function fn(st){return st.replace(/left|right|bottom|top/g,function(N){return Ri[N]})}var fA={start:"end",end:"start"};function $a(st){return st.replace(/start|end/g,function(N){return fA[N]})}function yc(st){var N=ps(st);return{scrollLeft:N.pageXOffset,scrollTop:N.pageYOffset}}function Go(st){return Di(Us(st)).left+yc(st).scrollLeft}function Wo(st){var N=qi(st),q=N.overflow,ft=N.overflowX,Mt=N.overflowY;return/auto|scroll|overlay|hidden/.test(q+Mt+ft)}function qa(st){return["html","body","#document"].indexOf(Cn(st))>=0?st.ownerDocument.body:zn(st)&&Wo(st)?st:qa(nr(st))}function Ya(st,N){var q;N===void 0&&(N=[]);var ft=qa(st),Mt=ft===((q=st.ownerDocument)==null?void 0:q.body),xt=ps(ft),Vt=Mt?[xt].concat(xt.visualViewport||[],Wo(ft)?ft:[]):ft,Yt=N.concat(Vt);return Mt?Yt:Yt.concat(Ya(nr(Vt)))}function ln(st){return Object.assign({},st,{left:st.x,top:st.y,right:st.x+st.width,bottom:st.y+st.height})}function Nl(st,N,q){return N===sd?ln(function(ft,Mt){var xt=ps(ft),Vt=Us(ft),Yt=xt.visualViewport,ce=Vt.clientWidth,_e=Vt.clientHeight,Ee=0,me=0;if(Yt){ce=Yt.width,_e=Yt.height;var un=ks();(un||!un&&Mt==="fixed")&&(Ee=Yt.offsetLeft,me=Yt.offsetTop)}return{width:ce,height:_e,x:Ee+Go(ft),y:me}}(st,q)):tr(N)?function(ft,Mt){var xt=Di(ft,!1,Mt==="fixed");return xt.top=xt.top+ft.clientTop,xt.left=xt.left+ft.clientLeft,xt.bottom=xt.top+ft.clientHeight,xt.right=xt.left+ft.clientWidth,xt.width=ft.clientWidth,xt.height=ft.clientHeight,xt.x=xt.left,xt.y=xt.top,xt}(N,q):ln(function(ft){var Mt,xt=Us(ft),Vt=yc(ft),Yt=(Mt=ft.ownerDocument)==null?void 0:Mt.body,ce=jn(xt.scrollWidth,xt.clientWidth,Yt?Yt.scrollWidth:0,Yt?Yt.clientWidth:0),_e=jn(xt.scrollHeight,xt.clientHeight,Yt?Yt.scrollHeight:0,Yt?Yt.clientHeight:0),Ee=-Vt.scrollLeft+Go(ft),me=-Vt.scrollTop;return qi(Yt||xt).direction==="rtl"&&(Ee+=jn(xt.clientWidth,Yt?Yt.clientWidth:0)-ce),{width:ce,height:_e,x:Ee,y:me}}(Us(st)))}function Qs(st){var N,q=st.reference,ft=st.element,Mt=st.placement,xt=Mt?Xn(Mt):null,Vt=Mt?Vo(Mt):null,Yt=q.x+q.width/2-ft.width/2,ce=q.y+q.height/2-ft.height/2;switch(xt){case Gi:N={x:Yt,y:q.y-ft.height};break;case fs:N={x:Yt,y:q.y+q.height};break;case _s:N={x:q.x+q.width,y:ce};break;case Wi:N={x:q.x-ft.width,y:ce};break;default:N={x:q.x,y:q.y}}var _e=xt?_c(xt):null;if(_e!=null){var Ee=_e==="y"?"height":"width";switch(Vt){case Rs:N[_e]=N[_e]-(q[Ee]/2-ft[Ee]/2);break;case Qa:N[_e]=N[_e]+(q[Ee]/2-ft[Ee]/2)}}return N}function yr(st,N){N===void 0&&(N={});var q=N,ft=q.placement,Mt=ft===void 0?st.placement:ft,xt=q.strategy,Vt=xt===void 0?st.strategy:xt,Yt=q.boundary,ce=Yt===void 0?AA:Yt,_e=q.rootBoundary,Ee=_e===void 0?sd:_e,me=q.elementContext,un=me===void 0?Ha:me,je=q.altBoundary,en=je!==void 0&&je,Xe=q.padding,Ze=Xe===void 0?0:Xe,ni=Kr(typeof Ze!="number"?Ze:In(Ze,Pl)),ki=un===Ha?Ou:Ha,kn=st.rects.popper,Gn=st.elements[en?ki:un],pn=function(cr,Zo,_a,Hi){var Zt=Zo==="clippingParents"?function(li){var Sr=Ya(nr(li)),Jo=["absolute","fixed"].indexOf(qi(li).position)>=0&&zn(li)?ga(li):li;return tr(Jo)?Sr.filter(function(tl){return tr(tl)&&Wa(tl,Jo)&&Cn(tl)!=="body"}):[]}(cr):[].concat(Zo),Ja=[].concat(Zt,[_a]),an=Ja[0],Es=Ja.reduce(function(li,Sr){var Jo=Nl(cr,Sr,Hi);return li.top=jn(Jo.top,li.top),li.right=Ni(Jo.right,li.right),li.bottom=Ni(Jo.bottom,li.bottom),li.left=jn(Jo.left,li.left),li},Nl(cr,an,Hi));return Es.width=Es.right-Es.left,Es.height=Es.bottom-Es.top,Es.x=Es.left,Es.y=Es.top,Es}(tr(Gn)?Gn:Gn.contextElement||Us(st.elements.popper),ce,Ee,Vt),Bn=Di(st.elements.reference),ii=Qs({reference:Bn,element:kn,placement:Mt}),Zn=ln(Object.assign({},kn,ii)),Wn=un===Ha?Zn:Bn,Xi={top:pn.top-Wn.top+ni.top,bottom:Wn.bottom-pn.bottom+ni.bottom,left:pn.left-Wn.left+ni.left,right:Wn.right-pn.right+ni.right},Xo=st.modifiersData.offset;if(un===Ha&&Xo){var Br=Xo[Mt];Object.keys(Xi).forEach(function(cr){var Zo=[_s,fs].indexOf(cr)>=0?1:-1,_a=[Gi,fs].indexOf(cr)>=0?"y":"x";Xi[cr]+=Br[_a]*Zo})}return Xi}function cd(st,N){N===void 0&&(N={});var q=N,ft=q.placement,Mt=q.boundary,xt=q.rootBoundary,Vt=q.padding,Yt=q.flipVariations,ce=q.allowedAutoPlacements,_e=ce===void 0?Js:ce,Ee=Vo(ft),me=Ee?Yt?za:za.filter(function(en){return Vo(en)===Ee}):Pl,un=me.filter(function(en){return _e.indexOf(en)>=0});un.length===0&&(un=me);var je=un.reduce(function(en,Xe){return en[Xe]=yr(st,{placement:Xe,boundary:Mt,rootBoundary:xt,padding:Vt})[Xn(Xe)],en},{});return Object.keys(je).sort(function(en,Xe){return je[en]-je[Xe]})}const Nu={name:"flip",enabled:!0,phase:"main",fn:function(st){var N=st.state,q=st.options,ft=st.name;if(!N.modifiersData[ft]._skip){for(var Mt=q.mainAxis,xt=Mt===void 0||Mt,Vt=q.altAxis,Yt=Vt===void 0||Vt,ce=q.fallbackPlacements,_e=q.padding,Ee=q.boundary,me=q.rootBoundary,un=q.altBoundary,je=q.flipVariations,en=je===void 0||je,Xe=q.allowedAutoPlacements,Ze=N.options.placement,ni=Xn(Ze),ki=ce||(ni!==Ze&&en?function(li){if(Xn(li)===_r)return[];var Sr=fn(li);return[$a(li),Sr,$a(Sr)]}(Ze):[fn(Ze)]),kn=[Ze].concat(ki).reduce(function(li,Sr){return li.concat(Xn(Sr)===_r?cd(N,{placement:Sr,boundary:Ee,rootBoundary:me,padding:_e,flipVariations:en,allowedAutoPlacements:Xe}):Sr)},[]),Gn=N.rects.reference,pn=N.rects.popper,Bn=new Map,ii=!0,Zn=kn[0],Wn=0;Wn<kn.length;Wn++){var Xi=kn[Wn],Xo=Xn(Xi),Br=Vo(Xi)===Rs,cr=[Gi,fs].indexOf(Xo)>=0,Zo=cr?"width":"height",_a=yr(N,{placement:Xi,boundary:Ee,rootBoundary:me,altBoundary:un,padding:_e}),Hi=cr?Br?_s:Wi:Br?fs:Gi;Gn[Zo]>pn[Zo]&&(Hi=fn(Hi));var Zt=fn(Hi),Ja=[];if(xt&&Ja.push(_a[Xo]<=0),Yt&&Ja.push(_a[Hi]<=0,_a[Zt]<=0),Ja.every(function(li){return li})){Zn=Xi,ii=!1;break}Bn.set(Xi,Ja)}if(ii)for(var an=function(li){var Sr=kn.find(function(Jo){var tl=Bn.get(Jo);if(tl)return tl.slice(0,li).every(function(qg){return qg})});if(Sr)return Zn=Sr,"break"},Es=en?3:1;Es>0&&an(Es)!=="break";Es--);N.placement!==Zn&&(N.modifiersData[ft]._skip=!0,N.placement=Zn,N.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function dd(st,N,q){return q===void 0&&(q={x:0,y:0}),{top:st.top-N.height-q.y,right:st.right-N.width+q.x,bottom:st.bottom-N.height+q.y,left:st.left-N.width-q.x}}function S(st){return[Gi,_s,fs,Wi].some(function(N){return st[N]>=0})}const O={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(st){var N=st.state,q=st.name,ft=N.rects.reference,Mt=N.rects.popper,xt=N.modifiersData.preventOverflow,Vt=yr(N,{elementContext:"reference"}),Yt=yr(N,{altBoundary:!0}),ce=dd(Vt,ft),_e=dd(Yt,Mt,xt),Ee=S(ce),me=S(_e);N.modifiersData[q]={referenceClippingOffsets:ce,popperEscapeOffsets:_e,isReferenceHidden:Ee,hasPopperEscaped:me},N.attributes.popper=Object.assign({},N.attributes.popper,{"data-popper-reference-hidden":Ee,"data-popper-escaped":me})}},j={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(st){var N=st.state,q=st.options,ft=st.name,Mt=q.offset,xt=Mt===void 0?[0,0]:Mt,Vt=Js.reduce(function(Ee,me){return Ee[me]=function(un,je,en){var Xe=Xn(un),Ze=[Wi,Gi].indexOf(Xe)>=0?-1:1,ni=typeof en=="function"?en(Object.assign({},je,{placement:un})):en,ki=ni[0],kn=ni[1];return ki=ki||0,kn=(kn||0)*Ze,[Wi,_s].indexOf(Xe)>=0?{x:kn,y:ki}:{x:ki,y:kn}}(me,N.rects,xt),Ee},{}),Yt=Vt[N.placement],ce=Yt.x,_e=Yt.y;N.modifiersData.popperOffsets!=null&&(N.modifiersData.popperOffsets.x+=ce,N.modifiersData.popperOffsets.y+=_e),N.modifiersData[ft]=Vt}},G={name:"popperOffsets",enabled:!0,phase:"read",fn:function(st){var N=st.state,q=st.name;N.modifiersData[q]=Qs({reference:N.rects.reference,element:N.rects.popper,placement:N.placement})},data:{}},et={name:"preventOverflow",enabled:!0,phase:"main",fn:function(st){var N=st.state,q=st.options,ft=st.name,Mt=q.mainAxis,xt=Mt===void 0||Mt,Vt=q.altAxis,Yt=Vt!==void 0&&Vt,ce=q.boundary,_e=q.rootBoundary,Ee=q.altBoundary,me=q.padding,un=q.tether,je=un===void 0||un,en=q.tetherOffset,Xe=en===void 0?0:en,Ze=yr(N,{boundary:ce,rootBoundary:_e,padding:me,altBoundary:Ee}),ni=Xn(N.placement),ki=Vo(N.placement),kn=!ki,Gn=_c(ni),pn=Gn==="x"?"y":"x",Bn=N.modifiersData.popperOffsets,ii=N.rects.reference,Zn=N.rects.popper,Wn=typeof Xe=="function"?Xe(Object.assign({},N.rects,{placement:N.placement})):Xe,Xi=typeof Wn=="number"?{mainAxis:Wn,altAxis:Wn}:Object.assign({mainAxis:0,altAxis:0},Wn),Xo=N.modifiersData.offset?N.modifiersData.offset[N.placement]:null,Br={x:0,y:0};if(Bn){if(xt){var cr,Zo=Gn==="y"?Gi:Wi,_a=Gn==="y"?fs:_s,Hi=Gn==="y"?"height":"width",Zt=Bn[Gn],Ja=Zt+Ze[Zo],an=Zt-Ze[_a],Es=je?-Zn[Hi]/2:0,li=ki===Rs?ii[Hi]:Zn[Hi],Sr=ki===Rs?-Zn[Hi]:-ii[Hi],Jo=N.elements.arrow,tl=je&&Jo?Ga(Jo):{width:0,height:0},qg=N.modifiersData["arrow#persistent"]?N.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Sw=qg[Zo],M0=qg[_a],_A=He(0,ii[Hi],tl[Hi]),L0=kn?ii[Hi]/2-Es-_A-Sw-Xi.mainAxis:li-_A-Sw-Xi.mainAxis,P0=kn?-ii[Hi]/2+Es+_A+M0+Xi.mainAxis:Sr+_A+M0+Xi.mainAxis,Tw=N.elements.arrow&&ga(N.elements.arrow),Iw=Tw?Gn==="y"?Tw.clientTop||0:Tw.clientLeft||0:0,Dw=(cr=Xo==null?void 0:Xo[Gn])!=null?cr:0,CB=Zt+P0-Dw,pd=He(je?Ni(Ja,Zt+L0-Dw-Iw):Ja,Zt,je?jn(an,CB):an);Bn[Gn]=pd,Br[Gn]=pd-Zt}if(Yt){var Mw,kA=Gn==="x"?Gi:Wi,ci=Gn==="x"?fs:_s,Tr=Bn[pn],ko=pn==="y"?"height":"width",Lw=Tr+Ze[kA],Yg=Tr-Ze[ci],$u=[Gi,Wi].indexOf(ni)!==-1,F0=(Mw=Xo==null?void 0:Xo[pn])!=null?Mw:0,O0=$u?Lw:Tr-ii[ko]-Zn[ko]-F0+Xi.altAxis,N0=$u?Tr+ii[ko]+Zn[ko]-F0-Xi.altAxis:Yg,Xg=je&&$u?function(EB,xB,Pw){var R0=He(EB,xB,Pw);return R0>Pw?Pw:R0}(O0,Tr,N0):He(je?O0:Lw,Tr,je?N0:Yg);Bn[pn]=Xg,Br[pn]=Xg-Tr}N.modifiersData[ft]=Br}},requiresIfExists:["offset"]};function nt(st,N,q){q===void 0&&(q=!1);var ft,Mt,xt=zn(N),Vt=zn(N)&&function(me){var un=me.getBoundingClientRect(),je=er(un.width)/me.offsetWidth||1,en=er(un.height)/me.offsetHeight||1;return je!==1||en!==1}(N),Yt=Us(N),ce=Di(st,Vt,q),_e={scrollLeft:0,scrollTop:0},Ee={x:0,y:0};return(xt||!xt&&!q)&&((Cn(N)!=="body"||Wo(Yt))&&(_e=(ft=N)!==ps(ft)&&zn(ft)?{scrollLeft:(Mt=ft).scrollLeft,scrollTop:Mt.scrollTop}:yc(ft)),zn(N)?((Ee=Di(N,!0)).x+=N.clientLeft,Ee.y+=N.clientTop):Yt&&(Ee.x=Go(Yt))),{x:ce.left+_e.scrollLeft-Ee.x,y:ce.top+_e.scrollTop-Ee.y,width:ce.width,height:ce.height}}function at(st){var N=new Map,q=new Set,ft=[];function Mt(xt){q.add(xt.name),[].concat(xt.requires||[],xt.requiresIfExists||[]).forEach(function(Vt){if(!q.has(Vt)){var Yt=N.get(Vt);Yt&&Mt(Yt)}}),ft.push(xt)}return st.forEach(function(xt){N.set(xt.name,xt)}),st.forEach(function(xt){q.has(xt.name)||Mt(xt)}),ft}var kt={placement:"bottom",modifiers:[],strategy:"absolute"};function wt(){for(var st=arguments.length,N=new Array(st),q=0;q<st;q++)N[q]=arguments[q];return!N.some(function(ft){return!(ft&&typeof ft.getBoundingClientRect=="function")})}function Bt(st){st===void 0&&(st={});var N=st,q=N.defaultModifiers,ft=q===void 0?[]:q,Mt=N.defaultOptions,xt=Mt===void 0?kt:Mt;return function(Vt,Yt,ce){ce===void 0&&(ce=xt);var _e,Ee,me={placement:"bottom",orderedModifiers:[],options:Object.assign({},kt,xt),modifiersData:{},elements:{reference:Vt,popper:Yt},attributes:{},styles:{}},un=[],je=!1,en={state:me,setOptions:function(Ze){var ni=typeof Ze=="function"?Ze(me.options):Ze;Xe(),me.options=Object.assign({},xt,me.options,ni),me.scrollParents={reference:tr(Vt)?Ya(Vt):Vt.contextElement?Ya(Vt.contextElement):[],popper:Ya(Yt)};var ki,kn,Gn=function(pn){var Bn=at(pn);return Qe.reduce(function(ii,Zn){return ii.concat(Bn.filter(function(Wn){return Wn.phase===Zn}))},[])}((ki=[].concat(ft,me.options.modifiers),kn=ki.reduce(function(pn,Bn){var ii=pn[Bn.name];return pn[Bn.name]=ii?Object.assign({},ii,Bn,{options:Object.assign({},ii.options,Bn.options),data:Object.assign({},ii.data,Bn.data)}):Bn,pn},{}),Object.keys(kn).map(function(pn){return kn[pn]})));return me.orderedModifiers=Gn.filter(function(pn){return pn.enabled}),me.orderedModifiers.forEach(function(pn){var Bn=pn.name,ii=pn.options,Zn=ii===void 0?{}:ii,Wn=pn.effect;if(typeof Wn=="function"){var Xi=Wn({state:me,name:Bn,instance:en,options:Zn});un.push(Xi||function(){})}}),en.update()},forceUpdate:function(){if(!je){var Ze=me.elements,ni=Ze.reference,ki=Ze.popper;if(wt(ni,ki)){me.rects={reference:nt(ni,ga(ki),me.options.strategy==="fixed"),popper:Ga(ki)},me.reset=!1,me.placement=me.options.placement,me.orderedModifiers.forEach(function(Wn){return me.modifiersData[Wn.name]=Object.assign({},Wn.data)});for(var kn=0;kn<me.orderedModifiers.length;kn++)if(me.reset!==!0){var Gn=me.orderedModifiers[kn],pn=Gn.fn,Bn=Gn.options,ii=Bn===void 0?{}:Bn,Zn=Gn.name;typeof pn=="function"&&(me=pn({state:me,options:ii,name:Zn,instance:en})||me)}else me.reset=!1,kn=-1}}},update:(_e=function(){return new Promise(function(Ze){en.forceUpdate(),Ze(me)})},function(){return Ee||(Ee=new Promise(function(Ze){Promise.resolve().then(function(){Ee=void 0,Ze(_e())})})),Ee}),destroy:function(){Xe(),je=!0}};if(!wt(Vt,Yt))return en;function Xe(){un.forEach(function(Ze){return Ze()}),un=[]}return en.setOptions(ce).then(function(Ze){!je&&ce.onFirstUpdate&&ce.onFirstUpdate(Ze)}),en}}var Ht=Bt(),$t=Bt({defaultModifiers:[Ko,G,ir,Fl]}),Rt=Bt({defaultModifiers:[Ko,G,ir,Fl,j,Nu,et,hA,O]});const te=Object.freeze(Object.defineProperty({__proto__:null,afterMain:$i,afterRead:Va,afterWrite:rd,applyStyles:Fl,arrow:hA,auto:_r,basePlacements:Pl,beforeMain:wn,beforeRead:ja,beforeWrite:kr,bottom:fs,clippingParents:AA,computeStyles:ir,createPopper:Rt,createPopperBase:Ht,createPopperLite:$t,detectOverflow:yr,end:Qa,eventListeners:Ko,flip:Nu,hide:O,left:Wi,main:ei,modifierPhases:Qe,offset:j,placements:Js,popper:Ha,popperGenerator:Bt,popperOffsets:G,preventOverflow:et,read:pa,reference:Ou,right:_s,start:Rs,top:Gi,variationPlacements:za,viewport:sd,write:bo},Symbol.toStringTag,{value:"Module"})),Pe="dropdown",Je=".bs.dropdown",We=".data-api",as="ArrowUp",hi="ArrowDown",Cr=`hide${Je}`,Gr=`hidden${Je}`,cn=`show${Je}`,Wr=`shown${Je}`,nn=`click${Je}${We}`,oi=`keydown${Je}${We}`,$r=`keyup${Je}${We}`,Ui="show",Qi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ma=`${Qi}.${Ui}`,ys=".dropdown-menu",Er=I()?"top-end":"top-start",qr=I()?"top-start":"top-end",sr=I()?"bottom-end":"bottom-start",Ad=I()?"bottom-start":"bottom-end",Yr=I()?"left-start":"right-start",wo=I()?"right-start":"left-start",Xr={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Rl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Zr extends Tt{constructor(N,q){super(N,q),this._popper=null,this._parent=this._element.parentNode,this._menu=jt.next(this._element,ys)[0]||jt.prev(this._element,ys)[0]||jt.findOne(ys,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Xr}static get DefaultType(){return Rl}static get NAME(){return Pe}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const N={relatedTarget:this._element};if(!yt.trigger(this._element,cn,N).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const q of[].concat(...document.body.children))yt.on(q,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ui),this._element.classList.add(Ui),yt.trigger(this._element,Wr,N)}}hide(){if(g(this._element)||!this._isShown())return;const N={relatedTarget:this._element};this._completeHide(N)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(N){if(!yt.trigger(this._element,Cr,N).defaultPrevented){if("ontouchstart"in document.documentElement)for(const q of[].concat(...document.body.children))yt.off(q,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ui),this._element.classList.remove(Ui),this._element.setAttribute("aria-expanded","false"),le.removeDataAttribute(this._menu,"popper"),yt.trigger(this._element,Gr,N),this._element.focus()}}_getConfig(N){if(typeof(N=super._getConfig(N)).reference=="object"&&!d(N.reference)&&typeof N.reference.getBoundingClientRect!="function")throw new TypeError(`${Pe.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return N}_createPopper(){if(te===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let N=this._element;this._config.reference==="parent"?N=this._parent:d(this._config.reference)?N=h(this._config.reference):typeof this._config.reference=="object"&&(N=this._config.reference);const q=this._getPopperConfig();this._popper=Rt(N,this._menu,q)}_isShown(){return this._menu.classList.contains(Ui)}_getPlacement(){const N=this._parent;if(N.classList.contains("dropend"))return Yr;if(N.classList.contains("dropstart"))return wo;if(N.classList.contains("dropup-center"))return"top";if(N.classList.contains("dropdown-center"))return"bottom";const q=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return N.classList.contains("dropup")?q?qr:Er:q?Ad:sr}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:N}=this._config;return typeof N=="string"?N.split(",").map(q=>Number.parseInt(q,10)):typeof N=="function"?q=>N(q,this._element):N}_getPopperConfig(){const N={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(le.setDataAttribute(this._menu,"popper","static"),N.modifiers=[{name:"applyStyles",enabled:!1}]),{...N,...R(this._config.popperConfig,[void 0,N])}}_selectMenuItem({key:N,target:q}){const ft=jt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Mt=>p(Mt));ft.length&&V(ft,q,N===hi,!ft.includes(q)).focus()}static jQueryInterface(N){return this.each(function(){const q=Zr.getOrCreateInstance(this,N);if(typeof N=="string"){if(q[N]===void 0)throw new TypeError(`No method named "${N}"`);q[N]()}})}static clearMenus(N){if(N.button===2||N.type==="keyup"&&N.key!=="Tab")return;const q=jt.find(ma);for(const ft of q){const Mt=Zr.getInstance(ft);if(!Mt||Mt._config.autoClose===!1)continue;const xt=N.composedPath(),Vt=xt.includes(Mt._menu);if(xt.includes(Mt._element)||Mt._config.autoClose==="inside"&&!Vt||Mt._config.autoClose==="outside"&&Vt||Mt._menu.contains(N.target)&&(N.type==="keyup"&&N.key==="Tab"||/input|select|option|textarea|form/i.test(N.target.tagName)))continue;const Yt={relatedTarget:Mt._element};N.type==="click"&&(Yt.clickEvent=N),Mt._completeHide(Yt)}}static dataApiKeydownHandler(N){const q=/input|textarea/i.test(N.target.tagName),ft=N.key==="Escape",Mt=[as,hi].includes(N.key);if(!Mt&&!ft||q&&!ft)return;N.preventDefault();const xt=this.matches(Qi)?this:jt.prev(this,Qi)[0]||jt.next(this,Qi)[0]||jt.findOne(Qi,N.delegateTarget.parentNode),Vt=Zr.getOrCreateInstance(xt);if(Mt)return N.stopPropagation(),Vt.show(),void Vt._selectMenuItem(N);Vt._isShown()&&(N.stopPropagation(),Vt.hide(),xt.focus())}}yt.on(document,oi,Qi,Zr.dataApiKeydownHandler),yt.on(document,oi,ys,Zr.dataApiKeydownHandler),yt.on(document,nn,Zr.clearMenus),yt.on(document,$r,Zr.clearMenus),yt.on(document,nn,Qi,function(st){st.preventDefault(),Zr.getOrCreateInstance(this).toggle()}),F(Zr);const dn="backdrop",Cc="show",fi=`mousedown.bs.${dn}`,vo={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ec={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class pA extends Lt{constructor(N){super(),this._config=this._getConfig(N),this._isAppended=!1,this._element=null}static get Default(){return vo}static get DefaultType(){return Ec}static get NAME(){return dn}show(N){if(!this._config.isVisible)return void R(N);this._append();const q=this._getElement();this._config.isAnimated&&k(q),q.classList.add(Cc),this._emulateAnimation(()=>{R(N)})}hide(N){this._config.isVisible?(this._getElement().classList.remove(Cc),this._emulateAnimation(()=>{this.dispose(),R(N)})):R(N)}dispose(){this._isAppended&&(yt.off(this._element,fi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const N=document.createElement("div");N.className=this._config.className,this._config.isAnimated&&N.classList.add("fade"),this._element=N}return this._element}_configAfterMerge(N){return N.rootElement=h(N.rootElement),N}_append(){if(this._isAppended)return;const N=this._getElement();this._config.rootElement.append(N),yt.on(N,fi,()=>{R(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(N){Q(N,this._getElement(),this._config.isAnimated)}}const Jr=".bs.focustrap",$o=`focusin${Jr}`,_o=`keydown.tab${Jr}`,xr="backward",Ru={autofocus:!0,trapElement:null},ba={autofocus:"boolean",trapElement:"element"};class Ul extends Lt{constructor(N){super(),this._config=this._getConfig(N),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ru}static get DefaultType(){return ba}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),yt.off(document,Jr),yt.on(document,$o,N=>this._handleFocusin(N)),yt.on(document,_o,N=>this._handleKeydown(N)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,yt.off(document,Jr))}_handleFocusin(N){const{trapElement:q}=this._config;if(N.target===document||N.target===q||q.contains(N.target))return;const ft=jt.focusableChildren(q);ft.length===0?q.focus():this._lastTabNavDirection===xr?ft[ft.length-1].focus():ft[0].focus()}_handleKeydown(N){N.key==="Tab"&&(this._lastTabNavDirection=N.shiftKey?xr:"forward")}}const rr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xc=".sticky-top",qo="padding-right",Ql="margin-right";class or{constructor(){this._element=document.body}getWidth(){const N=document.documentElement.clientWidth;return Math.abs(window.innerWidth-N)}hide(){const N=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,qo,q=>q+N),this._setElementAttributes(rr,qo,q=>q+N),this._setElementAttributes(xc,Ql,q=>q-N)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,qo),this._resetElementAttributes(rr,qo),this._resetElementAttributes(xc,Ql)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(N,q,ft){const Mt=this.getWidth();this._applyManipulationCallback(N,xt=>{if(xt!==this._element&&window.innerWidth>xt.clientWidth+Mt)return;this._saveInitialAttribute(xt,q);const Vt=window.getComputedStyle(xt).getPropertyValue(q);xt.style.setProperty(q,`${ft(Number.parseFloat(Vt))}px`)})}_saveInitialAttribute(N,q){const ft=N.style.getPropertyValue(q);ft&&le.setDataAttribute(N,q,ft)}_resetElementAttributes(N,q){this._applyManipulationCallback(N,ft=>{const Mt=le.getDataAttribute(ft,q);Mt!==null?(le.removeDataAttribute(ft,q),ft.style.setProperty(q,Mt)):ft.style.removeProperty(q)})}_applyManipulationCallback(N,q){if(d(N))q(N);else for(const ft of jt.find(N,this._element))q(ft)}}const Yi=".bs.modal",Uu=`hide${Yi}`,Hl=`hidePrevented${Yi}`,zl=`hidden${Yi}`,gt=`show${Yi}`,Et=`shown${Yi}`,Nt=`resize${Yi}`,Ut=`click.dismiss${Yi}`,Gt=`mousedown.dismiss${Yi}`,re=`keydown.dismiss${Yi}`,ee=`click${Yi}.data-api`,we="modal-open",ue="show",ze="modal-static",Fe={backdrop:!0,focus:!0,keyboard:!0},Re={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $e extends Tt{constructor(N,q){super(N,q),this._dialog=jt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new or,this._addEventListeners()}static get Default(){return Fe}static get DefaultType(){return Re}static get NAME(){return"modal"}toggle(N){return this._isShown?this.hide():this.show(N)}show(N){this._isShown||this._isTransitioning||yt.trigger(this._element,gt,{relatedTarget:N}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(we),this._adjustDialog(),this._backdrop.show(()=>this._showElement(N)))}hide(){this._isShown&&!this._isTransitioning&&(yt.trigger(this._element,Uu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ue),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){yt.off(window,Yi),yt.off(this._dialog,Yi),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pA({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ul({trapElement:this._element})}_showElement(N){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const q=jt.findOne(".modal-body",this._dialog);q&&(q.scrollTop=0),k(this._element),this._element.classList.add(ue),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,yt.trigger(this._element,Et,{relatedTarget:N})},this._dialog,this._isAnimated())}_addEventListeners(){yt.on(this._element,re,N=>{N.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),yt.on(window,Nt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),yt.on(this._element,Gt,N=>{yt.one(this._element,Ut,q=>{this._element===N.target&&this._element===q.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(we),this._resetAdjustments(),this._scrollBar.reset(),yt.trigger(this._element,zl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(yt.trigger(this._element,Hl).defaultPrevented)return;const N=this._element.scrollHeight>document.documentElement.clientHeight,q=this._element.style.overflowY;q==="hidden"||this._element.classList.contains(ze)||(N||(this._element.style.overflowY="hidden"),this._element.classList.add(ze),this._queueCallback(()=>{this._element.classList.remove(ze),this._queueCallback(()=>{this._element.style.overflowY=q},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const N=this._element.scrollHeight>document.documentElement.clientHeight,q=this._scrollBar.getWidth(),ft=q>0;if(ft&&!N){const Mt=I()?"paddingLeft":"paddingRight";this._element.style[Mt]=`${q}px`}if(!ft&&N){const Mt=I()?"paddingRight":"paddingLeft";this._element.style[Mt]=`${q}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(N,q){return this.each(function(){const ft=$e.getOrCreateInstance(this,N);if(typeof N=="string"){if(ft[N]===void 0)throw new TypeError(`No method named "${N}"`);ft[N](q)}})}}yt.on(document,ee,'[data-bs-toggle="modal"]',function(st){const N=jt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&st.preventDefault(),yt.one(N,gt,ft=>{ft.defaultPrevented||yt.one(N,zl,()=>{p(this)&&this.focus()})});const q=jt.findOne(".modal.show");q&&$e.getInstance(q).hide(),$e.getOrCreateInstance(N).toggle(this)}),Ne($e),F($e);const Ae=".bs.offcanvas",En=".data-api",Cs=`load${Ae}${En}`,Vn="show",ar="showing",lr="hiding",Yo=".offcanvas.show",Ce=`show${Ae}`,bf=`shown${Ae}`,Xa=`hide${Ae}`,Qu=`hidePrevented${Ae}`,Mi=`hidden${Ae}`,Qg=`resize${Ae}`,_n=`click${Ae}${En}`,gA=`keydown.dismiss${Ae}`,wf={backdrop:!0,keyboard:!0,scroll:!1},ud={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class wa extends Tt{constructor(N,q){super(N,q),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return wf}static get DefaultType(){return ud}static get NAME(){return"offcanvas"}toggle(N){return this._isShown?this.hide():this.show(N)}show(N){this._isShown||yt.trigger(this._element,Ce,{relatedTarget:N}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new or().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ar),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Vn),this._element.classList.remove(ar),yt.trigger(this._element,bf,{relatedTarget:N})},this._element,!0))}hide(){this._isShown&&(yt.trigger(this._element,Xa).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(lr),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Vn,lr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new or().reset(),yt.trigger(this._element,Mi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const N=!!this._config.backdrop;return new pA({className:"offcanvas-backdrop",isVisible:N,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:N?()=>{this._config.backdrop!=="static"?this.hide():yt.trigger(this._element,Qu)}:null})}_initializeFocusTrap(){return new Ul({trapElement:this._element})}_addEventListeners(){yt.on(this._element,gA,N=>{N.key==="Escape"&&(this._config.keyboard?this.hide():yt.trigger(this._element,Qu))})}static jQueryInterface(N){return this.each(function(){const q=wa.getOrCreateInstance(this,N);if(typeof N=="string"){if(q[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);q[N](this)}})}}yt.on(document,_n,'[data-bs-toggle="offcanvas"]',function(st){const N=jt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&st.preventDefault(),g(this))return;yt.one(N,Mi,()=>{p(this)&&this.focus()});const q=jt.findOne(Yo);q&&q!==N&&wa.getInstance(q).hide(),wa.getOrCreateInstance(N).toggle(this)}),yt.on(window,Cs,()=>{for(const st of jt.find(Yo))wa.getOrCreateInstance(st).show()}),yt.on(window,Qg,()=>{for(const st of jt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(st).position!=="fixed"&&wa.getOrCreateInstance(st).hide()}),Ne(wa),F(wa);const pi={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},jl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Hg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Hu=(st,N)=>{const q=st.nodeName.toLowerCase();return N.includes(q)?!jl.has(q)||!!Hg.test(st.nodeValue):N.filter(ft=>ft instanceof RegExp).some(ft=>ft.test(q))},zu={allowList:pi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},vf={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hd={entry:"(string|element|function|null)",selector:"(string|element)"};class Vl extends Lt{constructor(N){super(),this._config=this._getConfig(N)}static get Default(){return zu}static get DefaultType(){return vf}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(N=>this._resolvePossibleFunction(N)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(N){return this._checkContent(N),this._config.content={...this._config.content,...N},this}toHtml(){const N=document.createElement("div");N.innerHTML=this._maybeSanitize(this._config.template);for(const[Mt,xt]of Object.entries(this._config.content))this._setContent(N,xt,Mt);const q=N.children[0],ft=this._resolvePossibleFunction(this._config.extraClass);return ft&&q.classList.add(...ft.split(" ")),q}_typeCheckConfig(N){super._typeCheckConfig(N),this._checkContent(N.content)}_checkContent(N){for(const[q,ft]of Object.entries(N))super._typeCheckConfig({selector:q,entry:ft},hd)}_setContent(N,q,ft){const Mt=jt.findOne(ft,N);Mt&&((q=this._resolvePossibleFunction(q))?d(q)?this._putElementInTemplate(h(q),Mt):this._config.html?Mt.innerHTML=this._maybeSanitize(q):Mt.textContent=q:Mt.remove())}_maybeSanitize(N){return this._config.sanitize?function(q,ft,Mt){if(!q.length)return q;if(Mt&&typeof Mt=="function")return Mt(q);const xt=new window.DOMParser().parseFromString(q,"text/html"),Vt=[].concat(...xt.body.querySelectorAll("*"));for(const Yt of Vt){const ce=Yt.nodeName.toLowerCase();if(!Object.keys(ft).includes(ce)){Yt.remove();continue}const _e=[].concat(...Yt.attributes),Ee=[].concat(ft["*"]||[],ft[ce]||[]);for(const me of _e)Hu(me,Ee)||Yt.removeAttribute(me.nodeName)}return xt.body.innerHTML}(N,this._config.allowList,this._config.sanitizeFn):N}_resolvePossibleFunction(N){return R(N,[void 0,this])}_putElementInTemplate(N,q){if(this._config.html)return q.innerHTML="",void q.append(N);q.textContent=N.textContent}}const _f=new Set(["sanitize","allowList","sanitizeFn"]),mA="fade",bA="show",ju=".tooltip-inner",Vu=".modal",zg="hide.bs.modal",m="hover",C="focus",M={AUTO:"auto",TOP:"top",RIGHT:I()?"left":"right",BOTTOM:"bottom",LEFT:I()?"right":"left"},z={allowList:pi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Y={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ct extends Tt{constructor(N,q){if(te===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(N,q),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return z}static get DefaultType(){return Y}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),yt.off(this._element.closest(Vu),zg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const N=yt.trigger(this._element,this.constructor.eventName("show")),q=(w(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(N.defaultPrevented||!q)return;this._disposePopper();const ft=this._getTipElement();this._element.setAttribute("aria-describedby",ft.getAttribute("id"));const{container:Mt}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Mt.append(ft),yt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(ft),ft.classList.add(bA),"ontouchstart"in document.documentElement)for(const xt of[].concat(...document.body.children))yt.on(xt,"mouseover",v);this._queueCallback(()=>{yt.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!yt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(bA),"ontouchstart"in document.documentElement)for(const N of[].concat(...document.body.children))yt.off(N,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[C]=!1,this._activeTrigger[m]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),yt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(N){const q=this._getTemplateFactory(N).toHtml();if(!q)return null;q.classList.remove(mA,bA),q.classList.add(`bs-${this.constructor.NAME}-auto`);const ft=(Mt=>{do Mt+=Math.floor(1e6*Math.random());while(document.getElementById(Mt));return Mt})(this.constructor.NAME).toString();return q.setAttribute("id",ft),this._isAnimated()&&q.classList.add(mA),q}setContent(N){this._newContent=N,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(N){return this._templateFactory?this._templateFactory.changeContent(N):this._templateFactory=new Vl({...this._config,content:N,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ju]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(N){return this.constructor.getOrCreateInstance(N.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(mA)}_isShown(){return this.tip&&this.tip.classList.contains(bA)}_createPopper(N){const q=R(this._config.placement,[this,N,this._element]),ft=M[q.toUpperCase()];return Rt(this._element,N,this._getPopperConfig(ft))}_getOffset(){const{offset:N}=this._config;return typeof N=="string"?N.split(",").map(q=>Number.parseInt(q,10)):typeof N=="function"?q=>N(q,this._element):N}_resolvePossibleFunction(N){return R(N,[this._element,this._element])}_getPopperConfig(N){const q={placement:N,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ft=>{this._getTipElement().setAttribute("data-popper-placement",ft.state.placement)}}]};return{...q,...R(this._config.popperConfig,[void 0,q])}}_setListeners(){const N=this._config.trigger.split(" ");for(const q of N)if(q==="click")yt.on(this._element,this.constructor.eventName("click"),this._config.selector,ft=>{this._initializeOnDelegatedTarget(ft).toggle()});else if(q!=="manual"){const ft=q===m?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Mt=q===m?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");yt.on(this._element,ft,this._config.selector,xt=>{const Vt=this._initializeOnDelegatedTarget(xt);Vt._activeTrigger[xt.type==="focusin"?C:m]=!0,Vt._enter()}),yt.on(this._element,Mt,this._config.selector,xt=>{const Vt=this._initializeOnDelegatedTarget(xt);Vt._activeTrigger[xt.type==="focusout"?C:m]=Vt._element.contains(xt.relatedTarget),Vt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},yt.on(this._element.closest(Vu),zg,this._hideModalHandler)}_fixTitle(){const N=this._element.getAttribute("title");N&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",N),this._element.setAttribute("data-bs-original-title",N),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(N,q){clearTimeout(this._timeout),this._timeout=setTimeout(N,q)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(N){const q=le.getDataAttributes(this._element);for(const ft of Object.keys(q))_f.has(ft)&&delete q[ft];return N={...q,...typeof N=="object"&&N?N:{}},N=this._mergeConfigObj(N),N=this._configAfterMerge(N),this._typeCheckConfig(N),N}_configAfterMerge(N){return N.container=N.container===!1?document.body:h(N.container),typeof N.delay=="number"&&(N.delay={show:N.delay,hide:N.delay}),typeof N.title=="number"&&(N.title=N.title.toString()),typeof N.content=="number"&&(N.content=N.content.toString()),N}_getDelegateConfig(){const N={};for(const[q,ft]of Object.entries(this._config))this.constructor.Default[q]!==ft&&(N[q]=ft);return N.selector=!1,N.trigger="manual",N}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(N){return this.each(function(){const q=ct.getOrCreateInstance(this,N);if(typeof N=="string"){if(q[N]===void 0)throw new TypeError(`No method named "${N}"`);q[N]()}})}}F(ct);const Ct=".popover-header",Ot=".popover-body",Qt={...ct.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Xt={...ct.DefaultType,content:"(null|string|element|function)"};class qt extends ct{static get Default(){return Qt}static get DefaultType(){return Xt}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ct]:this._getTitle(),[Ot]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(N){return this.each(function(){const q=qt.getOrCreateInstance(this,N);if(typeof N=="string"){if(q[N]===void 0)throw new TypeError(`No method named "${N}"`);q[N]()}})}}F(qt);const Oe=".bs.scrollspy",tn=`activate${Oe}`,ls=`click${Oe}`,cs=`load${Oe}.data-api`,ds="active",Dn="[href]",Bc=".nav-link",xw=`${Bc}, .nav-item > ${Bc}, .list-group-item`,jg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Bw={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Hs extends Tt{constructor(N,q){super(N,q),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return jg}static get DefaultType(){return Bw}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const N of this._observableSections.values())this._observer.observe(N)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(N){return N.target=h(N.target)||document.body,N.rootMargin=N.offset?`${N.offset}px 0px -30%`:N.rootMargin,typeof N.threshold=="string"&&(N.threshold=N.threshold.split(",").map(q=>Number.parseFloat(q))),N}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(yt.off(this._config.target,ls),yt.on(this._config.target,ls,Dn,N=>{const q=this._observableSections.get(N.target.hash);if(q){N.preventDefault();const ft=this._rootElement||window,Mt=q.offsetTop-this._element.offsetTop;if(ft.scrollTo)return void ft.scrollTo({top:Mt,behavior:"smooth"});ft.scrollTop=Mt}}))}_getNewObserver(){const N={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(q=>this._observerCallback(q),N)}_observerCallback(N){const q=Vt=>this._targetLinks.get(`#${Vt.target.id}`),ft=Vt=>{this._previousScrollData.visibleEntryTop=Vt.target.offsetTop,this._process(q(Vt))},Mt=(this._rootElement||document.documentElement).scrollTop,xt=Mt>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Mt;for(const Vt of N){if(!Vt.isIntersecting){this._activeTarget=null,this._clearActiveClass(q(Vt));continue}const Yt=Vt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(xt&&Yt){if(ft(Vt),!Mt)return}else xt||Yt||ft(Vt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const N=jt.find(Dn,this._config.target);for(const q of N){if(!q.hash||g(q))continue;const ft=jt.findOne(decodeURI(q.hash),this._element);p(ft)&&(this._targetLinks.set(decodeURI(q.hash),q),this._observableSections.set(q.hash,ft))}}_process(N){this._activeTarget!==N&&(this._clearActiveClass(this._config.target),this._activeTarget=N,N.classList.add(ds),this._activateParents(N),yt.trigger(this._element,tn,{relatedTarget:N}))}_activateParents(N){if(N.classList.contains("dropdown-item"))jt.findOne(".dropdown-toggle",N.closest(".dropdown")).classList.add(ds);else for(const q of jt.parents(N,".nav, .list-group"))for(const ft of jt.prev(q,xw))ft.classList.add(ds)}_clearActiveClass(N){N.classList.remove(ds);const q=jt.find(`${Dn}.${ds}`,N);for(const ft of q)ft.classList.remove(ds)}static jQueryInterface(N){return this.each(function(){const q=Hs.getOrCreateInstance(this,N);if(typeof N=="string"){if(q[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);q[N]()}})}}yt.on(window,cs,()=>{for(const st of jt.find('[data-bs-spy="scroll"]'))Hs.getOrCreateInstance(st)}),F(Hs);const ai=".bs.tab",to=`hide${ai}`,Kn=`hidden${ai}`,eo=`show${ai}`,kf=`shown${ai}`,yf=`click${ai}`,Cf=`keydown${ai}`,Ef=`load${ai}`,xf="ArrowLeft",Za="ArrowRight",_B="ArrowUp",be="ArrowDown",Vg="Home",y0="End",on="active",va="fade",wA="show",C0=".dropdown-toggle",Kg=`:not(${C0})`,Bf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Gg=`.nav-link${Kg}, .list-group-item${Kg}, [role="tab"]${Kg}, ${Bf}`,kB=`.${on}[data-bs-toggle="tab"], .${on}[data-bs-toggle="pill"], .${on}[data-bs-toggle="list"]`;class vA extends Tt{constructor(N){super(N),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),yt.on(this._element,Cf,q=>this._keydown(q)))}static get NAME(){return"tab"}show(){const N=this._element;if(this._elemIsActive(N))return;const q=this._getActiveElem(),ft=q?yt.trigger(q,to,{relatedTarget:N}):null;yt.trigger(N,eo,{relatedTarget:q}).defaultPrevented||ft&&ft.defaultPrevented||(this._deactivate(q,N),this._activate(N,q))}_activate(N,q){N&&(N.classList.add(on),this._activate(jt.getElementFromSelector(N)),this._queueCallback(()=>{N.getAttribute("role")==="tab"?(N.removeAttribute("tabindex"),N.setAttribute("aria-selected",!0),this._toggleDropDown(N,!0),yt.trigger(N,kf,{relatedTarget:q})):N.classList.add(wA)},N,N.classList.contains(va)))}_deactivate(N,q){N&&(N.classList.remove(on),N.blur(),this._deactivate(jt.getElementFromSelector(N)),this._queueCallback(()=>{N.getAttribute("role")==="tab"?(N.setAttribute("aria-selected",!1),N.setAttribute("tabindex","-1"),this._toggleDropDown(N,!1),yt.trigger(N,Kn,{relatedTarget:q})):N.classList.remove(wA)},N,N.classList.contains(va)))}_keydown(N){if(![xf,Za,_B,be,Vg,y0].includes(N.key))return;N.stopPropagation(),N.preventDefault();const q=this._getChildren().filter(Mt=>!g(Mt));let ft;if([Vg,y0].includes(N.key))ft=q[N.key===Vg?0:q.length-1];else{const Mt=[Za,be].includes(N.key);ft=V(q,N.target,Mt,!0)}ft&&(ft.focus({preventScroll:!0}),vA.getOrCreateInstance(ft).show())}_getChildren(){return jt.find(Gg,this._parent)}_getActiveElem(){return this._getChildren().find(N=>this._elemIsActive(N))||null}_setInitialAttributes(N,q){this._setAttributeIfNotExists(N,"role","tablist");for(const ft of q)this._setInitialAttributesOnChild(ft)}_setInitialAttributesOnChild(N){N=this._getInnerElement(N);const q=this._elemIsActive(N),ft=this._getOuterElement(N);N.setAttribute("aria-selected",q),ft!==N&&this._setAttributeIfNotExists(ft,"role","presentation"),q||N.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(N,"role","tab"),this._setInitialAttributesOnTargetPanel(N)}_setInitialAttributesOnTargetPanel(N){const q=jt.getElementFromSelector(N);q&&(this._setAttributeIfNotExists(q,"role","tabpanel"),N.id&&this._setAttributeIfNotExists(q,"aria-labelledby",`${N.id}`))}_toggleDropDown(N,q){const ft=this._getOuterElement(N);if(!ft.classList.contains("dropdown"))return;const Mt=(xt,Vt)=>{const Yt=jt.findOne(xt,ft);Yt&&Yt.classList.toggle(Vt,q)};Mt(C0,on),Mt(".dropdown-menu",wA),ft.setAttribute("aria-expanded",q)}_setAttributeIfNotExists(N,q,ft){N.hasAttribute(q)||N.setAttribute(q,ft)}_elemIsActive(N){return N.classList.contains(on)}_getInnerElement(N){return N.matches(Gg)?N:jt.findOne(Gg,N)}_getOuterElement(N){return N.closest(".nav-item, .list-group-item")||N}static jQueryInterface(N){return this.each(function(){const q=vA.getOrCreateInstance(this);if(typeof N=="string"){if(q[N]===void 0||N.startsWith("_")||N==="constructor")throw new TypeError(`No method named "${N}"`);q[N]()}})}}yt.on(document,yf,Bf,function(st){["A","AREA"].includes(this.tagName)&&st.preventDefault(),g(this)||vA.getOrCreateInstance(this).show()}),yt.on(window,Ef,()=>{for(const st of jt.find(kB))vA.getOrCreateInstance(st)}),F(vA);const fd=".bs.toast",E0=`mouseover${fd}`,x0=`mouseout${fd}`,B0=`focusin${fd}`,S0=`focusout${fd}`,T0=`hide${fd}`,I0=`hidden${fd}`,Ku=`show${fd}`,Wg=`shown${fd}`,$g="hide",Gu="show",Sf="showing",D0={animation:"boolean",autohide:"boolean",delay:"number"},yB={animation:!0,autohide:!0,delay:5e3};class Wu extends Tt{constructor(N,q){super(N,q),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return yB}static get DefaultType(){return D0}static get NAME(){return"toast"}show(){yt.trigger(this._element,Ku).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove($g),k(this._element),this._element.classList.add(Gu,Sf),this._queueCallback(()=>{this._element.classList.remove(Sf),yt.trigger(this._element,Wg),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(yt.trigger(this._element,T0).defaultPrevented||(this._element.classList.add(Sf),this._queueCallback(()=>{this._element.classList.add($g),this._element.classList.remove(Sf,Gu),yt.trigger(this._element,I0)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Gu),super.dispose()}isShown(){return this._element.classList.contains(Gu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(N,q){switch(N.type){case"mouseover":case"mouseout":this._hasMouseInteraction=q;break;case"focusin":case"focusout":this._hasKeyboardInteraction=q}if(q)return void this._clearTimeout();const ft=N.relatedTarget;this._element===ft||this._element.contains(ft)||this._maybeScheduleHide()}_setListeners(){yt.on(this._element,E0,N=>this._onInteraction(N,!0)),yt.on(this._element,x0,N=>this._onInteraction(N,!1)),yt.on(this._element,B0,N=>this._onInteraction(N,!0)),yt.on(this._element,S0,N=>this._onInteraction(N,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(N){return this.each(function(){const q=Wu.getOrCreateInstance(this,N);if(typeof N=="string"){if(q[N]===void 0)throw new TypeError(`No method named "${N}"`);q[N](this)}})}}return Ne(Wu),F(Wu),{Alert:Se,Button:rn,Carousel:Ho,Collapse:Ki,Dropdown:Zr,Modal:$e,Offcanvas:wa,Popover:qt,ScrollSpy:Hs,Tab:vA,Toast:Wu,Tooltip:ct}})}(UC)),UC.exports}gst();var QC={exports:{}},mst=QC.exports,e4;function bst(){return e4||(e4=1,function(r,t){(function(e,i){r.exports=i()})(mst,function(){return function(e){function i(a){if(o[a])return o[a].exports;var c=o[a]={exports:{},id:a,loaded:!1};return e[a].call(c.exports,c,c.exports,i),c.loaded=!0,c.exports}var o={};return i.m=e,i.c=o,i.p="dist/",i(0)}([function(e,i,o){function a(mt){return mt&&mt.__esModule?mt:{default:mt}}var c=Object.assign||function(mt){for(var St=1;St<arguments.length;St++){var vt=arguments[St];for(var pt in vt)Object.prototype.hasOwnProperty.call(vt,pt)&&(mt[pt]=vt[pt])}return mt},d=o(1),h=(a(d),o(6)),p=a(h),g=o(7),w=a(g),v=o(8),k=a(v),y=o(9),x=a(y),I=o(10),F=a(I),R=o(11),Q=a(R),V=o(14),W=a(V),X=[],P=!1,K={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},J=function(){var mt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(mt&&(P=!0),P)return X=(0,Q.default)(X,K),(0,F.default)(X,K.once),X},rt=function(){X=(0,W.default)(),J()},dt=function(){X.forEach(function(mt,St){mt.node.removeAttribute("data-aos"),mt.node.removeAttribute("data-aos-easing"),mt.node.removeAttribute("data-aos-duration"),mt.node.removeAttribute("data-aos-delay")})},ht=function(mt){return mt===!0||mt==="mobile"&&x.default.mobile()||mt==="phone"&&x.default.phone()||mt==="tablet"&&x.default.tablet()||typeof mt=="function"&&mt()===!0},ut=function(mt){K=c(K,mt),X=(0,W.default)();var St=document.all&&!window.atob;return ht(K.disable)||St?dt():(K.disableMutationObserver||k.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),K.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",K.easing),document.querySelector("body").setAttribute("data-aos-duration",K.duration),document.querySelector("body").setAttribute("data-aos-delay",K.delay),K.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?J(!0):K.startEvent==="load"?window.addEventListener(K.startEvent,function(){J(!0)}):document.addEventListener(K.startEvent,function(){J(!0)}),window.addEventListener("resize",(0,w.default)(J,K.debounceDelay,!0)),window.addEventListener("orientationchange",(0,w.default)(J,K.debounceDelay,!0)),window.addEventListener("scroll",(0,p.default)(function(){(0,F.default)(X,K.once)},K.throttleDelay)),K.disableMutationObserver||k.default.ready("[data-aos]",rt),X)};e.exports={init:ut,refresh:J,refreshHard:rt}},function(e,i){},,,,,function(e,i){(function(o){function a(ht,ut,mt){function St(ae){var rn=le,Rn=Lt;return le=Lt=void 0,Ge=ae,Pt=ht.apply(Rn,rn)}function vt(ae){return Ge=ae,jt=setTimeout(Dt,ut),hn?St(ae):Pt}function pt(ae){var rn=ae-Ne,Rn=ae-Ge,Le=ut-rn;return Ye?rt(Le,Tt-Rn):Le}function _t(ae){var rn=ae-Ne,Rn=ae-Ge;return Ne===void 0||rn>=ut||rn<0||Ye&&Rn>=Tt}function Dt(){var ae=dt();return _t(ae)?yt(ae):void(jt=setTimeout(Dt,pt(ae)))}function yt(ae){return jt=void 0,Se&&le?St(ae):(le=Lt=void 0,Pt)}function se(){jt!==void 0&&clearTimeout(jt),Ge=0,le=Ne=Lt=jt=void 0}function oe(){return jt===void 0?Pt:yt(dt())}function ie(){var ae=dt(),rn=_t(ae);if(le=arguments,Lt=this,Ne=ae,rn){if(jt===void 0)return vt(Ne);if(Ye)return jt=setTimeout(Dt,ut),St(Ne)}return jt===void 0&&(jt=setTimeout(Dt,ut)),Pt}var le,Lt,Tt,Pt,jt,Ne,Ge=0,hn=!1,Ye=!1,Se=!0;if(typeof ht!="function")throw new TypeError(v);return ut=g(ut)||0,d(mt)&&(hn=!!mt.leading,Ye="maxWait"in mt,Tt=Ye?J(g(mt.maxWait)||0,ut):Tt,Se="trailing"in mt?!!mt.trailing:Se),ie.cancel=se,ie.flush=oe,ie}function c(ht,ut,mt){var St=!0,vt=!0;if(typeof ht!="function")throw new TypeError(v);return d(mt)&&(St="leading"in mt?!!mt.leading:St,vt="trailing"in mt?!!mt.trailing:vt),a(ht,ut,{leading:St,maxWait:ut,trailing:vt})}function d(ht){var ut=typeof ht>"u"?"undefined":w(ht);return!!ht&&(ut=="object"||ut=="function")}function h(ht){return!!ht&&(typeof ht>"u"?"undefined":w(ht))=="object"}function p(ht){return(typeof ht>"u"?"undefined":w(ht))=="symbol"||h(ht)&&K.call(ht)==y}function g(ht){if(typeof ht=="number")return ht;if(p(ht))return k;if(d(ht)){var ut=typeof ht.valueOf=="function"?ht.valueOf():ht;ht=d(ut)?ut+"":ut}if(typeof ht!="string")return ht===0?ht:+ht;ht=ht.replace(x,"");var mt=F.test(ht);return mt||R.test(ht)?Q(ht.slice(2),mt?2:8):I.test(ht)?k:+ht}var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},v="Expected a function",k=NaN,y="[object Symbol]",x=/^\s+|\s+$/g,I=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,R=/^0o[0-7]+$/i,Q=parseInt,V=(typeof o>"u"?"undefined":w(o))=="object"&&o&&o.Object===Object&&o,W=(typeof self>"u"?"undefined":w(self))=="object"&&self&&self.Object===Object&&self,X=V||W||Function("return this")(),P=Object.prototype,K=P.toString,J=Math.max,rt=Math.min,dt=function(){return X.Date.now()};e.exports=c}).call(i,function(){return this}())},function(e,i){(function(o){function a(dt,ht,ut){function mt(Se){var ae=ie,rn=le;return ie=le=void 0,Ne=Se,Tt=dt.apply(rn,ae)}function St(Se){return Ne=Se,Pt=setTimeout(_t,ht),Ge?mt(Se):Tt}function vt(Se){var ae=Se-jt,rn=Se-Ne,Rn=ht-ae;return hn?J(Rn,Lt-rn):Rn}function pt(Se){var ae=Se-jt,rn=Se-Ne;return jt===void 0||ae>=ht||ae<0||hn&&rn>=Lt}function _t(){var Se=rt();return pt(Se)?Dt(Se):void(Pt=setTimeout(_t,vt(Se)))}function Dt(Se){return Pt=void 0,Ye&&ie?mt(Se):(ie=le=void 0,Tt)}function yt(){Pt!==void 0&&clearTimeout(Pt),Ne=0,ie=jt=le=Pt=void 0}function se(){return Pt===void 0?Tt:Dt(rt())}function oe(){var Se=rt(),ae=pt(Se);if(ie=arguments,le=this,jt=Se,ae){if(Pt===void 0)return St(jt);if(hn)return Pt=setTimeout(_t,ht),mt(jt)}return Pt===void 0&&(Pt=setTimeout(_t,ht)),Tt}var ie,le,Lt,Tt,Pt,jt,Ne=0,Ge=!1,hn=!1,Ye=!0;if(typeof dt!="function")throw new TypeError(w);return ht=p(ht)||0,c(ut)&&(Ge=!!ut.leading,hn="maxWait"in ut,Lt=hn?K(p(ut.maxWait)||0,ht):Lt,Ye="trailing"in ut?!!ut.trailing:Ye),oe.cancel=yt,oe.flush=se,oe}function c(dt){var ht=typeof dt>"u"?"undefined":g(dt);return!!dt&&(ht=="object"||ht=="function")}function d(dt){return!!dt&&(typeof dt>"u"?"undefined":g(dt))=="object"}function h(dt){return(typeof dt>"u"?"undefined":g(dt))=="symbol"||d(dt)&&P.call(dt)==k}function p(dt){if(typeof dt=="number")return dt;if(h(dt))return v;if(c(dt)){var ht=typeof dt.valueOf=="function"?dt.valueOf():dt;dt=c(ht)?ht+"":ht}if(typeof dt!="string")return dt===0?dt:+dt;dt=dt.replace(y,"");var ut=I.test(dt);return ut||F.test(dt)?R(dt.slice(2),ut?2:8):x.test(dt)?v:+dt}var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},w="Expected a function",v=NaN,k="[object Symbol]",y=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,F=/^0o[0-7]+$/i,R=parseInt,Q=(typeof o>"u"?"undefined":g(o))=="object"&&o&&o.Object===Object&&o,V=(typeof self>"u"?"undefined":g(self))=="object"&&self&&self.Object===Object&&self,W=Q||V||Function("return this")(),X=Object.prototype,P=X.toString,K=Math.max,J=Math.min,rt=function(){return W.Date.now()};e.exports=a}).call(i,function(){return this}())},function(e,i){function o(g){var w=void 0,v=void 0;for(w=0;w<g.length;w+=1)if(v=g[w],v.dataset&&v.dataset.aos||v.children&&o(v.children))return!0;return!1}function a(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function c(){return!!a()}function d(g,w){var v=window.document,k=a(),y=new k(h);p=w,y.observe(v.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function h(g){g&&g.forEach(function(w){var v=Array.prototype.slice.call(w.addedNodes),k=Array.prototype.slice.call(w.removedNodes),y=v.concat(k);if(o(y))return p()})}Object.defineProperty(i,"__esModule",{value:!0});var p=function(){};i.default={isSupported:c,ready:d}},function(e,i){function o(v,k){if(!(v instanceof k))throw new TypeError("Cannot call a class as a function")}function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(i,"__esModule",{value:!0});var c=function(){function v(k,y){for(var x=0;x<y.length;x++){var I=y[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,y,x){return y&&v(k.prototype,y),x&&v(k,x),k}}(),d=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,h=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,p=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,g=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,w=function(){function v(){o(this,v)}return c(v,[{key:"phone",value:function(){var k=a();return!(!d.test(k)&&!h.test(k.substr(0,4)))}},{key:"mobile",value:function(){var k=a();return!(!p.test(k)&&!g.test(k.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),v}();i.default=new w},function(e,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(c,d,h){var p=c.node.getAttribute("data-aos-once");d>c.position?c.node.classList.add("aos-animate"):typeof p<"u"&&(p==="false"||!h&&p!=="true")&&c.node.classList.remove("aos-animate")},a=function(c,d){var h=window.pageYOffset,p=window.innerHeight;c.forEach(function(g,w){o(g,p+h,d)})};i.default=a},function(e,i,o){function a(p){return p&&p.__esModule?p:{default:p}}Object.defineProperty(i,"__esModule",{value:!0});var c=o(12),d=a(c),h=function(p,g){return p.forEach(function(w,v){w.node.classList.add("aos-init"),w.position=(0,d.default)(w.node,g.offset)}),p};i.default=h},function(e,i,o){function a(p){return p&&p.__esModule?p:{default:p}}Object.defineProperty(i,"__esModule",{value:!0});var c=o(13),d=a(c),h=function(p,g){var w=0,v=0,k=window.innerHeight,y={offset:p.getAttribute("data-aos-offset"),anchor:p.getAttribute("data-aos-anchor"),anchorPlacement:p.getAttribute("data-aos-anchor-placement")};switch(y.offset&&!isNaN(y.offset)&&(v=parseInt(y.offset)),y.anchor&&document.querySelectorAll(y.anchor)&&(p=document.querySelectorAll(y.anchor)[0]),w=(0,d.default)(p).top,y.anchorPlacement){case"top-bottom":break;case"center-bottom":w+=p.offsetHeight/2;break;case"bottom-bottom":w+=p.offsetHeight;break;case"top-center":w+=k/2;break;case"bottom-center":w+=k/2+p.offsetHeight;break;case"center-center":w+=k/2+p.offsetHeight/2;break;case"top-top":w+=k;break;case"bottom-top":w+=p.offsetHeight+k;break;case"center-top":w+=p.offsetHeight/2+k}return y.anchorPlacement||y.offset||isNaN(g)||(v=g),w+v};i.default=h},function(e,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(a){for(var c=0,d=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft-(a.tagName!="BODY"?a.scrollLeft:0),d+=a.offsetTop-(a.tagName!="BODY"?a.scrollTop:0),a=a.offsetParent;return{top:d,left:c}};i.default=o},function(e,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(a){return a=a||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(a,function(c){return{node:c}})};i.default=o}])})}(QC)),QC.exports}var wst=bst();const vst=Px(wst);function n4(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function wM(r,t){r===void 0&&(r={}),t===void 0&&(t={});const e=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>e.indexOf(i)<0).forEach(i=>{typeof r[i]>"u"?r[i]=t[i]:n4(t[i])&&n4(r[i])&&Object.keys(t[i]).length>0&&wM(r[i],t[i])})}const i3={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qr(){const r=typeof document<"u"?document:{};return wM(r,i3),r}const _st={document:i3,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function is(){const r=typeof window<"u"?window:{};return wM(r,_st),r}function sh(r){return r===void 0&&(r=""),r.trim().split(" ").filter(t=>!!t.trim())}function kst(r){const t=r;Object.keys(t).forEach(e=>{try{t[e]=null}catch{}try{delete t[e]}catch{}})}function Tg(r,t){return t===void 0&&(t=0),setTimeout(r,t)}function dc(){return Date.now()}function yst(r){const t=is();let e;return t.getComputedStyle&&(e=t.getComputedStyle(r,null)),!e&&r.currentStyle&&(e=r.currentStyle),e||(e=r.style),e}function $T(r,t){t===void 0&&(t="x");const e=is();let i,o,a;const c=yst(r);return e.WebKitCSSMatrix?(o=c.transform||c.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(d=>d.replace(",",".")).join(", ")),a=new e.WebKitCSSMatrix(o==="none"?"":o)):(a=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=a.toString().split(",")),t==="x"&&(e.WebKitCSSMatrix?o=a.m41:i.length===16?o=parseFloat(i[12]):o=parseFloat(i[4])),t==="y"&&(e.WebKitCSSMatrix?o=a.m42:i.length===16?o=parseFloat(i[13]):o=parseFloat(i[5])),o||0}function bv(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"}function Cst(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(r.nodeType===1||r.nodeType===11)}function kl(){const r=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let e=1;e<arguments.length;e+=1){const i=e<0||arguments.length<=e?void 0:arguments[e];if(i!=null&&!Cst(i)){const o=Object.keys(Object(i)).filter(a=>t.indexOf(a)<0);for(let a=0,c=o.length;a<c;a+=1){const d=o[a],h=Object.getOwnPropertyDescriptor(i,d);h!==void 0&&h.enumerable&&(bv(r[d])&&bv(i[d])?i[d].__swiper__?r[d]=i[d]:kl(r[d],i[d]):!bv(r[d])&&bv(i[d])?(r[d]={},i[d].__swiper__?r[d]=i[d]:kl(r[d],i[d])):r[d]=i[d])}}}return r}function wv(r,t,e){r.style.setProperty(t,e)}function s3(r){let{swiper:t,targetPosition:e,side:i}=r;const o=is(),a=-t.translate;let c=null,d;const h=t.params.speed;t.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(t.cssModeFrameID);const p=e>a?"next":"prev",g=(v,k)=>p==="next"&&v>=k||p==="prev"&&v<=k,w=()=>{d=new Date().getTime(),c===null&&(c=d);const v=Math.max(Math.min((d-c)/h,1),0),k=.5-Math.cos(v*Math.PI)/2;let y=a+k*(e-a);if(g(y,e)&&(y=e),t.wrapperEl.scrollTo({[i]:y}),g(y,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:y})}),o.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=o.requestAnimationFrame(w)};w()}function Og(r){return r.querySelector(".swiper-slide-transform")||r.shadowRoot&&r.shadowRoot.querySelector(".swiper-slide-transform")||r}function ho(r,t){t===void 0&&(t="");const e=is(),i=[...r.children];return e.HTMLSlotElement&&r instanceof HTMLSlotElement&&i.push(...r.assignedElements()),t?i.filter(o=>o.matches(t)):i}function Est(r,t){const e=[t];for(;e.length>0;){const i=e.shift();if(r===i)return!0;e.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function xst(r,t){const e=is();let i=t.contains(r);return!i&&e.HTMLSlotElement&&t instanceof HTMLSlotElement&&(i=[...t.assignedElements()].includes(r),i||(i=Est(r,t))),i}function NE(r){try{console.warn(r);return}catch{}}function xl(r,t){t===void 0&&(t=[]);const e=document.createElement(r);return e.classList.add(...Array.isArray(t)?t:sh(t)),e}function RE(r){const t=is(),e=Qr(),i=r.getBoundingClientRect(),o=e.body,a=r.clientTop||o.clientTop||0,c=r.clientLeft||o.clientLeft||0,d=r===t?t.scrollY:r.scrollTop,h=r===t?t.scrollX:r.scrollLeft;return{top:i.top+d-a,left:i.left+h-c}}function Bst(r,t){const e=[];for(;r.previousElementSibling;){const i=r.previousElementSibling;t?i.matches(t)&&e.push(i):e.push(i),r=i}return e}function Sst(r,t){const e=[];for(;r.nextElementSibling;){const i=r.nextElementSibling;t?i.matches(t)&&e.push(i):e.push(i),r=i}return e}function Kh(r,t){return is().getComputedStyle(r,null).getPropertyValue(t)}function g_(r){let t=r,e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function wg(r,t){const e=[];let i=r.parentElement;for(;i;)t?i.matches(t)&&e.push(i):e.push(i),i=i.parentElement;return e}function e_(r,t){function e(i){i.target===r&&(t.call(r,i),r.removeEventListener("transitionend",e))}t&&r.addEventListener("transitionend",e)}function qT(r,t,e){const i=is();return r[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(r,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(r,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function Mn(r){return(Array.isArray(r)?r:[r]).filter(t=>!!t)}function Yx(r){return t=>Math.abs(t)>0&&r.browser&&r.browser.need3dFix&&Math.abs(t)%90===0?t+.001:t}let yS;function Tst(){const r=is(),t=Qr();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&t instanceof r.DocumentTouch)}}function r3(){return yS||(yS=Tst()),yS}let CS;function Ist(r){let{userAgent:t}=r===void 0?{}:r;const e=r3(),i=is(),o=i.navigator.platform,a=t||i.navigator.userAgent,c={ios:!1,android:!1},d=i.screen.width,h=i.screen.height,p=a.match(/(Android);?[\s\/]+([\d.]+)?/);let g=a.match(/(iPad).*OS\s([\d_]+)/);const w=a.match(/(iPod)(.*OS\s([\d_]+))?/),v=!g&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),k=o==="Win32";let y=o==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&y&&e.touch&&x.indexOf(`${d}x${h}`)>=0&&(g=a.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),y=!1),p&&!k&&(c.os="android",c.android=!0),(g||v||w)&&(c.os="ios",c.ios=!0),c}function o3(r){return r===void 0&&(r={}),CS||(CS=Ist(r)),CS}let ES;function Dst(){const r=is(),t=o3();let e=!1;function i(){const d=r.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(i()){const d=String(r.navigator.userAgent);if(d.includes("Version/")){const[h,p]=d.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));e=h<16||h===16&&p<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent),a=i(),c=a||o&&t.ios;return{isSafari:e||a,needPerspectiveFix:e,need3dFix:c,isWebView:o}}function a3(){return ES||(ES=Dst()),ES}function Mst(r){let{swiper:t,on:e,emit:i}=r;const o=is();let a=null,c=null;const d=()=>{!t||t.destroyed||!t.initialized||(i("beforeResize"),i("resize"))},h=()=>{!t||t.destroyed||!t.initialized||(a=new ResizeObserver(w=>{c=o.requestAnimationFrame(()=>{const{width:v,height:k}=t;let y=v,x=k;w.forEach(I=>{let{contentBoxSize:F,contentRect:R,target:Q}=I;Q&&Q!==t.el||(y=R?R.width:(F[0]||F).inlineSize,x=R?R.height:(F[0]||F).blockSize)}),(y!==v||x!==k)&&d()})}),a.observe(t.el))},p=()=>{c&&o.cancelAnimationFrame(c),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null)},g=()=>{!t||t.destroyed||!t.initialized||i("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof o.ResizeObserver<"u"){h();return}o.addEventListener("resize",d),o.addEventListener("orientationchange",g)}),e("destroy",()=>{p(),o.removeEventListener("resize",d),o.removeEventListener("orientationchange",g)})}function Lst(r){let{swiper:t,extendParams:e,on:i,emit:o}=r;const a=[],c=is(),d=function(g,w){w===void 0&&(w={});const v=c.MutationObserver||c.WebkitMutationObserver,k=new v(y=>{if(t.__preventObserver__)return;if(y.length===1){o("observerUpdate",y[0]);return}const x=function(){o("observerUpdate",y[0])};c.requestAnimationFrame?c.requestAnimationFrame(x):c.setTimeout(x,0)});k.observe(g,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:t.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),a.push(k)},h=()=>{if(t.params.observer){if(t.params.observeParents){const g=wg(t.hostEl);for(let w=0;w<g.length;w+=1)d(g[w])}d(t.hostEl,{childList:t.params.observeSlideChildren}),d(t.wrapperEl,{attributes:!1})}},p=()=>{a.forEach(g=>{g.disconnect()}),a.splice(0,a.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",h),i("destroy",p)}var Pst={on(r,t,e){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;const o=e?"unshift":"push";return r.split(" ").forEach(a=>{i.eventsListeners[a]||(i.eventsListeners[a]=[]),i.eventsListeners[a][o](t)}),i},once(r,t,e){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;function o(){i.off(r,o),o.__emitterProxy&&delete o.__emitterProxy;for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];t.apply(i,c)}return o.__emitterProxy=t,i.on(r,o,e)},onAny(r,t){const e=this;if(!e.eventsListeners||e.destroyed||typeof r!="function")return e;const i=t?"unshift":"push";return e.eventsAnyListeners.indexOf(r)<0&&e.eventsAnyListeners[i](r),e},offAny(r){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const e=t.eventsAnyListeners.indexOf(r);return e>=0&&t.eventsAnyListeners.splice(e,1),t},off(r,t){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||r.split(" ").forEach(i=>{typeof t>"u"?e.eventsListeners[i]=[]:e.eventsListeners[i]&&e.eventsListeners[i].forEach((o,a)=>{(o===t||o.__emitterProxy&&o.__emitterProxy===t)&&e.eventsListeners[i].splice(a,1)})}),e},emit(){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let t,e,i;for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return typeof a[0]=="string"||Array.isArray(a[0])?(t=a[0],e=a.slice(1,a.length),i=r):(t=a[0].events,e=a[0].data,i=a[0].context||r),e.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach(h=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(p=>{p.apply(i,[h,...e])}),r.eventsListeners&&r.eventsListeners[h]&&r.eventsListeners[h].forEach(p=>{p.apply(i,e)})}),r}};function Fst(){const r=this;let t,e;const i=r.el;typeof r.params.width<"u"&&r.params.width!==null?t=r.params.width:t=i.clientWidth,typeof r.params.height<"u"&&r.params.height!==null?e=r.params.height:e=i.clientHeight,!(t===0&&r.isHorizontal()||e===0&&r.isVertical())&&(t=t-parseInt(Kh(i,"padding-left")||0,10)-parseInt(Kh(i,"padding-right")||0,10),e=e-parseInt(Kh(i,"padding-top")||0,10)-parseInt(Kh(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(r,{width:t,height:e,size:r.isHorizontal()?t:e}))}function Ost(){const r=this;function t(rt,dt){return parseFloat(rt.getPropertyValue(r.getDirectionLabel(dt))||0)}const e=r.params,{wrapperEl:i,slidesEl:o,size:a,rtlTranslate:c,wrongRTL:d}=r,h=r.virtual&&e.virtual.enabled,p=h?r.virtual.slides.length:r.slides.length,g=ho(o,`.${r.params.slideClass}, swiper-slide`),w=h?r.virtual.slides.length:g.length;let v=[];const k=[],y=[];let x=e.slidesOffsetBefore;typeof x=="function"&&(x=e.slidesOffsetBefore.call(r));let I=e.slidesOffsetAfter;typeof I=="function"&&(I=e.slidesOffsetAfter.call(r));const F=r.snapGrid.length,R=r.slidesGrid.length;let Q=e.spaceBetween,V=-x,W=0,X=0;if(typeof a>"u")return;typeof Q=="string"&&Q.indexOf("%")>=0?Q=parseFloat(Q.replace("%",""))/100*a:typeof Q=="string"&&(Q=parseFloat(Q)),r.virtualSize=-Q,g.forEach(rt=>{c?rt.style.marginLeft="":rt.style.marginRight="",rt.style.marginBottom="",rt.style.marginTop=""}),e.centeredSlides&&e.cssMode&&(wv(i,"--swiper-centered-offset-before",""),wv(i,"--swiper-centered-offset-after",""));const P=e.grid&&e.grid.rows>1&&r.grid;P?r.grid.initSlides(g):r.grid&&r.grid.unsetSlides();let K;const J=e.slidesPerView==="auto"&&e.breakpoints&&Object.keys(e.breakpoints).filter(rt=>typeof e.breakpoints[rt].slidesPerView<"u").length>0;for(let rt=0;rt<w;rt+=1){K=0;let dt;if(g[rt]&&(dt=g[rt]),P&&r.grid.updateSlide(rt,dt,g),!(g[rt]&&Kh(dt,"display")==="none")){if(e.slidesPerView==="auto"){J&&(g[rt].style[r.getDirectionLabel("width")]="");const ht=getComputedStyle(dt),ut=dt.style.transform,mt=dt.style.webkitTransform;if(ut&&(dt.style.transform="none"),mt&&(dt.style.webkitTransform="none"),e.roundLengths)K=r.isHorizontal()?qT(dt,"width"):qT(dt,"height");else{const St=t(ht,"width"),vt=t(ht,"padding-left"),pt=t(ht,"padding-right"),_t=t(ht,"margin-left"),Dt=t(ht,"margin-right"),yt=ht.getPropertyValue("box-sizing");if(yt&&yt==="border-box")K=St+_t+Dt;else{const{clientWidth:se,offsetWidth:oe}=dt;K=St+vt+pt+_t+Dt+(oe-se)}}ut&&(dt.style.transform=ut),mt&&(dt.style.webkitTransform=mt),e.roundLengths&&(K=Math.floor(K))}else K=(a-(e.slidesPerView-1)*Q)/e.slidesPerView,e.roundLengths&&(K=Math.floor(K)),g[rt]&&(g[rt].style[r.getDirectionLabel("width")]=`${K}px`);g[rt]&&(g[rt].swiperSlideSize=K),y.push(K),e.centeredSlides?(V=V+K/2+W/2+Q,W===0&&rt!==0&&(V=V-a/2-Q),rt===0&&(V=V-a/2-Q),Math.abs(V)<1/1e3&&(V=0),e.roundLengths&&(V=Math.floor(V)),X%e.slidesPerGroup===0&&v.push(V),k.push(V)):(e.roundLengths&&(V=Math.floor(V)),(X-Math.min(r.params.slidesPerGroupSkip,X))%r.params.slidesPerGroup===0&&v.push(V),k.push(V),V=V+K+Q),r.virtualSize+=K+Q,W=K,X+=1}}if(r.virtualSize=Math.max(r.virtualSize,a)+I,c&&d&&(e.effect==="slide"||e.effect==="coverflow")&&(i.style.width=`${r.virtualSize+Q}px`),e.setWrapperSize&&(i.style[r.getDirectionLabel("width")]=`${r.virtualSize+Q}px`),P&&r.grid.updateWrapperSize(K,v),!e.centeredSlides){const rt=[];for(let dt=0;dt<v.length;dt+=1){let ht=v[dt];e.roundLengths&&(ht=Math.floor(ht)),v[dt]<=r.virtualSize-a&&rt.push(ht)}v=rt,Math.floor(r.virtualSize-a)-Math.floor(v[v.length-1])>1&&v.push(r.virtualSize-a)}if(h&&e.loop){const rt=y[0]+Q;if(e.slidesPerGroup>1){const dt=Math.ceil((r.virtual.slidesBefore+r.virtual.slidesAfter)/e.slidesPerGroup),ht=rt*e.slidesPerGroup;for(let ut=0;ut<dt;ut+=1)v.push(v[v.length-1]+ht)}for(let dt=0;dt<r.virtual.slidesBefore+r.virtual.slidesAfter;dt+=1)e.slidesPerGroup===1&&v.push(v[v.length-1]+rt),k.push(k[k.length-1]+rt),r.virtualSize+=rt}if(v.length===0&&(v=[0]),Q!==0){const rt=r.isHorizontal()&&c?"marginLeft":r.getDirectionLabel("marginRight");g.filter((dt,ht)=>!e.cssMode||e.loop?!0:ht!==g.length-1).forEach(dt=>{dt.style[rt]=`${Q}px`})}if(e.centeredSlides&&e.centeredSlidesBounds){let rt=0;y.forEach(ht=>{rt+=ht+(Q||0)}),rt-=Q;const dt=rt>a?rt-a:0;v=v.map(ht=>ht<=0?-x:ht>dt?dt+I:ht)}if(e.centerInsufficientSlides){let rt=0;y.forEach(ht=>{rt+=ht+(Q||0)}),rt-=Q;const dt=(e.slidesOffsetBefore||0)+(e.slidesOffsetAfter||0);if(rt+dt<a){const ht=(a-rt-dt)/2;v.forEach((ut,mt)=>{v[mt]=ut-ht}),k.forEach((ut,mt)=>{k[mt]=ut+ht})}}if(Object.assign(r,{slides:g,snapGrid:v,slidesGrid:k,slidesSizesGrid:y}),e.centeredSlides&&e.cssMode&&!e.centeredSlidesBounds){wv(i,"--swiper-centered-offset-before",`${-v[0]}px`),wv(i,"--swiper-centered-offset-after",`${r.size/2-y[y.length-1]/2}px`);const rt=-r.snapGrid[0],dt=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(ht=>ht+rt),r.slidesGrid=r.slidesGrid.map(ht=>ht+dt)}if(w!==p&&r.emit("slidesLengthChange"),v.length!==F&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),k.length!==R&&r.emit("slidesGridLengthChange"),e.watchSlidesProgress&&r.updateSlidesOffset(),r.emit("slidesUpdated"),!h&&!e.cssMode&&(e.effect==="slide"||e.effect==="fade")){const rt=`${e.containerModifierClass}backface-hidden`,dt=r.el.classList.contains(rt);w<=e.maxBackfaceHiddenSlides?dt||r.el.classList.add(rt):dt&&r.el.classList.remove(rt)}}function Nst(r){const t=this,e=[],i=t.virtual&&t.params.virtual.enabled;let o=0,a;typeof r=="number"?t.setTransition(r):r===!0&&t.setTransition(t.params.speed);const c=d=>i?t.slides[t.getSlideIndexByData(d)]:t.slides[d];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(d=>{e.push(d)});else for(a=0;a<Math.ceil(t.params.slidesPerView);a+=1){const d=t.activeIndex+a;if(d>t.slides.length&&!i)break;e.push(c(d))}else e.push(c(t.activeIndex));for(a=0;a<e.length;a+=1)if(typeof e[a]<"u"){const d=e[a].offsetHeight;o=d>o?d:o}(o||o===0)&&(t.wrapperEl.style.height=`${o}px`)}function Rst(){const r=this,t=r.slides,e=r.isElement?r.isHorizontal()?r.wrapperEl.offsetLeft:r.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(r.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-e-r.cssOverflowAdjustment()}const i4=(r,t,e)=>{t&&!r.classList.contains(e)?r.classList.add(e):!t&&r.classList.contains(e)&&r.classList.remove(e)};function Ust(r){r===void 0&&(r=this&&this.translate||0);const t=this,e=t.params,{slides:i,rtlTranslate:o,snapGrid:a}=t;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let c=-r;o&&(c=r),t.visibleSlidesIndexes=[],t.visibleSlides=[];let d=e.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*t.size:typeof d=="string"&&(d=parseFloat(d));for(let h=0;h<i.length;h+=1){const p=i[h];let g=p.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(g-=i[0].swiperSlideOffset);const w=(c+(e.centeredSlides?t.minTranslate():0)-g)/(p.swiperSlideSize+d),v=(c-a[0]+(e.centeredSlides?t.minTranslate():0)-g)/(p.swiperSlideSize+d),k=-(c-g),y=k+t.slidesSizesGrid[h],x=k>=0&&k<=t.size-t.slidesSizesGrid[h],I=k>=0&&k<t.size-1||y>1&&y<=t.size||k<=0&&y>=t.size;I&&(t.visibleSlides.push(p),t.visibleSlidesIndexes.push(h)),i4(p,I,e.slideVisibleClass),i4(p,x,e.slideFullyVisibleClass),p.progress=o?-w:w,p.originalProgress=o?-v:v}}function Qst(r){const t=this;if(typeof r>"u"){const g=t.rtlTranslate?-1:1;r=t&&t.translate&&t.translate*g||0}const e=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:a,isEnd:c,progressLoop:d}=t;const h=a,p=c;if(i===0)o=0,a=!0,c=!0;else{o=(r-t.minTranslate())/i;const g=Math.abs(r-t.minTranslate())<1,w=Math.abs(r-t.maxTranslate())<1;a=g||o<=0,c=w||o>=1,g&&(o=0),w&&(o=1)}if(e.loop){const g=t.getSlideIndexByData(0),w=t.getSlideIndexByData(t.slides.length-1),v=t.slidesGrid[g],k=t.slidesGrid[w],y=t.slidesGrid[t.slidesGrid.length-1],x=Math.abs(r);x>=v?d=(x-v)/y:d=(x+y-k)/y,d>1&&(d-=1)}Object.assign(t,{progress:o,progressLoop:d,isBeginning:a,isEnd:c}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&t.updateSlidesProgress(r),a&&!h&&t.emit("reachBeginning toEdge"),c&&!p&&t.emit("reachEnd toEdge"),(h&&!a||p&&!c)&&t.emit("fromEdge"),t.emit("progress",o)}const xS=(r,t,e)=>{t&&!r.classList.contains(e)?r.classList.add(e):!t&&r.classList.contains(e)&&r.classList.remove(e)};function Hst(){const r=this,{slides:t,params:e,slidesEl:i,activeIndex:o}=r,a=r.virtual&&e.virtual.enabled,c=r.grid&&e.grid&&e.grid.rows>1,d=w=>ho(i,`.${e.slideClass}${w}, swiper-slide${w}`)[0];let h,p,g;if(a)if(e.loop){let w=o-r.virtual.slidesBefore;w<0&&(w=r.virtual.slides.length+w),w>=r.virtual.slides.length&&(w-=r.virtual.slides.length),h=d(`[data-swiper-slide-index="${w}"]`)}else h=d(`[data-swiper-slide-index="${o}"]`);else c?(h=t.find(w=>w.column===o),g=t.find(w=>w.column===o+1),p=t.find(w=>w.column===o-1)):h=t[o];h&&(c||(g=Sst(h,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!g&&(g=t[0]),p=Bst(h,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!p===0&&(p=t[t.length-1]))),t.forEach(w=>{xS(w,w===h,e.slideActiveClass),xS(w,w===g,e.slideNextClass),xS(w,w===p,e.slidePrevClass)}),r.emitSlidesClasses()}const HC=(r,t)=>{if(!r||r.destroyed||!r.params)return;const e=()=>r.isElement?"swiper-slide":`.${r.params.slideClass}`,i=t.closest(e());if(i){let o=i.querySelector(`.${r.params.lazyPreloaderClass}`);!o&&r.isElement&&(i.shadowRoot?o=i.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(o=i.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`),o&&o.remove())})),o&&o.remove()}},BS=(r,t)=>{if(!r.slides[t])return;const e=r.slides[t].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},YT=r=>{if(!r||r.destroyed||!r.params)return;let t=r.params.lazyPreloadPrevNext;const e=r.slides.length;if(!e||!t||t<0)return;t=Math.min(t,e);const i=r.params.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(r.params.slidesPerView),o=r.activeIndex;if(r.params.grid&&r.params.grid.rows>1){const c=o,d=[c-t];d.push(...Array.from({length:t}).map((h,p)=>c+i+p)),r.slides.forEach((h,p)=>{d.includes(h.column)&&BS(r,p)});return}const a=o+i-1;if(r.params.rewind||r.params.loop)for(let c=o-t;c<=a+t;c+=1){const d=(c%e+e)%e;(d<o||d>a)&&BS(r,d)}else for(let c=Math.max(o-t,0);c<=Math.min(a+t,e-1);c+=1)c!==o&&(c>a||c<o)&&BS(r,c)};function zst(r){const{slidesGrid:t,params:e}=r,i=r.rtlTranslate?r.translate:-r.translate;let o;for(let a=0;a<t.length;a+=1)typeof t[a+1]<"u"?i>=t[a]&&i<t[a+1]-(t[a+1]-t[a])/2?o=a:i>=t[a]&&i<t[a+1]&&(o=a+1):i>=t[a]&&(o=a);return e.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function jst(r){const t=this,e=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:o,activeIndex:a,realIndex:c,snapIndex:d}=t;let h=r,p;const g=k=>{let y=k-t.virtual.slidesBefore;return y<0&&(y=t.virtual.slides.length+y),y>=t.virtual.slides.length&&(y-=t.virtual.slides.length),y};if(typeof h>"u"&&(h=zst(t)),i.indexOf(e)>=0)p=i.indexOf(e);else{const k=Math.min(o.slidesPerGroupSkip,h);p=k+Math.floor((h-k)/o.slidesPerGroup)}if(p>=i.length&&(p=i.length-1),h===a&&!t.params.loop){p!==d&&(t.snapIndex=p,t.emit("snapIndexChange"));return}if(h===a&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=g(h);return}const w=t.grid&&o.grid&&o.grid.rows>1;let v;if(t.virtual&&o.virtual.enabled&&o.loop)v=g(h);else if(w){const k=t.slides.find(x=>x.column===h);let y=parseInt(k.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(t.slides.indexOf(k),0)),v=Math.floor(y/o.grid.rows)}else if(t.slides[h]){const k=t.slides[h].getAttribute("data-swiper-slide-index");k?v=parseInt(k,10):v=h}else v=h;Object.assign(t,{previousSnapIndex:d,snapIndex:p,previousRealIndex:c,realIndex:v,previousIndex:a,activeIndex:h}),t.initialized&&YT(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(c!==v&&t.emit("realIndexChange"),t.emit("slideChange"))}function Vst(r,t){const e=this,i=e.params;let o=r.closest(`.${i.slideClass}, swiper-slide`);!o&&e.isElement&&t&&t.length>1&&t.includes(r)&&[...t.slice(t.indexOf(r)+1,t.length)].forEach(d=>{!o&&d.matches&&d.matches(`.${i.slideClass}, swiper-slide`)&&(o=d)});let a=!1,c;if(o){for(let d=0;d<e.slides.length;d+=1)if(e.slides[d]===o){a=!0,c=d;break}}if(o&&a)e.clickedSlide=o,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=c;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}i.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var Kst={updateSize:Fst,updateSlides:Ost,updateAutoHeight:Nst,updateSlidesOffset:Rst,updateSlidesProgress:Ust,updateProgress:Qst,updateSlidesClasses:Hst,updateActiveIndex:jst,updateClickedSlide:Vst};function Gst(r){r===void 0&&(r=this.isHorizontal()?"x":"y");const t=this,{params:e,rtlTranslate:i,translate:o,wrapperEl:a}=t;if(e.virtualTranslate)return i?-o:o;if(e.cssMode)return o;let c=$T(a,r);return c+=t.cssOverflowAdjustment(),i&&(c=-c),c||0}function Wst(r,t){const e=this,{rtlTranslate:i,params:o,wrapperEl:a,progress:c}=e;let d=0,h=0;const p=0;e.isHorizontal()?d=i?-r:r:h=r,o.roundLengths&&(d=Math.floor(d),h=Math.floor(h)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?d:h,o.cssMode?a[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-d:-h:o.virtualTranslate||(e.isHorizontal()?d-=e.cssOverflowAdjustment():h-=e.cssOverflowAdjustment(),a.style.transform=`translate3d(${d}px, ${h}px, ${p}px)`);let g;const w=e.maxTranslate()-e.minTranslate();w===0?g=0:g=(r-e.minTranslate())/w,g!==c&&e.updateProgress(r),e.emit("setTranslate",e.translate,t)}function $st(){return-this.snapGrid[0]}function qst(){return-this.snapGrid[this.snapGrid.length-1]}function Yst(r,t,e,i,o){r===void 0&&(r=0),t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=!0);const a=this,{params:c,wrapperEl:d}=a;if(a.animating&&c.preventInteractionOnTransition)return!1;const h=a.minTranslate(),p=a.maxTranslate();let g;if(i&&r>h?g=h:i&&r<p?g=p:g=r,a.updateProgress(g),c.cssMode){const w=a.isHorizontal();if(t===0)d[w?"scrollLeft":"scrollTop"]=-g;else{if(!a.support.smoothScroll)return s3({swiper:a,targetPosition:-g,side:w?"left":"top"}),!0;d.scrollTo({[w?"left":"top"]:-g,behavior:"smooth"})}return!0}return t===0?(a.setTransition(0),a.setTranslate(g),e&&(a.emit("beforeTransitionStart",t,o),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(g),e&&(a.emit("beforeTransitionStart",t,o),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(v){!a||a.destroyed||v.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,e&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var Xst={getTranslate:Gst,setTranslate:Wst,minTranslate:$st,maxTranslate:qst,translateTo:Yst};function Zst(r,t){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${r}ms`,e.wrapperEl.style.transitionDelay=r===0?"0ms":""),e.emit("setTransition",r,t)}function l3(r){let{swiper:t,runCallbacks:e,direction:i,step:o}=r;const{activeIndex:a,previousIndex:c}=t;let d=i;if(d||(a>c?d="next":a<c?d="prev":d="reset"),t.emit(`transition${o}`),e&&a!==c){if(d==="reset"){t.emit(`slideResetTransition${o}`);return}t.emit(`slideChangeTransition${o}`),d==="next"?t.emit(`slideNextTransition${o}`):t.emit(`slidePrevTransition${o}`)}}function Jst(r,t){r===void 0&&(r=!0);const e=this,{params:i}=e;i.cssMode||(i.autoHeight&&e.updateAutoHeight(),l3({swiper:e,runCallbacks:r,direction:t,step:"Start"}))}function trt(r,t){r===void 0&&(r=!0);const e=this,{params:i}=e;e.animating=!1,!i.cssMode&&(e.setTransition(0),l3({swiper:e,runCallbacks:r,direction:t,step:"End"}))}var ert={setTransition:Zst,transitionStart:Jst,transitionEnd:trt};function nrt(r,t,e,i,o){r===void 0&&(r=0),e===void 0&&(e=!0),typeof r=="string"&&(r=parseInt(r,10));const a=this;let c=r;c<0&&(c=0);const{params:d,snapGrid:h,slidesGrid:p,previousIndex:g,activeIndex:w,rtlTranslate:v,wrapperEl:k,enabled:y}=a;if(!y&&!i&&!o||a.destroyed||a.animating&&d.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=a.params.speed);const x=Math.min(a.params.slidesPerGroupSkip,c);let I=x+Math.floor((c-x)/a.params.slidesPerGroup);I>=h.length&&(I=h.length-1);const F=-h[I];if(d.normalizeSlideIndex)for(let P=0;P<p.length;P+=1){const K=-Math.floor(F*100),J=Math.floor(p[P]*100),rt=Math.floor(p[P+1]*100);typeof p[P+1]<"u"?K>=J&&K<rt-(rt-J)/2?c=P:K>=J&&K<rt&&(c=P+1):K>=J&&(c=P)}if(a.initialized&&c!==w&&(!a.allowSlideNext&&(v?F>a.translate&&F>a.minTranslate():F<a.translate&&F<a.minTranslate())||!a.allowSlidePrev&&F>a.translate&&F>a.maxTranslate()&&(w||0)!==c))return!1;c!==(g||0)&&e&&a.emit("beforeSlideChangeStart"),a.updateProgress(F);let R;c>w?R="next":c<w?R="prev":R="reset";const Q=a.virtual&&a.params.virtual.enabled;if(!(Q&&o)&&(v&&-F===a.translate||!v&&F===a.translate))return a.updateActiveIndex(c),d.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),d.effect!=="slide"&&a.setTranslate(F),R!=="reset"&&(a.transitionStart(e,R),a.transitionEnd(e,R)),!1;if(d.cssMode){const P=a.isHorizontal(),K=v?F:-F;if(t===0)Q&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),Q&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{k[P?"scrollLeft":"scrollTop"]=K})):k[P?"scrollLeft":"scrollTop"]=K,Q&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return s3({swiper:a,targetPosition:K,side:P?"left":"top"}),!0;k.scrollTo({[P?"left":"top"]:K,behavior:"smooth"})}return!0}const X=a3().isSafari;return Q&&!o&&X&&a.isElement&&a.virtual.update(!1,!1,c),a.setTransition(t),a.setTranslate(F),a.updateActiveIndex(c),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,i),a.transitionStart(e,R),t===0?a.transitionEnd(e,R):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(K){!a||a.destroyed||K.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(e,R))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function irt(r,t,e,i){r===void 0&&(r=0),e===void 0&&(e=!0),typeof r=="string"&&(r=parseInt(r,10));const o=this;if(o.destroyed)return;typeof t>"u"&&(t=o.params.speed);const a=o.grid&&o.params.grid&&o.params.grid.rows>1;let c=r;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)c=c+o.virtual.slidesBefore;else{let d;if(a){const v=c*o.params.grid.rows;d=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===v).column}else d=o.getSlideIndexByData(c);const h=a?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:p}=o.params;let g=o.params.slidesPerView;g==="auto"?g=o.slidesPerViewDynamic():(g=Math.ceil(parseFloat(o.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let w=h-d<g;if(p&&(w=w||d<Math.ceil(g/2)),i&&p&&o.params.slidesPerView!=="auto"&&!a&&(w=!1),w){const v=p?d<o.activeIndex?"prev":"next":d-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:v,slideTo:!0,activeSlideIndex:v==="next"?d+1:d-h+1,slideRealIndex:v==="next"?o.realIndex:void 0})}if(a){const v=c*o.params.grid.rows;c=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===v).column}else c=o.getSlideIndexByData(c)}return requestAnimationFrame(()=>{o.slideTo(c,t,e,i)}),o}function srt(r,t,e){t===void 0&&(t=!0);const i=this,{enabled:o,params:a,animating:c}=i;if(!o||i.destroyed)return i;typeof r>"u"&&(r=i.params.speed);let d=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(d=Math.max(i.slidesPerViewDynamic("current",!0),1));const h=i.activeIndex<a.slidesPerGroupSkip?1:d,p=i.virtual&&a.virtual.enabled;if(a.loop){if(c&&!p&&a.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+h,r,t,e)}),!0}return a.rewind&&i.isEnd?i.slideTo(0,r,t,e):i.slideTo(i.activeIndex+h,r,t,e)}function rrt(r,t,e){t===void 0&&(t=!0);const i=this,{params:o,snapGrid:a,slidesGrid:c,rtlTranslate:d,enabled:h,animating:p}=i;if(!h||i.destroyed)return i;typeof r>"u"&&(r=i.params.speed);const g=i.virtual&&o.virtual.enabled;if(o.loop){if(p&&!g&&o.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const w=d?i.translate:-i.translate;function v(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const k=v(w),y=a.map(R=>v(R)),x=o.freeMode&&o.freeMode.enabled;let I=a[y.indexOf(k)-1];if(typeof I>"u"&&(o.cssMode||x)){let R;a.forEach((Q,V)=>{k>=Q&&(R=V)}),typeof R<"u"&&(I=x?a[R]:a[R>0?R-1:R])}let F=0;if(typeof I<"u"&&(F=c.indexOf(I),F<0&&(F=i.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(F=F-i.slidesPerViewDynamic("previous",!0)+1,F=Math.max(F,0))),o.rewind&&i.isBeginning){const R=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(R,r,t,e)}else if(o.loop&&i.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(F,r,t,e)}),!0;return i.slideTo(F,r,t,e)}function ort(r,t,e){t===void 0&&(t=!0);const i=this;if(!i.destroyed)return typeof r>"u"&&(r=i.params.speed),i.slideTo(i.activeIndex,r,t,e)}function art(r,t,e,i){t===void 0&&(t=!0),i===void 0&&(i=.5);const o=this;if(o.destroyed)return;typeof r>"u"&&(r=o.params.speed);let a=o.activeIndex;const c=Math.min(o.params.slidesPerGroupSkip,a),d=c+Math.floor((a-c)/o.params.slidesPerGroup),h=o.rtlTranslate?o.translate:-o.translate;if(h>=o.snapGrid[d]){const p=o.snapGrid[d],g=o.snapGrid[d+1];h-p>(g-p)*i&&(a+=o.params.slidesPerGroup)}else{const p=o.snapGrid[d-1],g=o.snapGrid[d];h-p<=(g-p)*i&&(a-=o.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,o.slidesGrid.length-1),o.slideTo(a,r,t,e)}function lrt(){const r=this;if(r.destroyed)return;const{params:t,slidesEl:e}=r,i=t.slidesPerView==="auto"?r.slidesPerViewDynamic():t.slidesPerView;let o=r.clickedIndex,a;const c=r.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(r.animating)return;a=parseInt(r.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?o<r.loopedSlides-i/2||o>r.slides.length-r.loopedSlides+i/2?(r.loopFix(),o=r.getSlideIndex(ho(e,`${c}[data-swiper-slide-index="${a}"]`)[0]),Tg(()=>{r.slideTo(o)})):r.slideTo(o):o>r.slides.length-i?(r.loopFix(),o=r.getSlideIndex(ho(e,`${c}[data-swiper-slide-index="${a}"]`)[0]),Tg(()=>{r.slideTo(o)})):r.slideTo(o)}else r.slideTo(o)}var crt={slideTo:nrt,slideToLoop:irt,slideNext:srt,slidePrev:rrt,slideReset:ort,slideToClosest:art,slideToClickedSlide:lrt};function drt(r,t){const e=this,{params:i,slidesEl:o}=e;if(!i.loop||e.virtual&&e.params.virtual.enabled)return;const a=()=>{ho(o,`.${i.slideClass}, swiper-slide`).forEach((v,k)=>{v.setAttribute("data-swiper-slide-index",k)})},c=e.grid&&i.grid&&i.grid.rows>1,d=i.slidesPerGroup*(c?i.grid.rows:1),h=e.slides.length%d!==0,p=c&&e.slides.length%i.grid.rows!==0,g=w=>{for(let v=0;v<w;v+=1){const k=e.isElement?xl("swiper-slide",[i.slideBlankClass]):xl("div",[i.slideClass,i.slideBlankClass]);e.slidesEl.append(k)}};if(h){if(i.loopAddBlankSlides){const w=d-e.slides.length%d;g(w),e.recalcSlides(),e.updateSlides()}else NE("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(p){if(i.loopAddBlankSlides){const w=i.grid.rows-e.slides.length%i.grid.rows;g(w),e.recalcSlides(),e.updateSlides()}else NE("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();e.loopFix({slideRealIndex:r,direction:i.centeredSlides?void 0:"next",initial:t})}function Art(r){let{slideRealIndex:t,slideTo:e=!0,direction:i,setTranslate:o,activeSlideIndex:a,initial:c,byController:d,byMousewheel:h}=r===void 0?{}:r;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:g,allowSlidePrev:w,allowSlideNext:v,slidesEl:k,params:y}=p,{centeredSlides:x,initialSlide:I}=y;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&y.virtual.enabled){e&&(!y.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):y.centeredSlides&&p.snapIndex<y.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=v,p.emit("loopFix");return}let F=y.slidesPerView;F==="auto"?F=p.slidesPerViewDynamic():(F=Math.ceil(parseFloat(y.slidesPerView,10)),x&&F%2===0&&(F=F+1));const R=y.slidesPerGroupAuto?F:y.slidesPerGroup;let Q=R;Q%R!==0&&(Q+=R-Q%R),Q+=y.loopAdditionalSlides,p.loopedSlides=Q;const V=p.grid&&y.grid&&y.grid.rows>1;g.length<F+Q||p.params.effect==="cards"&&g.length<F+Q*2?NE("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):V&&y.grid.fill==="row"&&NE("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const W=[],X=[],P=V?Math.ceil(g.length/y.grid.rows):g.length,K=c&&P-I<F&&!x;let J=K?I:p.activeIndex;typeof a>"u"?a=p.getSlideIndex(g.find(vt=>vt.classList.contains(y.slideActiveClass))):J=a;const rt=i==="next"||!i,dt=i==="prev"||!i;let ht=0,ut=0;const St=(V?g[a].column:a)+(x&&typeof o>"u"?-F/2+.5:0);if(St<Q){ht=Math.max(Q-St,R);for(let vt=0;vt<Q-St;vt+=1){const pt=vt-Math.floor(vt/P)*P;if(V){const _t=P-pt-1;for(let Dt=g.length-1;Dt>=0;Dt-=1)g[Dt].column===_t&&W.push(Dt)}else W.push(P-pt-1)}}else if(St+F>P-Q){ut=Math.max(St-(P-Q*2),R),K&&(ut=Math.max(ut,F-P+I+1));for(let vt=0;vt<ut;vt+=1){const pt=vt-Math.floor(vt/P)*P;V?g.forEach((_t,Dt)=>{_t.column===pt&&X.push(Dt)}):X.push(pt)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&g.length<F+Q*2&&(X.includes(a)&&X.splice(X.indexOf(a),1),W.includes(a)&&W.splice(W.indexOf(a),1)),dt&&W.forEach(vt=>{g[vt].swiperLoopMoveDOM=!0,k.prepend(g[vt]),g[vt].swiperLoopMoveDOM=!1}),rt&&X.forEach(vt=>{g[vt].swiperLoopMoveDOM=!0,k.append(g[vt]),g[vt].swiperLoopMoveDOM=!1}),p.recalcSlides(),y.slidesPerView==="auto"?p.updateSlides():V&&(W.length>0&&dt||X.length>0&&rt)&&p.slides.forEach((vt,pt)=>{p.grid.updateSlide(pt,vt,p.slides)}),y.watchSlidesProgress&&p.updateSlidesOffset(),e){if(W.length>0&&dt){if(typeof t>"u"){const vt=p.slidesGrid[J],_t=p.slidesGrid[J+ht]-vt;h?p.setTranslate(p.translate-_t):(p.slideTo(J+Math.ceil(ht),0,!1,!0),o&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-_t,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-_t))}else if(o){const vt=V?W.length/y.grid.rows:W.length;p.slideTo(p.activeIndex+vt,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(X.length>0&&rt)if(typeof t>"u"){const vt=p.slidesGrid[J],_t=p.slidesGrid[J-ut]-vt;h?p.setTranslate(p.translate-_t):(p.slideTo(J-ut,0,!1,!0),o&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-_t,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-_t))}else{const vt=V?X.length/y.grid.rows:X.length;p.slideTo(p.activeIndex-vt,0,!1,!0)}}if(p.allowSlidePrev=w,p.allowSlideNext=v,p.controller&&p.controller.control&&!d){const vt={slideRealIndex:t,direction:i,setTranslate:o,activeSlideIndex:a,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(pt=>{!pt.destroyed&&pt.params.loop&&pt.loopFix({...vt,slideTo:pt.params.slidesPerView===y.slidesPerView?e:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...vt,slideTo:p.controller.control.params.slidesPerView===y.slidesPerView?e:!1})}p.emit("loopFix")}function urt(){const r=this,{params:t,slidesEl:e}=r;if(!t.loop||!e||r.virtual&&r.params.virtual.enabled)return;r.recalcSlides();const i=[];r.slides.forEach(o=>{const a=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;i[a]=o}),r.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),i.forEach(o=>{e.append(o)}),r.recalcSlides(),r.slideTo(r.realIndex,0)}var hrt={loopCreate:drt,loopFix:Art,loopDestroy:urt};function frt(r){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const e=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=r?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function prt(){const r=this;r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r.isElement&&(r.__preventObserver__=!0),r[r.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1}))}var grt={setGrabCursor:frt,unsetGrabCursor:prt};function mrt(r,t){t===void 0&&(t=this);function e(i){if(!i||i===Qr()||i===is())return null;i.assignedSlot&&(i=i.assignedSlot);const o=i.closest(r);return!o&&!i.getRootNode?null:o||e(i.getRootNode().host)}return e(t)}function s4(r,t,e){const i=is(),{params:o}=r,a=o.edgeSwipeDetection,c=o.edgeSwipeThreshold;return a&&(e<=c||e>=i.innerWidth-c)?a==="prevent"?(t.preventDefault(),!0):!1:!0}function brt(r){const t=this,e=Qr();let i=r;i.originalEvent&&(i=i.originalEvent);const o=t.touchEventsData;if(i.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==i.pointerId)return;o.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(o.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){s4(t,i,i.targetTouches[0].pageX);return}const{params:a,touches:c,enabled:d}=t;if(!d||!a.simulateTouch&&i.pointerType==="mouse"||t.animating&&a.preventInteractionOnTransition)return;!t.animating&&a.cssMode&&a.loop&&t.loopFix();let h=i.target;if(a.touchEventsTarget==="wrapper"&&!xst(h,t.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||o.isTouched&&o.isMoved)return;const p=!!a.noSwipingClass&&a.noSwipingClass!=="",g=i.composedPath?i.composedPath():i.path;p&&i.target&&i.target.shadowRoot&&g&&(h=g[0]);const w=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,v=!!(i.target&&i.target.shadowRoot);if(a.noSwiping&&(v?mrt(w,h):h.closest(w))){t.allowClick=!0;return}if(a.swipeHandler&&!h.closest(a.swipeHandler))return;c.currentX=i.pageX,c.currentY=i.pageY;const k=c.currentX,y=c.currentY;if(!s4(t,i,k))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=k,c.startY=y,o.touchStartTime=dc(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(o.allowThresholdMove=!1);let x=!0;h.matches(o.focusableElements)&&(x=!1,h.nodeName==="SELECT"&&(o.isTouched=!1)),e.activeElement&&e.activeElement.matches(o.focusableElements)&&e.activeElement!==h&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!h.matches(o.focusableElements))&&e.activeElement.blur();const I=x&&t.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||I)&&!h.isContentEditable&&i.preventDefault(),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function wrt(r){const t=Qr(),e=this,i=e.touchEventsData,{params:o,touches:a,rtlTranslate:c,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;let h=r;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(i.touchId!==null||h.pointerId!==i.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(W=>W.identifier===i.touchId),!p||p.identifier!==i.touchId)return}else p=h;if(!i.isTouched){i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",h);return}const g=p.pageX,w=p.pageY;if(h.preventedByNestedSwiper){a.startX=g,a.startY=w;return}if(!e.allowTouchMove){h.target.matches(i.focusableElements)||(e.allowClick=!1),i.isTouched&&(Object.assign(a,{startX:g,startY:w,currentX:g,currentY:w}),i.touchStartTime=dc());return}if(o.touchReleaseOnEdges&&!o.loop)if(e.isVertical()){if(w<a.startY&&e.translate<=e.maxTranslate()||w>a.startY&&e.translate>=e.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(c&&(g>a.startX&&-e.translate<=e.maxTranslate()||g<a.startX&&-e.translate>=e.minTranslate()))return;if(!c&&(g<a.startX&&e.translate<=e.maxTranslate()||g>a.startX&&e.translate>=e.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==h.target&&h.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&h.target===t.activeElement&&h.target.matches(i.focusableElements)){i.isMoved=!0,e.allowClick=!1;return}i.allowTouchCallbacks&&e.emit("touchMove",h),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=g,a.currentY=w;const v=a.currentX-a.startX,k=a.currentY-a.startY;if(e.params.threshold&&Math.sqrt(v**2+k**2)<e.params.threshold)return;if(typeof i.isScrolling>"u"){let W;e.isHorizontal()&&a.currentY===a.startY||e.isVertical()&&a.currentX===a.startX?i.isScrolling=!1:v*v+k*k>=25&&(W=Math.atan2(Math.abs(k),Math.abs(v))*180/Math.PI,i.isScrolling=e.isHorizontal()?W>o.touchAngle:90-W>o.touchAngle)}if(i.isScrolling&&e.emit("touchMoveOpposite",h),typeof i.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(i.startMoving=!0),i.isScrolling||h.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;e.allowClick=!1,!o.cssMode&&h.cancelable&&h.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&h.stopPropagation();let y=e.isHorizontal()?v:k,x=e.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;o.oneWayMovement&&(y=Math.abs(y)*(c?1:-1),x=Math.abs(x)*(c?1:-1)),a.diff=y,y*=o.touchRatio,c&&(y=-y,x=-x);const I=e.touchesDirection;e.swipeDirection=y>0?"prev":"next",e.touchesDirection=x>0?"prev":"next";const F=e.params.loop&&!o.cssMode,R=e.touchesDirection==="next"&&e.allowSlideNext||e.touchesDirection==="prev"&&e.allowSlidePrev;if(!i.isMoved){if(F&&R&&e.loopFix({direction:e.swipeDirection}),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const W=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});e.wrapperEl.dispatchEvent(W)}i.allowMomentumBounce=!1,o.grabCursor&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",h)}if(new Date().getTime(),o._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&I!==e.touchesDirection&&F&&R&&Math.abs(y)>=1){Object.assign(a,{startX:g,startY:w,currentX:g,currentY:w,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}e.emit("sliderMove",h),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let Q=!0,V=o.resistanceRatio;if(o.touchReleaseOnEdges&&(V=0),y>0?(F&&R&&i.allowThresholdMove&&i.currentTranslate>(o.centeredSlides?e.minTranslate()-e.slidesSizesGrid[e.activeIndex+1]-(o.slidesPerView!=="auto"&&e.slides.length-o.slidesPerView>=2?e.slidesSizesGrid[e.activeIndex+1]+e.params.spaceBetween:0)-e.params.spaceBetween:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>e.minTranslate()&&(Q=!1,o.resistance&&(i.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+i.startTranslate+y)**V))):y<0&&(F&&R&&i.allowThresholdMove&&i.currentTranslate<(o.centeredSlides?e.maxTranslate()+e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween+(o.slidesPerView!=="auto"&&e.slides.length-o.slidesPerView>=2?e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween:0):e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-(o.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),i.currentTranslate<e.maxTranslate()&&(Q=!1,o.resistance&&(i.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-i.startTranslate-y)**V))),Q&&(h.preventedByNestedSwiper=!0),!e.allowSlideNext&&e.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&e.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(i.currentTranslate=i.startTranslate),o.threshold>0)if(Math.abs(y)>o.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,i.currentTranslate=i.startTranslate,a.diff=e.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{i.currentTranslate=i.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&e.freeMode||o.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}function vrt(r){const t=this,e=t.touchEventsData;let i=r;i.originalEvent&&(i=i.originalEvent);let o;if(i.type==="touchend"||i.type==="touchcancel"){if(o=[...i.changedTouches].find(W=>W.identifier===e.touchId),!o||o.identifier!==e.touchId)return}else{if(e.touchId!==null||i.pointerId!==e.pointerId)return;o=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return;e.pointerId=null,e.touchId=null;const{params:c,touches:d,rtlTranslate:h,slidesGrid:p,enabled:g}=t;if(!g||!c.simulateTouch&&i.pointerType==="mouse")return;if(e.allowTouchCallbacks&&t.emit("touchEnd",i),e.allowTouchCallbacks=!1,!e.isTouched){e.isMoved&&c.grabCursor&&t.setGrabCursor(!1),e.isMoved=!1,e.startMoving=!1;return}c.grabCursor&&e.isMoved&&e.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const w=dc(),v=w-e.touchStartTime;if(t.allowClick){const W=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(W&&W[0]||i.target,W),t.emit("tap click",i),v<300&&w-e.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(e.lastClickTime=dc(),Tg(()=>{t.destroyed||(t.allowClick=!0)}),!e.isTouched||!e.isMoved||!t.swipeDirection||d.diff===0&&!e.loopSwapReset||e.currentTranslate===e.startTranslate&&!e.loopSwapReset){e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;return}e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;let k;if(c.followFinger?k=h?t.translate:-t.translate:k=-e.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:k});return}const y=k>=-t.maxTranslate()&&!t.params.loop;let x=0,I=t.slidesSizesGrid[0];for(let W=0;W<p.length;W+=W<c.slidesPerGroupSkip?1:c.slidesPerGroup){const X=W<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[W+X]<"u"?(y||k>=p[W]&&k<p[W+X])&&(x=W,I=p[W+X]-p[W]):(y||k>=p[W])&&(x=W,I=p[p.length-1]-p[p.length-2])}let F=null,R=null;c.rewind&&(t.isBeginning?R=c.virtual&&c.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(F=0));const Q=(k-p[x])/I,V=x<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(v>c.longSwipesMs){if(!c.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(Q>=c.longSwipesRatio?t.slideTo(c.rewind&&t.isEnd?F:x+V):t.slideTo(x)),t.swipeDirection==="prev"&&(Q>1-c.longSwipesRatio?t.slideTo(x+V):R!==null&&Q<0&&Math.abs(Q)>c.longSwipesRatio?t.slideTo(R):t.slideTo(x))}else{if(!c.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(x+V):t.slideTo(x):(t.swipeDirection==="next"&&t.slideTo(F!==null?F:x+V),t.swipeDirection==="prev"&&t.slideTo(R!==null?R:x))}}function r4(){const r=this,{params:t,el:e}=r;if(e&&e.offsetWidth===0)return;t.breakpoints&&r.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:o,snapGrid:a}=r,c=r.virtual&&r.params.virtual.enabled;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses();const d=c&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides&&!d?r.slideTo(r.slides.length-1,0,!1,!0):r.params.loop&&!c?r.slideToLoop(r.realIndex,0,!1,!0):r.slideTo(r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&(clearTimeout(r.autoplay.resizeTimeout),r.autoplay.resizeTimeout=setTimeout(()=>{r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.resume()},500)),r.allowSlidePrev=o,r.allowSlideNext=i,r.params.watchOverflow&&a!==r.snapGrid&&r.checkOverflow()}function _rt(r){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&r.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(r.stopPropagation(),r.stopImmediatePropagation())))}function krt(){const r=this,{wrapperEl:t,rtlTranslate:e,enabled:i}=r;if(!i)return;r.previousTranslate=r.translate,r.isHorizontal()?r.translate=-t.scrollLeft:r.translate=-t.scrollTop,r.translate===0&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();let o;const a=r.maxTranslate()-r.minTranslate();a===0?o=0:o=(r.translate-r.minTranslate())/a,o!==r.progress&&r.updateProgress(e?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}function yrt(r){const t=this;HC(t,r.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function Crt(){const r=this;r.documentTouchHandlerProceeded||(r.documentTouchHandlerProceeded=!0,r.params.touchReleaseOnEdges&&(r.el.style.touchAction="auto"))}const c3=(r,t)=>{const e=Qr(),{params:i,el:o,wrapperEl:a,device:c}=r,d=!!i.nested,h=t==="on"?"addEventListener":"removeEventListener",p=t;!o||typeof o=="string"||(e[h]("touchstart",r.onDocumentTouchStart,{passive:!1,capture:d}),o[h]("touchstart",r.onTouchStart,{passive:!1}),o[h]("pointerdown",r.onTouchStart,{passive:!1}),e[h]("touchmove",r.onTouchMove,{passive:!1,capture:d}),e[h]("pointermove",r.onTouchMove,{passive:!1,capture:d}),e[h]("touchend",r.onTouchEnd,{passive:!0}),e[h]("pointerup",r.onTouchEnd,{passive:!0}),e[h]("pointercancel",r.onTouchEnd,{passive:!0}),e[h]("touchcancel",r.onTouchEnd,{passive:!0}),e[h]("pointerout",r.onTouchEnd,{passive:!0}),e[h]("pointerleave",r.onTouchEnd,{passive:!0}),e[h]("contextmenu",r.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&o[h]("click",r.onClick,!0),i.cssMode&&a[h]("scroll",r.onScroll),i.updateOnWindowResize?r[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",r4,!0):r[p]("observerUpdate",r4,!0),o[h]("load",r.onLoad,{capture:!0}))};function Ert(){const r=this,{params:t}=r;r.onTouchStart=brt.bind(r),r.onTouchMove=wrt.bind(r),r.onTouchEnd=vrt.bind(r),r.onDocumentTouchStart=Crt.bind(r),t.cssMode&&(r.onScroll=krt.bind(r)),r.onClick=_rt.bind(r),r.onLoad=yrt.bind(r),c3(r,"on")}function xrt(){c3(this,"off")}var Brt={attachEvents:Ert,detachEvents:xrt};const o4=(r,t)=>r.grid&&t.grid&&t.grid.rows>1;function Srt(){const r=this,{realIndex:t,initialized:e,params:i,el:o}=r,a=i.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const c=Qr(),d=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",h=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?r.el:c.querySelector(i.breakpointsBase),p=r.getBreakpoint(a,d,h);if(!p||r.currentBreakpoint===p)return;const w=(p in a?a[p]:void 0)||r.originalParams,v=o4(r,i),k=o4(r,w),y=r.params.grabCursor,x=w.grabCursor,I=i.enabled;v&&!k?(o.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),r.emitContainerClasses()):!v&&k&&(o.classList.add(`${i.containerModifierClass}grid`),(w.grid.fill&&w.grid.fill==="column"||!w.grid.fill&&i.grid.fill==="column")&&o.classList.add(`${i.containerModifierClass}grid-column`),r.emitContainerClasses()),y&&!x?r.unsetGrabCursor():!y&&x&&r.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(X=>{if(typeof w[X]>"u")return;const P=i[X]&&i[X].enabled,K=w[X]&&w[X].enabled;P&&!K&&r[X].disable(),!P&&K&&r[X].enable()});const F=w.direction&&w.direction!==i.direction,R=i.loop&&(w.slidesPerView!==i.slidesPerView||F),Q=i.loop;F&&e&&r.changeDirection(),kl(r.params,w);const V=r.params.enabled,W=r.params.loop;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),I&&!V?r.disable():!I&&V&&r.enable(),r.currentBreakpoint=p,r.emit("_beforeBreakpoint",w),e&&(R?(r.loopDestroy(),r.loopCreate(t),r.updateSlides()):!Q&&W?(r.loopCreate(t),r.updateSlides()):Q&&!W&&r.loopDestroy()),r.emit("breakpoint",w)}function Trt(r,t,e){if(t===void 0&&(t="window"),!r||t==="container"&&!e)return;let i=!1;const o=is(),a=t==="window"?o.innerHeight:e.clientHeight,c=Object.keys(r).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const h=parseFloat(d.substr(1));return{value:a*h,point:d}}return{value:d,point:d}});c.sort((d,h)=>parseInt(d.value,10)-parseInt(h.value,10));for(let d=0;d<c.length;d+=1){const{point:h,value:p}=c[d];t==="window"?o.matchMedia(`(min-width: ${p}px)`).matches&&(i=h):p<=e.clientWidth&&(i=h)}return i||"max"}var Irt={setBreakpoint:Srt,getBreakpoint:Trt};function Drt(r,t){const e=[];return r.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(o=>{i[o]&&e.push(t+o)}):typeof i=="string"&&e.push(t+i)}),e}function Mrt(){const r=this,{classNames:t,params:e,rtl:i,el:o,device:a}=r,c=Drt(["initialized",e.direction,{"free-mode":r.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&e.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...c),o.classList.add(...t),r.emitContainerClasses()}function Lrt(){const r=this,{el:t,classNames:e}=r;!t||typeof t=="string"||(t.classList.remove(...e),r.emitContainerClasses())}var Prt={addClasses:Mrt,removeClasses:Lrt};function Frt(){const r=this,{isLocked:t,params:e}=r,{slidesOffsetBefore:i}=e;if(i){const o=r.slides.length-1,a=r.slidesGrid[o]+r.slidesSizesGrid[o]+i*2;r.isLocked=r.size>a}else r.isLocked=r.snapGrid.length===1;e.allowSlideNext===!0&&(r.allowSlideNext=!r.isLocked),e.allowSlidePrev===!0&&(r.allowSlidePrev=!r.isLocked),t&&t!==r.isLocked&&(r.isEnd=!1),t!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}var Ort={checkOverflow:Frt},a4={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Nrt(r,t){return function(i){i===void 0&&(i={});const o=Object.keys(i)[0],a=i[o];if(typeof a!="object"||a===null){kl(t,i);return}if(r[o]===!0&&(r[o]={enabled:!0}),o==="navigation"&&r[o]&&r[o].enabled&&!r[o].prevEl&&!r[o].nextEl&&(r[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&r[o]&&r[o].enabled&&!r[o].el&&(r[o].auto=!0),!(o in r&&"enabled"in a)){kl(t,i);return}typeof r[o]=="object"&&!("enabled"in r[o])&&(r[o].enabled=!0),r[o]||(r[o]={enabled:!1}),kl(t,i)}}const SS={eventsEmitter:Pst,update:Kst,translate:Xst,transition:ert,slide:crt,loop:hrt,grabCursor:grt,events:Brt,breakpoints:Irt,checkOverflow:Ort,classes:Prt},TS={};class La{constructor(){let t,e;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];o.length===1&&o[0].constructor&&Object.prototype.toString.call(o[0]).slice(8,-1)==="Object"?e=o[0]:[t,e]=o,e||(e={}),e=kl({},e),t&&!e.el&&(e.el=t);const c=Qr();if(e.el&&typeof e.el=="string"&&c.querySelectorAll(e.el).length>1){const g=[];return c.querySelectorAll(e.el).forEach(w=>{const v=kl({},e,{el:w});g.push(new La(v))}),g}const d=this;d.__swiper__=!0,d.support=r3(),d.device=o3({userAgent:e.userAgent}),d.browser=a3(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],e.modules&&Array.isArray(e.modules)&&d.modules.push(...e.modules);const h={};d.modules.forEach(g=>{g({params:e,swiper:d,extendParams:Nrt(e,h),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const p=kl({},a4,h);return d.params=kl({},p,TS,e),d.originalParams=kl({},d.params),d.passedParams=kl({},e),d.params&&d.params.on&&Object.keys(d.params.on).forEach(g=>{d.on(g,d.params.on[g])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:e,params:i}=this,o=ho(e,`.${i.slideClass}, swiper-slide`),a=g_(o[0]);return g_(t)-a}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(e=>e.getAttribute("data-swiper-slide-index")*1===t))}recalcSlides(){const t=this,{slidesEl:e,params:i}=t;t.slides=ho(e,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const i=this;t=Math.min(Math.max(t,0),1);const o=i.minTranslate(),c=(i.maxTranslate()-o)*t+o;i.translateTo(c,typeof e>"u"?0:e),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(e.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(i=>{const o=t.getSlideClasses(i);e.push({slideEl:i,classNames:o}),t.emit("_slideClass",i,o)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){t===void 0&&(t="current"),e===void 0&&(e=!1);const i=this,{params:o,slides:a,slidesGrid:c,slidesSizesGrid:d,size:h,activeIndex:p}=i;let g=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let w=a[p]?Math.ceil(a[p].swiperSlideSize):0,v;for(let k=p+1;k<a.length;k+=1)a[k]&&!v&&(w+=Math.ceil(a[k].swiperSlideSize),g+=1,w>h&&(v=!0));for(let k=p-1;k>=0;k-=1)a[k]&&!v&&(w+=a[k].swiperSlideSize,g+=1,w>h&&(v=!0))}else if(t==="current")for(let w=p+1;w<a.length;w+=1)(e?c[w]+d[w]-c[p]<h:c[w]-c[p]<h)&&(g+=1);else for(let w=p-1;w>=0;w-=1)c[p]-c[w]<h&&(g+=1);return g}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&HC(t,c)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function o(){const c=t.rtlTranslate?t.translate*-1:t.translate,d=Math.min(Math.max(c,t.maxTranslate()),t.minTranslate());t.setTranslate(d),t.updateActiveIndex(),t.updateSlidesClasses()}let a;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)o(),i.autoHeight&&t.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){const c=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;a=t.slideTo(c.length-1,0,!1,!0)}else a=t.slideTo(t.activeIndex,0,!1,!0);a||o()}i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){e===void 0&&(e=!0);const i=this,o=i.params.direction;return t||(t=o==="horizontal"?"vertical":"horizontal"),t===o||t!=="horizontal"&&t!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${o}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(a=>{t==="vertical"?a.style.width="":a.style.height=""}),i.emit("changeDirection"),e&&i.update()),i}changeLanguageDirection(t){const e=this;e.rtl&&t==="rtl"||!e.rtl&&t==="ltr"||(e.rtl=t==="rtl",e.rtlTranslate=e.params.direction==="horizontal"&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let i=t||e.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=e,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const o=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(o()):ho(i,o())[0];return!c&&e.params.createElements&&(c=xl("div",e.params.wrapperClass),i.append(c),ho(i,`.${e.params.slideClass}`).forEach(d=>{c.append(d)})),Object.assign(e,{el:i,wrapperEl:c,slidesEl:e.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:c,hostEl:e.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Kh(i,"direction")==="rtl",rtlTranslate:e.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Kh(i,"direction")==="rtl"),wrongRTL:Kh(c,"display")==="-webkit-box"}),!0}init(t){const e=this;if(e.initialized||e.mount(t)===!1)return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(void 0,!0),e.attachEvents();const o=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&o.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(a=>{a.complete?HC(e,a):a.addEventListener("load",c=>{HC(e,c.target)})}),YT(e),e.initialized=!0,YT(e),e.emit("init"),e.emit("afterInit"),e}destroy(t,e){t===void 0&&(t=!0),e===void 0&&(e=!0);const i=this,{params:o,el:a,wrapperEl:c,slides:d}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),o.loop&&i.loopDestroy(),e&&(i.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),c&&c.removeAttribute("style"),d&&d.length&&d.forEach(h=>{h.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(h=>{i.off(h)}),t!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),kst(i)),i.destroyed=!0),null}static extendDefaults(t){kl(TS,t)}static get extendedDefaults(){return TS}static get defaults(){return a4}static installModule(t){La.prototype.__modules__||(La.prototype.__modules__=[]);const e=La.prototype.__modules__;typeof t=="function"&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(e=>La.installModule(e)),La):(La.installModule(t),La)}}Object.keys(SS).forEach(r=>{Object.keys(SS[r]).forEach(t=>{La.prototype[t]=SS[r][t]})});La.use([Mst,Lst]);function Rrt(r){let{swiper:t,extendParams:e,on:i,emit:o}=r;e({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let a;const c=Qr();t.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const d=c.createElement("div");function h(y,x){const I=t.params.virtual;if(I.cache&&t.virtual.cache[x])return t.virtual.cache[x];let F;return I.renderSlide?(F=I.renderSlide.call(t,y,x),typeof F=="string"&&(d.innerHTML=F,F=d.children[0])):t.isElement?F=xl("swiper-slide"):F=xl("div",t.params.slideClass),F.setAttribute("data-swiper-slide-index",x),I.renderSlide||(F.innerHTML=y),I.cache&&(t.virtual.cache[x]=F),F}function p(y,x,I){const{slidesPerView:F,slidesPerGroup:R,centeredSlides:Q,loop:V,initialSlide:W}=t.params;if(x&&!V&&W>0)return;const{addSlidesBefore:X,addSlidesAfter:P}=t.params.virtual,{from:K,to:J,slides:rt,slidesGrid:dt,offset:ht}=t.virtual;t.params.cssMode||t.updateActiveIndex();const ut=typeof I>"u"?t.activeIndex||0:I;let mt;t.rtlTranslate?mt="right":mt=t.isHorizontal()?"left":"top";let St,vt;Q?(St=Math.floor(F/2)+R+P,vt=Math.floor(F/2)+R+X):(St=F+(R-1)+P,vt=(V?F:R)+X);let pt=ut-vt,_t=ut+St;V||(pt=Math.max(pt,0),_t=Math.min(_t,rt.length-1));let Dt=(t.slidesGrid[pt]||0)-(t.slidesGrid[0]||0);V&&ut>=vt?(pt-=vt,Q||(Dt+=t.slidesGrid[0])):V&&ut<vt&&(pt=-vt,Q&&(Dt+=t.slidesGrid[0])),Object.assign(t.virtual,{from:pt,to:_t,offset:Dt,slidesGrid:t.slidesGrid,slidesBefore:vt,slidesAfter:St});function yt(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),o("virtualUpdate")}if(K===pt&&J===_t&&!y){t.slidesGrid!==dt&&Dt!==ht&&t.slides.forEach(Tt=>{Tt.style[mt]=`${Dt-Math.abs(t.cssOverflowAdjustment())}px`}),t.updateProgress(),o("virtualUpdate");return}if(t.params.virtual.renderExternal){t.params.virtual.renderExternal.call(t,{offset:Dt,from:pt,to:_t,slides:function(){const Pt=[];for(let jt=pt;jt<=_t;jt+=1)Pt.push(rt[jt]);return Pt}()}),t.params.virtual.renderExternalUpdate?yt():o("virtualUpdate");return}const se=[],oe=[],ie=Tt=>{let Pt=Tt;return Tt<0?Pt=rt.length+Tt:Pt>=rt.length&&(Pt=Pt-rt.length),Pt};if(y)t.slides.filter(Tt=>Tt.matches(`.${t.params.slideClass}, swiper-slide`)).forEach(Tt=>{Tt.remove()});else for(let Tt=K;Tt<=J;Tt+=1)if(Tt<pt||Tt>_t){const Pt=ie(Tt);t.slides.filter(jt=>jt.matches(`.${t.params.slideClass}[data-swiper-slide-index="${Pt}"], swiper-slide[data-swiper-slide-index="${Pt}"]`)).forEach(jt=>{jt.remove()})}const le=V?-rt.length:0,Lt=V?rt.length*2:rt.length;for(let Tt=le;Tt<Lt;Tt+=1)if(Tt>=pt&&Tt<=_t){const Pt=ie(Tt);typeof J>"u"||y?oe.push(Pt):(Tt>J&&oe.push(Pt),Tt<K&&se.push(Pt))}if(oe.forEach(Tt=>{t.slidesEl.append(h(rt[Tt],Tt))}),V)for(let Tt=se.length-1;Tt>=0;Tt-=1){const Pt=se[Tt];t.slidesEl.prepend(h(rt[Pt],Pt))}else se.sort((Tt,Pt)=>Pt-Tt),se.forEach(Tt=>{t.slidesEl.prepend(h(rt[Tt],Tt))});ho(t.slidesEl,".swiper-slide, swiper-slide").forEach(Tt=>{Tt.style[mt]=`${Dt-Math.abs(t.cssOverflowAdjustment())}px`}),yt()}function g(y){if(typeof y=="object"&&"length"in y)for(let x=0;x<y.length;x+=1)y[x]&&t.virtual.slides.push(y[x]);else t.virtual.slides.push(y);p(!0)}function w(y){const x=t.activeIndex;let I=x+1,F=1;if(Array.isArray(y)){for(let R=0;R<y.length;R+=1)y[R]&&t.virtual.slides.unshift(y[R]);I=x+y.length,F=y.length}else t.virtual.slides.unshift(y);if(t.params.virtual.cache){const R=t.virtual.cache,Q={};Object.keys(R).forEach(V=>{const W=R[V],X=W.getAttribute("data-swiper-slide-index");X&&W.setAttribute("data-swiper-slide-index",parseInt(X,10)+F),Q[parseInt(V,10)+F]=W}),t.virtual.cache=Q}p(!0),t.slideTo(I,0)}function v(y){if(typeof y>"u"||y===null)return;let x=t.activeIndex;if(Array.isArray(y))for(let I=y.length-1;I>=0;I-=1)t.params.virtual.cache&&(delete t.virtual.cache[y[I]],Object.keys(t.virtual.cache).forEach(F=>{F>y&&(t.virtual.cache[F-1]=t.virtual.cache[F],t.virtual.cache[F-1].setAttribute("data-swiper-slide-index",F-1),delete t.virtual.cache[F])})),t.virtual.slides.splice(y[I],1),y[I]<x&&(x-=1),x=Math.max(x,0);else t.params.virtual.cache&&(delete t.virtual.cache[y],Object.keys(t.virtual.cache).forEach(I=>{I>y&&(t.virtual.cache[I-1]=t.virtual.cache[I],t.virtual.cache[I-1].setAttribute("data-swiper-slide-index",I-1),delete t.virtual.cache[I])})),t.virtual.slides.splice(y,1),y<x&&(x-=1),x=Math.max(x,0);p(!0),t.slideTo(x,0)}function k(){t.virtual.slides=[],t.params.virtual.cache&&(t.virtual.cache={}),p(!0),t.slideTo(0,0)}i("beforeInit",()=>{if(!t.params.virtual.enabled)return;let y;if(typeof t.passedParams.virtual.slides>"u"){const x=[...t.slidesEl.children].filter(I=>I.matches(`.${t.params.slideClass}, swiper-slide`));x&&x.length&&(t.virtual.slides=[...x],y=!0,x.forEach((I,F)=>{I.setAttribute("data-swiper-slide-index",F),t.virtual.cache[F]=I,I.remove()}))}y||(t.virtual.slides=t.params.virtual.slides),t.classNames.push(`${t.params.containerModifierClass}virtual`),t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0,p(!1,!0)}),i("setTranslate",()=>{t.params.virtual.enabled&&(t.params.cssMode&&!t._immediateVirtual?(clearTimeout(a),a=setTimeout(()=>{p()},100)):p())}),i("init update resize",()=>{t.params.virtual.enabled&&t.params.cssMode&&wv(t.wrapperEl,"--swiper-virtual-size",`${t.virtualSize}px`)}),Object.assign(t.virtual,{appendSlide:g,prependSlide:w,removeSlide:v,removeAllSlides:k,update:p})}function Urt(r){let{swiper:t,extendParams:e,on:i,emit:o}=r;const a=Qr(),c=is();t.keyboard={enabled:!1},e({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function d(g){if(!t.enabled)return;const{rtlTranslate:w}=t;let v=g;v.originalEvent&&(v=v.originalEvent);const k=v.keyCode||v.charCode,y=t.params.keyboard.pageUpDown,x=y&&k===33,I=y&&k===34,F=k===37,R=k===39,Q=k===38,V=k===40;if(!t.allowSlideNext&&(t.isHorizontal()&&R||t.isVertical()&&V||I)||!t.allowSlidePrev&&(t.isHorizontal()&&F||t.isVertical()&&Q||x))return!1;if(!(v.shiftKey||v.altKey||v.ctrlKey||v.metaKey)&&!(a.activeElement&&a.activeElement.nodeName&&(a.activeElement.nodeName.toLowerCase()==="input"||a.activeElement.nodeName.toLowerCase()==="textarea"))){if(t.params.keyboard.onlyInViewport&&(x||I||F||R||Q||V)){let W=!1;if(wg(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&wg(t.el,`.${t.params.slideActiveClass}`).length===0)return;const X=t.el,P=X.clientWidth,K=X.clientHeight,J=c.innerWidth,rt=c.innerHeight,dt=RE(X);w&&(dt.left-=X.scrollLeft);const ht=[[dt.left,dt.top],[dt.left+P,dt.top],[dt.left,dt.top+K],[dt.left+P,dt.top+K]];for(let ut=0;ut<ht.length;ut+=1){const mt=ht[ut];if(mt[0]>=0&&mt[0]<=J&&mt[1]>=0&&mt[1]<=rt){if(mt[0]===0&&mt[1]===0)continue;W=!0}}if(!W)return}t.isHorizontal()?((x||I||F||R)&&(v.preventDefault?v.preventDefault():v.returnValue=!1),((I||R)&&!w||(x||F)&&w)&&t.slideNext(),((x||F)&&!w||(I||R)&&w)&&t.slidePrev()):((x||I||Q||V)&&(v.preventDefault?v.preventDefault():v.returnValue=!1),(I||V)&&t.slideNext(),(x||Q)&&t.slidePrev()),o("keyPress",k)}}function h(){t.keyboard.enabled||(a.addEventListener("keydown",d),t.keyboard.enabled=!0)}function p(){t.keyboard.enabled&&(a.removeEventListener("keydown",d),t.keyboard.enabled=!1)}i("init",()=>{t.params.keyboard.enabled&&h()}),i("destroy",()=>{t.keyboard.enabled&&p()}),Object.assign(t.keyboard,{enable:h,disable:p})}function Qrt(r){let{swiper:t,extendParams:e,on:i,emit:o}=r;const a=is();e({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let c,d=dc(),h;const p=[];function g(Q){let P=0,K=0,J=0,rt=0;return"detail"in Q&&(K=Q.detail),"wheelDelta"in Q&&(K=-Q.wheelDelta/120),"wheelDeltaY"in Q&&(K=-Q.wheelDeltaY/120),"wheelDeltaX"in Q&&(P=-Q.wheelDeltaX/120),"axis"in Q&&Q.axis===Q.HORIZONTAL_AXIS&&(P=K,K=0),J=P*10,rt=K*10,"deltaY"in Q&&(rt=Q.deltaY),"deltaX"in Q&&(J=Q.deltaX),Q.shiftKey&&!J&&(J=rt,rt=0),(J||rt)&&Q.deltaMode&&(Q.deltaMode===1?(J*=40,rt*=40):(J*=800,rt*=800)),J&&!P&&(P=J<1?-1:1),rt&&!K&&(K=rt<1?-1:1),{spinX:P,spinY:K,pixelX:J,pixelY:rt}}function w(){t.enabled&&(t.mouseEntered=!0)}function v(){t.enabled&&(t.mouseEntered=!1)}function k(Q){return t.params.mousewheel.thresholdDelta&&Q.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&dc()-d<t.params.mousewheel.thresholdTime?!1:Q.delta>=6&&dc()-d<60?!0:(Q.direction<0?(!t.isEnd||t.params.loop)&&!t.animating&&(t.slideNext(),o("scroll",Q.raw)):(!t.isBeginning||t.params.loop)&&!t.animating&&(t.slidePrev(),o("scroll",Q.raw)),d=new a.Date().getTime(),!1)}function y(Q){const V=t.params.mousewheel;if(Q.direction<0){if(t.isEnd&&!t.params.loop&&V.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&V.releaseOnEdges)return!0;return!1}function x(Q){let V=Q,W=!0;if(!t.enabled||Q.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const X=t.params.mousewheel;t.params.cssMode&&V.preventDefault();let P=t.el;t.params.mousewheel.eventsTarget!=="container"&&(P=document.querySelector(t.params.mousewheel.eventsTarget));const K=P&&P.contains(V.target);if(!t.mouseEntered&&!K&&!X.releaseOnEdges)return!0;V.originalEvent&&(V=V.originalEvent);let J=0;const rt=t.rtlTranslate?-1:1,dt=g(V);if(X.forceToAxis)if(t.isHorizontal())if(Math.abs(dt.pixelX)>Math.abs(dt.pixelY))J=-dt.pixelX*rt;else return!0;else if(Math.abs(dt.pixelY)>Math.abs(dt.pixelX))J=-dt.pixelY;else return!0;else J=Math.abs(dt.pixelX)>Math.abs(dt.pixelY)?-dt.pixelX*rt:-dt.pixelY;if(J===0)return!0;X.invert&&(J=-J);let ht=t.getTranslate()+J*X.sensitivity;if(ht>=t.minTranslate()&&(ht=t.minTranslate()),ht<=t.maxTranslate()&&(ht=t.maxTranslate()),W=t.params.loop?!0:!(ht===t.minTranslate()||ht===t.maxTranslate()),W&&t.params.nested&&V.stopPropagation(),!t.params.freeMode||!t.params.freeMode.enabled){const ut={time:dc(),delta:Math.abs(J),direction:Math.sign(J),raw:Q};p.length>=2&&p.shift();const mt=p.length?p[p.length-1]:void 0;if(p.push(ut),mt?(ut.direction!==mt.direction||ut.delta>mt.delta||ut.time>mt.time+150)&&k(ut):k(ut),y(ut))return!0}else{const ut={time:dc(),delta:Math.abs(J),direction:Math.sign(J)},mt=h&&ut.time<h.time+500&&ut.delta<=h.delta&&ut.direction===h.direction;if(!mt){h=void 0;let St=t.getTranslate()+J*X.sensitivity;const vt=t.isBeginning,pt=t.isEnd;if(St>=t.minTranslate()&&(St=t.minTranslate()),St<=t.maxTranslate()&&(St=t.maxTranslate()),t.setTransition(0),t.setTranslate(St),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!vt&&t.isBeginning||!pt&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:ut.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(c),c=void 0,p.length>=15&&p.shift();const _t=p.length?p[p.length-1]:void 0,Dt=p[0];if(p.push(ut),_t&&(ut.delta>_t.delta||ut.direction!==_t.direction))p.splice(0);else if(p.length>=15&&ut.time-Dt.time<500&&Dt.delta-ut.delta>=1&&ut.delta<=6){const yt=J>0?.8:.2;h=ut,p.splice(0),c=Tg(()=>{t.destroyed||!t.params||t.slideToClosest(t.params.speed,!0,void 0,yt)},0)}c||(c=Tg(()=>{if(t.destroyed||!t.params)return;const yt=.5;h=ut,p.splice(0),t.slideToClosest(t.params.speed,!0,void 0,yt)},500))}if(mt||o("scroll",V),t.params.autoplay&&t.params.autoplay.disableOnInteraction&&t.autoplay.stop(),X.releaseOnEdges&&(St===t.minTranslate()||St===t.maxTranslate()))return!0}}return V.preventDefault?V.preventDefault():V.returnValue=!1,!1}function I(Q){let V=t.el;t.params.mousewheel.eventsTarget!=="container"&&(V=document.querySelector(t.params.mousewheel.eventsTarget)),V[Q]("mouseenter",w),V[Q]("mouseleave",v),V[Q]("wheel",x)}function F(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",x),!0):t.mousewheel.enabled?!1:(I("addEventListener"),t.mousewheel.enabled=!0,!0)}function R(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,x),!0):t.mousewheel.enabled?(I("removeEventListener"),t.mousewheel.enabled=!1,!0):!1}i("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&R(),t.params.mousewheel.enabled&&F()}),i("destroy",()=>{t.params.cssMode&&F(),t.mousewheel.enabled&&R()}),Object.assign(t.mousewheel,{enable:F,disable:R})}function vM(r,t,e,i){return r.params.createElements&&Object.keys(i).forEach(o=>{if(!e[o]&&e.auto===!0){let a=ho(r.el,`.${i[o]}`)[0];a||(a=xl("div",i[o]),a.className=i[o],r.el.append(a)),e[o]=a,t[o]=a}}),e}function Hrt(r){let{swiper:t,extendParams:e,on:i,emit:o}=r;e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function a(y){let x;return y&&typeof y=="string"&&t.isElement&&(x=t.el.querySelector(y)||t.hostEl.querySelector(y),x)?x:(y&&(typeof y=="string"&&(x=[...document.querySelectorAll(y)]),t.params.uniqueNavElements&&typeof y=="string"&&x&&x.length>1&&t.el.querySelectorAll(y).length===1?x=t.el.querySelector(y):x&&x.length===1&&(x=x[0])),y&&!x?y:x)}function c(y,x){const I=t.params.navigation;y=Mn(y),y.forEach(F=>{F&&(F.classList[x?"add":"remove"](...I.disabledClass.split(" ")),F.tagName==="BUTTON"&&(F.disabled=x),t.params.watchOverflow&&t.enabled&&F.classList[t.isLocked?"add":"remove"](I.lockClass))})}function d(){const{nextEl:y,prevEl:x}=t.navigation;if(t.params.loop){c(x,!1),c(y,!1);return}c(x,t.isBeginning&&!t.params.rewind),c(y,t.isEnd&&!t.params.rewind)}function h(y){y.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),o("navigationPrev"))}function p(y){y.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),o("navigationNext"))}function g(){const y=t.params.navigation;if(t.params.navigation=vM(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let x=a(y.nextEl),I=a(y.prevEl);Object.assign(t.navigation,{nextEl:x,prevEl:I}),x=Mn(x),I=Mn(I);const F=(R,Q)=>{R&&R.addEventListener("click",Q==="next"?p:h),!t.enabled&&R&&R.classList.add(...y.lockClass.split(" "))};x.forEach(R=>F(R,"next")),I.forEach(R=>F(R,"prev"))}function w(){let{nextEl:y,prevEl:x}=t.navigation;y=Mn(y),x=Mn(x);const I=(F,R)=>{F.removeEventListener("click",R==="next"?p:h),F.classList.remove(...t.params.navigation.disabledClass.split(" "))};y.forEach(F=>I(F,"next")),x.forEach(F=>I(F,"prev"))}i("init",()=>{t.params.navigation.enabled===!1?k():(g(),d())}),i("toEdge fromEdge lock unlock",()=>{d()}),i("destroy",()=>{w()}),i("enable disable",()=>{let{nextEl:y,prevEl:x}=t.navigation;if(y=Mn(y),x=Mn(x),t.enabled){d();return}[...y,...x].filter(I=>!!I).forEach(I=>I.classList.add(t.params.navigation.lockClass))}),i("click",(y,x)=>{let{nextEl:I,prevEl:F}=t.navigation;I=Mn(I),F=Mn(F);const R=x.target;let Q=F.includes(R)||I.includes(R);if(t.isElement&&!Q){const V=x.path||x.composedPath&&x.composedPath();V&&(Q=V.find(W=>I.includes(W)||F.includes(W)))}if(t.params.navigation.hideOnClick&&!Q){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===R||t.pagination.el.contains(R)))return;let V;I.length?V=I[0].classList.contains(t.params.navigation.hiddenClass):F.length&&(V=F[0].classList.contains(t.params.navigation.hiddenClass)),o(V===!0?"navigationShow":"navigationHide"),[...I,...F].filter(W=>!!W).forEach(W=>W.classList.toggle(t.params.navigation.hiddenClass))}});const v=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),g(),d()},k=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(t.navigation,{enable:v,disable:k,update:d,init:g,destroy:w})}function mu(r){return r===void 0&&(r=""),`.${r.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function zrt(r){let{swiper:t,extendParams:e,on:i,emit:o}=r;const a="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:R=>R,formatFractionTotal:R=>R,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),t.pagination={el:null,bullets:[]};let c,d=0;function h(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function p(R,Q){const{bulletActiveClass:V}=t.params.pagination;R&&(R=R[`${Q==="prev"?"previous":"next"}ElementSibling`],R&&(R.classList.add(`${V}-${Q}`),R=R[`${Q==="prev"?"previous":"next"}ElementSibling`],R&&R.classList.add(`${V}-${Q}-${Q}`)))}function g(R,Q,V){if(R=R%V,Q=Q%V,Q===R+1)return"next";if(Q===R-1)return"previous"}function w(R){const Q=R.target.closest(mu(t.params.pagination.bulletClass));if(!Q)return;R.preventDefault();const V=g_(Q)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===V)return;const W=g(t.realIndex,V,t.slides.length);W==="next"?t.slideNext():W==="previous"?t.slidePrev():t.slideToLoop(V)}else t.slideTo(V)}function v(){const R=t.rtl,Q=t.params.pagination;if(h())return;let V=t.pagination.el;V=Mn(V);let W,X;const P=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,K=t.params.loop?Math.ceil(P/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(X=t.previousRealIndex||0,W=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(W=t.snapIndex,X=t.previousSnapIndex):(X=t.previousIndex||0,W=t.activeIndex||0),Q.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const J=t.pagination.bullets;let rt,dt,ht;if(Q.dynamicBullets&&(c=qT(J[0],t.isHorizontal()?"width":"height"),V.forEach(ut=>{ut.style[t.isHorizontal()?"width":"height"]=`${c*(Q.dynamicMainBullets+4)}px`}),Q.dynamicMainBullets>1&&X!==void 0&&(d+=W-(X||0),d>Q.dynamicMainBullets-1?d=Q.dynamicMainBullets-1:d<0&&(d=0)),rt=Math.max(W-d,0),dt=rt+(Math.min(J.length,Q.dynamicMainBullets)-1),ht=(dt+rt)/2),J.forEach(ut=>{const mt=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(St=>`${Q.bulletActiveClass}${St}`)].map(St=>typeof St=="string"&&St.includes(" ")?St.split(" "):St).flat();ut.classList.remove(...mt)}),V.length>1)J.forEach(ut=>{const mt=g_(ut);mt===W?ut.classList.add(...Q.bulletActiveClass.split(" ")):t.isElement&&ut.setAttribute("part","bullet"),Q.dynamicBullets&&(mt>=rt&&mt<=dt&&ut.classList.add(...`${Q.bulletActiveClass}-main`.split(" ")),mt===rt&&p(ut,"prev"),mt===dt&&p(ut,"next"))});else{const ut=J[W];if(ut&&ut.classList.add(...Q.bulletActiveClass.split(" ")),t.isElement&&J.forEach((mt,St)=>{mt.setAttribute("part",St===W?"bullet-active":"bullet")}),Q.dynamicBullets){const mt=J[rt],St=J[dt];for(let vt=rt;vt<=dt;vt+=1)J[vt]&&J[vt].classList.add(...`${Q.bulletActiveClass}-main`.split(" "));p(mt,"prev"),p(St,"next")}}if(Q.dynamicBullets){const ut=Math.min(J.length,Q.dynamicMainBullets+4),mt=(c*ut-c)/2-ht*c,St=R?"right":"left";J.forEach(vt=>{vt.style[t.isHorizontal()?St:"top"]=`${mt}px`})}}V.forEach((J,rt)=>{if(Q.type==="fraction"&&(J.querySelectorAll(mu(Q.currentClass)).forEach(dt=>{dt.textContent=Q.formatFractionCurrent(W+1)}),J.querySelectorAll(mu(Q.totalClass)).forEach(dt=>{dt.textContent=Q.formatFractionTotal(K)})),Q.type==="progressbar"){let dt;Q.progressbarOpposite?dt=t.isHorizontal()?"vertical":"horizontal":dt=t.isHorizontal()?"horizontal":"vertical";const ht=(W+1)/K;let ut=1,mt=1;dt==="horizontal"?ut=ht:mt=ht,J.querySelectorAll(mu(Q.progressbarFillClass)).forEach(St=>{St.style.transform=`translate3d(0,0,0) scaleX(${ut}) scaleY(${mt})`,St.style.transitionDuration=`${t.params.speed}ms`})}Q.type==="custom"&&Q.renderCustom?(J.innerHTML=Q.renderCustom(t,W+1,K),rt===0&&o("paginationRender",J)):(rt===0&&o("paginationRender",J),o("paginationUpdate",J)),t.params.watchOverflow&&t.enabled&&J.classList[t.isLocked?"add":"remove"](Q.lockClass)})}function k(){const R=t.params.pagination;if(h())return;const Q=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let V=t.pagination.el;V=Mn(V);let W="";if(R.type==="bullets"){let X=t.params.loop?Math.ceil(Q/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&X>Q&&(X=Q);for(let P=0;P<X;P+=1)R.renderBullet?W+=R.renderBullet.call(t,P,R.bulletClass):W+=`<${R.bulletElement} ${t.isElement?'part="bullet"':""} class="${R.bulletClass}"></${R.bulletElement}>`}R.type==="fraction"&&(R.renderFraction?W=R.renderFraction.call(t,R.currentClass,R.totalClass):W=`<span class="${R.currentClass}"></span> / <span class="${R.totalClass}"></span>`),R.type==="progressbar"&&(R.renderProgressbar?W=R.renderProgressbar.call(t,R.progressbarFillClass):W=`<span class="${R.progressbarFillClass}"></span>`),t.pagination.bullets=[],V.forEach(X=>{R.type!=="custom"&&(X.innerHTML=W||""),R.type==="bullets"&&t.pagination.bullets.push(...X.querySelectorAll(mu(R.bulletClass)))}),R.type!=="custom"&&o("paginationRender",V[0])}function y(){t.params.pagination=vM(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const R=t.params.pagination;if(!R.el)return;let Q;typeof R.el=="string"&&t.isElement&&(Q=t.el.querySelector(R.el)),!Q&&typeof R.el=="string"&&(Q=[...document.querySelectorAll(R.el)]),Q||(Q=R.el),!(!Q||Q.length===0)&&(t.params.uniqueNavElements&&typeof R.el=="string"&&Array.isArray(Q)&&Q.length>1&&(Q=[...t.el.querySelectorAll(R.el)],Q.length>1&&(Q=Q.find(V=>wg(V,".swiper")[0]===t.el))),Array.isArray(Q)&&Q.length===1&&(Q=Q[0]),Object.assign(t.pagination,{el:Q}),Q=Mn(Q),Q.forEach(V=>{R.type==="bullets"&&R.clickable&&V.classList.add(...(R.clickableClass||"").split(" ")),V.classList.add(R.modifierClass+R.type),V.classList.add(t.isHorizontal()?R.horizontalClass:R.verticalClass),R.type==="bullets"&&R.dynamicBullets&&(V.classList.add(`${R.modifierClass}${R.type}-dynamic`),d=0,R.dynamicMainBullets<1&&(R.dynamicMainBullets=1)),R.type==="progressbar"&&R.progressbarOpposite&&V.classList.add(R.progressbarOppositeClass),R.clickable&&V.addEventListener("click",w),t.enabled||V.classList.add(R.lockClass)}))}function x(){const R=t.params.pagination;if(h())return;let Q=t.pagination.el;Q&&(Q=Mn(Q),Q.forEach(V=>{V.classList.remove(R.hiddenClass),V.classList.remove(R.modifierClass+R.type),V.classList.remove(t.isHorizontal()?R.horizontalClass:R.verticalClass),R.clickable&&(V.classList.remove(...(R.clickableClass||"").split(" ")),V.removeEventListener("click",w))})),t.pagination.bullets&&t.pagination.bullets.forEach(V=>V.classList.remove(...R.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const R=t.params.pagination;let{el:Q}=t.pagination;Q=Mn(Q),Q.forEach(V=>{V.classList.remove(R.horizontalClass,R.verticalClass),V.classList.add(t.isHorizontal()?R.horizontalClass:R.verticalClass)})}),i("init",()=>{t.params.pagination.enabled===!1?F():(y(),k(),v())}),i("activeIndexChange",()=>{typeof t.snapIndex>"u"&&v()}),i("snapIndexChange",()=>{v()}),i("snapGridLengthChange",()=>{k(),v()}),i("destroy",()=>{x()}),i("enable disable",()=>{let{el:R}=t.pagination;R&&(R=Mn(R),R.forEach(Q=>Q.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),i("lock unlock",()=>{v()}),i("click",(R,Q)=>{const V=Q.target,W=Mn(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&W&&W.length>0&&!V.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&V===t.navigation.nextEl||t.navigation.prevEl&&V===t.navigation.prevEl))return;const X=W[0].classList.contains(t.params.pagination.hiddenClass);o(X===!0?"paginationShow":"paginationHide"),W.forEach(P=>P.classList.toggle(t.params.pagination.hiddenClass))}});const I=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:R}=t.pagination;R&&(R=Mn(R),R.forEach(Q=>Q.classList.remove(t.params.pagination.paginationDisabledClass))),y(),k(),v()},F=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:R}=t.pagination;R&&(R=Mn(R),R.forEach(Q=>Q.classList.add(t.params.pagination.paginationDisabledClass))),x()};Object.assign(t.pagination,{enable:I,disable:F,render:k,update:v,init:y,destroy:x})}function jrt(r){let{swiper:t,extendParams:e,on:i,emit:o}=r;const a=Qr();let c=!1,d=null,h=null,p,g,w,v;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null};function k(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:ht,rtlTranslate:ut}=t,{dragEl:mt,el:St}=ht,vt=t.params.scrollbar,pt=t.params.loop?t.progressLoop:t.progress;let _t=g,Dt=(w-g)*pt;ut?(Dt=-Dt,Dt>0?(_t=g-Dt,Dt=0):-Dt+g>w&&(_t=w+Dt)):Dt<0?(_t=g+Dt,Dt=0):Dt+g>w&&(_t=w-Dt),t.isHorizontal()?(mt.style.transform=`translate3d(${Dt}px, 0, 0)`,mt.style.width=`${_t}px`):(mt.style.transform=`translate3d(0px, ${Dt}px, 0)`,mt.style.height=`${_t}px`),vt.hide&&(clearTimeout(d),St.style.opacity=1,d=setTimeout(()=>{St.style.opacity=0,St.style.transitionDuration="400ms"},1e3))}function y(ht){!t.params.scrollbar.el||!t.scrollbar.el||(t.scrollbar.dragEl.style.transitionDuration=`${ht}ms`)}function x(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:ht}=t,{dragEl:ut,el:mt}=ht;ut.style.width="",ut.style.height="",w=t.isHorizontal()?mt.offsetWidth:mt.offsetHeight,v=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?g=w*v:g=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?ut.style.width=`${g}px`:ut.style.height=`${g}px`,v>=1?mt.style.display="none":mt.style.display="",t.params.scrollbar.hide&&(mt.style.opacity=0),t.params.watchOverflow&&t.enabled&&ht.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function I(ht){return t.isHorizontal()?ht.clientX:ht.clientY}function F(ht){const{scrollbar:ut,rtlTranslate:mt}=t,{el:St}=ut;let vt;vt=(I(ht)-RE(St)[t.isHorizontal()?"left":"top"]-(p!==null?p:g/2))/(w-g),vt=Math.max(Math.min(vt,1),0),mt&&(vt=1-vt);const pt=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*vt;t.updateProgress(pt),t.setTranslate(pt),t.updateActiveIndex(),t.updateSlidesClasses()}function R(ht){const ut=t.params.scrollbar,{scrollbar:mt,wrapperEl:St}=t,{el:vt,dragEl:pt}=mt;c=!0,p=ht.target===pt?I(ht)-ht.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,ht.preventDefault(),ht.stopPropagation(),St.style.transitionDuration="100ms",pt.style.transitionDuration="100ms",F(ht),clearTimeout(h),vt.style.transitionDuration="0ms",ut.hide&&(vt.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),o("scrollbarDragStart",ht)}function Q(ht){const{scrollbar:ut,wrapperEl:mt}=t,{el:St,dragEl:vt}=ut;c&&(ht.preventDefault&&ht.cancelable?ht.preventDefault():ht.returnValue=!1,F(ht),mt.style.transitionDuration="0ms",St.style.transitionDuration="0ms",vt.style.transitionDuration="0ms",o("scrollbarDragMove",ht))}function V(ht){const ut=t.params.scrollbar,{scrollbar:mt,wrapperEl:St}=t,{el:vt}=mt;c&&(c=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",St.style.transitionDuration=""),ut.hide&&(clearTimeout(h),h=Tg(()=>{vt.style.opacity=0,vt.style.transitionDuration="400ms"},1e3)),o("scrollbarDragEnd",ht),ut.snapOnRelease&&t.slideToClosest())}function W(ht){const{scrollbar:ut,params:mt}=t,St=ut.el;if(!St)return;const vt=St,pt=mt.passiveListeners?{passive:!1,capture:!1}:!1,_t=mt.passiveListeners?{passive:!0,capture:!1}:!1;if(!vt)return;const Dt=ht==="on"?"addEventListener":"removeEventListener";vt[Dt]("pointerdown",R,pt),a[Dt]("pointermove",Q,pt),a[Dt]("pointerup",V,_t)}function X(){!t.params.scrollbar.el||!t.scrollbar.el||W("on")}function P(){!t.params.scrollbar.el||!t.scrollbar.el||W("off")}function K(){const{scrollbar:ht,el:ut}=t;t.params.scrollbar=vM(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const mt=t.params.scrollbar;if(!mt.el)return;let St;if(typeof mt.el=="string"&&t.isElement&&(St=t.el.querySelector(mt.el)),!St&&typeof mt.el=="string"){if(St=a.querySelectorAll(mt.el),!St.length)return}else St||(St=mt.el);t.params.uniqueNavElements&&typeof mt.el=="string"&&St.length>1&&ut.querySelectorAll(mt.el).length===1&&(St=ut.querySelector(mt.el)),St.length>0&&(St=St[0]),St.classList.add(t.isHorizontal()?mt.horizontalClass:mt.verticalClass);let vt;St&&(vt=St.querySelector(mu(t.params.scrollbar.dragClass)),vt||(vt=xl("div",t.params.scrollbar.dragClass),St.append(vt))),Object.assign(ht,{el:St,dragEl:vt}),mt.draggable&&X(),St&&St.classList[t.enabled?"remove":"add"](...sh(t.params.scrollbar.lockClass))}function J(){const ht=t.params.scrollbar,ut=t.scrollbar.el;ut&&ut.classList.remove(...sh(t.isHorizontal()?ht.horizontalClass:ht.verticalClass)),P()}i("changeDirection",()=>{if(!t.scrollbar||!t.scrollbar.el)return;const ht=t.params.scrollbar;let{el:ut}=t.scrollbar;ut=Mn(ut),ut.forEach(mt=>{mt.classList.remove(ht.horizontalClass,ht.verticalClass),mt.classList.add(t.isHorizontal()?ht.horizontalClass:ht.verticalClass)})}),i("init",()=>{t.params.scrollbar.enabled===!1?dt():(K(),x(),k())}),i("update resize observerUpdate lock unlock changeDirection",()=>{x()}),i("setTranslate",()=>{k()}),i("setTransition",(ht,ut)=>{y(ut)}),i("enable disable",()=>{const{el:ht}=t.scrollbar;ht&&ht.classList[t.enabled?"remove":"add"](...sh(t.params.scrollbar.lockClass))}),i("destroy",()=>{J()});const rt=()=>{t.el.classList.remove(...sh(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...sh(t.params.scrollbar.scrollbarDisabledClass)),K(),x(),k()},dt=()=>{t.el.classList.add(...sh(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...sh(t.params.scrollbar.scrollbarDisabledClass)),J()};Object.assign(t.scrollbar,{enable:rt,disable:dt,updateSize:x,setTranslate:k,init:K,destroy:J})}function Vrt(r){let{swiper:t,extendParams:e,on:i}=r;e({parallax:{enabled:!1}});const o="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",a=(h,p)=>{const{rtl:g}=t,w=g?-1:1,v=h.getAttribute("data-swiper-parallax")||"0";let k=h.getAttribute("data-swiper-parallax-x"),y=h.getAttribute("data-swiper-parallax-y");const x=h.getAttribute("data-swiper-parallax-scale"),I=h.getAttribute("data-swiper-parallax-opacity"),F=h.getAttribute("data-swiper-parallax-rotate");if(k||y?(k=k||"0",y=y||"0"):t.isHorizontal()?(k=v,y="0"):(y=v,k="0"),k.indexOf("%")>=0?k=`${parseInt(k,10)*p*w}%`:k=`${k*p*w}px`,y.indexOf("%")>=0?y=`${parseInt(y,10)*p}%`:y=`${y*p}px`,typeof I<"u"&&I!==null){const Q=I-(I-1)*(1-Math.abs(p));h.style.opacity=Q}let R=`translate3d(${k}, ${y}, 0px)`;if(typeof x<"u"&&x!==null){const Q=x-(x-1)*(1-Math.abs(p));R+=` scale(${Q})`}if(F&&typeof F<"u"&&F!==null){const Q=F*p*-1;R+=` rotate(${Q}deg)`}h.style.transform=R},c=()=>{const{el:h,slides:p,progress:g,snapGrid:w,isElement:v}=t,k=ho(h,o);t.isElement&&k.push(...ho(t.hostEl,o)),k.forEach(y=>{a(y,g)}),p.forEach((y,x)=>{let I=y.progress;t.params.slidesPerGroup>1&&t.params.slidesPerView!=="auto"&&(I+=Math.ceil(x/2)-g*(w.length-1)),I=Math.min(Math.max(I,-1),1),y.querySelectorAll(`${o}, [data-swiper-parallax-rotate]`).forEach(F=>{a(F,I)})})},d=function(h){h===void 0&&(h=t.params.speed);const{el:p,hostEl:g}=t,w=[...p.querySelectorAll(o)];t.isElement&&w.push(...g.querySelectorAll(o)),w.forEach(v=>{let k=parseInt(v.getAttribute("data-swiper-parallax-duration"),10)||h;h===0&&(k=0),v.style.transitionDuration=`${k}ms`})};i("beforeInit",()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),i("init",()=>{t.params.parallax.enabled&&c()}),i("setTranslate",()=>{t.params.parallax.enabled&&c()}),i("setTransition",(h,p)=>{t.params.parallax.enabled&&d(p)})}function Krt(r){let{swiper:t,extendParams:e,on:i,emit:o}=r;const a=is();e({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let c=1,d=!1,h=!1,p={x:0,y:0};const g=-3;let w,v;const k=[],y={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},x={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},I={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let F=1;Object.defineProperty(t.zoom,"scale",{get(){return F},set(Lt){if(F!==Lt){const Tt=y.imageEl,Pt=y.slideEl;o("zoomChange",Lt,Tt,Pt)}F=Lt}});function R(){if(k.length<2)return 1;const Lt=k[0].pageX,Tt=k[0].pageY,Pt=k[1].pageX,jt=k[1].pageY;return Math.sqrt((Pt-Lt)**2+(jt-Tt)**2)}function Q(){const Lt=t.params.zoom,Tt=y.imageWrapEl.getAttribute("data-swiper-zoom")||Lt.maxRatio;if(Lt.limitToOriginalSize&&y.imageEl&&y.imageEl.naturalWidth){const Pt=y.imageEl.naturalWidth/y.imageEl.offsetWidth;return Math.min(Pt,Tt)}return Tt}function V(){if(k.length<2)return{x:null,y:null};const Lt=y.imageEl.getBoundingClientRect();return[(k[0].pageX+(k[1].pageX-k[0].pageX)/2-Lt.x-a.scrollX)/c,(k[0].pageY+(k[1].pageY-k[0].pageY)/2-Lt.y-a.scrollY)/c]}function W(){return t.isElement?"swiper-slide":`.${t.params.slideClass}`}function X(Lt){const Tt=W();return!!(Lt.target.matches(Tt)||t.slides.filter(Pt=>Pt.contains(Lt.target)).length>0)}function P(Lt){const Tt=`.${t.params.zoom.containerClass}`;return!!(Lt.target.matches(Tt)||[...t.hostEl.querySelectorAll(Tt)].filter(Pt=>Pt.contains(Lt.target)).length>0)}function K(Lt){if(Lt.pointerType==="mouse"&&k.splice(0,k.length),!X(Lt))return;const Tt=t.params.zoom;if(w=!1,v=!1,k.push(Lt),!(k.length<2)){if(w=!0,y.scaleStart=R(),!y.slideEl){y.slideEl=Lt.target.closest(`.${t.params.slideClass}, swiper-slide`),y.slideEl||(y.slideEl=t.slides[t.activeIndex]);let Pt=y.slideEl.querySelector(`.${Tt.containerClass}`);if(Pt&&(Pt=Pt.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),y.imageEl=Pt,Pt?y.imageWrapEl=wg(y.imageEl,`.${Tt.containerClass}`)[0]:y.imageWrapEl=void 0,!y.imageWrapEl){y.imageEl=void 0;return}y.maxRatio=Q()}if(y.imageEl){const[Pt,jt]=V();y.originX=Pt,y.originY=jt,y.imageEl.style.transitionDuration="0ms"}d=!0}}function J(Lt){if(!X(Lt))return;const Tt=t.params.zoom,Pt=t.zoom,jt=k.findIndex(Ne=>Ne.pointerId===Lt.pointerId);jt>=0&&(k[jt]=Lt),!(k.length<2)&&(v=!0,y.scaleMove=R(),y.imageEl&&(Pt.scale=y.scaleMove/y.scaleStart*c,Pt.scale>y.maxRatio&&(Pt.scale=y.maxRatio-1+(Pt.scale-y.maxRatio+1)**.5),Pt.scale<Tt.minRatio&&(Pt.scale=Tt.minRatio+1-(Tt.minRatio-Pt.scale+1)**.5),y.imageEl.style.transform=`translate3d(0,0,0) scale(${Pt.scale})`))}function rt(Lt){if(!X(Lt)||Lt.pointerType==="mouse"&&Lt.type==="pointerout")return;const Tt=t.params.zoom,Pt=t.zoom,jt=k.findIndex(Ne=>Ne.pointerId===Lt.pointerId);jt>=0&&k.splice(jt,1),!(!w||!v)&&(w=!1,v=!1,y.imageEl&&(Pt.scale=Math.max(Math.min(Pt.scale,y.maxRatio),Tt.minRatio),y.imageEl.style.transitionDuration=`${t.params.speed}ms`,y.imageEl.style.transform=`translate3d(0,0,0) scale(${Pt.scale})`,c=Pt.scale,d=!1,Pt.scale>1&&y.slideEl?y.slideEl.classList.add(`${Tt.zoomedSlideClass}`):Pt.scale<=1&&y.slideEl&&y.slideEl.classList.remove(`${Tt.zoomedSlideClass}`),Pt.scale===1&&(y.originX=0,y.originY=0,y.slideEl=void 0)))}let dt;function ht(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function ut(){clearTimeout(dt),t.touchEventsData.preventTouchMoveFromPointerMove=!0,dt=setTimeout(()=>{t.destroyed||ht()})}function mt(Lt){const Tt=t.device;if(!y.imageEl||x.isTouched)return;Tt.android&&Lt.cancelable&&Lt.preventDefault(),x.isTouched=!0;const Pt=k.length>0?k[0]:Lt;x.touchesStart.x=Pt.pageX,x.touchesStart.y=Pt.pageY}function St(Lt){const Pt=Lt.pointerType==="mouse"&&t.params.zoom.panOnMouseMove;if(!X(Lt)||!P(Lt))return;const jt=t.zoom;if(!y.imageEl)return;if(!x.isTouched||!y.slideEl){Pt&&_t(Lt);return}if(Pt){_t(Lt);return}x.isMoved||(x.width=y.imageEl.offsetWidth||y.imageEl.clientWidth,x.height=y.imageEl.offsetHeight||y.imageEl.clientHeight,x.startX=$T(y.imageWrapEl,"x")||0,x.startY=$T(y.imageWrapEl,"y")||0,y.slideWidth=y.slideEl.offsetWidth,y.slideHeight=y.slideEl.offsetHeight,y.imageWrapEl.style.transitionDuration="0ms");const Ne=x.width*jt.scale,Ge=x.height*jt.scale;if(x.minX=Math.min(y.slideWidth/2-Ne/2,0),x.maxX=-x.minX,x.minY=Math.min(y.slideHeight/2-Ge/2,0),x.maxY=-x.minY,x.touchesCurrent.x=k.length>0?k[0].pageX:Lt.pageX,x.touchesCurrent.y=k.length>0?k[0].pageY:Lt.pageY,Math.max(Math.abs(x.touchesCurrent.x-x.touchesStart.x),Math.abs(x.touchesCurrent.y-x.touchesStart.y))>5&&(t.allowClick=!1),!x.isMoved&&!d){if(t.isHorizontal()&&(Math.floor(x.minX)===Math.floor(x.startX)&&x.touchesCurrent.x<x.touchesStart.x||Math.floor(x.maxX)===Math.floor(x.startX)&&x.touchesCurrent.x>x.touchesStart.x)){x.isTouched=!1,ht();return}if(!t.isHorizontal()&&(Math.floor(x.minY)===Math.floor(x.startY)&&x.touchesCurrent.y<x.touchesStart.y||Math.floor(x.maxY)===Math.floor(x.startY)&&x.touchesCurrent.y>x.touchesStart.y)){x.isTouched=!1,ht();return}}Lt.cancelable&&Lt.preventDefault(),Lt.stopPropagation(),ut(),x.isMoved=!0;const Ye=(jt.scale-c)/(y.maxRatio-t.params.zoom.minRatio),{originX:Se,originY:ae}=y;x.currentX=x.touchesCurrent.x-x.touchesStart.x+x.startX+Ye*(x.width-Se*2),x.currentY=x.touchesCurrent.y-x.touchesStart.y+x.startY+Ye*(x.height-ae*2),x.currentX<x.minX&&(x.currentX=x.minX+1-(x.minX-x.currentX+1)**.8),x.currentX>x.maxX&&(x.currentX=x.maxX-1+(x.currentX-x.maxX+1)**.8),x.currentY<x.minY&&(x.currentY=x.minY+1-(x.minY-x.currentY+1)**.8),x.currentY>x.maxY&&(x.currentY=x.maxY-1+(x.currentY-x.maxY+1)**.8),I.prevPositionX||(I.prevPositionX=x.touchesCurrent.x),I.prevPositionY||(I.prevPositionY=x.touchesCurrent.y),I.prevTime||(I.prevTime=Date.now()),I.x=(x.touchesCurrent.x-I.prevPositionX)/(Date.now()-I.prevTime)/2,I.y=(x.touchesCurrent.y-I.prevPositionY)/(Date.now()-I.prevTime)/2,Math.abs(x.touchesCurrent.x-I.prevPositionX)<2&&(I.x=0),Math.abs(x.touchesCurrent.y-I.prevPositionY)<2&&(I.y=0),I.prevPositionX=x.touchesCurrent.x,I.prevPositionY=x.touchesCurrent.y,I.prevTime=Date.now(),y.imageWrapEl.style.transform=`translate3d(${x.currentX}px, ${x.currentY}px,0)`}function vt(){const Lt=t.zoom;if(k.length=0,!y.imageEl)return;if(!x.isTouched||!x.isMoved){x.isTouched=!1,x.isMoved=!1;return}x.isTouched=!1,x.isMoved=!1;let Tt=300,Pt=300;const jt=I.x*Tt,Ne=x.currentX+jt,Ge=I.y*Pt,hn=x.currentY+Ge;I.x!==0&&(Tt=Math.abs((Ne-x.currentX)/I.x)),I.y!==0&&(Pt=Math.abs((hn-x.currentY)/I.y));const Ye=Math.max(Tt,Pt);x.currentX=Ne,x.currentY=hn;const Se=x.width*Lt.scale,ae=x.height*Lt.scale;x.minX=Math.min(y.slideWidth/2-Se/2,0),x.maxX=-x.minX,x.minY=Math.min(y.slideHeight/2-ae/2,0),x.maxY=-x.minY,x.currentX=Math.max(Math.min(x.currentX,x.maxX),x.minX),x.currentY=Math.max(Math.min(x.currentY,x.maxY),x.minY),y.imageWrapEl.style.transitionDuration=`${Ye}ms`,y.imageWrapEl.style.transform=`translate3d(${x.currentX}px, ${x.currentY}px,0)`}function pt(){const Lt=t.zoom;y.slideEl&&t.activeIndex!==t.slides.indexOf(y.slideEl)&&(y.imageEl&&(y.imageEl.style.transform="translate3d(0,0,0) scale(1)"),y.imageWrapEl&&(y.imageWrapEl.style.transform="translate3d(0,0,0)"),y.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),Lt.scale=1,c=1,y.slideEl=void 0,y.imageEl=void 0,y.imageWrapEl=void 0,y.originX=0,y.originY=0)}function _t(Lt){if(c<=1||!y.imageWrapEl||!X(Lt)||!P(Lt))return;const Tt=a.getComputedStyle(y.imageWrapEl).transform,Pt=new a.DOMMatrix(Tt);if(!h){h=!0,p.x=Lt.clientX,p.y=Lt.clientY,x.startX=Pt.e,x.startY=Pt.f,x.width=y.imageEl.offsetWidth||y.imageEl.clientWidth,x.height=y.imageEl.offsetHeight||y.imageEl.clientHeight,y.slideWidth=y.slideEl.offsetWidth,y.slideHeight=y.slideEl.offsetHeight;return}const jt=(Lt.clientX-p.x)*g,Ne=(Lt.clientY-p.y)*g,Ge=x.width*c,hn=x.height*c,Ye=y.slideWidth,Se=y.slideHeight,ae=Math.min(Ye/2-Ge/2,0),rn=-ae,Rn=Math.min(Se/2-hn/2,0),Le=-Rn,Hn=Math.max(Math.min(x.startX+jt,rn),ae),$s=Math.max(Math.min(x.startY+Ne,Le),Rn);y.imageWrapEl.style.transitionDuration="0ms",y.imageWrapEl.style.transform=`translate3d(${Hn}px, ${$s}px, 0)`,p.x=Lt.clientX,p.y=Lt.clientY,x.startX=Hn,x.startY=$s,x.currentX=Hn,x.currentY=$s}function Dt(Lt){const Tt=t.zoom,Pt=t.params.zoom;if(!y.slideEl){Lt&&Lt.target&&(y.slideEl=Lt.target.closest(`.${t.params.slideClass}, swiper-slide`)),y.slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?y.slideEl=ho(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:y.slideEl=t.slides[t.activeIndex]);let zr=y.slideEl.querySelector(`.${Pt.containerClass}`);zr&&(zr=zr.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),y.imageEl=zr,zr?y.imageWrapEl=wg(y.imageEl,`.${Pt.containerClass}`)[0]:y.imageWrapEl=void 0}if(!y.imageEl||!y.imageWrapEl)return;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),y.slideEl.classList.add(`${Pt.zoomedSlideClass}`);let jt,Ne,Ge,hn,Ye,Se,ae,rn,Rn,Le,Hn,$s,rs,vs,xn,ti,os,fe;typeof x.touchesStart.x>"u"&&Lt?(jt=Lt.pageX,Ne=Lt.pageY):(jt=x.touchesStart.x,Ne=x.touchesStart.y);const vn=c,Ii=typeof Lt=="number"?Lt:null;c===1&&Ii&&(jt=void 0,Ne=void 0,x.touchesStart.x=void 0,x.touchesStart.y=void 0);const Uo=Q();Tt.scale=Ii||Uo,c=Ii||Uo,Lt&&!(c===1&&Ii)?(os=y.slideEl.offsetWidth,fe=y.slideEl.offsetHeight,Ge=RE(y.slideEl).left+a.scrollX,hn=RE(y.slideEl).top+a.scrollY,Ye=Ge+os/2-jt,Se=hn+fe/2-Ne,Rn=y.imageEl.offsetWidth||y.imageEl.clientWidth,Le=y.imageEl.offsetHeight||y.imageEl.clientHeight,Hn=Rn*Tt.scale,$s=Le*Tt.scale,rs=Math.min(os/2-Hn/2,0),vs=Math.min(fe/2-$s/2,0),xn=-rs,ti=-vs,vn>0&&Ii&&typeof x.currentX=="number"&&typeof x.currentY=="number"?(ae=x.currentX*Tt.scale/vn,rn=x.currentY*Tt.scale/vn):(ae=Ye*Tt.scale,rn=Se*Tt.scale),ae<rs&&(ae=rs),ae>xn&&(ae=xn),rn<vs&&(rn=vs),rn>ti&&(rn=ti)):(ae=0,rn=0),Ii&&Tt.scale===1&&(y.originX=0,y.originY=0),x.currentX=ae,x.currentY=rn,y.imageWrapEl.style.transitionDuration="300ms",y.imageWrapEl.style.transform=`translate3d(${ae}px, ${rn}px,0)`,y.imageEl.style.transitionDuration="300ms",y.imageEl.style.transform=`translate3d(0,0,0) scale(${Tt.scale})`}function yt(){const Lt=t.zoom,Tt=t.params.zoom;if(!y.slideEl){t.params.virtual&&t.params.virtual.enabled&&t.virtual?y.slideEl=ho(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:y.slideEl=t.slides[t.activeIndex];let Pt=y.slideEl.querySelector(`.${Tt.containerClass}`);Pt&&(Pt=Pt.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),y.imageEl=Pt,Pt?y.imageWrapEl=wg(y.imageEl,`.${Tt.containerClass}`)[0]:y.imageWrapEl=void 0}!y.imageEl||!y.imageWrapEl||(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),Lt.scale=1,c=1,x.currentX=void 0,x.currentY=void 0,x.touchesStart.x=void 0,x.touchesStart.y=void 0,y.imageWrapEl.style.transitionDuration="300ms",y.imageWrapEl.style.transform="translate3d(0,0,0)",y.imageEl.style.transitionDuration="300ms",y.imageEl.style.transform="translate3d(0,0,0) scale(1)",y.slideEl.classList.remove(`${Tt.zoomedSlideClass}`),y.slideEl=void 0,y.originX=0,y.originY=0,t.params.zoom.panOnMouseMove&&(p={x:0,y:0},h&&(h=!1,x.startX=0,x.startY=0)))}function se(Lt){const Tt=t.zoom;Tt.scale&&Tt.scale!==1?yt():Dt(Lt)}function oe(){const Lt=t.params.passiveListeners?{passive:!0,capture:!1}:!1,Tt=t.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:Lt,activeListenerWithCapture:Tt}}function ie(){const Lt=t.zoom;if(Lt.enabled)return;Lt.enabled=!0;const{passiveListener:Tt,activeListenerWithCapture:Pt}=oe();t.wrapperEl.addEventListener("pointerdown",K,Tt),t.wrapperEl.addEventListener("pointermove",J,Pt),["pointerup","pointercancel","pointerout"].forEach(jt=>{t.wrapperEl.addEventListener(jt,rt,Tt)}),t.wrapperEl.addEventListener("pointermove",St,Pt)}function le(){const Lt=t.zoom;if(!Lt.enabled)return;Lt.enabled=!1;const{passiveListener:Tt,activeListenerWithCapture:Pt}=oe();t.wrapperEl.removeEventListener("pointerdown",K,Tt),t.wrapperEl.removeEventListener("pointermove",J,Pt),["pointerup","pointercancel","pointerout"].forEach(jt=>{t.wrapperEl.removeEventListener(jt,rt,Tt)}),t.wrapperEl.removeEventListener("pointermove",St,Pt)}i("init",()=>{t.params.zoom.enabled&&ie()}),i("destroy",()=>{le()}),i("touchStart",(Lt,Tt)=>{t.zoom.enabled&&mt(Tt)}),i("touchEnd",(Lt,Tt)=>{t.zoom.enabled&&vt()}),i("doubleTap",(Lt,Tt)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&se(Tt)}),i("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&pt()}),i("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&pt()}),Object.assign(t.zoom,{enable:ie,disable:le,in:Dt,out:yt,toggle:se})}function Grt(r){let{swiper:t,extendParams:e,on:i}=r;e({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0};function o(p,g){const w=function(){let x,I,F;return(R,Q)=>{for(I=-1,x=R.length;x-I>1;)F=x+I>>1,R[F]<=Q?I=F:x=F;return x}}();this.x=p,this.y=g,this.lastIndex=p.length-1;let v,k;return this.interpolate=function(x){return x?(k=w(this.x,x),v=k-1,(x-this.x[v])*(this.y[k]-this.y[v])/(this.x[k]-this.x[v])+this.y[v]):0},this}function a(p){t.controller.spline=t.params.loop?new o(t.slidesGrid,p.slidesGrid):new o(t.snapGrid,p.snapGrid)}function c(p,g){const w=t.controller.control;let v,k;const y=t.constructor;function x(I){if(I.destroyed)return;const F=t.rtlTranslate?-t.translate:t.translate;t.params.controller.by==="slide"&&(a(I),k=-t.controller.spline.interpolate(-F)),(!k||t.params.controller.by==="container")&&(v=(I.maxTranslate()-I.minTranslate())/(t.maxTranslate()-t.minTranslate()),(Number.isNaN(v)||!Number.isFinite(v))&&(v=1),k=(F-t.minTranslate())*v+I.minTranslate()),t.params.controller.inverse&&(k=I.maxTranslate()-k),I.updateProgress(k),I.setTranslate(k,t),I.updateActiveIndex(),I.updateSlidesClasses()}if(Array.isArray(w))for(let I=0;I<w.length;I+=1)w[I]!==g&&w[I]instanceof y&&x(w[I]);else w instanceof y&&g!==w&&x(w)}function d(p,g){const w=t.constructor,v=t.controller.control;let k;function y(x){x.destroyed||(x.setTransition(p,t),p!==0&&(x.transitionStart(),x.params.autoHeight&&Tg(()=>{x.updateAutoHeight()}),e_(x.wrapperEl,()=>{v&&x.transitionEnd()})))}if(Array.isArray(v))for(k=0;k<v.length;k+=1)v[k]!==g&&v[k]instanceof w&&y(v[k]);else v instanceof w&&g!==v&&y(v)}function h(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}i("beforeInit",()=>{if(typeof window<"u"&&(typeof t.params.controller.control=="string"||t.params.controller.control instanceof HTMLElement)){(typeof t.params.controller.control=="string"?[...document.querySelectorAll(t.params.controller.control)]:[t.params.controller.control]).forEach(g=>{if(t.controller.control||(t.controller.control=[]),g&&g.swiper)t.controller.control.push(g.swiper);else if(g){const w=`${t.params.eventsPrefix}init`,v=k=>{t.controller.control.push(k.detail[0]),t.update(),g.removeEventListener(w,v)};g.addEventListener(w,v)}});return}t.controller.control=t.params.controller.control}),i("update",()=>{h()}),i("resize",()=>{h()}),i("observerUpdate",()=>{h()}),i("setTranslate",(p,g,w)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTranslate(g,w)}),i("setTransition",(p,g,w)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTransition(g,w)}),Object.assign(t.controller,{setTranslate:c,setTransition:d})}function Wrt(r){let{swiper:t,extendParams:e,on:i}=r;e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),t.a11y={clicked:!1};let o=null,a,c,d=new Date().getTime();function h(pt){const _t=o;_t.length!==0&&(_t.innerHTML="",_t.innerHTML=pt)}function p(pt){const _t=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(pt).replace(/x/g,_t)}function g(pt){pt=Mn(pt),pt.forEach(_t=>{_t.setAttribute("tabIndex","0")})}function w(pt){pt=Mn(pt),pt.forEach(_t=>{_t.setAttribute("tabIndex","-1")})}function v(pt,_t){pt=Mn(pt),pt.forEach(Dt=>{Dt.setAttribute("role",_t)})}function k(pt,_t){pt=Mn(pt),pt.forEach(Dt=>{Dt.setAttribute("aria-roledescription",_t)})}function y(pt,_t){pt=Mn(pt),pt.forEach(Dt=>{Dt.setAttribute("aria-controls",_t)})}function x(pt,_t){pt=Mn(pt),pt.forEach(Dt=>{Dt.setAttribute("aria-label",_t)})}function I(pt,_t){pt=Mn(pt),pt.forEach(Dt=>{Dt.setAttribute("id",_t)})}function F(pt,_t){pt=Mn(pt),pt.forEach(Dt=>{Dt.setAttribute("aria-live",_t)})}function R(pt){pt=Mn(pt),pt.forEach(_t=>{_t.setAttribute("aria-disabled",!0)})}function Q(pt){pt=Mn(pt),pt.forEach(_t=>{_t.setAttribute("aria-disabled",!1)})}function V(pt){if(pt.keyCode!==13&&pt.keyCode!==32)return;const _t=t.params.a11y,Dt=pt.target;if(!(t.pagination&&t.pagination.el&&(Dt===t.pagination.el||t.pagination.el.contains(pt.target))&&!pt.target.matches(mu(t.params.pagination.bulletClass)))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const yt=Mn(t.navigation.prevEl);Mn(t.navigation.nextEl).includes(Dt)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?h(_t.lastSlideMessage):h(_t.nextSlideMessage)),yt.includes(Dt)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?h(_t.firstSlideMessage):h(_t.prevSlideMessage))}t.pagination&&Dt.matches(mu(t.params.pagination.bulletClass))&&Dt.click()}}function W(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:pt,prevEl:_t}=t.navigation;_t&&(t.isBeginning?(R(_t),w(_t)):(Q(_t),g(_t))),pt&&(t.isEnd?(R(pt),w(pt)):(Q(pt),g(pt)))}function X(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function P(){return X()&&t.params.pagination.clickable}function K(){const pt=t.params.a11y;X()&&t.pagination.bullets.forEach(_t=>{t.params.pagination.clickable&&(g(_t),t.params.pagination.renderBullet||(v(_t,"button"),x(_t,pt.paginationBulletMessage.replace(/\{\{index\}\}/,g_(_t)+1)))),_t.matches(mu(t.params.pagination.bulletActiveClass))?_t.setAttribute("aria-current","true"):_t.removeAttribute("aria-current")})}const J=(pt,_t,Dt)=>{g(pt),pt.tagName!=="BUTTON"&&(v(pt,"button"),pt.addEventListener("keydown",V)),x(pt,Dt),y(pt,_t)},rt=pt=>{c&&c!==pt.target&&!c.contains(pt.target)&&(a=!0),t.a11y.clicked=!0},dt=()=>{a=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},ht=pt=>{d=new Date().getTime()},ut=pt=>{if(t.a11y.clicked||!t.params.a11y.scrollOnFocus||new Date().getTime()-d<100)return;const _t=pt.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!_t||!t.slides.includes(_t))return;c=_t;const Dt=t.slides.indexOf(_t)===t.activeIndex,yt=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(_t);Dt||yt||pt.sourceCapabilities&&pt.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame(()=>{a||(t.params.loop?t.slideToLoop(parseInt(_t.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(_t),0),a=!1)}))},mt=()=>{const pt=t.params.a11y;pt.itemRoleDescriptionMessage&&k(t.slides,pt.itemRoleDescriptionMessage),pt.slideRole&&v(t.slides,pt.slideRole);const _t=t.slides.length;pt.slideLabelMessage&&t.slides.forEach((Dt,yt)=>{const se=t.params.loop?parseInt(Dt.getAttribute("data-swiper-slide-index"),10):yt,oe=pt.slideLabelMessage.replace(/\{\{index\}\}/,se+1).replace(/\{\{slidesLength\}\}/,_t);x(Dt,oe)})},St=()=>{const pt=t.params.a11y;t.el.append(o);const _t=t.el;pt.containerRoleDescriptionMessage&&k(_t,pt.containerRoleDescriptionMessage),pt.containerMessage&&x(_t,pt.containerMessage),pt.containerRole&&v(_t,pt.containerRole);const Dt=t.wrapperEl,yt=pt.id||Dt.getAttribute("id")||`swiper-wrapper-${p(16)}`,se=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";I(Dt,yt),F(Dt,se),mt();let{nextEl:oe,prevEl:ie}=t.navigation?t.navigation:{};oe=Mn(oe),ie=Mn(ie),oe&&oe.forEach(Lt=>J(Lt,yt,pt.nextSlideMessage)),ie&&ie.forEach(Lt=>J(Lt,yt,pt.prevSlideMessage)),P()&&Mn(t.pagination.el).forEach(Tt=>{Tt.addEventListener("keydown",V)}),Qr().addEventListener("visibilitychange",ht),t.el.addEventListener("focus",ut,!0),t.el.addEventListener("focus",ut,!0),t.el.addEventListener("pointerdown",rt,!0),t.el.addEventListener("pointerup",dt,!0)};function vt(){o&&o.remove();let{nextEl:pt,prevEl:_t}=t.navigation?t.navigation:{};pt=Mn(pt),_t=Mn(_t),pt&&pt.forEach(yt=>yt.removeEventListener("keydown",V)),_t&&_t.forEach(yt=>yt.removeEventListener("keydown",V)),P()&&Mn(t.pagination.el).forEach(se=>{se.removeEventListener("keydown",V)}),Qr().removeEventListener("visibilitychange",ht),t.el&&typeof t.el!="string"&&(t.el.removeEventListener("focus",ut,!0),t.el.removeEventListener("pointerdown",rt,!0),t.el.removeEventListener("pointerup",dt,!0))}i("beforeInit",()=>{o=xl("span",t.params.a11y.notificationClass),o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true")}),i("afterInit",()=>{t.params.a11y.enabled&&St()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&mt()}),i("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&W()}),i("paginationUpdate",()=>{t.params.a11y.enabled&&K()}),i("destroy",()=>{t.params.a11y.enabled&&vt()})}function $rt(r){let{swiper:t,extendParams:e,on:i}=r;e({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let o=!1,a={};const c=k=>k.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),d=k=>{const y=is();let x;k?x=new URL(k):x=y.location;const I=x.pathname.slice(1).split("/").filter(V=>V!==""),F=I.length,R=I[F-2],Q=I[F-1];return{key:R,value:Q}},h=(k,y)=>{const x=is();if(!o||!t.params.history.enabled)return;let I;t.params.url?I=new URL(t.params.url):I=x.location;const F=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${y}"]`):t.slides[y];let R=c(F.getAttribute("data-history"));if(t.params.history.root.length>0){let V=t.params.history.root;V[V.length-1]==="/"&&(V=V.slice(0,V.length-1)),R=`${V}/${k?`${k}/`:""}${R}`}else I.pathname.includes(k)||(R=`${k?`${k}/`:""}${R}`);t.params.history.keepQuery&&(R+=I.search);const Q=x.history.state;Q&&Q.value===R||(t.params.history.replaceState?x.history.replaceState({value:R},null,R):x.history.pushState({value:R},null,R))},p=(k,y,x)=>{if(y)for(let I=0,F=t.slides.length;I<F;I+=1){const R=t.slides[I];if(c(R.getAttribute("data-history"))===y){const V=t.getSlideIndex(R);t.slideTo(V,k,x)}}else t.slideTo(0,k,x)},g=()=>{a=d(t.params.url),p(t.params.speed,a.value,!1)},w=()=>{const k=is();if(t.params.history){if(!k.history||!k.history.pushState){t.params.history.enabled=!1,t.params.hashNavigation.enabled=!0;return}if(o=!0,a=d(t.params.url),!a.key&&!a.value){t.params.history.replaceState||k.addEventListener("popstate",g);return}p(0,a.value,t.params.runCallbacksOnInit),t.params.history.replaceState||k.addEventListener("popstate",g)}},v=()=>{const k=is();t.params.history.replaceState||k.removeEventListener("popstate",g)};i("init",()=>{t.params.history.enabled&&w()}),i("destroy",()=>{t.params.history.enabled&&v()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{o&&h(t.params.history.key,t.activeIndex)}),i("slideChange",()=>{o&&t.params.cssMode&&h(t.params.history.key,t.activeIndex)})}function qrt(r){let{swiper:t,extendParams:e,emit:i,on:o}=r,a=!1;const c=Qr(),d=is();e({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(v,k){if(t.virtual&&t.params.virtual.enabled){const y=t.slides.find(I=>I.getAttribute("data-hash")===k);return y?parseInt(y.getAttribute("data-swiper-slide-index"),10):0}return t.getSlideIndex(ho(t.slidesEl,`.${t.params.slideClass}[data-hash="${k}"], swiper-slide[data-hash="${k}"]`)[0])}}});const h=()=>{i("hashChange");const v=c.location.hash.replace("#",""),k=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],y=k?k.getAttribute("data-hash"):"";if(v!==y){const x=t.params.hashNavigation.getSlideIndex(t,v);if(typeof x>"u"||Number.isNaN(x))return;t.slideTo(x)}},p=()=>{if(!a||!t.params.hashNavigation.enabled)return;const v=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],k=v?v.getAttribute("data-hash")||v.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&d.history&&d.history.replaceState?(d.history.replaceState(null,null,`#${k}`||""),i("hashSet")):(c.location.hash=k||"",i("hashSet"))},g=()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;a=!0;const v=c.location.hash.replace("#","");if(v){const y=t.params.hashNavigation.getSlideIndex(t,v);t.slideTo(y||0,0,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&d.addEventListener("hashchange",h)},w=()=>{t.params.hashNavigation.watchState&&d.removeEventListener("hashchange",h)};o("init",()=>{t.params.hashNavigation.enabled&&g()}),o("destroy",()=>{t.params.hashNavigation.enabled&&w()}),o("transitionEnd _freeModeNoMomentumRelease",()=>{a&&p()}),o("slideChange",()=>{a&&t.params.cssMode&&p()})}function Yrt(r){let{swiper:t,extendParams:e,on:i,emit:o,params:a}=r;t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,d,h=a&&a.autoplay?a.autoplay.delay:3e3,p=a&&a.autoplay?a.autoplay.delay:3e3,g,w=new Date().getTime(),v,k,y,x,I,F,R;function Q(_t){!t||t.destroyed||!t.wrapperEl||_t.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",Q),!(R||_t.detail&&_t.detail.bySwiperTouchMove)&&rt())}const V=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?v=!0:v&&(p=g,v=!1);const _t=t.autoplay.paused?g:w+p-new Date().getTime();t.autoplay.timeLeft=_t,o("autoplayTimeLeft",_t,_t/h),d=requestAnimationFrame(()=>{V()})},W=()=>{let _t;return t.virtual&&t.params.virtual.enabled?_t=t.slides.find(yt=>yt.classList.contains("swiper-slide-active")):_t=t.slides[t.activeIndex],_t?parseInt(_t.getAttribute("data-swiper-autoplay"),10):void 0},X=_t=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(d),V();let Dt=typeof _t>"u"?t.params.autoplay.delay:_t;h=t.params.autoplay.delay,p=t.params.autoplay.delay;const yt=W();!Number.isNaN(yt)&&yt>0&&typeof _t>"u"&&(Dt=yt,h=yt,p=yt),g=Dt;const se=t.params.speed,oe=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(se,!0,!0),o("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,se,!0,!0),o("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(se,!0,!0),o("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,se,!0,!0),o("autoplay")),t.params.cssMode&&(w=new Date().getTime(),requestAnimationFrame(()=>{X()})))};return Dt>0?(clearTimeout(c),c=setTimeout(()=>{oe()},Dt)):requestAnimationFrame(()=>{oe()}),Dt},P=()=>{w=new Date().getTime(),t.autoplay.running=!0,X(),o("autoplayStart")},K=()=>{t.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(d),o("autoplayStop")},J=(_t,Dt)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(c),_t||(F=!0);const yt=()=>{o("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",Q):rt()};if(t.autoplay.paused=!0,Dt){I&&(g=t.params.autoplay.delay),I=!1,yt();return}g=(g||t.params.autoplay.delay)-(new Date().getTime()-w),!(t.isEnd&&g<0&&!t.params.loop)&&(g<0&&(g=0),yt())},rt=()=>{t.isEnd&&g<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(w=new Date().getTime(),F?(F=!1,X(g)):X(),t.autoplay.paused=!1,o("autoplayResume"))},dt=()=>{if(t.destroyed||!t.autoplay.running)return;const _t=Qr();_t.visibilityState==="hidden"&&(F=!0,J(!0)),_t.visibilityState==="visible"&&rt()},ht=_t=>{_t.pointerType==="mouse"&&(F=!0,R=!0,!(t.animating||t.autoplay.paused)&&J(!0))},ut=_t=>{_t.pointerType==="mouse"&&(R=!1,t.autoplay.paused&&rt())},mt=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",ht),t.el.addEventListener("pointerleave",ut))},St=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",ht),t.el.removeEventListener("pointerleave",ut))},vt=()=>{Qr().addEventListener("visibilitychange",dt)},pt=()=>{Qr().removeEventListener("visibilitychange",dt)};i("init",()=>{t.params.autoplay.enabled&&(mt(),vt(),P())}),i("destroy",()=>{St(),pt(),t.autoplay.running&&K()}),i("_freeModeStaticRelease",()=>{(y||F)&&rt()}),i("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?K():J(!0,!0)}),i("beforeTransitionStart",(_t,Dt,yt)=>{t.destroyed||!t.autoplay.running||(yt||!t.params.autoplay.disableOnInteraction?J(!0,!0):K())}),i("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){K();return}k=!0,y=!1,F=!1,x=setTimeout(()=>{F=!0,y=!0,J(!0)},200)}}),i("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!k)){if(clearTimeout(x),clearTimeout(c),t.params.autoplay.disableOnInteraction){y=!1,k=!1;return}y&&t.params.cssMode&&rt(),y=!1,k=!1}}),i("slideChange",()=>{t.destroyed||!t.autoplay.running||(I=!0)}),Object.assign(t.autoplay,{start:P,stop:K,pause:J,resume:rt})}function Xrt(r){let{swiper:t,extendParams:e,on:i}=r;e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let o=!1,a=!1;t.thumbs={swiper:null};function c(){const p=t.thumbs.swiper;if(!p||p.destroyed)return;const g=p.clickedIndex,w=p.clickedSlide;if(w&&w.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof g>"u"||g===null)return;let v;p.params.loop?v=parseInt(p.clickedSlide.getAttribute("data-swiper-slide-index"),10):v=g,t.params.loop?t.slideToLoop(v):t.slideTo(v)}function d(){const{thumbs:p}=t.params;if(o)return!1;o=!0;const g=t.constructor;if(p.swiper instanceof g){if(p.swiper.destroyed)return o=!1,!1;t.thumbs.swiper=p.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update()}else if(bv(p.swiper)){const w=Object.assign({},p.swiper);Object.assign(w,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new g(w),a=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",c),!0}function h(p){const g=t.thumbs.swiper;if(!g||g.destroyed)return;const w=g.params.slidesPerView==="auto"?g.slidesPerViewDynamic():g.params.slidesPerView;let v=1;const k=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(v=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(v=1),v=Math.floor(v),g.slides.forEach(I=>I.classList.remove(k)),g.params.loop||g.params.virtual&&g.params.virtual.enabled)for(let I=0;I<v;I+=1)ho(g.slidesEl,`[data-swiper-slide-index="${t.realIndex+I}"]`).forEach(F=>{F.classList.add(k)});else for(let I=0;I<v;I+=1)g.slides[t.realIndex+I]&&g.slides[t.realIndex+I].classList.add(k);const y=t.params.thumbs.autoScrollOffset,x=y&&!g.params.loop;if(t.realIndex!==g.realIndex||x){const I=g.activeIndex;let F,R;if(g.params.loop){const Q=g.slides.find(V=>V.getAttribute("data-swiper-slide-index")===`${t.realIndex}`);F=g.slides.indexOf(Q),R=t.activeIndex>t.previousIndex?"next":"prev"}else F=t.realIndex,R=F>t.previousIndex?"next":"prev";x&&(F+=R==="next"?y:-1*y),g.visibleSlidesIndexes&&g.visibleSlidesIndexes.indexOf(F)<0&&(g.params.centeredSlides?F>I?F=F-Math.floor(w/2)+1:F=F+Math.floor(w/2)-1:F>I&&g.params.slidesPerGroup,g.slideTo(F,p?0:void 0))}}i("beforeInit",()=>{const{thumbs:p}=t.params;if(!(!p||!p.swiper))if(typeof p.swiper=="string"||p.swiper instanceof HTMLElement){const g=Qr(),w=()=>{const k=typeof p.swiper=="string"?g.querySelector(p.swiper):p.swiper;if(k&&k.swiper)p.swiper=k.swiper,d(),h(!0);else if(k){const y=`${t.params.eventsPrefix}init`,x=I=>{p.swiper=I.detail[0],k.removeEventListener(y,x),d(),h(!0),p.swiper.update(),t.update()};k.addEventListener(y,x)}return k},v=()=>{if(t.destroyed)return;w()||requestAnimationFrame(v)};requestAnimationFrame(v)}else d(),h(!0)}),i("slideChange update resize observerUpdate",()=>{h()}),i("setTransition",(p,g)=>{const w=t.thumbs.swiper;!w||w.destroyed||w.setTransition(g)}),i("beforeDestroy",()=>{const p=t.thumbs.swiper;!p||p.destroyed||a&&p.destroy()}),Object.assign(t.thumbs,{init:d,update:h})}function Zrt(r){let{swiper:t,extendParams:e,emit:i,once:o}=r;e({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function a(){if(t.params.cssMode)return;const h=t.getTranslate();t.setTranslate(h),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})}function c(){if(t.params.cssMode)return;const{touchEventsData:h,touches:p}=t;h.velocities.length===0&&h.velocities.push({position:p[t.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:p[t.isHorizontal()?"currentX":"currentY"],time:dc()})}function d(h){let{currentPos:p}=h;if(t.params.cssMode)return;const{params:g,wrapperEl:w,rtlTranslate:v,snapGrid:k,touchEventsData:y}=t,I=dc()-y.touchStartTime;if(p<-t.minTranslate()){t.slideTo(t.activeIndex);return}if(p>-t.maxTranslate()){t.slides.length<k.length?t.slideTo(k.length-1):t.slideTo(t.slides.length-1);return}if(g.freeMode.momentum){if(y.velocities.length>1){const K=y.velocities.pop(),J=y.velocities.pop(),rt=K.position-J.position,dt=K.time-J.time;t.velocity=rt/dt,t.velocity/=2,Math.abs(t.velocity)<g.freeMode.minimumVelocity&&(t.velocity=0),(dt>150||dc()-K.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=g.freeMode.momentumVelocityRatio,y.velocities.length=0;let F=1e3*g.freeMode.momentumRatio;const R=t.velocity*F;let Q=t.translate+R;v&&(Q=-Q);let V=!1,W;const X=Math.abs(t.velocity)*20*g.freeMode.momentumBounceRatio;let P;if(Q<t.maxTranslate())g.freeMode.momentumBounce?(Q+t.maxTranslate()<-X&&(Q=t.maxTranslate()-X),W=t.maxTranslate(),V=!0,y.allowMomentumBounce=!0):Q=t.maxTranslate(),g.loop&&g.centeredSlides&&(P=!0);else if(Q>t.minTranslate())g.freeMode.momentumBounce?(Q-t.minTranslate()>X&&(Q=t.minTranslate()+X),W=t.minTranslate(),V=!0,y.allowMomentumBounce=!0):Q=t.minTranslate(),g.loop&&g.centeredSlides&&(P=!0);else if(g.freeMode.sticky){let K;for(let J=0;J<k.length;J+=1)if(k[J]>-Q){K=J;break}Math.abs(k[K]-Q)<Math.abs(k[K-1]-Q)||t.swipeDirection==="next"?Q=k[K]:Q=k[K-1],Q=-Q}if(P&&o("transitionEnd",()=>{t.loopFix()}),t.velocity!==0){if(v?F=Math.abs((-Q-t.translate)/t.velocity):F=Math.abs((Q-t.translate)/t.velocity),g.freeMode.sticky){const K=Math.abs((v?-Q:Q)-t.translate),J=t.slidesSizesGrid[t.activeIndex];K<J?F=g.speed:K<2*J?F=g.speed*1.5:F=g.speed*2.5}}else if(g.freeMode.sticky){t.slideToClosest();return}g.freeMode.momentumBounce&&V?(t.updateProgress(W),t.setTransition(F),t.setTranslate(Q),t.transitionStart(!0,t.swipeDirection),t.animating=!0,e_(w,()=>{!t||t.destroyed||!y.allowMomentumBounce||(i("momentumBounce"),t.setTransition(g.speed),setTimeout(()=>{t.setTranslate(W),e_(w,()=>{!t||t.destroyed||t.transitionEnd()})},0))})):t.velocity?(i("_freeModeNoMomentumRelease"),t.updateProgress(Q),t.setTransition(F),t.setTranslate(Q),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,e_(w,()=>{!t||t.destroyed||t.transitionEnd()}))):t.updateProgress(Q),t.updateActiveIndex(),t.updateSlidesClasses()}else if(g.freeMode.sticky){t.slideToClosest();return}else g.freeMode&&i("_freeModeNoMomentumRelease");(!g.freeMode.momentum||I>=g.longSwipesMs)&&(i("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}Object.assign(t,{freeMode:{onTouchStart:a,onTouchMove:c,onTouchEnd:d}})}function Jrt(r){let{swiper:t,extendParams:e,on:i}=r;e({grid:{rows:1,fill:"column"}});let o,a,c,d;const h=()=>{let x=t.params.spaceBetween;return typeof x=="string"&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*t.size:typeof x=="string"&&(x=parseFloat(x)),x},p=x=>{const{slidesPerView:I}=t.params,{rows:F,fill:R}=t.params.grid,Q=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:x.length;c=Math.floor(Q/F),Math.floor(Q/F)===Q/F?o=Q:o=Math.ceil(Q/F)*F,I!=="auto"&&R==="row"&&(o=Math.max(o,I*F)),a=o/F},g=()=>{t.slides&&t.slides.forEach(x=>{x.swiperSlideGridSet&&(x.style.height="",x.style[t.getDirectionLabel("margin-top")]="")})},w=(x,I,F)=>{const{slidesPerGroup:R}=t.params,Q=h(),{rows:V,fill:W}=t.params.grid,X=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:F.length;let P,K,J;if(W==="row"&&R>1){const rt=Math.floor(x/(R*V)),dt=x-V*R*rt,ht=rt===0?R:Math.min(Math.ceil((X-rt*V*R)/V),R);J=Math.floor(dt/ht),K=dt-J*ht+rt*R,P=K+J*o/V,I.style.order=P}else W==="column"?(K=Math.floor(x/V),J=x-K*V,(K>c||K===c&&J===V-1)&&(J+=1,J>=V&&(J=0,K+=1))):(J=Math.floor(x/a),K=x-J*a);I.row=J,I.column=K,I.style.height=`calc((100% - ${(V-1)*Q}px) / ${V})`,I.style[t.getDirectionLabel("margin-top")]=J!==0?Q&&`${Q}px`:"",I.swiperSlideGridSet=!0},v=(x,I)=>{const{centeredSlides:F,roundLengths:R}=t.params,Q=h(),{rows:V}=t.params.grid;if(t.virtualSize=(x+Q)*o,t.virtualSize=Math.ceil(t.virtualSize/V)-Q,t.params.cssMode||(t.wrapperEl.style[t.getDirectionLabel("width")]=`${t.virtualSize+Q}px`),F){const W=[];for(let X=0;X<I.length;X+=1){let P=I[X];R&&(P=Math.floor(P)),I[X]<t.virtualSize+I[0]&&W.push(P)}I.splice(0,I.length),I.push(...W)}},k=()=>{d=t.params.grid&&t.params.grid.rows>1},y=()=>{const{params:x,el:I}=t,F=x.grid&&x.grid.rows>1;d&&!F?(I.classList.remove(`${x.containerModifierClass}grid`,`${x.containerModifierClass}grid-column`),c=1,t.emitContainerClasses()):!d&&F&&(I.classList.add(`${x.containerModifierClass}grid`),x.grid.fill==="column"&&I.classList.add(`${x.containerModifierClass}grid-column`),t.emitContainerClasses()),d=F};i("init",k),i("update",y),t.grid={initSlides:p,unsetSlides:g,updateSlide:w,updateWrapperSize:v}}function tot(r){const t=this,{params:e,slidesEl:i}=t;e.loop&&t.loopDestroy();const o=a=>{if(typeof a=="string"){const c=document.createElement("div");c.innerHTML=a,i.append(c.children[0]),c.innerHTML=""}else i.append(a)};if(typeof r=="object"&&"length"in r)for(let a=0;a<r.length;a+=1)r[a]&&o(r[a]);else o(r);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update()}function eot(r){const t=this,{params:e,activeIndex:i,slidesEl:o}=t;e.loop&&t.loopDestroy();let a=i+1;const c=d=>{if(typeof d=="string"){const h=document.createElement("div");h.innerHTML=d,o.prepend(h.children[0]),h.innerHTML=""}else o.prepend(d)};if(typeof r=="object"&&"length"in r){for(let d=0;d<r.length;d+=1)r[d]&&c(r[d]);a=i+r.length}else c(r);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update(),t.slideTo(a,0,!1)}function not(r,t){const e=this,{params:i,activeIndex:o,slidesEl:a}=e;let c=o;i.loop&&(c-=e.loopedSlides,e.loopDestroy(),e.recalcSlides());const d=e.slides.length;if(r<=0){e.prependSlide(t);return}if(r>=d){e.appendSlide(t);return}let h=c>r?c+1:c;const p=[];for(let g=d-1;g>=r;g-=1){const w=e.slides[g];w.remove(),p.unshift(w)}if(typeof t=="object"&&"length"in t){for(let g=0;g<t.length;g+=1)t[g]&&a.append(t[g]);h=c>r?c+t.length:c}else a.append(t);for(let g=0;g<p.length;g+=1)a.append(p[g]);e.recalcSlides(),i.loop&&e.loopCreate(),(!i.observer||e.isElement)&&e.update(),i.loop?e.slideTo(h+e.loopedSlides,0,!1):e.slideTo(h,0,!1)}function iot(r){const t=this,{params:e,activeIndex:i}=t;let o=i;e.loop&&(o-=t.loopedSlides,t.loopDestroy());let a=o,c;if(typeof r=="object"&&"length"in r){for(let d=0;d<r.length;d+=1)c=r[d],t.slides[c]&&t.slides[c].remove(),c<a&&(a-=1);a=Math.max(a,0)}else c=r,t.slides[c]&&t.slides[c].remove(),c<a&&(a-=1),a=Math.max(a,0);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update(),e.loop?t.slideTo(a+t.loopedSlides,0,!1):t.slideTo(a,0,!1)}function sot(){const r=this,t=[];for(let e=0;e<r.slides.length;e+=1)t.push(e);r.removeSlide(t)}function rot(r){let{swiper:t}=r;Object.assign(t,{appendSlide:tot.bind(t),prependSlide:eot.bind(t),addSlide:not.bind(t),removeSlide:iot.bind(t),removeAllSlides:sot.bind(t)})}function yw(r){const{effect:t,swiper:e,on:i,setTranslate:o,setTransition:a,overwriteParams:c,perspective:d,recreateShadows:h,getEffectParams:p}=r;i("beforeInit",()=>{if(e.params.effect!==t)return;e.classNames.push(`${e.params.containerModifierClass}${t}`),d&&d()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const w=c?c():{};Object.assign(e.params,w),Object.assign(e.originalParams,w)}),i("setTranslate",()=>{e.params.effect===t&&o()}),i("setTransition",(w,v)=>{e.params.effect===t&&a(v)}),i("transitionEnd",()=>{if(e.params.effect===t&&h){if(!p||!p().slideShadows)return;e.slides.forEach(w=>{w.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(v=>v.remove())}),h()}});let g;i("virtualUpdate",()=>{e.params.effect===t&&(e.slides.length||(g=!0),requestAnimationFrame(()=>{g&&e.slides&&e.slides.length&&(o(),g=!1)}))})}function d0(r,t){const e=Og(t);return e!==t&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function Xx(r){let{swiper:t,duration:e,transformElements:i,allSlides:o}=r;const{activeIndex:a}=t,c=d=>d.parentElement?d.parentElement:t.slides.find(p=>p.shadowRoot&&p.shadowRoot===d.parentNode);if(t.params.virtualTranslate&&e!==0){let d=!1,h;o?h=i:h=i.filter(p=>{const g=p.classList.contains("swiper-slide-transform")?c(p):p;return t.getSlideIndex(g)===a}),h.forEach(p=>{e_(p,()=>{if(d||!t||t.destroyed)return;d=!0,t.animating=!1;const g=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(g)})})}}function oot(r){let{swiper:t,extendParams:e,on:i}=r;e({fadeEffect:{crossFade:!1}}),yw({effect:"fade",swiper:t,on:i,setTranslate:()=>{const{slides:c}=t,d=t.params.fadeEffect;for(let h=0;h<c.length;h+=1){const p=t.slides[h];let w=-p.swiperSlideOffset;t.params.virtualTranslate||(w-=t.translate);let v=0;t.isHorizontal()||(v=w,w=0);const k=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(p.progress),0):1+Math.min(Math.max(p.progress,-1),0),y=d0(d,p);y.style.opacity=k,y.style.transform=`translate3d(${w}px, ${v}px, 0px)`}},setTransition:c=>{const d=t.slides.map(h=>Og(h));d.forEach(h=>{h.style.transitionDuration=`${c}ms`}),Xx({swiper:t,duration:c,transformElements:d,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function aot(r){let{swiper:t,extendParams:e,on:i}=r;e({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const o=(h,p,g)=>{let w=g?h.querySelector(".swiper-slide-shadow-left"):h.querySelector(".swiper-slide-shadow-top"),v=g?h.querySelector(".swiper-slide-shadow-right"):h.querySelector(".swiper-slide-shadow-bottom");w||(w=xl("div",`swiper-slide-shadow-cube swiper-slide-shadow-${g?"left":"top"}`.split(" ")),h.append(w)),v||(v=xl("div",`swiper-slide-shadow-cube swiper-slide-shadow-${g?"right":"bottom"}`.split(" ")),h.append(v)),w&&(w.style.opacity=Math.max(-p,0)),v&&(v.style.opacity=Math.max(p,0))};yw({effect:"cube",swiper:t,on:i,setTranslate:()=>{const{el:h,wrapperEl:p,slides:g,width:w,height:v,rtlTranslate:k,size:y,browser:x}=t,I=Yx(t),F=t.params.cubeEffect,R=t.isHorizontal(),Q=t.virtual&&t.params.virtual.enabled;let V=0,W;F.shadow&&(R?(W=t.wrapperEl.querySelector(".swiper-cube-shadow"),W||(W=xl("div","swiper-cube-shadow"),t.wrapperEl.append(W)),W.style.height=`${w}px`):(W=h.querySelector(".swiper-cube-shadow"),W||(W=xl("div","swiper-cube-shadow"),h.append(W))));for(let P=0;P<g.length;P+=1){const K=g[P];let J=P;Q&&(J=parseInt(K.getAttribute("data-swiper-slide-index"),10));let rt=J*90,dt=Math.floor(rt/360);k&&(rt=-rt,dt=Math.floor(-rt/360));const ht=Math.max(Math.min(K.progress,1),-1);let ut=0,mt=0,St=0;J%4===0?(ut=-dt*4*y,St=0):(J-1)%4===0?(ut=0,St=-dt*4*y):(J-2)%4===0?(ut=y+dt*4*y,St=y):(J-3)%4===0&&(ut=-y,St=3*y+y*4*dt),k&&(ut=-ut),R||(mt=ut,ut=0);const vt=`rotateX(${I(R?0:-rt)}deg) rotateY(${I(R?rt:0)}deg) translate3d(${ut}px, ${mt}px, ${St}px)`;ht<=1&&ht>-1&&(V=J*90+ht*90,k&&(V=-J*90-ht*90)),K.style.transform=vt,F.slideShadows&&o(K,ht,R)}if(p.style.transformOrigin=`50% 50% -${y/2}px`,p.style["-webkit-transform-origin"]=`50% 50% -${y/2}px`,F.shadow)if(R)W.style.transform=`translate3d(0px, ${w/2+F.shadowOffset}px, ${-w/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${F.shadowScale})`;else{const P=Math.abs(V)-Math.floor(Math.abs(V)/90)*90,K=1.5-(Math.sin(P*2*Math.PI/360)/2+Math.cos(P*2*Math.PI/360)/2),J=F.shadowScale,rt=F.shadowScale/K,dt=F.shadowOffset;W.style.transform=`scale3d(${J}, 1, ${rt}) translate3d(0px, ${v/2+dt}px, ${-v/2/rt}px) rotateX(-89.99deg)`}const X=(x.isSafari||x.isWebView)&&x.needPerspectiveFix?-y/2:0;p.style.transform=`translate3d(0px,0,${X}px) rotateX(${I(t.isHorizontal()?0:V)}deg) rotateY(${I(t.isHorizontal()?-V:0)}deg)`,p.style.setProperty("--swiper-cube-translate-z",`${X}px`)},setTransition:h=>{const{el:p,slides:g}=t;if(g.forEach(w=>{w.style.transitionDuration=`${h}ms`,w.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(v=>{v.style.transitionDuration=`${h}ms`})}),t.params.cubeEffect.shadow&&!t.isHorizontal()){const w=p.querySelector(".swiper-cube-shadow");w&&(w.style.transitionDuration=`${h}ms`)}},recreateShadows:()=>{const h=t.isHorizontal();t.slides.forEach(p=>{const g=Math.max(Math.min(p.progress,1),-1);o(p,g,h)})},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function uw(r,t,e){const i=`swiper-slide-shadow${e?`-${e}`:""}${r?` swiper-slide-shadow-${r}`:""}`,o=Og(t);let a=o.querySelector(`.${i.split(" ").join(".")}`);return a||(a=xl("div",i.split(" ")),o.append(a)),a}function lot(r){let{swiper:t,extendParams:e,on:i}=r;e({flipEffect:{slideShadows:!0,limitRotation:!0}});const o=(h,p)=>{let g=t.isHorizontal()?h.querySelector(".swiper-slide-shadow-left"):h.querySelector(".swiper-slide-shadow-top"),w=t.isHorizontal()?h.querySelector(".swiper-slide-shadow-right"):h.querySelector(".swiper-slide-shadow-bottom");g||(g=uw("flip",h,t.isHorizontal()?"left":"top")),w||(w=uw("flip",h,t.isHorizontal()?"right":"bottom")),g&&(g.style.opacity=Math.max(-p,0)),w&&(w.style.opacity=Math.max(p,0))};yw({effect:"flip",swiper:t,on:i,setTranslate:()=>{const{slides:h,rtlTranslate:p}=t,g=t.params.flipEffect,w=Yx(t);for(let v=0;v<h.length;v+=1){const k=h[v];let y=k.progress;t.params.flipEffect.limitRotation&&(y=Math.max(Math.min(k.progress,1),-1));const x=k.swiperSlideOffset;let F=-180*y,R=0,Q=t.params.cssMode?-x-t.translate:-x,V=0;t.isHorizontal()?p&&(F=-F):(V=Q,Q=0,R=-F,F=0),k.style.zIndex=-Math.abs(Math.round(y))+h.length,g.slideShadows&&o(k,y);const W=`translate3d(${Q}px, ${V}px, 0px) rotateX(${w(R)}deg) rotateY(${w(F)}deg)`,X=d0(g,k);X.style.transform=W}},setTransition:h=>{const p=t.slides.map(g=>Og(g));p.forEach(g=>{g.style.transitionDuration=`${h}ms`,g.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(w=>{w.style.transitionDuration=`${h}ms`})}),Xx({swiper:t,duration:h,transformElements:p})},recreateShadows:()=>{t.params.flipEffect,t.slides.forEach(h=>{let p=h.progress;t.params.flipEffect.limitRotation&&(p=Math.max(Math.min(h.progress,1),-1)),o(h,p)})},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function cot(r){let{swiper:t,extendParams:e,on:i}=r;e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),yw({effect:"coverflow",swiper:t,on:i,setTranslate:()=>{const{width:c,height:d,slides:h,slidesSizesGrid:p}=t,g=t.params.coverflowEffect,w=t.isHorizontal(),v=t.translate,k=w?-v+c/2:-v+d/2,y=w?g.rotate:-g.rotate,x=g.depth,I=Yx(t);for(let F=0,R=h.length;F<R;F+=1){const Q=h[F],V=p[F],W=Q.swiperSlideOffset,X=(k-W-V/2)/V,P=typeof g.modifier=="function"?g.modifier(X):X*g.modifier;let K=w?y*P:0,J=w?0:y*P,rt=-x*Math.abs(P),dt=g.stretch;typeof dt=="string"&&dt.indexOf("%")!==-1&&(dt=parseFloat(g.stretch)/100*V);let ht=w?0:dt*P,ut=w?dt*P:0,mt=1-(1-g.scale)*Math.abs(P);Math.abs(ut)<.001&&(ut=0),Math.abs(ht)<.001&&(ht=0),Math.abs(rt)<.001&&(rt=0),Math.abs(K)<.001&&(K=0),Math.abs(J)<.001&&(J=0),Math.abs(mt)<.001&&(mt=0);const St=`translate3d(${ut}px,${ht}px,${rt}px)  rotateX(${I(J)}deg) rotateY(${I(K)}deg) scale(${mt})`,vt=d0(g,Q);if(vt.style.transform=St,Q.style.zIndex=-Math.abs(Math.round(P))+1,g.slideShadows){let pt=w?Q.querySelector(".swiper-slide-shadow-left"):Q.querySelector(".swiper-slide-shadow-top"),_t=w?Q.querySelector(".swiper-slide-shadow-right"):Q.querySelector(".swiper-slide-shadow-bottom");pt||(pt=uw("coverflow",Q,w?"left":"top")),_t||(_t=uw("coverflow",Q,w?"right":"bottom")),pt&&(pt.style.opacity=P>0?P:0),_t&&(_t.style.opacity=-P>0?-P:0)}}},setTransition:c=>{t.slides.map(h=>Og(h)).forEach(h=>{h.style.transitionDuration=`${c}ms`,h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>{p.style.transitionDuration=`${c}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function dot(r){let{swiper:t,extendParams:e,on:i}=r;e({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const o=d=>typeof d=="string"?d:`${d}px`;yw({effect:"creative",swiper:t,on:i,setTranslate:()=>{const{slides:d,wrapperEl:h,slidesSizesGrid:p}=t,g=t.params.creativeEffect,{progressMultiplier:w}=g,v=t.params.centeredSlides,k=Yx(t);if(v){const y=p[0]/2-t.params.slidesOffsetBefore||0;h.style.transform=`translateX(calc(50% - ${y}px))`}for(let y=0;y<d.length;y+=1){const x=d[y],I=x.progress,F=Math.min(Math.max(x.progress,-g.limitProgress),g.limitProgress);let R=F;v||(R=Math.min(Math.max(x.originalProgress,-g.limitProgress),g.limitProgress));const Q=x.swiperSlideOffset,V=[t.params.cssMode?-Q-t.translate:-Q,0,0],W=[0,0,0];let X=!1;t.isHorizontal()||(V[1]=V[0],V[0]=0);let P={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};F<0?(P=g.next,X=!0):F>0&&(P=g.prev,X=!0),V.forEach((mt,St)=>{V[St]=`calc(${mt}px + (${o(P.translate[St])} * ${Math.abs(F*w)}))`}),W.forEach((mt,St)=>{let vt=P.rotate[St]*Math.abs(F*w);W[St]=vt}),x.style.zIndex=-Math.abs(Math.round(I))+d.length;const K=V.join(", "),J=`rotateX(${k(W[0])}deg) rotateY(${k(W[1])}deg) rotateZ(${k(W[2])}deg)`,rt=R<0?`scale(${1+(1-P.scale)*R*w})`:`scale(${1-(1-P.scale)*R*w})`,dt=R<0?1+(1-P.opacity)*R*w:1-(1-P.opacity)*R*w,ht=`translate3d(${K}) ${J} ${rt}`;if(X&&P.shadow||!X){let mt=x.querySelector(".swiper-slide-shadow");if(!mt&&P.shadow&&(mt=uw("creative",x)),mt){const St=g.shadowPerProgress?F*(1/g.limitProgress):F;mt.style.opacity=Math.min(Math.max(Math.abs(St),0),1)}}const ut=d0(g,x);ut.style.transform=ht,ut.style.opacity=dt,P.origin&&(ut.style.transformOrigin=P.origin)}},setTransition:d=>{const h=t.slides.map(p=>Og(p));h.forEach(p=>{p.style.transitionDuration=`${d}ms`,p.querySelectorAll(".swiper-slide-shadow").forEach(g=>{g.style.transitionDuration=`${d}ms`})}),Xx({swiper:t,duration:d,transformElements:h,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}function Aot(r){let{swiper:t,extendParams:e,on:i}=r;e({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),yw({effect:"cards",swiper:t,on:i,setTranslate:()=>{const{slides:c,activeIndex:d,rtlTranslate:h}=t,p=t.params.cardsEffect,{startTranslate:g,isTouched:w}=t.touchEventsData,v=h?-t.translate:t.translate;for(let k=0;k<c.length;k+=1){const y=c[k],x=y.progress,I=Math.min(Math.max(x,-4),4);let F=y.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(F-=c[0].swiperSlideOffset);let R=t.params.cssMode?-F-t.translate:-F,Q=0;const V=-100*Math.abs(I);let W=1,X=-p.perSlideRotate*I,P=p.perSlideOffset-Math.abs(I)*.75;const K=t.virtual&&t.params.virtual.enabled?t.virtual.from+k:k,J=(K===d||K===d-1)&&I>0&&I<1&&(w||t.params.cssMode)&&v<g,rt=(K===d||K===d+1)&&I<0&&I>-1&&(w||t.params.cssMode)&&v>g;if(J||rt){const mt=(1-Math.abs((Math.abs(I)-.5)/.5))**.5;X+=-28*I*mt,W+=-.5*mt,P+=96*mt,Q=`${-25*mt*Math.abs(I)}%`}if(I<0?R=`calc(${R}px ${h?"-":"+"} (${P*Math.abs(I)}%))`:I>0?R=`calc(${R}px ${h?"-":"+"} (-${P*Math.abs(I)}%))`:R=`${R}px`,!t.isHorizontal()){const mt=Q;Q=R,R=mt}const dt=I<0?`${1+(1-W)*I}`:`${1-(1-W)*I}`,ht=`
        translate3d(${R}, ${Q}, ${V}px)
        rotateZ(${p.rotate?h?-X:X:0}deg)
        scale(${dt})
      `;if(p.slideShadows){let mt=y.querySelector(".swiper-slide-shadow");mt||(mt=uw("cards",y)),mt&&(mt.style.opacity=Math.min(Math.max((Math.abs(I)-.5)/.5,0),1))}y.style.zIndex=-Math.abs(Math.round(x))+c.length;const ut=d0(p,y);ut.style.transform=ht}},setTransition:c=>{const d=t.slides.map(h=>Og(h));d.forEach(h=>{h.style.transitionDuration=`${c}ms`,h.querySelectorAll(".swiper-slide-shadow").forEach(p=>{p.style.transitionDuration=`${c}ms`})}),Xx({swiper:t,duration:c,transformElements:d})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:t.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!t.params.cssMode})})}const uot=[Rrt,Urt,Qrt,Hrt,zrt,jrt,Vrt,Krt,Grt,Wrt,$rt,qrt,Yrt,Xrt,Zrt,Jrt,rot,oot,aot,lot,cot,dot,Aot];La.use(uot);const pe=(r,t=1e4)=>(r=parseFloat(r+"")||0,Math.round((r+Number.EPSILON)*t)/t),XT=function(r){if(!(r&&r instanceof Element&&r.offsetParent))return!1;const t=r.scrollHeight>r.clientHeight,e=window.getComputedStyle(r).overflowY,i=e.indexOf("hidden")!==-1,o=e.indexOf("visible")!==-1;return t&&!i&&!o},UE=function(r,t=void 0){return!(!r||r===document.body||t&&r===t)&&(XT(r)?r:UE(r.parentElement,t))},$d=function(r){var t=new DOMParser().parseFromString(r,"text/html").body;if(t.childElementCount>1){for(var e=document.createElement("div");t.firstChild;)e.appendChild(t.firstChild);return e}return t.firstChild},_M=r=>`${r||""}`.split(" ").filter(t=>!!t),qd=(r,t,e)=>{r&&_M(t).forEach(i=>{r.classList.toggle(i,e||!1)})};let mm=class{constructor(t){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.time=Date.now()}};const bm={passive:!1};class hot{constructor(t,{start:e=()=>!0,move:i=()=>{},end:o=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=t,this.startCallback=e,this.moveCallback=i,this.endCallback=o;for(const a of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[a]=this[a].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,bm),this.element.addEventListener("touchstart",this.onTouchStart,bm),this.element.addEventListener("touchmove",this.onMove,bm),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(t){if(!t.buttons||t.button!==0)return;const e=new mm(t);this.currentPointers.some(i=>i.id===e.id)||this.triggerPointerStart(e,t)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerStart(new mm(e),t);window.addEventListener("blur",this.onWindowBlur)}onMove(t){const e=this.currentPointers.slice(),i="changedTouches"in t?Array.from(t.changedTouches||[]).map(a=>new mm(a)):[new mm(t)],o=[];for(const a of i){const c=this.currentPointers.findIndex(d=>d.id===a.id);c<0||(o.push(a),this.currentPointers[c]=a)}o.length&&this.moveCallback(t,this.currentPointers.slice(),e)}onPointerEnd(t){t.buttons>0&&t.button!==0||(this.triggerPointerEnd(t,new mm(t)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(t){for(const e of Array.from(t.changedTouches||[]))this.triggerPointerEnd(t,new mm(e))}triggerPointerStart(t,e){return!!this.startCallback(e,t,this.currentPointers.slice())&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}triggerPointerEnd(t,e){const i=this.currentPointers.findIndex(o=>o.id===e.id);i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(t,e,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const t=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:t.clientX,clientY:t.clientY}),t,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,bm),this.element.removeEventListener("touchstart",this.onTouchStart,bm),this.element.removeEventListener("touchmove",this.onMove,bm),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function l4(r,t){return t?Math.sqrt(Math.pow(t.clientX-r.clientX,2)+Math.pow(t.clientY-r.clientY,2)):0}function c4(r,t){return t?{clientX:(r.clientX+t.clientX)/2,clientY:(r.clientY+t.clientY)/2}:r}const ZT=r=>typeof r=="object"&&r!==null&&r.constructor===Object&&Object.prototype.toString.call(r)==="[object Object]",Ra=(r,...t)=>{const e=t.length;for(let i=0;i<e;i++){const o=t[i]||{};Object.entries(o).forEach(([a,c])=>{const d=Array.isArray(c)?[]:{};r[a]||Object.assign(r,{[a]:d}),ZT(c)?Object.assign(r[a],Ra(d,c)):Array.isArray(c)?Object.assign(r,{[a]:[...c]}):Object.assign(r,{[a]:c})})}return r},IS=function(r,t){return r.split(".").reduce((e,i)=>typeof e=="object"?e[i]:void 0,t)};let QE=class{constructor(t={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);for(const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))e.startsWith("on")&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}setOptions(t){this.options=t?Ra({},this.constructor.defaults,t):{};for(const[e,i]of Object.entries(this.option("on")||{}))this.on(e,i)}option(t,...e){let i=IS(t,this.options);return i&&typeof i=="function"&&(i=i.call(this,this,...e)),i}optionFor(t,e,i,...o){let a=IS(e,t);var c;typeof(c=a)!="string"||isNaN(c)||isNaN(parseFloat(c))||(a=parseFloat(a)),a==="true"&&(a=!0),a==="false"&&(a=!1),a&&typeof a=="function"&&(a=a.call(this,this,t,...o));let d=IS(e,this.options);return d&&typeof d=="function"?a=d.call(this,this,t,...o,a):a===void 0&&(a=d),a===void 0?i:a}cn(t){const e=this.options.classes;return e&&e[t]||""}localize(t,e=[]){t=String(t).replace(/\{\{(\w+).?(\w+)?\}\}/g,(i,o,a)=>{let c="";return a?c=this.option(`${o[0]+o.toLowerCase().substring(1)}.l10n.${a}`):o&&(c=this.option(`l10n.${o}`)),c||(c=i),c});for(let i=0;i<e.length;i++)t=t.split(e[i][0]).join(e[i][1]);return t=t.replace(/\{\{(.*?)\}\}/g,(i,o)=>o)}on(t,e){let i=[];typeof t=="string"?i=t.split(" "):Array.isArray(t)&&(i=t),this.events||(this.events=new Map),i.forEach(o=>{let a=this.events.get(o);a||(this.events.set(o,[]),a=[]),a.includes(e)||a.push(e),this.events.set(o,a)})}off(t,e){let i=[];typeof t=="string"?i=t.split(" "):Array.isArray(t)&&(i=t),i.forEach(o=>{const a=this.events.get(o);if(Array.isArray(a)){const c=a.indexOf(e);c>-1&&a.splice(c,1)}})}emit(t,...e){[...this.events.get(t)||[]].forEach(i=>i(this,...e)),t!=="*"&&this.emit("*",t,...e)}};Object.defineProperty(QE,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(QE,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class kM extends QE{constructor(t={}){super(t),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(t={}){const e=new Map;for(const[i,o]of Object.entries(t)){const a=this.option(i),c=this.plugins[i];c||a===!1?c&&a===!1&&(c.detach(),delete this.plugins[i]):e.set(i,new o(this,a||{}))}for(const[i,o]of e)this.plugins[i]=o,o.attach()}detachPlugins(t){t=t||Object.keys(this.plugins);for(const e of t){const i=this.plugins[e];i&&i.detach(),delete this.plugins[e]}return this.emit("detachPlugins"),this}}var Ai;(function(r){r[r.Init=0]="Init",r[r.Error=1]="Error",r[r.Ready=2]="Ready",r[r.Panning=3]="Panning",r[r.Mousemove=4]="Mousemove",r[r.Destroy=5]="Destroy"})(Ai||(Ai={}));const TA=["a","b","c","d","e","f"],d3={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},fot={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:d3},d4='<circle cx="25" cy="25" r="20"></circle>',yM='<div class="f-spinner"><svg viewBox="0 0 50 50">'+d4+d4+"</svg></div>",Fa=r=>r&&r!==null&&r instanceof Element&&"nodeType"in r,ri=(r,t)=>{r&&_M(t).forEach(e=>{r.classList.remove(e)})},Me=(r,t)=>{r&&_M(t).forEach(e=>{r.classList.add(e)})},Ty={a:1,b:0,c:0,d:1,e:0,f:0},pot=1e5,Iy=1e4,$l="mousemove",A4="drag",u4="content",ql="auto";let DS=null,MS=null;class Ig extends kM{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return MS===null&&(MS=window.matchMedia("(hover: none)").matches),MS}get isMobile(){return DS===null&&(DS=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),DS}get panMode(){return this.options.panMode!==$l||this.isTouchDevice?A4:$l}get panOnlyZoomed(){const t=this.options.panOnlyZoomed;return t===ql?this.isTouchDevice:t}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:t,b:e}=this.current;return Math.sqrt(t*t+e*e)||1}get targetScale(){const{a:t,b:e}=this.target;return Math.sqrt(t*t+e*e)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:t}=this;return t.fullWidth/t.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:t,contentRect:e}=this,i=Math.max(t.height/e.fitHeight,t.width/e.fitWidth)||1;return Math.min(this.fullScale,i)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const t=this.content;return!!(t&&t instanceof HTMLImageElement)&&!t.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const t of TA){const e=t=="e"||t==="f"?1e-4:1e-5;if(Math.abs(this.target[t]-this.current[t])>e)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(t,e={},i={}){var o;if(super(e),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ai.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Ty)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Ty)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!t)throw new Error("Container Element Not Found");this.container=t,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},Ig.Plugins),i)),this.emit("attachPlugins"),this.emit("init");const a=this.content;if(a.addEventListener("load",this.onLoad),a.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){t.classList.add(this.cn("isLoading"));const c=$d(yM);!t.contains(a)||a.parentElement instanceof HTMLPictureElement?this.spinner=t.appendChild(c):this.spinner=((o=a.parentElement)===null||o===void 0?void 0:o.insertBefore(c,a))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){const{container:t}=this,e=this.cn(u4);let i=this.option(u4)||t.querySelector(`.${e}`);if(i||(i=t.querySelector("img,picture")||t.firstElementChild,i&&Me(i,e)),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}onLoad(){const{spinner:t,container:e,state:i}=this;t&&(t.remove(),this.spinner=null),this.option("spinner")&&e.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),i===Ai.Init?this.enable():this.updateMetrics()}onError(){this.state!==Ai.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=Ai.Error,this.emit("error"))}getNextScale(t){const{fullScale:e,targetScale:i,coverScale:o,maxScale:a,minScale:c}=this;let d=c;switch(t){case"toggleMax":d=i-c<.5*(a-c)?a:c;break;case"toggleCover":d=i-c<.5*(o-c)?o:c;break;case"toggleZoom":d=i-c<.5*(e-c)?e:c;break;case"iterateZoom":let h=[1,e,a].sort((g,w)=>g-w),p=h.findIndex(g=>g>i+1e-5);d=h[p]||1}return d}attachObserver(){var t;const e=()=>{const{container:i,containerRect:o}=this;return Math.abs(o.width-i.getBoundingClientRect().width)>.1||Math.abs(o.height-i.getBoundingClientRect().height)>.1};this.resizeObserver||window.ResizeObserver===void 0||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(e()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{e()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),(t=this.resizeObserver)===null||t===void 0||t.observe(this.container)}detachObserver(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()}attachEvents(){const{container:t}=this;t.addEventListener("click",this.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new hot(t,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener($l,this.onMouseMove)}detachEvents(){var t;const{container:e}=this;e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("wheel",this.onWheel,{passive:!1}),(t=this.pointerTracker)===null||t===void 0||t.stop(),this.pointerTracker=null,document.removeEventListener($l,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const t=this.friction,e=this.option("maxVelocity");for(const i of TA)t?(this.velocity[i]*=1-t,e&&!this.isScaling&&(this.velocity[i]=Math.max(Math.min(this.velocity[i],e),-1*e)),this.current[i]+=this.velocity[i]):this.current[i]=this.target[i];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(const t of TA)t==="e"&&this.isBouncingX||t==="f"&&this.isBouncingY||(this.velocity[t]=(1/(1-this.friction)-1)*(this.target[t]-this.current[t]))}checkBounds(t=0,e=0){const{current:i}=this,o=i.e+t,a=i.f+e,c=this.getBounds(),{x:d,y:h}=c,p=d.min,g=d.max,w=h.min,v=h.max;let k=0,y=0;return p!==1/0&&o<p?k=p-o:g!==1/0&&o>g&&(k=g-o),w!==1/0&&a<w?y=w-a:v!==1/0&&a>v&&(y=v-a),Math.abs(k)<1e-4&&(k=0),Math.abs(y)<1e-4&&(y=0),Object.assign(Object.assign({},c),{xDiff:k,yDiff:y,inBounds:!k&&!y})}clampTargetBounds(){const{target:t}=this,{x:e,y:i}=this.getBounds();e.min!==1/0&&(t.e=Math.max(t.e,e.min)),e.max!==1/0&&(t.e=Math.min(t.e,e.max)),i.min!==1/0&&(t.f=Math.max(t.f,i.min)),i.max!==1/0&&(t.f=Math.min(t.f,i.max))}calculateContentDim(t=this.current){const{content:e,contentRect:i}=this,{fitWidth:o,fitHeight:a,fullWidth:c,fullHeight:d}=i;let h=c,p=d;if(this.option("zoom")||this.angle!==0){const g=!(e instanceof HTMLImageElement)&&(window.getComputedStyle(e).maxWidth==="none"||window.getComputedStyle(e).maxHeight==="none"),w=g?c:o,v=g?d:a,k=this.getMatrix(t),y=new DOMPoint(0,0).matrixTransform(k),x=new DOMPoint(0+w,0).matrixTransform(k),I=new DOMPoint(0+w,0+v).matrixTransform(k),F=new DOMPoint(0,0+v).matrixTransform(k),R=Math.abs(I.x-y.x),Q=Math.abs(I.y-y.y),V=Math.abs(F.x-x.x),W=Math.abs(F.y-x.y);h=Math.max(R,V),p=Math.max(Q,W)}return{contentWidth:h,contentHeight:p}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===$l||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:t}=this,{x:e,y:i,xDiff:o,yDiff:a}=this.checkBounds(),c=this.option("maxVelocity");let d=this.velocity.e,h=this.velocity.f;o!==0?(this.isBouncingX=!0,o*d<=0?d+=.14*o:(d=.14*o,e.min!==1/0&&(this.target.e=Math.max(t.e,e.min)),e.max!==1/0&&(this.target.e=Math.min(t.e,e.max))),c&&(d=Math.max(Math.min(d,c),-1*c))):this.isBouncingX=!1,a!==0?(this.isBouncingY=!0,a*h<=0?h+=.14*a:(h=.14*a,i.min!==1/0&&(this.target.f=Math.max(t.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(t.f,i.max))),c&&(h=Math.max(Math.min(h,c),-1*c))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=d),this.isBouncingY&&(this.velocity.f=h)}enable(){const{content:t}=this,e=new DOMMatrixReadOnly(window.getComputedStyle(t).transform);for(const i of TA)this.current[i]=this.target[i]=e[i];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=Ai.Ready,this.emit("ready")}onClick(t){var e;t.type==="click"&&t.detail===0&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&((e=this.pointerTracker)===null||e===void 0||e.clear(),this.trackingPoints=[],this.startDecelAnim());const i=t.target;if(!i||t.defaultPrevented)return;if(i.hasAttribute("disabled"))return t.preventDefault(),void t.stopPropagation();if((()=>{const k=window.getSelection();return k&&k.type==="Range"})()&&!i.closest("button"))return;const o=i.closest("[data-panzoom-action]"),a=i.closest("[data-panzoom-change]"),c=o||a,d=c&&Fa(c)?c.dataset:null;if(d){const k=d.panzoomChange,y=d.panzoomAction;if((k||y)&&t.preventDefault(),k){let x={};try{x=JSON.parse(k)}catch{console&&console.warn("The given data was not valid JSON")}return void this.applyChange(x)}if(y)return void(this[y]&&this[y]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return t.preventDefault(),void t.stopPropagation();if(i.closest("[data-fancybox]"))return;const h=this.content.getBoundingClientRect(),p=this.dragStart;if(p.time&&!this.canZoomOut()&&(Math.abs(h.x-p.x)>2||Math.abs(h.y-p.y)>2))return;this.dragStart.time=0;const g=k=>{this.option("zoom",t)&&k&&typeof k=="string"&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(k)&&typeof this[k]=="function"&&(t.preventDefault(),this[k]({event:t}))},w=this.option("click",t),v=this.option("dblClick",t);v?(this.clicks++,this.clicks==1&&(this.clickTimer=setTimeout(()=>{this.clicks===1?(this.emit("click",t),!t.defaultPrevented&&w&&g(w)):(this.emit("dblClick",t),t.defaultPrevented||g(v)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",t),!t.defaultPrevented&&w&&g(w))}addTrackingPoint(t){const e=this.trackingPoints.filter(i=>i.time>Date.now()-100);e.push(t),this.trackingPoints=e}onPointerDown(t,e,i){var o;if(this.option("touch",t)===!1)return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const a=this.content.getBoundingClientRect();if(this.dragStart={x:a.x,y:a.y,top:a.top,left:a.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===$l&&this.targetScale>1)return t.preventDefault(),t.stopPropagation(),!1;const c=t.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(c.nodeName)||c.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;(o=window.getSelection())===null||o===void 0||o.removeAllRanges()}if(t.type==="mousedown")["A","BUTTON"].includes(c.nodeName)||t.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(e),this.emit("touchStart",t)),!0}onPointerMove(t,e,i){if(this.option("touch",t)===!1||!this.isDragging||e.length<2&&this.panOnlyZoomed&&pe(this.targetScale)<=pe(this.minScale)||(this.emit("touchMove",t),t.defaultPrevented))return;this.addTrackingPoint(e[0]);const{content:o}=this,a=c4(i[0],i[1]),c=c4(e[0],e[1]);let d=0,h=0;if(e.length>1){const Q=o.getBoundingClientRect();d=a.clientX-Q.left-.5*Q.width,h=a.clientY-Q.top-.5*Q.height}const p=l4(i[0],i[1]),g=l4(e[0],e[1]);let w=p?g/p:1,v=c.clientX-a.clientX,k=c.clientY-a.clientY;this.dragOffset.x+=v,this.dragOffset.y+=k,this.dragOffset.time=Date.now()-this.dragStart.time;let y=pe(this.targetScale)===pe(this.minScale)&&this.option("lockAxis");if(y&&!this.lockedAxis)if(y==="xy"||y==="y"||t.type==="touchmove"){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void t.preventDefault();const Q=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=Q>45&&Q<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,v=0,k=0}else this.lockedAxis=y;if(UE(t.target,this.content)&&(y="x",this.dragOffset.y=0),y&&y!=="xy"&&this.lockedAxis!==y&&pe(this.targetScale)===pe(this.minScale))return;t.cancelable&&t.preventDefault(),this.container.classList.add(this.cn("isDragging"));const x=this.checkBounds(v,k);this.option("rubberband")?(this.isInfinite!=="x"&&(x.xDiff>0&&v<0||x.xDiff<0&&v>0)&&(v*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*x.xDiff))),this.isInfinite!=="y"&&(x.yDiff>0&&k<0||x.yDiff<0&&k>0)&&(k*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*x.yDiff)))):(x.xDiff&&(v=0),x.yDiff&&(k=0));const I=this.targetScale,F=this.minScale,R=this.maxScale;I<.5*F&&(w=Math.max(w,F)),I>1.5*R&&(w=Math.min(w,R)),this.lockedAxis==="y"&&pe(I)===pe(F)&&(v=0),this.lockedAxis==="x"&&pe(I)===pe(F)&&(k=0),this.applyChange({originX:d,originY:h,panX:v,panY:k,scale:w,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(t,e,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(e),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),UE(t.target,this.content)&&this.lockedAxis==="y"&&(this.trackingPoints=[]),this.emit("touchEnd",t),this.isDragging=!1,this.lockedAxis=!1,this.state!==Ai.Destroy&&(t.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var t;const e=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const Q of TA)this.velocity[Q]=0;this.target.e=this.current.e,this.target.f=this.current.f,ri(this.container,"is-scaling"),ri(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:i}=this,o=i[0],a=i[i.length-1];let c=0,d=0,h=0;a&&o&&(c=a.clientX-o.clientX,d=a.clientY-o.clientY,h=a.time-o.time);const p=((t=window.visualViewport)===null||t===void 0?void 0:t.scale)||1;p!==1&&(c*=p,d*=p);let g=0,w=0,v=0,k=0,y=this.option("decelFriction");const x=this.targetScale;if(h>0){v=Math.abs(c)>3?c/(h/30):0,k=Math.abs(d)>3?d/(h/30):0;const Q=this.option("maxVelocity");Q&&(v=Math.max(Math.min(v,Q),-1*Q),k=Math.max(Math.min(k,Q),-1*Q))}v&&(g=v/(1/(1-y)-1)),k&&(w=k/(1/(1-y)-1)),(this.option("lockAxis")==="y"||this.option("lockAxis")==="xy"&&this.lockedAxis==="y"&&pe(x)===this.minScale)&&(g=v=0),(this.option("lockAxis")==="x"||this.option("lockAxis")==="xy"&&this.lockedAxis==="x"&&pe(x)===this.minScale)&&(w=k=0);const I=this.dragOffset.x,F=this.dragOffset.y,R=this.option("dragMinThreshold")||0;Math.abs(I)<R&&Math.abs(F)<R&&(g=w=0,v=k=0),(this.option("zoom")&&(x<this.minScale-1e-5||x>this.maxScale+1e-5)||e&&!g&&!w)&&(y=.35),this.applyChange({panX:g,panY:w,friction:y}),this.emit("decel",v,k,I,F)}onWheel(t){var e=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce(function(a,c){return Math.abs(c)>Math.abs(a)?c:a});const i=Math.max(-1,Math.min(1,e));if(this.emit("wheel",t,i),this.panMode===$l||t.defaultPrevented)return;const o=this.option("wheel");o==="pan"?(t.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-t.deltaX,panY:2*-t.deltaY,bounce:!1})):o==="zoom"&&this.option("zoom")!==!1&&this.zoomWithWheel(t)}onMouseMove(t){this.panWithMouse(t)}onKeydown(t){t.key==="Escape"&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:t,target:e,content:i,contentRect:o}=this,a=Object.assign({},Ty);for(const I of TA){const F=I=="e"||I==="f"?Iy:pot;a[I]=pe(t[I],F),Math.abs(e[I]-t[I])<(I=="e"||I==="f"?.51:.001)&&(t[I]=e[I])}let{a:c,b:d,c:h,d:p,e:g,f:w}=a,v=`matrix(${c}, ${d}, ${h}, ${p}, ${g}, ${w})`,k=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(k=k.parentElement||k),k.style.transform===v)return;k.style.transform=v;const{contentWidth:y,contentHeight:x}=this.calculateContentDim();o.width=y,o.height=x,this.emit("afterTransform")}updateMetrics(t=!1){var e;if(!this||this.state===Ai.Destroy||this.isContentLoading)return;const i=Math.max(1,((e=window.visualViewport)===null||e===void 0?void 0:e.scale)||1),{container:o,content:a}=this,c=a instanceof HTMLImageElement,d=o.getBoundingClientRect(),h=getComputedStyle(this.container);let p=d.width*i,g=d.height*i;const w=parseFloat(h.paddingTop)+parseFloat(h.paddingBottom),v=p-(parseFloat(h.paddingLeft)+parseFloat(h.paddingRight)),k=g-w;this.containerRect={width:p,height:g,innerWidth:v,innerHeight:k};const y=parseFloat(a.dataset.width||"")||(ut=>{let mt=0;return mt=ut instanceof HTMLImageElement?ut.naturalWidth:ut instanceof SVGElement?ut.width.baseVal.value:Math.max(ut.offsetWidth,ut.scrollWidth),mt||0})(a),x=parseFloat(a.dataset.height||"")||(ut=>{let mt=0;return mt=ut instanceof HTMLImageElement?ut.naturalHeight:ut instanceof SVGElement?ut.height.baseVal.value:Math.max(ut.offsetHeight,ut.scrollHeight),mt||0})(a);let I=this.option("width",y)||ql,F=this.option("height",x)||ql;const R=I===ql,Q=F===ql;typeof I!="number"&&(I=y),typeof F!="number"&&(F=x),R&&(I=y*(F/x)),Q&&(F=x/(y/I));let V=a.parentElement instanceof HTMLPictureElement?a.parentElement:a;this.option("transformParent")&&(V=V.parentElement||V);const W=V.getAttribute("style")||"";V.style.setProperty("transform","none","important"),c&&(V.style.width="",V.style.height=""),V.offsetHeight;const X=a.getBoundingClientRect();let P=X.width*i,K=X.height*i,J=P,rt=K;P=Math.min(P,I),K=Math.min(K,F),c?{width:P,height:K}=((ut,mt,St,vt)=>{const pt=St/ut,_t=vt/mt,Dt=Math.min(pt,_t);return{width:ut*=Dt,height:mt*=Dt}})(I,F,P,K):(P=Math.min(P,I),K=Math.min(K,F));let dt=.5*(rt-K),ht=.5*(J-P);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:X.top-d.top+dt,bottom:d.bottom-X.bottom+dt,left:X.left-d.left+ht,right:d.right-X.right+ht,fitWidth:P,fitHeight:K,width:P,height:K,fullWidth:I,fullHeight:F}),V.style.cssText=W,c&&(V.style.width=`${P}px`,V.style.height=`${K}px`),this.setTransform(),t!==!0&&this.emit("refresh"),this.ignoreBounds||(pe(this.targetScale)<pe(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===Ai.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:t,contentHeight:e}=this.calculateContentDim(this.target),{targetScale:i,lockedAxis:o}=this,{fitWidth:a,fitHeight:c}=this.contentRect;let d=0,h=0,p=0,g=0;const w=this.option("infinite");if(w===!0||o&&w===o)d=-1/0,p=1/0,h=-1/0,g=1/0;else{let{containerRect:v,contentRect:k}=this,y=pe(a*i,Iy),x=pe(c*i,Iy),{innerWidth:I,innerHeight:F}=v;if(v.width===y&&(I=v.width),v.width===x&&(F=v.height),t>I){p=.5*(t-I),d=-1*p;let R=.5*(k.right-k.left);d+=R,p+=R}if(a>I&&t<I&&(d-=.5*(a-I),p-=.5*(a-I)),e>F){g=.5*(e-F),h=-1*g;let R=.5*(k.bottom-k.top);h+=R,g+=R}c>F&&e<F&&(d-=.5*(c-F),p-=.5*(c-F))}return{x:{min:d,max:p},y:{min:h,max:g}}}getBounds(){const t=this.option("bounds");return t!==ql?t:this.calculateBounds()}updateControls(){const t=this,e=t.container,{panMode:i,contentRect:o,targetScale:a,minScale:c}=t;let d=c,h=t.option("click")||!1;h&&(d=t.getNextScale(h));let p=t.canZoomIn(),g=t.canZoomOut(),w=i===A4&&!!this.option("touch"),v=g&&w;if(w&&(pe(a)<pe(c)&&!this.panOnlyZoomed&&(v=!0),(pe(o.width,1)>pe(o.fitWidth,1)||pe(o.height,1)>pe(o.fitHeight,1))&&(v=!0)),pe(o.width*a,1)<pe(o.fitWidth,1)&&(v=!1),i===$l&&(v=!1),qd(e,this.cn("isDraggable"),v),!this.option("zoom"))return;let k=p&&pe(d)>pe(a),y=!k&&!v&&g&&pe(d)<pe(a);qd(e,this.cn("canZoomIn"),k),qd(e,this.cn("canZoomOut"),y);for(const x of e.querySelectorAll("[data-panzoom-action]")){let I=!1,F=!1;switch(x.dataset.panzoomAction){case"zoomIn":p?I=!0:F=!0;break;case"zoomOut":g?I=!0:F=!0;break;case"toggleZoom":case"iterateZoom":p||g?I=!0:F=!0;const R=x.querySelector("g");R&&(R.style.display=p?"":"none")}I?(x.removeAttribute("disabled"),x.removeAttribute("tabindex")):F&&(x.setAttribute("disabled",""),x.setAttribute("tabindex","-1"))}}panTo({x:t=this.target.e,y:e=this.target.f,scale:i=this.targetScale,friction:o=this.option("friction"),angle:a=0,originX:c=0,originY:d=0,flipX:h=!1,flipY:p=!1,ignoreBounds:g=!1}){this.state!==Ai.Destroy&&this.applyChange({panX:t-this.target.e,panY:e-this.target.f,scale:i/this.targetScale,angle:a,originX:c,originY:d,friction:o,flipX:h,flipY:p,ignoreBounds:g})}applyChange({panX:t=0,panY:e=0,scale:i=1,angle:o=0,originX:a=-this.current.e,originY:c=-this.current.f,friction:d=this.option("friction"),flipX:h=!1,flipY:p=!1,ignoreBounds:g=!1,bounce:w=this.option("bounce")}){const v=this.state;if(v===Ai.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=d||0,this.ignoreBounds=g;const{current:k}=this,y=k.e,x=k.f,I=this.getMatrix(this.target);let F=new DOMMatrix().translate(y,x).translate(a,c).translate(t,e);if(this.option("zoom")){if(!g){const R=this.targetScale,Q=this.minScale,V=this.maxScale;R*i<Q&&(i=Q/R),R*i>V&&(i=V/R)}F=F.scale(i)}F=F.translate(-a,-c).translate(-y,-x).multiply(I),o&&(F=F.rotate(o)),h&&(F=F.scale(-1,1)),p&&(F=F.scale(1,-1));for(const R of TA)R!=="e"&&R!=="f"&&(F[R]>this.minScale+1e-5||F[R]<this.minScale-1e-5)?this.target[R]=F[R]:this.target[R]=pe(F[R],Iy);(this.targetScale<this.scale||Math.abs(i-1)>.1||this.panMode===$l||w===!1)&&!g&&this.clampTargetBounds(),v===Ai.Init?this.animate():this.isResting||(this.state=Ai.Panning,this.requestTick())}stop(t=!1){if(this.state===Ai.Init||this.state===Ai.Destroy)return;const e=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const i of TA)this.velocity[i]=0,t==="current"?this.current[i]=this.target[i]:t==="target"&&(this.target[i]=this.current[i]);this.setTransform(),ri(this.container,"is-scaling"),ri(this.container,"is-animating"),this.isTicking=!1,this.state=Ai.Ready,e&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),Me(this.container,"is-animating"),this.isScaling&&Me(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(t,e=this.option("mouseMoveFriction")){if(this.pmme=t,this.panMode!==$l||!t||pe(this.targetScale)<=pe(this.minScale))return;this.emit("mouseMove",t);const{container:i,containerRect:o,contentRect:a}=this,c=o.width,d=o.height,h=i.getBoundingClientRect(),p=(t.clientX||0)-h.left,g=(t.clientY||0)-h.top;let{contentWidth:w,contentHeight:v}=this.calculateContentDim(this.target);const k=this.option("mouseMoveFactor");k>1&&(w!==c&&(w*=k),v!==d&&(v*=k));let y=.5*(w-c)-p/c*100/100*(w-c);y+=.5*(a.right-a.left);let x=.5*(v-d)-g/d*100/100*(v-d);x+=.5*(a.bottom-a.top),this.applyChange({panX:y-this.target.e,panY:x-this.target.f,friction:e})}zoomWithWheel(t){if(this.state===Ai.Destroy||this.state===Ai.Init)return;const e=Date.now();if(e-this.pwt<45)return void t.preventDefault();this.pwt=e;var i=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce(function(p,g){return Math.abs(g)>Math.abs(p)?g:p});const o=Math.max(-1,Math.min(1,i)),{targetScale:a,maxScale:c,minScale:d}=this;let h=a*(100+45*o)/100;pe(h)<pe(d)&&pe(a)<=pe(d)?(this.cwd+=Math.abs(o),h=d):pe(h)>pe(c)&&pe(a)>=pe(c)?(this.cwd+=Math.abs(o),h=c):(this.cwd=0,h=Math.max(Math.min(h,c),d)),this.cwd>this.option("wheelLimit")||(t.preventDefault(),pe(h)!==pe(a)&&this.zoomTo(h,{event:t}))}canZoomIn(){return this.option("zoom")&&(pe(this.contentRect.width,1)<pe(this.contentRect.fitWidth,1)||pe(this.targetScale)<pe(this.maxScale))}canZoomOut(){return this.option("zoom")&&pe(this.targetScale)>pe(this.minScale)}zoomIn(t=1.25,e){this.zoomTo(this.targetScale*t,e)}zoomOut(t=.8,e){this.zoomTo(this.targetScale*t,e)}zoomToFit(t){this.zoomTo("fit",t)}zoomToCover(t){this.zoomTo("cover",t)}zoomToFull(t){this.zoomTo("full",t)}zoomToMax(t){this.zoomTo("max",t)}toggleZoom(t){this.zoomTo(this.getNextScale("toggleZoom"),t)}toggleMax(t){this.zoomTo(this.getNextScale("toggleMax"),t)}toggleCover(t){this.zoomTo(this.getNextScale("toggleCover"),t)}iterateZoom(t){this.zoomTo("next",t)}zoomTo(t=1,{friction:e=ql,originX:i=ql,originY:o=ql,event:a}={}){if(this.isContentLoading||this.state===Ai.Destroy)return;const{targetScale:c,fullScale:d,maxScale:h,coverScale:p}=this;if(this.stop(),this.panMode===$l&&(a=this.pmme||a),a||i===ql||o===ql){const w=this.content.getBoundingClientRect(),v=this.container.getBoundingClientRect(),k=a?a.clientX:v.left+.5*v.width,y=a?a.clientY:v.top+.5*v.height;i=k-w.left-.5*w.width,o=y-w.top-.5*w.height}let g=1;typeof t=="number"?g=t:t==="full"?g=d:t==="cover"?g=p:t==="max"?g=h:t==="fit"?g=1:t==="next"&&(g=this.getNextScale("iterateZoom")),g=g/c||1,e=e===ql?g>1?.15:.25:e,this.applyChange({scale:g,originX:i,originY:o,friction:e}),a&&this.panMode===$l&&this.panWithMouse(a,e)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.height-(e.top+.5*e.fitHeight)-i.f,scale:t.width/e.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:t,contentRect:e,target:i}=this;this.applyChange({panX:.5*t.width-(e.left+.5*e.fitWidth)-i.e,panY:.5*t.innerHeight-(e.top+.5*e.fitHeight)-i.f,scale:t.height/e.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:t}=this,e=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");t.classList.toggle(e);const o=t.classList.contains(e);o?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(o?"enterFS":"exitFS")}getMatrix(t=this.current){const{a:e,b:i,c:o,d:a,e:c,f:d}=t;return new DOMMatrix([e,i,o,a,c,d])}reset(t){if(this.state!==Ai.Init&&this.state!==Ai.Destroy){this.stop("current");for(const e of TA)this.target[e]=Ty[e];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=t===void 0?this.option("friction"):t,this.state=Ai.Panning,this.requestTick())}}destroy(){this.stop(),this.state=Ai.Destroy,this.detachEvents(),this.detachObserver();const{container:t,content:e}=this,i=this.option("classes")||{};for(const o of Object.values(i))t.classList.remove(o+"");e&&(e.removeEventListener("load",this.onLoad),e.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(Ig,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:fot}),Object.defineProperty(Ig,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const h4=function(r,t){let e=!0;return(...i)=>{e&&(e=!1,r(...i),setTimeout(()=>{e=!0},t))}},f4=(r,t)=>{let e=[];return r.childNodes.forEach(i=>{i.nodeType!==Node.ELEMENT_NODE||t&&!i.matches(t)||e.push(i)}),e},got={viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}};var Vs;(function(r){r[r.Init=0]="Init",r[r.Ready=1]="Ready",r[r.Destroy=2]="Destroy"})(Vs||(Vs={}));const LS=r=>{if(typeof r=="string"||r instanceof HTMLElement)r={html:r};else{const t=r.thumb;t!==void 0&&(typeof t=="string"&&(r.thumbSrc=t),t instanceof HTMLImageElement&&(r.thumbEl=t,r.thumbElSrc=t.src,r.thumbSrc=t.src),delete r.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},r)},mot=(r={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},r);class ed extends QE{constructor(t,e){super(e),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:t})}attach(){}detach(){}}const bot={classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2};class A3 extends ed{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let t=this.list;if(!t){t=document.createElement("ul"),Me(t,this.cn("list")),t.setAttribute("role","tablist");const e=this.instance.container;e.appendChild(t),Me(e,this.cn("hasDots")),this.list=t}return t}refresh(){var t;const e=this.instance.pages.length,i=Math.min(2,this.option("minCount")),o=Math.max(2e3,this.option("maxCount")),a=this.option("dynamicFrom");if(e<i||e>o)return void this.cleanup();const c=typeof a=="number"&&e>5&&e>=a,d=!this.list||this.isDynamic!==c||this.list.children.length!==e;d&&this.cleanup();const h=this.build();if(qd(h,this.cn("isDynamic"),!!c),d)for(let w=0;w<e;w++)h.append(this.createItem(w));let p,g=0;for(const w of[...h.children]){const v=g===this.instance.page;v&&(p=w),qd(w,this.cn("isCurrent"),v),(t=w.children[0])===null||t===void 0||t.setAttribute("aria-selected",v?"true":"false");for(const k of["isBeforePrev","isPrev","isNext","isAfterNext"])ri(w,this.cn(k));g++}if(p=p||h.firstChild,c&&p){const w=p.previousElementSibling,v=w&&w.previousElementSibling;Me(w,this.cn("isPrev")),Me(v,this.cn("isBeforePrev"));const k=p.nextElementSibling,y=k&&k.nextElementSibling;Me(k,this.cn("isNext")),Me(y,this.cn("isAfterNext"))}this.isDynamic=c}createItem(t=0){var e;const i=document.createElement("li");i.setAttribute("role","presentation");const o=$d(this.instance.localize(this.option("dotTpl"),[["%d",t+1]]).replace(/\%i/g,t+""));return i.appendChild(o),(e=i.children[0])===null||e===void 0||e.setAttribute("role","tab"),i}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,ri(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(A3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:bot});const Dy="disabled",My="next",p4="prev";let u3=class extends ed{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const t=this.instance,e=t.pages.length,i=t.page;if(e<2)return void this.cleanup();this.build();let o=this.prev,a=this.next;o&&a&&(o.removeAttribute(Dy),a.removeAttribute(Dy),t.isInfinite||(i<=0&&o.setAttribute(Dy,""),i>=e-1&&a.setAttribute(Dy,"")))}addBtn(t){var e;const i=this.instance,o=document.createElement("button");o.setAttribute("tabindex","0"),o.setAttribute("title",i.localize(`{{${t.toUpperCase()}}}`)),Me(o,this.cn("button")+" "+this.cn(t===My?"isNext":"isPrev"));const a=i.isRTL?t===My?p4:My:t;var c;return o.innerHTML=i.localize(this.option(`${a}Tpl`)),o.dataset[`carousel${c=t,c?c.match("^[a-z]")?c.charAt(0).toUpperCase()+c.substring(1):c:""}`]="true",(e=this.container)===null||e===void 0||e.appendChild(o),o}build(){const t=this.instance.container,e=this.cn("container");let{container:i,prev:o,next:a}=this;i||(i=t.querySelector("."+e),this.isDom=!!i),i||(i=document.createElement("div"),Me(i,e),t.appendChild(i)),this.container=i,a||(a=i.querySelector("[data-carousel-next]")),a||(a=this.addBtn(My)),this.next=a,o||(o=i.querySelector("[data-carousel-prev]")),o||(o=this.addBtn(p4)),this.prev=o}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}};Object.defineProperty(u3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});let h3=class extends ed{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(t){this.target=this.instance,this.nav=t,this.attachEvents()}addAsNavFor(t){this.nav=this.instance,this.target=t,this.attachEvents()}attachEvents(){const{nav:t,target:e}=this;t&&e&&(t.options.initialSlide=e.options.initialPage,t.state===Vs.Ready?this.onNavReady(t):t.on("ready",this.onNavReady),e.state===Vs.Ready?this.onTargetReady(e):e.on("ready",this.onTargetReady))}onNavReady(t){t.on("createSlide",this.onNavCreateSlide),t.on("Panzoom.click",this.onNavClick),t.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(t){t.on("change",this.onTargetChange),t.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(t,e,i){this.onNavTouch(t,t.panzoom,i)}onNavTouch(t,e,i){var o,a;if(Math.abs(e.dragOffset.x)>3||Math.abs(e.dragOffset.y)>3)return;const c=i.target,{nav:d,target:h}=this;if(!d||!h||!c)return;const p=c.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),!p)return;const g=parseInt(p.dataset.index||"",10)||0,w=h.getPageForSlide(g),v=d.getPageForSlide(g);d.slideTo(v),h.slideTo(w,{friction:((a=(o=this.nav)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.Sync.option("friction"))||0}),this.markSelectedSlide(g)}onNavCreateSlide(t,e){e.index===this.selectedIndex&&this.markSelectedSlide(e.index)}onTargetChange(){var t,e;const{target:i,nav:o}=this;if(!i||!o||o.state!==Vs.Ready||i.state!==Vs.Ready)return;const a=(e=(t=i.pages[i.page])===null||t===void 0?void 0:t.slides[0])===null||e===void 0?void 0:e.index,c=o.getPageForSlide(a);this.markSelectedSlide(a),o.slideTo(c,o.prevPage===null&&i.prevPage===null?{friction:0}:void 0)}markSelectedSlide(t){const e=this.nav;e&&e.state===Vs.Ready&&(this.selectedIndex=t,[...e.slides].map(i=>{i.el&&i.el.classList[i.index===t?"add":"remove"]("is-nav-selected")}))}attach(){const t=this;let e=t.options.target,i=t.options.nav;e?t.addAsNavFor(e):i&&t.addAsTargetFor(i)}detach(){const t=this,e=t.nav,i=t.target;e&&(e.off("ready",t.onNavReady),e.off("createSlide",t.onNavCreateSlide),e.off("Panzoom.click",t.onNavClick),e.off("Panzoom.touchEnd",t.onNavTouch)),t.nav=null,i&&(i.off("ready",t.onTargetReady),i.off("refresh",t.onTargetChange),i.off("change",t.onTargetChange)),t.target=null}};Object.defineProperty(h3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const wot={Navigation:u3,Dots:A3,Sync:h3},Ly="animationend",g4="isSelected",Py="slide";class vg extends kM{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===Vs.Ready}get isInfinite(){let t=!1;const{contentDim:e,viewportDim:i,pages:o,slides:a}=this,c=a[0];return o.length>=2&&c&&e+c.dim>=i&&(t=this.option("infinite")),t}get isRTL(){return this.option("direction")==="rtl"}get isHorizontal(){return this.option("axis")==="x"}constructor(t,e={},i={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Vs.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),typeof t=="string"&&(t=document.querySelector(t)),!t||!Fa(t))throw new Error("No Element found");this.container=t,this.slideNext=h4(this.slideNext.bind(this),150),this.slidePrev=h4(this.slidePrev.bind(this),150),this.userOptions=e,this.userPlugins=i,queueMicrotask(()=>{this.processOptions()})}processOptions(){var t,e;const i=Ra({},vg.defaults,this.userOptions);let o="";const a=i.breakpoints;if(a&&ZT(a))for(const[c,d]of Object.entries(a))window.matchMedia(c).matches&&ZT(d)&&(o+=c,Ra(i,d));o===this.bp&&this.state!==Vs.Init||(this.bp=o,this.state===Vs.Ready&&(i.initialSlide=((e=(t=this.pages[this.page])===null||t===void 0?void 0:t.slides[0])===null||e===void 0?void 0:e.index)||0),this.state!==Vs.Init&&this.destroy(),super.setOptions(i),this.option("enabled")===!1?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=Vs.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},vg.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=Vs.Ready,this.emit("ready")}initLayout(){const{container:t}=this,e=this.option("classes");Me(t,this.cn("container")),qd(t,e.isLTR,!this.isRTL),qd(t,e.isRTL,this.isRTL),qd(t,e.isVertical,!this.isHorizontal),qd(t,e.isHorizontal,this.isHorizontal);let i=this.option("viewport")||t.querySelector(`.${e.viewport}`);i||(i=document.createElement("div"),Me(i,e.viewport),i.append(...f4(t,`.${e.slide}`)),t.prepend(i)),i.addEventListener("scroll",this.onScroll);let o=this.option("track")||t.querySelector(`.${e.track}`);o||(o=document.createElement("div"),Me(o,e.track),o.append(...Array.from(i.childNodes))),o.setAttribute("aria-live","polite"),i.contains(o)||i.prepend(o),this.viewport=i,this.track=o,this.emit("initLayout")}initSlides(){const{track:t}=this;if(!t)return;const e=[...this.slides],i=[];[...f4(t,`.${this.cn(Py)}`)].forEach(o=>{if(Fa(o)){const a=LS({el:o,isDom:!0,index:this.slides.length});i.push(a)}});for(let o of[...this.option("slides",[])||[],...e])i.push(LS(o));this.slides=i;for(let o=0;o<this.slides.length;o++)this.slides[o].index=o;for(const o of i)this.emit("beforeInitSlide",o,o.index),this.emit("initSlide",o,o.index);this.emit("initSlides")}setInitialPage(){const t=this.option("initialSlide");this.page=typeof t=="number"?this.getPageForSlide(t):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:t,pages:e,isHorizontal:i}=this;if(!t||!e.length)return;let o=this.page;e[o]||(this.page=o=0);const a=(e[o].pos||0)*(this.isRTL&&i?1:-1),c=i?`${a}px`:"0",d=i?"0":`${a}px`;t.style.transform=`translate3d(${c}, ${d}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const t=this.option("Panzoom")||{};this.panzoom=new Ig(this.viewport,Ra({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:e=>!(this.pages.length<2&&!e.options.infinite),bounds:()=>this.getBounds(),maxVelocity:e=>Math.abs(e.target[this.axis]-e.current[this.axis])<2*this.viewportDim?100:0},t)),this.panzoom.on("*",(e,i,...o)=>{this.emit(`Panzoom.${i}`,e,...o)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const t=this.container;t&&(t.addEventListener("click",this.onClick,{passive:!1,capture:!1}),t.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let t=[];const{contentDim:e,viewportDim:i}=this;let o=this.option("slidesPerPage");o=(o==="auto"||e<=i)&&this.option("fill")!==!1?1/0:parseFloat(o+"");let a=0,c=0,d=0;for(const h of this.slides)(!t.length||c+h.dim-i>.05||d>=o)&&(t.push(mot()),a=t.length-1,c=0,d=0),t[a].slides.push(h),c+=h.dim+h.gap,d++;return t}processPages(){const t=this.pages,{contentDim:e,viewportDim:i,isInfinite:o}=this,a=this.option("center"),c=this.option("fill"),d=c&&a&&e>i&&!o;if(t.forEach((g,w)=>{var v;g.index=w,g.pos=((v=g.slides[0])===null||v===void 0?void 0:v.pos)||0,g.dim=0;for(const[k,y]of g.slides.entries())g.dim+=y.dim,k<g.slides.length-1&&(g.dim+=y.gap);d&&g.pos+.5*g.dim<.5*i?g.pos=0:d&&g.pos+.5*g.dim>=e-.5*i?g.pos=e-i:a&&(g.pos+=-.5*(i-g.dim))}),t.forEach(g=>{c&&!o&&e>i&&(g.pos=Math.max(g.pos,0),g.pos=Math.min(g.pos,e-i)),g.pos=pe(g.pos,1e3),g.dim=pe(g.dim,1e3),Math.abs(g.pos)<=.1&&(g.pos=0)}),o)return t;const h=[];let p;return t.forEach(g=>{const w=Object.assign({},g);p&&w.pos===p.pos?(p.dim+=w.dim,p.slides=[...p.slides,...w.slides]):(w.index=h.length,p=w,h.push(w))}),h}getPageFromIndex(t=0){const e=this.pages.length;let i;return t=parseInt((t||0).toString())||0,i=this.isInfinite?(t%e+e)%e:Math.max(Math.min(t,e-1),0),i}getSlideMetrics(t){var e,i;const o=this.isHorizontal?"width":"height";let a=0,c=0,d=t.el;const h=!(!d||d.parentNode);if(d?a=parseFloat(d.dataset[o]||"")||0:(d=document.createElement("div"),d.style.visibility="hidden",(this.track||document.body).prepend(d)),Me(d,this.cn(Py)+" "+t.class+" "+t.customClass),a)d.style[o]=`${a}px`,d.style[o==="width"?"height":"width"]="";else{h&&(this.track||document.body).prepend(d),a=d.getBoundingClientRect()[o]*Math.max(1,((e=window.visualViewport)===null||e===void 0?void 0:e.scale)||1);let g=d[this.isHorizontal?"offsetWidth":"offsetHeight"];g-1>a&&(a=g)}const p=getComputedStyle(d);return p.boxSizing==="content-box"&&(this.isHorizontal?(a+=parseFloat(p.paddingLeft)||0,a+=parseFloat(p.paddingRight)||0):(a+=parseFloat(p.paddingTop)||0,a+=parseFloat(p.paddingBottom)||0)),c=parseFloat(p[this.isHorizontal?"marginRight":"marginBottom"])||0,h?(i=d.parentElement)===null||i===void 0||i.removeChild(d):t.el||d.remove(),{dim:pe(a,1e3),gap:pe(c,1e3)}}getBounds(){const{isInfinite:t,isRTL:e,isHorizontal:i,pages:o}=this;let a={min:0,max:0};if(t)a={min:-1/0,max:1/0};else if(o.length){const c=o[0].pos,d=o[o.length-1].pos;a=e&&i?{min:c,max:d}:{min:-1*d,max:-1*c}}return{x:i?a:{min:0,max:0},y:i?{min:0,max:0}:a}}repositionSlides(){let t,{isHorizontal:e,isRTL:i,isInfinite:o,viewport:a,viewportDim:c,contentDim:d,page:h,pages:p,slides:g,panzoom:w}=this,v=0,k=0,y=0,x=0;w?x=-1*w.current[this.axis]:p[h]&&(x=p[h].pos||0),t=e?i?"right":"left":"top",i&&e&&(x*=-1);for(const Q of g){const V=Q.el;V?(t==="top"?(V.style.right="",V.style.left=""):V.style.top="",Q.index!==v?V.style[t]=k===0?"":`${pe(k,1e3)}px`:V.style[t]="",y+=Q.dim+Q.gap,v++):k+=Q.dim+Q.gap}if(o&&y&&a){let Q=getComputedStyle(a),V="padding",W=e?"Right":"Bottom",X=parseFloat(Q[V+(e?"Left":"Top")]);x-=X,c+=X,c+=parseFloat(Q[V+W]);for(const P of g)P.el&&(pe(P.pos)<pe(c)&&pe(P.pos+P.dim+P.gap)<pe(x)&&pe(x)>pe(d-c)&&(P.el.style[t]=`${pe(k+y,1e3)}px`),pe(P.pos+P.gap)>=pe(d-c)&&pe(P.pos)>pe(x+c)&&pe(x)<pe(c)&&(P.el.style[t]=`-${pe(y,1e3)}px`))}let I,F,R=[...this.inTransition];if(R.length>1&&(I=p[R[0]],F=p[R[1]]),I&&F){let Q=0;for(const V of g)V.el?this.inTransition.has(V.index)&&I.slides.indexOf(V)<0&&(V.el.style[t]=`${pe(Q+(I.pos-F.pos),1e3)}px`):Q+=V.dim+V.gap}}createSlideEl(t){const{track:e,slides:i}=this;if(!e||!t||t.el&&t.el.parentNode)return;const o=t.el||document.createElement("div");Me(o,this.cn(Py)),Me(o,t.class),Me(o,t.customClass);const a=t.html;a&&(a instanceof HTMLElement?o.appendChild(a):o.innerHTML=t.html+"");const c=[];i.forEach((g,w)=>{g.el&&c.push(w)});const d=t.index;let h=null;c.length&&(h=i[c.reduce((g,w)=>Math.abs(w-d)<Math.abs(g-d)?w:g)]);const p=h&&h.el&&h.el.parentNode?h.index<t.index?h.el.nextSibling:h.el:null;e.insertBefore(o,e.contains(p)?p:null),t.el=o,this.emit("createSlide",t)}removeSlideEl(t,e=!1){const i=t==null?void 0:t.el;if(!i||!i.parentNode)return;const o=this.cn(g4);if(i.classList.contains(o)&&(ri(i,o),this.emit("unselectSlide",t)),t.isDom&&!e)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),void(i.style.left="");this.emit("removeSlide",t);const a=new CustomEvent(Ly);i.dispatchEvent(a),t.el&&(t.el.remove(),t.el=null)}transitionTo(t=0,e=this.option("transition")){var i,o,a,c;if(!e)return!1;const d=this.page,{pages:h,panzoom:p}=this;t=parseInt((t||0).toString())||0;const g=this.getPageFromIndex(t);if(!p||!h[g]||h.length<2||Math.abs((((o=(i=h[d])===null||i===void 0?void 0:i.slides[0])===null||o===void 0?void 0:o.dim)||0)-this.viewportDim)>1)return!1;let w=t>d?1:-1;this.isInfinite&&(d===0&&t===h.length-1&&(w=-1),d===h.length-1&&t===0&&(w=1));const v=h[g].pos*(this.isRTL?1:-1);if(d===g&&Math.abs(v-p.target[this.axis])<1)return!1;this.clearTransitions();const k=p.isResting;Me(this.container,this.cn("inTransition"));const y=((a=h[d])===null||a===void 0?void 0:a.slides[0])||null,x=((c=h[g])===null||c===void 0?void 0:c.slides[0])||null;this.inTransition.add(x.index),this.createSlideEl(x);let I=y.el,F=x.el;k||e===Py||(e="fadeFast",I=null);const R=this.isRTL?"next":"prev",Q=this.isRTL?"prev":"next";return I&&(this.inTransition.add(y.index),y.transition=e,I.addEventListener(Ly,this.onAnimationEnd),I.classList.add(`f-${e}Out`,`to-${w>0?Q:R}`)),F&&(x.transition=e,F.addEventListener(Ly,this.onAnimationEnd),F.classList.add(`f-${e}In`,`from-${w>0?R:Q}`)),p.current[this.axis]=v,p.target[this.axis]=v,p.requestTick(),this.onChange(g),!0}manageSlideVisiblity(){const t=new Set,e=new Set,i=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const o of this.slides)i.has(o)?t.add(o):e.add(o);for(const o of this.inTransition)t.add(this.slides[o]);for(const o of t)this.createSlideEl(o),this.lazyLoadSlide(o);for(const o of e)t.has(o)||this.removeSlideEl(o);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const t="aria-hidden";let e=this.cn(g4);if(e)for(const i of this.slides){const o=i.el;o&&(o.dataset.index=`${i.index}`,o.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(i)?o.removeAttribute(t):o.setAttribute(t,"true"):this.pages[this.page].slides.includes(i)?(o.classList.contains(e)||(Me(o,e),this.emit("selectSlide",i)),o.removeAttribute(t)):(o.classList.contains(e)&&(ri(o,e),this.emit("unselectSlide",i)),o.setAttribute(t,"true")))}}flipInfiniteTrack(){const{axis:t,isHorizontal:e,isInfinite:i,isRTL:o,viewportDim:a,contentDim:c}=this,d=this.panzoom;if(!d||!i)return;let h=d.current[t],p=d.target[t]-h,g=0,w=.5*a;o&&e?(h<-w&&(g=-1,h+=c),h>c-w&&(g=1,h-=c)):(h>w&&(g=1,h-=c),h<-c+w&&(g=-1,h+=c)),g&&(d.current[t]=h,d.target[t]=h+p)}lazyLoadImg(t,e){const i=this,o="f-fadeIn",a="is-preloading";let c=!1,d=null;const h=()=>{c||(c=!0,d&&(d.remove(),d=null),ri(e,a),e.complete&&(Me(e,o),setTimeout(()=>{ri(e,o)},350)),this.option("adaptiveHeight")&&t.el&&this.pages[this.page].slides.indexOf(t)>-1&&(i.updateMetrics(),i.setViewportHeight()),this.emit("load",t))};Me(e,a),e.src=e.dataset.lazySrcset||e.dataset.lazySrc||"",delete e.dataset.lazySrc,delete e.dataset.lazySrcset,e.addEventListener("error",()=>{h()}),e.addEventListener("load",()=>{h()}),setTimeout(()=>{const p=e.parentNode;p&&t.el&&(e.complete?h():c||(d=$d(yM),p.insertBefore(d,e)))},300)}lazyLoadSlide(t){const e=t&&t.el;if(!e)return;const i=new Set;let o=Array.from(e.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));e.dataset.lazySrc&&o.push(e),o.map(a=>{a instanceof HTMLImageElement?i.add(a):a instanceof HTMLElement&&a.dataset.lazySrc&&(a.style.backgroundImage=`url('${a.dataset.lazySrc}')`,delete a.dataset.lazySrc)});for(const a of i)this.lazyLoadImg(t,a)}onAnimationEnd(t){var e;const i=t.target,o=i?parseInt(i.dataset.index||"",10)||0:-1,a=this.slides[o],c=t.animationName;if(!i||!a||!c)return;const d=!!this.inTransition.has(o)&&a.transition;d&&c.substring(0,d.length+2)===`f-${d}`&&this.inTransition.delete(o),this.inTransition.size||this.clearTransitions(),o===this.page&&(!((e=this.panzoom)===null||e===void 0)&&e.isResting)&&this.emit("settle")}onDecel(t,e=0,i=0,o=0,a=0){if(this.option("dragFree"))return void this.setPageFromPosition();const{isRTL:c,isHorizontal:d,axis:h,pages:p}=this,g=p.length,w=Math.abs(Math.atan2(i,e)/(Math.PI/180));let v=0;if(v=w>45&&w<135?d?0:i:d?e:0,!g)return;let k=this.page,y=c&&d?1:-1;const x=t.current[h]*y;let{pageIndex:I}=this.getPageFromPosition(x);Math.abs(v)>5?(p[k].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(k=I),k=c&&d?v<0?k-1:k+1:v<0?k+1:k-1):k=o===0&&a===0?k:I,this.slideTo(k,{transition:!1,friction:t.option("decelFriction")})}onClick(t){const e=t.target,i=e&&Fa(e)?e.dataset:null;let o,a;i&&(i.carouselPage!==void 0?(a="slideTo",o=i.carouselPage):i.carouselNext!==void 0?a="slideNext":i.carouselPrev!==void 0&&(a="slidePrev")),a?(t.preventDefault(),t.stopPropagation(),e&&!e.hasAttribute("disabled")&&this[a](o)):this.emit("click",t)}onSlideTo(t){const e=t.detail||0;this.slideTo(this.getPageForSlide(e),{friction:0})}onChange(t,e=0){const i=this.page;this.prevPage=i,this.page=t,this.option("adaptiveHeight")&&this.setViewportHeight(),t!==i&&(this.markSelectedSlides(),this.emit("change",t,i,e))}onRefresh(){let t=this.contentDim,e=this.viewportDim;this.updateMetrics(),this.contentDim===t&&this.viewportDim===e||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var t;(t=this.viewport)===null||t===void 0||t.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(t){this.lp!==t.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=t.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(t=null,e=null){this.destroy(),this.state=Vs.Init,this.prevPage=null,this.userOptions=t||this.userOptions,this.userPlugins=e||this.userPlugins,this.processOptions()}slideTo(t=0,{friction:e=this.option("friction"),transition:i=this.option("transition")}={}){if(this.state===Vs.Destroy)return;t=parseInt((t||0).toString())||0;const o=this.getPageFromIndex(t),{axis:a,isHorizontal:c,isRTL:d,pages:h,panzoom:p}=this,g=h.length,w=d&&c?1:-1;if(!p||!g)return;if(this.page!==o){const k=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",k,t),k.defaultPrevented)return}if(this.transitionTo(t,i))return;let v=h[o].pos;if(this.isInfinite){const k=this.contentDim,y=p.target[a]*w;g===2?v+=k*Math.floor(parseFloat(t+"")/2):v=[v,v-k,v+k].reduce(function(x,I){return Math.abs(I-y)<Math.abs(x-y)?I:x})}v*=w,Math.abs(p.target[a]-v)<1||(p.panTo({x:c?v:0,y:c?0:v,friction:e}),this.onChange(o))}slideToClosest(t){if(this.panzoom){const{pageIndex:e}=this.getPageFromPosition();this.slideTo(e,t)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),ri(this.container,this.cn("inTransition"));const t=["to-prev","to-next","from-prev","from-next"];for(const e of this.slides){const i=e.el;if(i){i.removeEventListener(Ly,this.onAnimationEnd),i.classList.remove(...t);const o=e.transition;o&&i.classList.remove(`f-${o}Out`,`f-${o}In`)}}this.manageSlideVisiblity()}addSlide(t,e){var i,o,a,c;const d=this.panzoom,h=((i=this.pages[this.page])===null||i===void 0?void 0:i.pos)||0,p=((o=this.pages[this.page])===null||o===void 0?void 0:o.dim)||0,g=this.contentDim<this.viewportDim;let w=Array.isArray(e)?e:[e];const v=[];for(const k of w)v.push(LS(k));this.slides.splice(t,0,...v);for(let k=0;k<this.slides.length;k++)this.slides[k].index=k;for(const k of v)this.emit("beforeInitSlide",k,k.index);if(this.page>=t&&(this.page+=v.length),this.updateMetrics(),d){const k=((a=this.pages[this.page])===null||a===void 0?void 0:a.pos)||0,y=((c=this.pages[this.page])===null||c===void 0?void 0:c.dim)||0,x=this.pages.length||1,I=this.isRTL?p-y:y-p,F=this.isRTL?h-k:k-h;g&&x===1?(t<=this.page&&(d.current[this.axis]-=I,d.target[this.axis]-=I),d.panTo({[this.isHorizontal?"x":"y"]:-1*k})):F&&t<=this.page&&(d.target[this.axis]-=F,d.current[this.axis]-=F,d.requestTick())}for(const k of v)this.emit("initSlide",k,k.index)}prependSlide(t){this.addSlide(0,t)}appendSlide(t){this.addSlide(this.slides.length,t)}removeSlide(t){const e=this.slides.length;t=(t%e+e)%e;const i=this.slides[t];if(i){this.removeSlideEl(i,!0),this.slides.splice(t,1);for(let o=0;o<this.slides.length;o++)this.slides[o].index=o;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",i)}}updateMetrics(){const{panzoom:t,viewport:e,track:i,slides:o,isHorizontal:a,isInfinite:c}=this;if(!i)return;const d=a?"width":"height",h=a?"offsetWidth":"offsetHeight";if(e){let w=Math.max(e[h],pe(e.getBoundingClientRect()[d],1e3)),v=getComputedStyle(e),k="padding",y=a?"Right":"Bottom";w-=parseFloat(v[k+(a?"Left":"Top")])+parseFloat(v[k+y]),this.viewportDim=w}let p,g=0;for(const[w,v]of o.entries()){let k=0,y=0;!v.el&&p?(k=p.dim,y=p.gap):({dim:k,gap:y}=this.getSlideMetrics(v),p=v),k=pe(k,1e3),y=pe(y,1e3),v.dim=k,v.gap=y,v.pos=g,g+=k,(c||w<o.length-1)&&(g+=y)}g=pe(g,1e3),this.contentDim=g,t&&(t.contentRect[d]=g,t.contentRect[a?"fullWidth":"fullHeight"]=g),this.pages=this.createPages(),this.pages=this.processPages(),this.state===Vs.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(t,e=!1,i=!1){t===void 0&&(t=this.page);const o=this,a=o.panzoom,c=o.contentDim,d=o.pages[t]||0;if(!d||!a)return t>this.page?-1:1;let h=-1*a.current.e,p=pe((h-d.pos)/(1*d.dim),1e3),g=p,w=p;this.isInfinite&&i!==!0&&(g=pe((h-d.pos+c)/(1*d.dim),1e3),w=pe((h-d.pos-c)/(1*d.dim),1e3));let v=[p,g,w].reduce(function(k,y){return Math.abs(y)<Math.abs(k)?y:k});return e?v:v>1?1:v<-1?-1:v}setViewportHeight(){const{page:t,pages:e,viewport:i,isHorizontal:o}=this;if(!i||!e[t])return;let a=0;o&&this.track&&(this.track.style.height="auto",e[t].slides.forEach(c=>{c.el&&(a=Math.max(a,c.el.offsetHeight))})),i.style.height=a?`${a}px`:""}getPageForSlide(t){for(const e of this.pages)for(const i of e.slides)if(i.index===t)return e.index;return-1}getVisibleSlides(t=0){var e;const i=new Set;let{panzoom:o,contentDim:a,viewportDim:c,pages:d,page:h}=this;if(c){a=a+((e=this.slides[this.slides.length-1])===null||e===void 0?void 0:e.gap)||0;let p=0;p=o&&o.state!==Ai.Init&&o.state!==Ai.Destroy?-1*o.current[this.axis]:d[h]&&d[h].pos||0,this.isInfinite&&(p-=Math.floor(p/a)*a),this.isRTL&&this.isHorizontal&&(p*=-1);const g=p-c*t,w=p+c*(t+1),v=this.isInfinite?[-1,0,1]:[0];for(const k of this.slides)for(const y of v){const x=k.pos+y*a,I=x+k.dim+k.gap;x<w&&I>g&&i.add(k)}}return i}getPageFromPosition(t){const{viewportDim:e,contentDim:i,slides:o,pages:a,panzoom:c}=this,d=a.length,h=o.length,p=o[0],g=o[h-1],w=this.option("center");let v=0,k=0,y=0,x=t===void 0?-1*((c==null?void 0:c.target[this.axis])||0):t;w&&(x+=.5*e),this.isInfinite?(x<p.pos-.5*g.gap&&(x-=i,y=-1),x>g.pos+g.dim+.5*g.gap&&(x-=i,y=1)):x=Math.max(p.pos||0,Math.min(x,g.pos));let I=g,F=o.find(R=>{const Q=R.pos-.5*I.gap,V=R.pos+R.dim+.5*R.gap;return I=R,x>=Q&&x<V});return F||(F=g),k=this.getPageForSlide(F.index),v=k+y*d,{page:v,pageIndex:k}}setPageFromPosition(){const{pageIndex:t}=this.getPageFromPosition();this.onChange(t)}destroy(){if([Vs.Destroy].includes(this.state))return;this.state=Vs.Destroy;const{container:t,viewport:e,track:i,slides:o,panzoom:a}=this,c=this.option("classes");t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),a&&(a.destroy(),this.panzoom=null),o&&o.forEach(h=>{this.removeSlideEl(h)}),this.detachPlugins(),e&&(e.removeEventListener("scroll",this.onScroll),e.offsetParent&&i&&i.offsetParent&&e.replaceWith(...i.childNodes));for(const[h,p]of Object.entries(c))h!=="container"&&p&&t.classList.remove(p);this.track=null,this.viewport=null,this.page=0,this.slides=[];const d=this.events.get("ready");this.events=new Map,d&&this.events.set("ready",d)}}Object.defineProperty(vg,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:Ig}),Object.defineProperty(vg,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:got}),Object.defineProperty(vg,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:wot});const f3=function(r){if(!Fa(r))return 0;const t=window.scrollY,e=window.innerHeight,i=t+e,o=r.getBoundingClientRect(),a=o.y+t,c=o.height,d=a+c;if(t>d||i<a)return 0;if(t<a&&i>d||a<t&&d>i)return 100;let h=c;a<t&&(h-=t-a),d>i&&(h-=d-i);const p=h/e*100;return Math.round(p)},n_=!(typeof window>"u"||!window.document||!window.document.createElement);let PS;const FS=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),m4=r=>{if(r&&n_){PS===void 0&&document.createElement("div").focus({get preventScroll(){return PS=!0,!1}});try{if(PS)r.focus({preventScroll:!0});else{const t=window.scrollY||document.body.scrollTop,e=window.scrollX||document.body.scrollLeft;r.focus(),document.body.scrollTo({top:t,left:e,behavior:"auto"})}}catch{}}},p3=()=>{const r=document;let t,e="",i="",o="";return r.fullscreenEnabled?(e="requestFullscreen",i="exitFullscreen",o="fullscreenElement"):r.webkitFullscreenEnabled&&(e="webkitRequestFullscreen",i="webkitExitFullscreen",o="webkitFullscreenElement"),e&&(t={request:function(a=r.documentElement){return e==="webkitRequestFullscreen"?a[e](Element.ALLOW_KEYBOARD_INPUT):a[e]()},exit:function(){return r[o]&&r[i]()},isFullscreen:function(){return r[o]}}),t},JT={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},d3),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:`<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">
    <div class="fancybox__backdrop"></div>
    <div class="fancybox__carousel"></div>
    <div class="fancybox__footer"></div>
  </div>`},trapFocus:!0,wheel:"zoom"};var Rr,Po;(function(r){r[r.Init=0]="Init",r[r.Ready=1]="Ready",r[r.Closing=2]="Closing",r[r.CustomClosing=3]="CustomClosing",r[r.Destroy=4]="Destroy"})(Rr||(Rr={})),function(r){r[r.Loading=0]="Loading",r[r.Opening=1]="Opening",r[r.Ready=2]="Ready",r[r.Closing=3]="Closing"}(Po||(Po={}));let b4="",vv=!1,Fy=!1,ip=null;const g3=()=>{let r="",t="";const e=Qn.getInstance();if(e){const i=e.carousel,o=e.getSlide();if(i&&o){let a=o.slug||void 0,c=o.triggerEl||void 0;t=a||e.option("slug")||"",!t&&c&&c.dataset&&(t=c.dataset.fancybox||""),t&&t!=="true"&&(r="#"+t+(!a&&i.slides.length>1?"-"+(o.index+1):""))}}return{hash:r,slug:t,index:1}},HE=()=>{const r=new URL(document.URL).hash,t=r.slice(1).split("-"),e=t[t.length-1],i=e&&/^\+?\d+$/.test(e)&&parseInt(t.pop()||"1",10)||1;return{hash:r,slug:t.join("-"),index:i}},m3=()=>{const{slug:r,index:t}=HE();if(!r)return;let e=document.querySelector(`[data-slug="${r}"]`);if(e&&e.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),Qn.getInstance())return;const i=document.querySelectorAll(`[data-fancybox="${r}"]`);i.length&&(e=i[t-1],e&&e.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},b3=()=>{if(Qn.defaults.Hash===!1)return;const r=Qn.getInstance();if((r==null?void 0:r.options.Hash)===!1)return;const{slug:t,index:e}=HE(),{slug:i}=g3();r&&(t===i?r.jumpTo(e-1):(vv=!0,r.close())),m3()},w3=()=>{ip&&clearTimeout(ip),queueMicrotask(()=>{b3()})},w4=()=>{window.addEventListener("hashchange",w3,!1),setTimeout(()=>{b3()},500)};n_&&(/complete|interactive|loaded/.test(document.readyState)?w4():document.addEventListener("DOMContentLoaded",w4));const Oy="is-zooming-in";class v3 extends ed{onCreateSlide(t,e,i){const o=this.instance.optionFor(i,"src")||"";i.el&&i.type==="image"&&typeof o=="string"&&this.setImage(i,o)}onRemoveSlide(t,e,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}onChange(t,e,i,o){ri(this.instance.container,Oy);for(const a of e.slides){const c=a.panzoom;c&&a.index!==i&&c.reset(.35)}}onClose(){var t;const e=this.instance,i=e.container,o=e.getSlide();if(!i||!i.parentElement||!o)return;const{el:a,contentEl:c,panzoom:d,thumbElSrc:h}=o;if(!a||!h||!c||!d||d.isContentLoading||d.state===Ai.Init||d.state===Ai.Destroy)return;d.updateMetrics();let p=this.getZoomInfo(o);if(!p)return;this.instance.state=Rr.CustomClosing,i.classList.remove(Oy),i.classList.add("is-zooming-out"),c.style.backgroundImage=`url('${h}')`;const g=i.getBoundingClientRect();(((t=window.visualViewport)===null||t===void 0?void 0:t.scale)||1)===1&&Object.assign(i.style,{position:"absolute",top:`${i.offsetTop+window.scrollY}px`,left:`${i.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${g.width}px`,height:`${g.height}px`,overflow:"hidden"});const{x:w,y:v,scale:k,opacity:y}=p;if(y){const x=((I,F,R,Q)=>{const V=F-I,W=Q-R;return X=>R+((X-I)/V*W||0)})(d.scale,k,1,0);d.on("afterTransform",()=>{c.style.opacity=x(d.scale)+""})}d.on("endAnimation",()=>{e.destroy()}),d.target.a=k,d.target.b=0,d.target.c=0,d.target.d=k,d.panTo({x:w,y:v,scale:k,friction:y?.2:.33,ignoreBounds:!0}),d.isResting&&e.destroy()}setImage(t,e){const i=this.instance;t.src=e,this.process(t,e).then(o=>{const{contentEl:a,imageEl:c,thumbElSrc:d,el:h}=t;if(i.isClosing()||!a||!c)return;a.offsetHeight;const p=!!i.isOpeningSlide(t)&&this.getZoomInfo(t);if(this.option("protected")&&h){h.addEventListener("contextmenu",v=>{v.preventDefault()});const w=document.createElement("div");Me(w,"fancybox-protected"),a.appendChild(w)}if(d&&p){const w=o.contentRect,v=Math.max(w.fullWidth,w.fullHeight);let k=null;!p.opacity&&v>1200&&(k=document.createElement("img"),Me(k,"fancybox-ghost"),k.src=d,a.appendChild(k));const y=()=>{k&&(Me(k,"f-fadeFastOut"),setTimeout(()=>{k&&(k.remove(),k=null)},200))};(g=d,new Promise((x,I)=>{const F=new Image;F.onload=x,F.onerror=I,F.src=g})).then(()=>{i.hideLoading(t),t.state=Po.Opening,this.instance.emit("reveal",t),this.zoomIn(t).then(()=>{y(),this.instance.done(t)},()=>{}),k&&setTimeout(()=>{y()},v>2500?800:200)},()=>{i.hideLoading(t),i.revealContent(t)})}else{const w=this.optionFor(t,"initialSize"),v=this.optionFor(t,"zoom"),k={event:i.prevMouseMoveEvent||i.options.event,friction:v?.12:0};let y=i.optionFor(t,"showClass")||void 0,x=!0;i.isOpeningSlide(t)&&(w==="full"?o.zoomToFull(k):w==="cover"?o.zoomToCover(k):w==="max"?o.zoomToMax(k):x=!1,o.stop("current")),x&&y&&(y=o.isDragging?"f-fadeIn":""),i.hideLoading(t),i.revealContent(t,y)}var g},()=>{i.setError(t,"{{IMAGE_ERROR}}")})}process(t,e){return new Promise((i,o)=>{var a;const c=this.instance,d=t.el;c.clearContent(t),c.showLoading(t);let h=this.optionFor(t,"content");if(typeof h=="string"&&(h=$d(h)),!h||!Fa(h)){if(h=document.createElement("img"),h instanceof HTMLImageElement){let p="",g=t.caption;p=typeof g=="string"&&g?g.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${t.index+1} of ${((a=c.carousel)===null||a===void 0?void 0:a.pages.length)||1}`,h.src=e||"",h.alt=p,h.draggable=!1,t.srcset&&h.setAttribute("srcset",t.srcset),this.instance.isOpeningSlide(t)&&(h.fetchPriority="high")}t.sizes&&h.setAttribute("sizes",t.sizes)}Me(h,"fancybox-image"),t.imageEl=h,c.setContent(t,h,!1),t.panzoom=new Ig(d,Ra({transformParent:!0},this.option("Panzoom")||{},{content:h,width:(p,g)=>c.optionFor(t,"width","auto",g)||"auto",height:(p,g)=>c.optionFor(t,"height","auto",g)||"auto",wheel:()=>{const p=c.option("wheel");return(p==="zoom"||p=="pan")&&p},click:(p,g)=>{var w,v;if(c.isCompact||c.isClosing()||t.index!==((w=c.getSlide())===null||w===void 0?void 0:w.index))return!1;if(g){const y=g.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(y.nodeName))return!1}let k=!g||g.target&&((v=t.contentEl)===null||v===void 0?void 0:v.contains(g.target));return c.option(k?"contentClick":"backdropClick")||!1},dblClick:()=>c.isCompact?"toggleZoom":c.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:p=>{i(p)},error:()=>{o()},destroy:()=>{o()}}}))})}zoomIn(t){return new Promise((e,i)=>{const o=this.instance,a=o.container,{panzoom:c,contentEl:d,el:h}=t;c&&c.updateMetrics();const p=this.getZoomInfo(t);if(!(p&&h&&d&&c&&a))return void i();const{x:g,y:w,scale:v,opacity:k}=p,y=()=>{t.state!==Po.Closing&&(k&&(d.style.opacity=Math.max(Math.min(1,1-(1-c.scale)/(1-v)),0)+""),c.scale>=1&&c.scale>c.targetScale-.1&&e(c))},x=R=>{(R.scale<.99||R.scale>1.01)&&!R.isDragging||(ri(a,Oy),d.style.opacity="",R.off("endAnimation",x),R.off("touchStart",x),R.off("afterTransform",y),e(R))};c.on("endAnimation",x),c.on("touchStart",x),c.on("afterTransform",y),c.on(["error","destroy"],()=>{i()}),c.panTo({x:g,y:w,scale:v,friction:0,ignoreBounds:!0}),c.stop("current");const I={event:c.panMode==="mousemove"?o.prevMouseMoveEvent||o.options.event:void 0},F=this.optionFor(t,"initialSize");Me(a,Oy),o.hideLoading(t),F==="full"?c.zoomToFull(I):F==="cover"?c.zoomToCover(I):F==="max"?c.zoomToMax(I):c.reset(.172)})}getZoomInfo(t){const{el:e,imageEl:i,thumbEl:o,panzoom:a}=t,c=this.instance,d=c.container;if(!e||!i||!o||!a||f3(o)<3||!this.optionFor(t,"zoom")||!d||c.state===Rr.Destroy||getComputedStyle(d).getPropertyValue("--f-images-zoom")==="0")return!1;const h=window.visualViewport||null;if((h?h.scale:1)!==1)return!1;let{top:p,left:g,width:w,height:v}=o.getBoundingClientRect(),{top:k,left:y,fitWidth:x,fitHeight:I}=a.contentRect;if(!(w&&v&&x&&I))return!1;const F=a.container.getBoundingClientRect();y+=F.left,k+=F.top;const R=-1*(y+.5*x-(g+.5*w)),Q=-1*(k+.5*I-(p+.5*v)),V=w/x;let W=this.option("zoomOpacity")||!1;return W==="auto"&&(W=Math.abs(w/v-x/I)>.1),{x:R,y:Q,scale:V,opacity:W}}attach(){const t=this,e=t.instance;e.on("Carousel.change",t.onChange),e.on("Carousel.createSlide",t.onCreateSlide),e.on("Carousel.removeSlide",t.onRemoveSlide),e.on("close",t.onClose)}detach(){const t=this,e=t.instance;e.off("Carousel.change",t.onChange),e.off("Carousel.createSlide",t.onCreateSlide),e.off("Carousel.removeSlide",t.onRemoveSlide),e.off("close",t.onClose)}}Object.defineProperty(v3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),typeof SuppressedError=="function"&&SuppressedError;const OS="html",v4="image",NS="map",IA="youtube",Vf="vimeo",iv="html5video",_4=(r,t={})=>{const e=new URL(r),i=new URLSearchParams(e.search),o=new URLSearchParams;for(const[d,h]of[...i,...Object.entries(t)]){let p=h+"";if(d==="t"){let g=p.match(/((\d*)m)?(\d*)s?/);g&&o.set("start",60*parseInt(g[2]||"0")+parseInt(g[3]||"0")+"")}else o.set(d,p)}let a=o+"",c=r.match(/#t=((.*)?\d+s)/);return c&&(a+=`#t=${c[1]}`),a},vot={ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},_ot=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class _3 extends ed{onBeforeInitSlide(t,e,i){this.processType(i)}onCreateSlide(t,e,i){this.setContent(i)}onClearContent(t,e){e.xhr&&(e.xhr.abort(),e.xhr=null);const i=e.iframeEl;i&&(i.onload=i.onerror=null,i.src="//about:blank",e.iframeEl=null);const o=e.contentEl,a=e.placeholderEl;if(e.type==="inline"&&o&&a)o.classList.remove("fancybox__content"),getComputedStyle(o).getPropertyValue("display")!=="none"&&(o.style.display="none"),setTimeout(()=>{a&&(o&&a.parentNode&&a.parentNode.insertBefore(o,a),a.remove())},0),e.contentEl=void 0,e.placeholderEl=void 0;else for(;e.el&&e.el.firstChild;)e.el.removeChild(e.el.firstChild)}onSelectSlide(t,e,i){i.state===Po.Ready&&this.playVideo()}onUnselectSlide(t,e,i){var o,a;if(i.type===iv){try{(a=(o=i.el)===null||o===void 0?void 0:o.querySelector("video"))===null||a===void 0||a.pause()}catch{}return}let c;i.type===Vf?c={method:"pause",value:"true"}:i.type===IA&&(c={event:"command",func:"pauseVideo"}),c&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(c),"*"),i.poller&&clearTimeout(i.poller)}onDone(t,e){t.isCurrentSlide(e)&&!t.isClosing()&&this.playVideo()}onRefresh(t,e){e.slides.forEach(i=>{i.el&&(this.resizeIframe(i),this.setAspectRatio(i))})}onMessage(t){try{let e=JSON.parse(t.data);if(t.origin==="https://player.vimeo.com"){if(e.event==="ready")for(let i of Array.from(document.getElementsByClassName("fancybox__iframe")))i instanceof HTMLIFrameElement&&i.contentWindow===t.source&&(i.dataset.ready="true")}else if(t.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&e.event==="onReady"){const i=document.getElementById(e.id);i&&(i.dataset.ready="true")}}catch{}}loadAjaxContent(t){const e=this.instance.optionFor(t,"src")||"";this.instance.showLoading(t);const i=this.instance,o=new XMLHttpRequest;i.showLoading(t),o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&i.state===Rr.Ready&&(i.hideLoading(t),o.status===200?i.setContent(t,o.responseText):i.setError(t,o.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const a=t.ajax||null;o.open(a?"POST":"GET",e+""),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(a),t.xhr=o}setInlineContent(t){let e=null;if(Fa(t.src))e=t.src;else if(typeof t.src=="string"){const i=t.src.split("#",2).pop();e=i?document.getElementById(i):null}if(e){if(t.type==="clone"||e.closest(".fancybox__slide")){e=e.cloneNode(!0);const i=e.dataset.animationName;i&&(e.classList.remove(i),delete e.dataset.animationName);let o=e.getAttribute("id");o=o?`${o}--clone`:`clone-${this.instance.id}-${t.index}`,e.setAttribute("id",o)}else if(e.parentNode){const i=document.createElement("div");i.classList.add("fancybox-placeholder"),e.parentNode.insertBefore(i,e),t.placeholderEl=i}this.instance.setContent(t,e)}else this.instance.setError(t,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(t){const{src:e,el:i}=t;if(!e||typeof e!="string"||!i)return;i.classList.add("is-loading");const o=this.instance,a=document.createElement("iframe");a.className="fancybox__iframe",a.setAttribute("id",`fancybox__iframe_${o.id}_${t.index}`);for(const[d,h]of Object.entries(this.optionFor(t,"iframeAttr")||{}))a.setAttribute(d,h);a.onerror=()=>{o.setError(t,"{{IFRAME_ERROR}}")},t.iframeEl=a;const c=this.optionFor(t,"preload");if(t.type!=="iframe"||c===!1)return a.setAttribute("src",t.src+""),o.setContent(t,a,!1),this.resizeIframe(t),void o.revealContent(t);o.showLoading(t),a.onload=()=>{if(!a.src.length)return;const d=a.dataset.ready!=="true";a.dataset.ready="true",this.resizeIframe(t),d?o.revealContent(t):o.hideLoading(t)},a.setAttribute("src",e),o.setContent(t,a,!1)}resizeIframe(t){const{type:e,iframeEl:i}=t;if(e===IA||e===Vf)return;const o=i==null?void 0:i.parentElement;if(!i||!o)return;let a=t.autoSize;a===void 0&&(a=this.optionFor(t,"autoSize"));let c=t.width||0,d=t.height||0;c&&d&&(a=!1);const h=o&&o.style;if(t.preload!==!1&&a!==!1&&h)try{const p=window.getComputedStyle(o),g=parseFloat(p.paddingLeft)+parseFloat(p.paddingRight),w=parseFloat(p.paddingTop)+parseFloat(p.paddingBottom),v=i.contentWindow;if(v){const k=v.document,y=k.getElementsByTagName(OS)[0],x=k.body;h.width="",x.style.overflow="hidden",c=c||y.scrollWidth+g,h.width=`${c}px`,x.style.overflow="",h.flex="0 0 auto",h.height=`${x.scrollHeight}px`,d=y.scrollHeight+w}}catch{}if(c||d){const p={flex:"0 1 auto",width:"",height:""};c&&c!=="auto"&&(p.width=`${c}px`),d&&d!=="auto"&&(p.height=`${d}px`),Object.assign(h,p)}}playVideo(){const t=this.instance.getSlide();if(!t)return;const{el:e}=t;if(!e||!e.offsetParent||!this.optionFor(t,"videoAutoplay"))return;if(t.type===iv)try{const o=e.querySelector("video");if(o){const a=o.play();a!==void 0&&a.then(()=>{}).catch(c=>{o.muted=!0,o.play()})}}catch{}if(t.type!==IA&&t.type!==Vf)return;const i=()=>{if(t.iframeEl&&t.iframeEl.contentWindow){let o;if(t.iframeEl.dataset.ready==="true")return o=t.type===IA?{event:"command",func:"playVideo"}:{method:"play",value:"true"},o&&t.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"),void(t.poller=void 0);t.type===IA&&(o={event:"listening",id:t.iframeEl.getAttribute("id")},t.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"))}t.poller=setTimeout(i,250)};i()}processType(t){if(t.html)return t.type=OS,t.src=t.html,void(t.html="");const e=this.instance.optionFor(t,"src","");if(!e||typeof e!="string")return;let i=t.type,o=null;if(o=e.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const a=this.optionFor(t,IA),{nocookie:c}=a,d=function(w,v){var k={};for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&v.indexOf(y)<0&&(k[y]=w[y]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var x=0;for(y=Object.getOwnPropertySymbols(w);x<y.length;x++)v.indexOf(y[x])<0&&Object.prototype.propertyIsEnumerable.call(w,y[x])&&(k[y[x]]=w[y[x]])}return k}(a,["nocookie"]),h=`www.youtube${c?"-nocookie":""}.com`,p=_4(e,d),g=encodeURIComponent(o[2]);t.videoId=g,t.src=`https://${h}/embed/${g}?${p}`,t.thumbSrc=t.thumbSrc||`https://i.ytimg.com/vi/${g}/mqdefault.jpg`,i=IA}else if(o=e.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const a=_4(e,this.optionFor(t,Vf)),c=encodeURIComponent(o[1]),d=o[4]||"";t.videoId=c,t.src=`https://player.vimeo.com/video/${c}?${d?`h=${d}${a?"&":""}`:""}${a}`,i=Vf}if(!i&&t.triggerEl){const a=t.triggerEl.dataset.type;_ot.includes(a)&&(i=a)}i||typeof e=="string"&&(e.charAt(0)==="#"?i="inline":(o=e.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i=iv,t.videoFormat=t.videoFormat||"video/"+(o[1]==="ogv"?"ogg":o[1])):e.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i=v4:e.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),(o=e.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(t.src=`https://maps.google.${o[1]}/?ll=${(o[2]?o[2]+"&z="+Math.floor(parseFloat(o[3]))+(o[4]?o[4].replace(/^\//,"&"):""):o[4]+"").replace(/\?/,"&")}&output=${o[4]&&o[4].indexOf("layer=c")>0?"svembed":"embed"}`,i=NS):(o=e.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(t.src=`https://maps.google.${o[1]}/maps?q=${o[2].replace("query=","q=").replace("api=1","")}&output=embed`,i=NS),i=i||this.instance.option("defaultType"),t.type=i,i===v4&&(t.thumbSrc=t.thumbSrc||t.src)}setContent(t){const e=this.instance.optionFor(t,"src")||"";if(t&&t.type&&e){switch(t.type){case OS:this.instance.setContent(t,e);break;case iv:const i=this.option("videoTpl");i&&this.instance.setContent(t,i.replace(/\{\{src\}\}/gi,e+"").replace(/\{\{format\}\}/gi,this.optionFor(t,"videoFormat")||"").replace(/\{\{poster\}\}/gi,t.poster||t.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(t);break;case"ajax":this.loadAjaxContent(t);break;case"pdf":case NS:case IA:case Vf:t.preload=!1;case"iframe":this.setIframeContent(t)}this.setAspectRatio(t)}}setAspectRatio(t){const e=t.contentEl;if(!(t.el&&e&&t.type&&[IA,Vf,iv].includes(t.type)))return;let i,o=t.width||"auto",a=t.height||"auto";if(o==="auto"||a==="auto"){i=this.optionFor(t,"videoRatio");const p=(i+"").match(/(\d+)\s*\/\s?(\d+)/);i=p&&p.length>2?parseFloat(p[1])/parseFloat(p[2]):parseFloat(i+"")}else o&&a&&(i=o/a);if(!i)return;e.style.aspectRatio="",e.style.width="",e.style.height="",e.offsetHeight;const c=e.getBoundingClientRect(),d=c.width||1,h=c.height||1;e.style.aspectRatio=i+"",i<d/h?(a=a==="auto"?h:Math.min(h,a),e.style.width="auto",e.style.height=`${a}px`):(o=o==="auto"?d:Math.min(d,o),e.style.width=`${o}px`,e.style.height="auto")}attach(){const t=this,e=t.instance;e.on("Carousel.beforeInitSlide",t.onBeforeInitSlide),e.on("Carousel.createSlide",t.onCreateSlide),e.on("Carousel.selectSlide",t.onSelectSlide),e.on("Carousel.unselectSlide",t.onUnselectSlide),e.on("Carousel.Panzoom.refresh",t.onRefresh),e.on("done",t.onDone),e.on("clearContent",t.onClearContent),window.addEventListener("message",t.onMessage)}detach(){const t=this,e=t.instance;e.off("Carousel.beforeInitSlide",t.onBeforeInitSlide),e.off("Carousel.createSlide",t.onCreateSlide),e.off("Carousel.selectSlide",t.onSelectSlide),e.off("Carousel.unselectSlide",t.onUnselectSlide),e.off("Carousel.Panzoom.refresh",t.onRefresh),e.off("done",t.onDone),e.off("clearContent",t.onClearContent),window.removeEventListener("message",t.onMessage)}}Object.defineProperty(_3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:vot});const Ny="play",Ry="pause",sv="ready";class k3 extends ed{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:sv}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==sv}onReady(t){this.option("autoStart")&&(t.isInfinite||t.page<t.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){document.visibilityState==="visible"?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var t;this.inHover=!1,!((t=this.instance.panzoom)===null||t===void 0)&&t.isResting&&this.resume()}onTimerEnd(){const t=this.instance;this.state==="play"&&(t.isInfinite||t.page!==t.pages.length-1?t.slideNext():t.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var t;if(!this.option("showProgress"))return null;this.removeProgressBar();const e=this.instance,i=((t=e.pages[e.page])===null||t===void 0?void 0:t.slides)||[];let o=this.option("progressParentEl");if(o||(o=(i.length===1?i[0].el:null)||e.viewport),!o)return null;const a=document.createElement("div");return Me(a,"f-progress"),o.prepend(a),this.progressBar=a,a.offsetHeight,a}set(){const t=this,e=t.instance;if(e.pages.length<2||t.timer)return;const i=t.option("timeout");t.state=Ny,Me(e.container,"has-autoplay");let o=t.createProgressBar();o&&(o.style.transitionDuration=`${i}ms`,o.style.transform="scaleX(1)"),t.timer=setTimeout(()=>{t.timer=null,t.inHover||t.onTimerEnd()},i),t.emit("set")}clear(){const t=this;t.timer&&(clearTimeout(t.timer),t.timer=null),t.removeProgressBar()}start(){const t=this;if(t.set(),t.state!==sv){if(t.option("pauseOnHover")){const e=t.instance.container;e.addEventListener("mouseenter",t.onMouseEnter,!1),e.addEventListener("mouseleave",t.onMouseLeave,!1)}document.addEventListener("visibilitychange",t.onVisibilityChange,!1),t.emit("start")}}stop(){const t=this,e=t.state,i=t.instance.container;t.clear(),t.state=sv,i.removeEventListener("mouseenter",t.onMouseEnter,!1),i.removeEventListener("mouseleave",t.onMouseLeave,!1),document.removeEventListener("visibilitychange",t.onVisibilityChange,!1),ri(i,"has-autoplay"),e!==sv&&t.emit("stop")}pause(){const t=this;t.state===Ny&&(t.state=Ry,t.clear(),t.emit(Ry))}resume(){const t=this,e=t.instance;if(e.isInfinite||e.page!==e.pages.length-1)if(t.state!==Ny){if(t.state===Ry&&!t.inHover){const i=new Event("resume",{bubbles:!0,cancelable:!0});t.emit("resume",i),i.defaultPrevented||t.set()}}else t.set();else t.stop()}toggle(){this.state===Ny||this.state===Ry?this.stop():this.start()}attach(){const t=this,e=t.instance;e.on("ready",t.onReady),e.on("Panzoom.startAnimation",t.onChange),e.on("Panzoom.endAnimation",t.onSettle),e.on("Panzoom.touchMove",t.onChange)}detach(){const t=this,e=t.instance;e.off("ready",t.onReady),e.off("Panzoom.startAnimation",t.onChange),e.off("Panzoom.endAnimation",t.onSettle),e.off("Panzoom.touchMove",t.onChange),t.stop()}}Object.defineProperty(k3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class y3 extends ed{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(t){const e=t.carousel;if(!e)return;const i=t.container;i&&(e.options.Autoplay=Ra({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{t.emit("startSlideshow")},set:o=>{var a;i.classList.add("has-slideshow"),((a=t.getSlide())===null||a===void 0?void 0:a.state)!==Po.Ready&&o.pause()},stop:()=>{i.classList.remove("has-slideshow"),t.isCompact||t.endIdle(),t.emit("endSlideshow")},resume:(o,a)=>{var c,d,h;!a||!a.cancelable||((c=t.getSlide())===null||c===void 0?void 0:c.state)===Po.Ready&&(!((h=(d=t.carousel)===null||d===void 0?void 0:d.panzoom)===null||h===void 0)&&h.isResting)||a.preventDefault()}}}),e.attachPlugins({Autoplay:k3}),this.ref=e.plugins.Autoplay)}onReady(t){const e=t.carousel,i=this.ref;i&&e&&this.option("playOnStart")&&(e.isInfinite||e.page<e.pages.length-1)&&i.start()}onDone(t,e){const i=this.ref,o=t.carousel;if(!i||!o)return;const a=e.panzoom;a&&a.on("startAnimation",()=>{t.isCurrentSlide(e)&&i.stop()}),t.isCurrentSlide(e)&&i.resume()}onKeydown(t,e){var i;const o=this.ref;o&&e===this.option("key")&&((i=document.activeElement)===null||i===void 0?void 0:i.nodeName)!=="BUTTON"&&o.toggle()}attach(){const t=this,e=t.instance;e.on("Carousel.init",t.onPrepare),e.on("Carousel.ready",t.onReady),e.on("done",t.onDone),e.on("keydown",t.onKeydown)}detach(){const t=this,e=t.instance;e.off("Carousel.init",t.onPrepare),e.off("Carousel.ready",t.onReady),e.off("done",t.onDone),e.off("keydown",t.onKeydown)}}Object.defineProperty(y3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:r=>{var t;return((t=r.instance.container)===null||t===void 0?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||r.instance.container},timeout:3e3}});const C3={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var wu;(function(r){r[r.Init=0]="Init",r[r.Ready=1]="Ready",r[r.Hidden=2]="Hidden"})(wu||(wu={}));const k4="isResting",Uy="thumbWidth",wm="thumbHeight",Cd="thumbClipWidth";let E3=class extends ed{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:wu.Init})}get isModern(){return this.type==="modern"}onInitSlide(r,t){const e=t.el?t.el.dataset:void 0;e&&(t.thumbSrc=e.thumbSrc||t.thumbSrc||"",t[Cd]=parseFloat(e[Cd]||"")||t[Cd]||0,t[wm]=parseFloat(e.thumbHeight||"")||t[wm]||0),this.addSlide(t)}onInitSlides(){this.build()}onChange(){var r;if(!this.isModern)return;const t=this.container,e=this.instance,i=e.panzoom,o=this.carousel,a=o?o.panzoom:null,c=e.page;if(i&&o&&a){if(i.isDragging){ri(t,this.cn(k4));let d=((r=o.pages[c])===null||r===void 0?void 0:r.pos)||0;d+=e.getProgress(c)*(this[Cd]+this.thumbGap);let h=a.getBounds();-1*d>h.x.min&&-1*d<h.x.max&&a.panTo({x:-1*d,friction:.12})}else qd(t,this.cn(k4),i.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const r of this.instance.slides||[])this.resizeModernSlide(r);this.shiftModern()}isDisabled(){const r=this.option("minCount")||0;if(r){const e=this.instance;let i=0;for(const o of e.slides||[])o.thumbSrc&&i++;if(i<r)return!0}const t=this.option("type");return["modern","classic"].indexOf(t)<0}getThumb(r){const t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",r.index],["%d",r.index+1],["%s",r.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(r){const t=this.carousel;t&&t.addSlide(r.index,this.getThumb(r))}getSlides(){const r=[];for(const t of this.instance.slides||[])r.push(this.getThumb(t));return r}resizeModernSlide(r){this.isModern&&(r[Uy]=r[Cd]&&r[wm]?Math.round(this[wm]*(r[Cd]/r[wm])):this[Uy])}updateProps(){const r=this.container;if(!r)return;const t=e=>parseFloat(getComputedStyle(r).getPropertyValue("--f-thumb-"+e))||0;this.thumbGap=t("gap"),this.thumbExtraGap=t("extra-gap"),this[Uy]=t("width")||40,this[Cd]=t("clip-width")||40,this[wm]=t("height")||40}build(){const r=this;if(r.state!==wu.Init)return;if(r.isDisabled())return void r.emit("disabled");const t=r.instance,e=t.container,i=r.getSlides(),o=r.option("type");r.type=o;const a=r.option("parentEl"),c=r.cn("container"),d=r.cn("track");let h=a==null?void 0:a.querySelector("."+c);h||(h=document.createElement("div"),Me(h,c),a?a.appendChild(h):e.after(h)),Me(h,`is-${o}`),Me(e,r.cn("hasThumbs")),r.container=h,r.updateProps();let p=h.querySelector("."+d);p||(p=document.createElement("div"),Me(p,r.cn("track")),h.appendChild(p)),r.track=p;const g=Ra({},{track:p,infinite:!1,center:!0,fill:o==="classic",dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},r.option("Carousel")||{},{Sync:{target:t},slides:i}),w=new t.constructor(h,g);w.on("createSlide",(v,k)=>{r.setProps(k.index),r.emit("createSlide",k,k.el)}),w.on("ready",()=>{r.shiftModern(),r.emit("ready")}),w.on("refresh",()=>{r.shiftModern()}),w.on("Panzoom.click",(v,k,y)=>{r.onClick(y)}),r.carousel=w,r.state=wu.Ready}onClick(r){r.preventDefault(),r.stopPropagation();const t=this.instance,{pages:e,page:i}=t,o=x=>{if(x){const I=x.closest("[data-carousel-index]");if(I)return[parseInt(I.dataset.carouselIndex||"",10)||0,I]}return[-1,void 0]},a=(x,I)=>{const F=document.elementFromPoint(x,I);return F?o(F):[-1,void 0]};let[c,d]=o(r.target);if(c>-1)return;const h=this[Cd],p=r.clientX,g=r.clientY;let[w,v]=a(p-h,g),[k,y]=a(p+h,g);v&&y?(c=Math.abs(p-v.getBoundingClientRect().right)<Math.abs(p-y.getBoundingClientRect().left)?w:k,c===i&&(c=c===w?k:w)):v?c=w:y&&(c=k),c>-1&&e[c]&&t.slideTo(c)}getShift(r){var t;const e=this,{instance:i}=e,o=e.carousel;if(!i||!o)return 0;const a=e[Uy],c=e[Cd],d=e.thumbGap,h=e.thumbExtraGap;if(!(!((t=o.slides[r])===null||t===void 0)&&t.el))return 0;const p=.5*(a-c),g=i.pages.length-1;let w=i.getProgress(0),v=i.getProgress(g),k=i.getProgress(r,!1,!0),y=0,x=p+h+d;const I=w<0&&w>-1,F=v>0&&v<1;return r===0?(y=x*Math.abs(w),F&&w===1&&(y-=x*Math.abs(v))):r===g?(y=x*Math.abs(v)*-1,I&&v===-1&&(y+=x*Math.abs(w))):I||F?(y=-1*x,y+=x*Math.abs(w),y+=x*(1-Math.abs(v))):y=x*k,y}setProps(r){var t;const e=this;if(!e.isModern)return;const{instance:i}=e,o=e.carousel;if(i&&o){const a=(t=o.slides[r])===null||t===void 0?void 0:t.el;if(a&&a.childNodes.length){let c=pe(1-Math.abs(i.getProgress(r))),d=pe(e.getShift(r));a.style.setProperty("--progress",c?c+"":""),a.style.setProperty("--shift",d+"")}}}shiftModern(){const r=this;if(!r.isModern)return;const{instance:t,track:e}=r,i=t.panzoom,o=r.carousel;if(!(t&&e&&i&&o)||i.state===Ai.Init||i.state===Ai.Destroy)return;for(const c of t.slides)r.setProps(c.index);let a=(r[Cd]+r.thumbGap)*(o.slides.length||0);e.style.setProperty("--width",a+"")}cleanup(){const r=this;r.carousel&&r.carousel.destroy(),r.carousel=null,r.container&&r.container.remove(),r.container=null,r.track&&r.track.remove(),r.track=null,r.state=wu.Init,ri(r.instance.container,r.cn("hasThumbs"))}attach(){const r=this,t=r.instance;t.on("initSlide",r.onInitSlide),t.state===Vs.Init?t.on("initSlides",r.onInitSlides):r.onInitSlides(),t.on(["change","Panzoom.afterTransform"],r.onChange),t.on("Panzoom.refresh",r.onRefresh)}detach(){const r=this,t=r.instance;t.off("initSlide",r.onInitSlide),t.off("initSlides",r.onInitSlides),t.off(["change","Panzoom.afterTransform"],r.onChange),t.off("Panzoom.refresh",r.onRefresh),r.cleanup()}};Object.defineProperty(E3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:C3});const kot=Object.assign(Object.assign({},C3),{key:"t",showOnStart:!0,parentEl:null}),y4="is-masked",C4="aria-hidden";class x3 extends ed{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const t=this.ref;return t&&!t.isDisabled()}get isHidden(){return this.hidden}onClick(t,e){e.stopPropagation()}onCreateSlide(t,e){var i,o,a;const c=((a=(o=(i=this.instance)===null||i===void 0?void 0:i.carousel)===null||o===void 0?void 0:o.slides[e.index])===null||a===void 0?void 0:a.type)||"",d=e.el;if(d&&c){let h=`for-${c}`;["video","youtube","vimeo","html5video"].includes(c)&&(h+=" for-video"),Me(d,h)}}onInit(){var t;const e=this,i=e.instance,o=i.carousel;if(e.ref||!o)return;const a=e.option("parentEl")||i.footer||i.container;if(!a)return;const c=Ra({},e.options,{parentEl:a,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:i.option("Carousel.friction")||0}},on:{ready:d=>{const h=d.container;h&&this.hidden&&(e.refresh(),h.style.transition="none",e.hide(),h.offsetHeight,queueMicrotask(()=>{h.style.transition="",e.show()}))}}});c.Carousel=c.Carousel||{},c.Carousel.on=Ra(((t=e.options.Carousel)===null||t===void 0?void 0:t.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),o.options.Thumbs=c,o.attachPlugins({Thumbs:E3}),e.ref=o.plugins.Thumbs,e.option("showOnStart")||(e.ref.state=wu.Hidden,e.hidden=!0)}onResize(){var t;const e=(t=this.ref)===null||t===void 0?void 0:t.container;e&&(e.style.maxHeight="")}onKeydown(t,e){const i=this.option("key");i&&i===e&&this.toggle()}toggle(){const t=this.ref;if(t&&!t.isDisabled())return t.state===wu.Hidden?(t.state=wu.Init,void t.build()):void(this.hidden?this.show():this.hide())}show(){const t=this.ref;if(!t||t.isDisabled())return;const e=t.container;e&&(this.refresh(),e.offsetHeight,e.removeAttribute(C4),e.classList.remove(y4),this.hidden=!1)}hide(){const t=this.ref,e=t&&t.container;e&&(this.refresh(),e.offsetHeight,e.classList.add(y4),e.setAttribute(C4,"true")),this.hidden=!0}refresh(){const t=this.ref;if(!t||!t.state)return;const e=t.container,i=(e==null?void 0:e.firstChild)||null;e&&i&&i.childNodes.length&&(e.style.maxHeight=`${i.getBoundingClientRect().height}px`)}attach(){const t=this,e=t.instance;e.state===Rr.Init?e.on("Carousel.init",t.onInit):t.onInit(),e.on("resize",t.onResize),e.on("keydown",t.onKeydown)}detach(){var t;const e=this,i=e.instance;i.off("Carousel.init",e.onInit),i.off("resize",e.onResize),i.off("keydown",e.onKeydown),(t=i.carousel)===null||t===void 0||t.detachPlugins(["Thumbs"]),e.ref=null}}Object.defineProperty(x3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:kot});const RS={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var dp;(function(r){r[r.Init=0]="Init",r[r.Ready=1]="Ready",r[r.Disabled=2]="Disabled"})(dp||(dp={}));const yot={absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null},Cot={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},E4="has-toolbar",US="fancybox__toolbar";class B3 extends ed{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:dp.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(t){var e;if(!t.carousel)return;let i=this.option("display"),o=this.option("absolute"),a=this.option("enabled");if(a==="auto"){const p=this.instance.carousel;let g=0;if(p)for(const w of p.slides)(w.panzoom||w.type==="image")&&g++;g||(a=!1)}a||(i=void 0);let c=0;const d={left:[],middle:[],right:[]};if(i)for(const p of["left","middle","right"])for(const g of i[p]){const w=this.createEl(g);w&&((e=d[p])===null||e===void 0||e.push(w),c++)}let h=null;if(c&&(h=this.createContainer()),h){for(const[p,g]of Object.entries(d)){const w=document.createElement("div");Me(w,US+"__column is-"+p);for(const v of g)w.appendChild(v);o!=="auto"||p!=="middle"||g.length||(o=!0),h.appendChild(w)}o===!0&&Me(h,"is-absolute"),this.state=dp.Ready,this.onRefresh()}else this.state=dp.Disabled}onClick(t){var e,i;const o=this.instance,a=o.getSlide(),c=a==null?void 0:a.panzoom,d=t.target,h=d&&Fa(d)?d.dataset:null;if(!h)return;if(h.fancyboxToggleThumbs!==void 0)return t.preventDefault(),t.stopPropagation(),void((e=o.plugins.Thumbs)===null||e===void 0||e.toggle());if(h.fancyboxToggleFullscreen!==void 0)return t.preventDefault(),t.stopPropagation(),void this.instance.toggleFullscreen();if(h.fancyboxToggleSlideshow!==void 0){t.preventDefault(),t.stopPropagation();const w=(i=o.carousel)===null||i===void 0?void 0:i.plugins.Autoplay;let v=w.isActive;return c&&c.panMode==="mousemove"&&!v&&c.reset(),void(v?w.stop():w.start())}const p=h.panzoomAction,g=h.panzoomChange;if((g||p)&&(t.preventDefault(),t.stopPropagation()),g){let w={};try{w=JSON.parse(g)}catch{}c&&c.applyChange(w)}else p&&c&&c[p]&&c[p]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const t=this.container;if(!t)return;const e=this.instance.getSlide();if(!e||e.state!==Po.Ready)return;const i=e&&!e.error&&e.panzoom;for(const c of t.querySelectorAll("[data-panzoom-action]"))i?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));let o=i&&i.canZoomIn(),a=i&&i.canZoomOut();for(const c of t.querySelectorAll('[data-panzoom-action="zoomIn"]'))o?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));for(const c of t.querySelectorAll('[data-panzoom-action="zoomOut"]'))a?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));for(const c of t.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){a||o?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));const d=c.querySelector("g");d&&(d.style.display=o?"":"none")}}onDone(t,e){var i;(i=e.panzoom)===null||i===void 0||i.on("afterTransform",()=>{this.instance.isCurrentSlide(e)&&this.onRefresh()}),this.instance.isCurrentSlide(e)&&this.onRefresh()}createContainer(){const t=this.instance.container;if(!t)return null;const e=this.option("parentEl")||t;let i=e.querySelector("."+US);return i||(i=document.createElement("div"),Me(i,US),e.prepend(i)),i.addEventListener("click",this.onClick,{passive:!1,capture:!0}),t&&Me(t,E4),this.container=i,i}createEl(t){const e=this.instance,i=e.carousel;if(!i||t==="toggleFS"||t==="fullscreen"&&!p3())return null;let o=null;const a=i.slides.length||0;let c=0,d=0;for(const p of i.slides)(p.panzoom||p.type==="image")&&c++,(p.type==="image"||p.downloadSrc)&&d++;if(a<2&&["infobar","prev","next"].includes(t))return o;if(RS[t]!==void 0&&!c||t==="download"&&!d)return null;if(t==="thumbs"){const p=e.plugins.Thumbs;if(!p||!p.isEnabled)return null}if(t==="slideshow"&&(!i.plugins.Autoplay||a<2))return null;if(RS[t]!==void 0){const p=RS[t];o=document.createElement("button"),o.setAttribute("title",this.instance.localize(`{{${t.toUpperCase()}}}`)),Me(o,"f-button"),p.action&&(o.dataset.panzoomAction=p.action),p.change&&(o.dataset.panzoomChange=JSON.stringify(p.change)),o.appendChild($d(this.instance.localize(p.icon)))}else{const p=(this.option("items")||[])[t];p&&(o=$d(this.instance.localize(p.tpl)),typeof p.click=="function"&&o.addEventListener("click",g=>{g.preventDefault(),g.stopPropagation(),typeof p.click=="function"&&p.click.call(this,this,g)}))}const h=o==null?void 0:o.querySelector("svg");if(h)for(const[p,g]of Object.entries(Cot))h.getAttribute(p)||h.setAttribute(p,String(g));return o}removeContainer(){const t=this.container;t&&t.remove(),this.container=null,this.state=dp.Disabled;const e=this.instance.container;e&&ri(e,E4)}attach(){const t=this,e=t.instance;e.on("Carousel.initSlides",t.onReady),e.on("done",t.onDone),e.on(["reveal","Carousel.change"],t.onChange),t.onReady(t.instance)}detach(){const t=this,e=t.instance;e.off("Carousel.initSlides",t.onReady),e.off("done",t.onDone),e.off(["reveal","Carousel.change"],t.onChange),t.removeContainer()}}Object.defineProperty(B3,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:yot});const Eot={Hash:class extends ed{onReady(){vv=!1}onChange(r){ip&&clearTimeout(ip);const{hash:t}=g3(),{hash:e}=HE(),i=r.isOpeningSlide(r.getSlide());i&&(b4=e===t?"":e),t&&t!==e&&(ip=setTimeout(()=>{try{if(r.state===Rr.Ready){let o="replaceState";i&&!Fy&&(o="pushState",Fy=!0),window.history[o]({},document.title,window.location.pathname+window.location.search+t)}}catch{}},300))}onClose(r){if(ip&&clearTimeout(ip),!vv&&Fy)return Fy=!1,vv=!1,void window.history.back();if(!vv)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(b4||""))}catch{}}attach(){const r=this.instance;r.on("ready",this.onReady),r.on(["Carousel.ready","Carousel.change"],this.onChange),r.on("close",this.onClose)}detach(){const r=this.instance;r.off("ready",this.onReady),r.off(["Carousel.ready","Carousel.change"],this.onChange),r.off("close",this.onClose)}static parseURL(){return HE()}static startFromUrl(){m3()}static destroy(){window.removeEventListener("hashchange",w3,!1)}},Html:_3,Images:v3,Slideshow:y3,Thumbs:x3,Toolbar:B3},x4="with-fancybox",QS="hide-scrollbar",B4="--fancybox-scrollbar-compensate",S4="--fancybox-body-margin",HS="aria-hidden",zS="is-using-tab",jS="is-animated",T4="is-compact",I4="is-loading",VS="is-opening",Qy="has-caption",vm="disabled",Kf="tabindex",D4="download",KS="href",_m="src",ih=r=>typeof r=="string",M4=function(){var r=window.getSelection();return!!r&&r.type==="Range"};let Yl,Xl=null,Gf=null,L4=0,P4=0,F4=0,O4=0;const km=new Map;let xot=0;class Qn extends kM{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(t=[],e={},i={}){super(e),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Rr.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Yl||(Yl=p3()),this.id=e.id||++xot,km.set(this.id,this),this.userSlides=t,this.userPlugins=i,queueMicrotask(()=>{this.init()})}init(){if(this.state===Rr.Destroy)return;this.state=Rr.Init,this.attachPlugins(Object.assign(Object.assign({},Qn.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),this.option("hideScrollbar")===!0&&(()=>{if(!n_)return;const e=document,i=e.body,o=e.documentElement;if(i.classList.contains(QS))return;let a=window.innerWidth-o.getBoundingClientRect().width;const c=parseFloat(window.getComputedStyle(i).marginRight);a<0&&(a=0),o.style.setProperty(B4,`${a}px`),c&&i.style.setProperty(S4,`${c}px`),i.classList.add(QS)})(),this.initLayout(),this.scale();const t=()=>{this.initCarousel(this.userSlides),this.state=Rr.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(HS,"false")},16)};this.option("Fullscreen.autoStart")&&Yl&&!Yl.isFullscreen()?Yl.request().then(()=>{this.startedFs=!0,t()}).catch(()=>t()):t()}initLayout(){var t,e;const i=this.option("parentEl")||document.body,o=$d(this.localize(this.option("tpl.main")||""));if(o){if(o.setAttribute("id",`fancybox-${this.id}`),o.setAttribute("aria-label",this.localize("{{MODAL}}")),o.classList.toggle(T4,this.isCompact),Me(o,this.option("mainClass")||""),Me(o,VS),this.container=o,this.footer=o.querySelector(".fancybox__footer"),i.appendChild(o),Me(document.documentElement,x4),Xl&&Gf||(Xl=document.createElement("span"),Me(Xl,"fancybox-focus-guard"),Xl.setAttribute(Kf,"0"),Xl.setAttribute(HS,"true"),Xl.setAttribute("aria-label","Focus guard"),Gf=Xl.cloneNode(),(t=o.parentElement)===null||t===void 0||t.insertBefore(Xl,o),(e=o.parentElement)===null||e===void 0||e.append(Gf)),o.addEventListener("mousedown",a=>{L4=a.pageX,P4=a.pageY,ri(o,zS)}),this.option("closeExisting"))for(const a of km.values())a.id!==this.id&&a.close();else this.option("animated")&&(Me(o,jS),setTimeout(()=>{this.isClosing()||ri(o,jS)},350));this.emit("initLayout")}}initCarousel(t){const e=this.container;if(!e)return;const i=e.querySelector(".fancybox__carousel");if(!i)return;const o=this.carousel=new vg(i,Ra({},{slides:t,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));o.on("*",(a,c,...d)=>{this.emit(`Carousel.${c}`,a,...d)}),o.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(a,c,d)=>{this.clearContent(d),d.state=void 0}),o.on("Panzoom.touchStart",()=>{var a,c;this.isCompact||this.endIdle(),!((a=document.activeElement)===null||a===void 0)&&a.closest(".f-thumbs")&&((c=this.container)===null||c===void 0||c.focus())}),o.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(o.on("Panzoom.afterTransform",(a,c)=>{const d=this.getSlide();if(d&&XT(d.el))return;const h=this.container;if(h){const p=Math.abs(c.current.f),g=p<1?"":Math.max(.5,Math.min(1,1-p/c.contentRect.fitHeight*1.5));h.style.setProperty("--fancybox-ts",g?"0s":""),h.style.setProperty("--fancybox-opacity",g+"")}}),o.on("Panzoom.touchEnd",(a,c,d)=>{var h;const p=this.getSlide();if(p&&XT(p.el)||c.isMobile&&document.activeElement&&["TEXTAREA","INPUT"].indexOf((h=document.activeElement)===null||h===void 0?void 0:h.nodeName)!==-1)return;const g=Math.abs(c.dragOffset.y);c.lockedAxis==="y"&&(g>=200||g>=50&&c.dragOffset.time<300)&&(d&&d.cancelable&&d.preventDefault(),this.close(d,"f-throwOut"+(c.current.f<0?"Up":"Down")))})),o.on("change",a=>{var c;let d=(c=this.getSlide())===null||c===void 0?void 0:c.triggerEl;if(d){const h=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:a.page});d.dispatchEvent(h)}}),o.on(["refresh","change"],a=>{const c=this.container;if(!c)return;for(const p of c.querySelectorAll("[data-fancybox-current-index]"))p.innerHTML=a.page+1;for(const p of c.querySelectorAll("[data-fancybox-count]"))p.innerHTML=a.pages.length;if(!a.isInfinite){for(const p of c.querySelectorAll("[data-fancybox-next]"))a.page<a.pages.length-1?(p.removeAttribute(vm),p.removeAttribute(Kf)):(p.setAttribute(vm,""),p.setAttribute(Kf,"-1"));for(const p of c.querySelectorAll("[data-fancybox-prev]"))a.page>0?(p.removeAttribute(vm),p.removeAttribute(Kf)):(p.setAttribute(vm,""),p.setAttribute(Kf,"-1"))}const d=this.getSlide();if(!d)return;let h=d.downloadSrc||"";h||d.type!=="image"||d.error||!ih(d[_m])||(h=d[_m]);for(const p of c.querySelectorAll("[data-fancybox-download]")){const g=d.downloadFilename;h?(p.removeAttribute(vm),p.removeAttribute(Kf),p.setAttribute(KS,h),p.setAttribute(D4,g||h),p.setAttribute("target","_blank")):(p.setAttribute(vm,""),p.setAttribute(Kf,"-1"),p.removeAttribute(KS),p.removeAttribute(D4))}}),this.emit("initCarousel")}attachEvents(){const t=this,e=t.container;if(!e)return;e.addEventListener("click",t.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",t.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",t.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",t.onVisibilityChange,!1),document.addEventListener("mousemove",t.onMousemove),t.option("trapFocus")&&document.addEventListener("focus",t.onFocus,!0),window.addEventListener("resize",t.onResize);const i=window.visualViewport;i&&(i.addEventListener("scroll",t.onResize),i.addEventListener("resize",t.onResize))}detachEvents(){const t=this,e=t.container;if(!e)return;document.removeEventListener("keydown",t.onKeydown,{passive:!1,capture:!0}),e.removeEventListener("wheel",t.onWheel,{passive:!1,capture:!1}),e.removeEventListener("click",t.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",t.onMousemove),window.removeEventListener("resize",t.onResize);const i=window.visualViewport;i&&(i.removeEventListener("resize",t.onResize),i.removeEventListener("scroll",t.onResize)),document.removeEventListener("visibilitychange",t.onVisibilityChange,!1),document.removeEventListener("focus",t.onFocus,!0)}scale(){const t=this.container;if(!t)return;const e=window.visualViewport,i=Math.max(1,(e==null?void 0:e.scale)||1);let o="",a="",c="";if(e&&i>1){let d=`${e.offsetLeft}px`,h=`${e.offsetTop}px`;o=e.width*i+"px",a=e.height*i+"px",c=`translate3d(${d}, ${h}, 0) scale(${1/i})`}t.style.transform=c,t.style.width=o,t.style.height=a}onClick(t){var e;const{container:i,isCompact:o}=this;if(!i||this.isClosing())return;!o&&this.option("idle")&&this.resetIdle();const a=t.composedPath()[0];if(a.closest(".fancybox-spinner")||a.closest("[data-fancybox-close]"))return t.preventDefault(),void this.close(t);if(a.closest("[data-fancybox-prev]"))return t.preventDefault(),void this.prev();if(a.closest("[data-fancybox-next]"))return t.preventDefault(),void this.next();if(t.type==="click"&&t.detail===0||Math.abs(t.pageX-L4)>30||Math.abs(t.pageY-P4)>30)return;const c=document.activeElement;if(M4()&&c&&i.contains(c))return;if(o&&((e=this.getSlide())===null||e===void 0?void 0:e.type)==="image")return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",t),t.defaultPrevented)return;let d=!1;if(a.closest(".fancybox__content")){if(c){if(c.closest("[contenteditable]"))return;a.matches(FS)||c.blur()}if(M4())return;d=this.option("contentClick")}else a.closest(".fancybox__carousel")&&!a.matches(FS)&&(d=this.option("backdropClick"));d==="close"?(t.preventDefault(),this.close(t)):d==="next"?(t.preventDefault(),this.next()):d==="prev"&&(t.preventDefault(),this.prev())}onWheel(t){const e=t.target;let i=this.option("wheel",t);e.closest(".fancybox__thumbs")&&(i="slide");const o=i==="slide",a=[-t.deltaX||0,-t.deltaY||0,-t.detail||0].reduce(function(h,p){return Math.abs(p)>Math.abs(h)?p:h}),c=Math.max(-1,Math.min(1,a)),d=Date.now();this.pwt&&d-this.pwt<300?o&&t.preventDefault():(this.pwt=d,this.emit("wheel",t,c),t.defaultPrevented||(i==="close"?(t.preventDefault(),this.close(t)):i==="slide"&&(UE(e)||(t.preventDefault(),this[c>0?"prev":"next"]()))))}onScroll(){window.scrollTo(F4,O4)}onKeydown(t){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const e=t.key,i=this.option("keyboard");if(!i)return;const o=t.composedPath()[0],a=document.activeElement&&document.activeElement.classList,c=a&&a.contains("f-button")||o.dataset.carouselPage||o.dataset.carouselIndex;if(e!=="Escape"&&!c&&Fa(o)&&(o.isContentEditable||["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(o.nodeName)!==-1)||(t.key==="Tab"?Me(this.container,zS):ri(this.container,zS),t.ctrlKey||t.altKey||t.shiftKey))return;this.emit("keydown",e,t);const d=i[e];d&&typeof this[d]=="function"&&(t.preventDefault(),this[d]())}onResize(){const t=this.container;if(!t)return;const e=this.isCompact;t.classList.toggle(T4,e),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(t){this.isTopmost()&&this.checkFocus(t)}onMousemove(t){this.prevMouseMoveEvent=t,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){document.visibilityState==="visible"?this.checkFocus():this.endIdle()}manageCloseBtn(t){const e=this.optionFor(t,"closeButton")||!1;if(e==="auto"){const o=this.plugins.Toolbar;if(o&&o.state===dp.Ready)return}if(!e||!t.contentEl||t.closeBtnEl)return;const i=this.option("tpl.closeButton");if(i){const o=$d(this.localize(i));t.closeBtnEl=t.contentEl.appendChild(o),t.el&&Me(t.el,"has-close-btn")}}manageCaption(t=void 0){var e,i;const o="fancybox__caption",a=this.container;if(!a)return;ri(a,Qy);const c=this.isCompact||this.option("commonCaption"),d=!c;if(this.caption&&this.stop(this.caption),d&&this.caption&&(this.caption.remove(),this.caption=null),c&&!this.caption)for(const w of((e=this.carousel)===null||e===void 0?void 0:e.slides)||[])w.captionEl&&(w.captionEl.remove(),w.captionEl=void 0,ri(w.el,Qy),(i=w.el)===null||i===void 0||i.removeAttribute("aria-labelledby"));if(t||(t=this.getSlide()),!t||c&&!this.isCurrentSlide(t))return;const h=t.el;let p=this.optionFor(t,"caption","");if(!p)return void(c&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let g=null;if(d){if(g=t.captionEl||null,h&&!g){const w=o+`_${this.id}_${t.index}`;g=document.createElement("div"),Me(g,o),g.setAttribute("id",w),t.captionEl=h.appendChild(g),Me(h,Qy),h.setAttribute("aria-labelledby",w)}}else g=this.caption,g||(g=a.querySelector("."+o)),!g&&(g=document.createElement("div"),g.dataset.fancyboxCaption="",Me(g,o),(this.footer||a).prepend(g)),Me(a,Qy),this.caption=g;g&&(g.innerHTML="",ih(p)||typeof p=="number"?g.innerHTML=p+"":p instanceof HTMLElement&&g.appendChild(p))}checkFocus(t){this.focus(t)}focus(t){var e;if(this.ignoreFocusChange)return;const i=document.activeElement||null,o=(t==null?void 0:t.target)||null,a=this.container,c=(e=this.carousel)===null||e===void 0?void 0:e.viewport;if(!a||!c||!t&&i&&a.contains(i))return;const d=this.getSlide(),h=d&&d.state===Po.Ready?d.el:null;if(!h||h.contains(i)||a===i)return;t&&t.cancelable&&t.preventDefault(),this.ignoreFocusChange=!0;const p=Array.from(a.querySelectorAll(FS));let g=[],w=null;for(let k of p){const y=!k.offsetParent||!!k.closest('[aria-hidden="true"]'),x=h&&h.contains(k),I=!c.contains(k);if(k===a||(x||I)&&!y){g.push(k);const F=k.dataset.origTabindex;F!==void 0&&F&&(k.tabIndex=parseFloat(F)),k.removeAttribute("data-orig-tabindex"),!k.hasAttribute("autoFocus")&&w||(w=k)}else{const F=k.dataset.origTabindex===void 0?k.getAttribute("tabindex")||"":k.dataset.origTabindex;F&&(k.dataset.origTabindex=F),k.tabIndex=-1}}let v=null;t?(!o||g.indexOf(o)<0)&&(v=w||a,g.length&&(i===Gf?v=g[0]:this.lastFocus!==a&&i!==Xl||(v=g[g.length-1]))):v=d&&d.type==="image"?a:w||a,v&&m4(v),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const t=this.carousel;t&&t.pages.length>1&&t.slideNext()}prev(){const t=this.carousel;t&&t.pages.length>1&&t.slidePrev()}jumpTo(...t){this.carousel&&this.carousel.slideTo(...t)}isTopmost(){var t;return((t=Qn.getInstance())===null||t===void 0?void 0:t.id)==this.id}animate(t=null,e="",i){if(!t||!e)return void(i&&i());this.stop(t);const o=a=>{a.target===t&&t.dataset.animationName&&(t.removeEventListener("animationend",o),delete t.dataset.animationName,i&&i(),ri(t,e))};t.dataset.animationName=e,t.addEventListener("animationend",o),Me(t,e)}stop(t){t&&t.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:t}))}setContent(t,e="",i=!0){if(this.isClosing())return;const o=t.el;if(!o)return;let a=null;if(Fa(e)?a=e:(a=$d(e+""),Fa(a)||(a=document.createElement("div"),a.innerHTML=e+"")),["img","picture","iframe","video","audio"].includes(a.nodeName.toLowerCase())){const c=document.createElement("div");c.appendChild(a),a=c}Fa(a)&&t.filter&&!t.error&&(a=a.querySelector(t.filter)),a&&Fa(a)?(Me(a,"fancybox__content"),t.id&&a.setAttribute("id",t.id),o.classList.add(`has-${t.error?"error":t.type||"unknown"}`),o.prepend(a),a.style.display==="none"&&(a.style.display=""),getComputedStyle(a).getPropertyValue("display")==="none"&&(a.style.display=t.display||this.option("defaultDisplay")||"flex"),t.contentEl=a,i&&this.revealContent(t),this.manageCloseBtn(t),this.manageCaption(t)):this.setError(t,"{{ELEMENT_NOT_FOUND}}")}revealContent(t,e){const i=t.el,o=t.contentEl;i&&o&&(this.emit("reveal",t),this.hideLoading(t),t.state=Po.Opening,(e=this.isOpeningSlide(t)?e===void 0?this.optionFor(t,"showClass"):e:"f-fadeIn")?this.animate(o,e,()=>{this.done(t)}):this.done(t))}done(t){this.isClosing()||(t.state=Po.Ready,this.emit("done",t),Me(t.el,"is-done"),this.isCurrentSlide(t)&&this.option("autoFocus")&&queueMicrotask(()=>{var e;(e=t.panzoom)===null||e===void 0||e.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(t)&&(ri(this.container,VS),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(t){const e=this.getSlide();return!(!t||!e)&&e.index===t.index}isOpeningSlide(t){var e,i;return((e=this.carousel)===null||e===void 0?void 0:e.prevPage)===null&&t&&t.index===((i=this.getSlide())===null||i===void 0?void 0:i.index)}showLoading(t){t.state=Po.Loading;const e=t.el;e&&(Me(e,I4),this.emit("loading",t),t.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!t.spinnerEl&&t.state===Po.Loading){let i=$d(yM);Me(i,"fancybox-spinner"),t.spinnerEl=i,e.prepend(i),this.animate(i,"f-fadeIn")}},250))}hideLoading(t){const e=t.el;if(!e)return;const i=t.spinnerEl;this.isClosing()?i==null||i.remove():(ri(e,I4),i&&this.animate(i,"f-fadeOut",()=>{i.remove()}),t.state===Po.Loading&&(this.emit("loaded",t),t.state=Po.Ready))}setError(t,e){if(this.isClosing())return;const i=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",i,t),i.defaultPrevented)return;t.error=e,this.hideLoading(t),this.clearContent(t);const o=document.createElement("div");o.classList.add("fancybox-error"),o.innerHTML=this.localize(e||"<p>{{ERROR}}</p>"),this.setContent(t,o)}clearContent(t){if(t.state===void 0)return;this.emit("clearContent",t),t.contentEl&&(t.contentEl.remove(),t.contentEl=void 0);const e=t.el;e&&(ri(e,"has-error"),ri(e,"has-unknown"),ri(e,`has-${t.type||"unknown"}`)),t.closeBtnEl&&t.closeBtnEl.remove(),t.closeBtnEl=void 0,t.captionEl&&t.captionEl.remove(),t.captionEl=void 0,t.spinnerEl&&t.spinnerEl.remove(),t.spinnerEl=void 0}getSlide(){var t;const e=this.carousel;return((t=e==null?void 0:e.pages[e==null?void 0:e.page])===null||t===void 0?void 0:t.slides[0])||void 0}close(t,e){if(this.isClosing())return;const i=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",i,t),i.defaultPrevented)return;t&&t.cancelable&&(t.preventDefault(),t.stopPropagation());const o=()=>{this.proceedClose(t,e)};this.startedFs&&Yl&&Yl.isFullscreen()?Promise.resolve(Yl.exit()).then(()=>o()):o()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(t=!1){const e=()=>{this.clearIdle(),this.idle=!0,Me(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(t)e();else{const i=this.option("idle");i&&(this.idleTimer=setTimeout(e,i))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,ri(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){Yl&&(Yl.isFullscreen()?Yl.exit():Yl.request().then(()=>{this.startedFs=!0}))}isClosing(){return[Rr.Closing,Rr.CustomClosing,Rr.Destroy].includes(this.state)}proceedClose(t,e){var i,o;this.state=Rr.Closing,this.clearIdle(),this.detachEvents();const a=this.container,c=this.carousel,d=this.getSlide(),h=d&&this.option("placeFocusBack")?d.triggerEl||this.option("triggerEl"):null;if(h&&(f3(h)?m4(h):h.focus()),a&&(ri(a,VS),Me(a,"is-closing"),a.setAttribute(HS,"true"),this.option("animated")&&Me(a,jS),a.style.pointerEvents="none"),c){c.clearTransitions(),(i=c.panzoom)===null||i===void 0||i.destroy(),(o=c.plugins.Navigation)===null||o===void 0||o.detach();for(const p of c.slides){p.state=Po.Closing,this.hideLoading(p);const g=p.contentEl;g&&this.stop(g);const w=p==null?void 0:p.panzoom;w&&(w.stop(),w.detachEvents(),w.detachObserver()),this.isCurrentSlide(p)||c.emit("removeSlide",p)}}F4=window.scrollX,O4=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",t),this.state!==Rr.CustomClosing?(e===void 0&&d&&(e=this.optionFor(d,"hideClass")),e&&d?(this.animate(d.contentEl,e,()=>{c&&c.emit("removeSlide",d)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var t;if(this.state===Rr.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=Rr.Destroy,(t=this.carousel)===null||t===void 0||t.destroy();const e=this.container;e&&e.remove(),km.delete(this.id);const i=Qn.getInstance();i?i.focus():(Xl&&(Xl.remove(),Xl=null),Gf&&(Gf.remove(),Gf=null),ri(document.documentElement,x4),(()=>{if(!n_)return;const o=document,a=o.body;a.classList.remove(QS),a.style.setProperty(S4,""),o.documentElement.style.setProperty(B4,"")})(),this.emit("destroy"))}static bind(t,e,i){if(!n_)return;let o,a="",c={};if(t===void 0?o=document.body:ih(t)?(o=document.body,a=t,typeof e=="object"&&(c=e||{})):(o=t,ih(e)&&(a=e),typeof i=="object"&&(c=i||{})),!o||!Fa(o))return;a=a||"[data-fancybox]";const d=Qn.openers.get(o)||new Map;d.set(a,c),Qn.openers.set(o,d),d.size===1&&o.addEventListener("click",Qn.fromEvent)}static unbind(t,e){let i,o="";if(ih(t)?(i=document.body,o=t):(i=t,ih(e)&&(o=e)),!i)return;const a=Qn.openers.get(i);a&&o&&a.delete(o),o&&a||(Qn.openers.delete(i),i.removeEventListener("click",Qn.fromEvent))}static destroy(){let t;for(;t=Qn.getInstance();)t.destroy();for(const e of Qn.openers.keys())e.removeEventListener("click",Qn.fromEvent);Qn.openers=new Map}static fromEvent(t){if(t.defaultPrevented||t.button&&t.button!==0||t.ctrlKey||t.metaKey||t.shiftKey)return;let e=t.composedPath()[0];const i=e.closest("[data-fancybox-trigger]");if(i){const y=i.dataset.fancyboxTrigger||"",x=document.querySelectorAll(`[data-fancybox="${y}"]`),I=parseInt(i.dataset.fancyboxIndex||"",10)||0;e=x[I]||e}if(!(e&&e instanceof Element))return;let o,a,c,d;if([...Qn.openers].reverse().find(([y,x])=>!(!y.contains(e)||![...x].reverse().find(([I,F])=>{let R=e.closest(I);return!!R&&(o=y,a=I,c=R,d=F,!0)}))),!o||!a||!c)return;d=d||{},t.preventDefault(),e=c;let h=[],p=Ra({},JT,d);p.event=t,p.triggerEl=e,p.delegate=i;const g=p.groupAll,w=p.groupAttr,v=w&&e?e.getAttribute(`${w}`):"";if((!e||v||g)&&(h=[].slice.call(o.querySelectorAll(a))),e&&!g&&(h=v?h.filter(y=>y.getAttribute(`${w}`)===v):[e]),!h.length)return;const k=Qn.getInstance();return k&&k.options.triggerEl&&h.indexOf(k.options.triggerEl)>-1?void 0:(e&&(p.startIndex=h.indexOf(e)),Qn.fromNodes(h,p))}static fromSelector(t,e,i){let o=null,a="",c={};if(ih(t)?(o=document.body,a=t,typeof e=="object"&&(c=e||{})):t instanceof HTMLElement&&ih(e)&&(o=t,a=e,typeof i=="object"&&(c=i||{})),!o||!a)return!1;const d=Qn.openers.get(o);return!!d&&(c=Ra({},d.get(a)||{},c),!!c&&Qn.fromNodes(Array.from(o.querySelectorAll(a)),c))}static fromNodes(t,e){e=Ra({},JT,e||{});const i=[];for(const o of t){const a=o.dataset||{},c=a[_m]||o.getAttribute(KS)||o.getAttribute("currentSrc")||o.getAttribute(_m)||void 0;let d;const h=e.delegate;let p;h&&i.length===e.startIndex&&(d=h instanceof HTMLImageElement?h:h.querySelector("img:not([aria-hidden])")),d||(d=o instanceof HTMLImageElement?o:o.querySelector("img:not([aria-hidden])")),d&&(p=d.currentSrc||d[_m]||void 0,!p&&d.dataset&&(p=d.dataset.lazySrc||d.dataset[_m]||void 0));const g={src:c,triggerEl:o,thumbEl:d,thumbElSrc:p,thumbSrc:p};for(const w in a){let v=a[w]+"";v=v!=="false"&&(v==="true"||v),g[w]=v}i.push(g)}return new Qn(i,e)}static getInstance(t){return t?km.get(t):Array.from(km.values()).reverse().find(e=>!e.isClosing()&&e)||null}static getSlide(){var t;return((t=Qn.getInstance())===null||t===void 0?void 0:t.getSlide())||null}static show(t=[],e={}){return new Qn(t,e)}static next(){const t=Qn.getInstance();t&&t.next()}static prev(){const t=Qn.getInstance();t&&t.prev()}static close(t=!0,...e){if(t)for(const i of km.values())i.close(...e);else{const i=Qn.getInstance();i&&i.close(...e)}}}Object.defineProperty(Qn,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Qn,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:JT}),Object.defineProperty(Qn,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Eot}),Object.defineProperty(Qn,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});const aa=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),tI=[.001,0,0,.001,0,0],GS=1.35,_l={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},bu={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Bot="pdfjs_internal_editor_",sn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},On={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},S3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Co={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},i_={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ts={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Pm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},A0={ERRORS:0,WARNINGS:1,INFOS:5},m_={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Hy={moveTo:0,lineTo:1,curveTo:2,closePath:3},T3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Zx=A0.WARNINGS;function Sot(r){Number.isInteger(r)&&(Zx=r)}function Tot(){return Zx}function Jx(r){Zx>=A0.INFOS&&console.log(`Info: ${r}`)}function An(r){Zx>=A0.WARNINGS&&console.log(`Warning: ${r}`)}function Si(r){throw new Error(r)}function Gs(r,t){r||Si(t)}function Iot(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function CM(r,t=null,e=null){if(!r)return null;if(e&&typeof r=="string"){if(e.addDefaultProtocol&&r.startsWith("www.")){const o=r.match(/\./g);(o==null?void 0:o.length)>=2&&(r=`http://${r}`)}if(e.tryConvertEncoding)try{r=Fot(r)}catch{}}const i=t?URL.parse(r,t):URL.parse(r);return Iot(i)?i:null}function EM(r,t,e=!1){const i=URL.parse(r);return i?(i.hash=t,i.href):e&&CM(r,"http://example.com")?r.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Tn(r,t,e,i=!1){return Object.defineProperty(r,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Ng=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class N4 extends Ng{constructor(t,e){super(t,"PasswordException"),this.code=e}}class WS extends Ng{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class zE extends Ng{constructor(t){super(t,"InvalidPDFException")}}class b_ extends Ng{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class Dot extends Ng{constructor(t){super(t,"FormatError")}}class Tu extends Ng{constructor(t){super(t,"AbortException")}}function I3(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&Si("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const i=[];for(let o=0;o<t;o+=e){const a=Math.min(o+e,t),c=r.subarray(o,a);i.push(String.fromCharCode.apply(null,c))}return i.join("")}function u0(r){typeof r!="string"&&Si("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=r.charCodeAt(i)&255;return e}function Mot(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function Lot(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function Pot(){try{return new Function(""),!0}catch{return!1}}class Hr{static get isLittleEndian(){return Tn(this,"isLittleEndian",Lot())}static get isEvalSupported(){return Tn(this,"isEvalSupported",Pot())}static get isOffscreenCanvasSupported(){return Tn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Tn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){if(typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"){const{platform:t,userAgent:e}=navigator;return Tn(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}return Tn(this,"platform",{isAndroid:!1,isLinux:!1,isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Tn(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const $S=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var xu,zC,eI;class Ie{static makeHexColor(t,e,i){return`#${$S[t]}${$S[e]}${$S[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const o=t[i],a=t[i+1];t[i]=o*e[0]+a*e[2]+e[4],t[i+1]=o*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const o=e[0],a=e[1],c=e[2],d=e[3],h=e[4],p=e[5];for(let g=0;g<6;g+=2){const w=t[i+g],v=t[i+g+1];t[i+g]=w*o+v*c+h,t[i+g+1]=w*a+v*d+p}}static applyInverseTransform(t,e){const i=t[0],o=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-o*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-i*e[1]+o*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,i){const o=e[0],a=e[1],c=e[2],d=e[3],h=e[4],p=e[5],g=t[0],w=t[1],v=t[2],k=t[3];let y=o*g+h,x=y,I=o*v+h,F=I,R=d*w+p,Q=R,V=d*k+p,W=V;if(a!==0||c!==0){const X=a*g,P=a*v,K=c*w,J=c*k;y+=K,F+=K,I+=J,x+=J,R+=X,W+=X,V+=P,Q+=P}i[0]=Math.min(i[0],y,I,x,F),i[1]=Math.min(i[1],R,V,Q,W),i[2]=Math.max(i[2],y,I,x,F),i[3]=Math.max(i[3],R,V,Q,W)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],o=t[1],a=t[2],c=t[3],d=i**2+o**2,h=i*a+o*c,p=a**2+c**2,g=(d+p)/2,w=Math.sqrt(g**2-(d*p-h**2));e[0]=Math.sqrt(g+w||1),e[1]=Math.sqrt(g-w||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),o=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>o)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>c?null:[i,a,o,c]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,o,a){a[0]=Math.min(a[0],t,i),a[1]=Math.min(a[1],e,o),a[2]=Math.max(a[2],t,i),a[3]=Math.max(a[3],e,o)}static bezierBoundingBox(t,e,i,o,a,c,d,h,p){p[0]=Math.min(p[0],t,d),p[1]=Math.min(p[1],e,h),p[2]=Math.max(p[2],t,d),p[3]=Math.max(p[3],e,h),lt(this,xu,eI).call(this,t,i,a,d,e,o,c,h,3*(-t+3*(i-a)+d),6*(t-2*i+a),3*(i-t),p),lt(this,xu,eI).call(this,t,i,a,d,e,o,c,h,3*(-e+3*(o-c)+h),6*(e-2*o+c),3*(o-e),p)}}xu=new WeakSet,zC=function(t,e,i,o,a,c,d,h,p,g){if(p<=0||p>=1)return;const w=1-p,v=p*p,k=v*p,y=w*(w*(w*t+3*p*e)+3*v*i)+k*o,x=w*(w*(w*a+3*p*c)+3*v*d)+k*h;g[0]=Math.min(g[0],y),g[1]=Math.min(g[1],x),g[2]=Math.max(g[2],y),g[3]=Math.max(g[3],x)},eI=function(t,e,i,o,a,c,d,h,p,g,w,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&lt(this,xu,zC).call(this,t,e,i,o,a,c,d,h,-w/g,v);return}const k=g**2-4*w*p;if(k<0)return;const y=Math.sqrt(k),x=2*p;lt(this,xu,zC).call(this,t,e,i,o,a,c,d,h,(-g+y)/x,v),lt(this,xu,zC).call(this,t,e,i,o,a,c,d,h,(-g-y)/x,v)},ot(Ie,xu);function Fot(r){return decodeURIComponent(escape(r))}let qS=null,R4=null;function D3(r){return qS||(qS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,R4=new Map([["ï¬","Å¿t"]])),r.replaceAll(qS,(t,e,i)=>e?e.normalize("NFKC"):R4.get(i))}function xM(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),I3(r)}const BM="pdfjs_internal_id_";function Oot(r,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,o,...a]=e;if(!r(i)&&!Number.isInteger(i)||!t(o))return!1;const c=a.length;let d=!0;switch(o.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;d=!1;break;default:return!1}for(const h of a)if(!(typeof h=="number"||d&&h===null))return!1;return!0}function Lo(r,t,e){return Math.min(Math.max(r,t),e)}function M3(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(I3(r))}function Not(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):u0(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...t){return new Promise(e=>{e(r(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((t,e)=>t+e,0)});const PA="http://www.w3.org/2000/svg",rp=class rp{};Ft(rp,"CSS",96),Ft(rp,"PDF",72),Ft(rp,"PDF_TO_CSS_UNITS",rp.CSS/rp.PDF);let Iu=rp;async function Cw(r,t="text"){if(Fm(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const o=new XMLHttpRequest;o.open("GET",r,!0),o.responseType=t,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(o.status===200||o.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(o.response);return}e(o.responseText);return}i(new Error(o.statusText))}},o.send(null)})}class h0{constructor({viewBox:t,userUnit:e,scale:i,rotation:o,offsetX:a=0,offsetY:c=0,dontFlip:d=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=o,this.offsetX=a,this.offsetY=c,i*=e;const h=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,w,v,k;switch(o%=360,o<0&&(o+=360),o){case 180:g=-1,w=0,v=0,k=1;break;case 90:g=0,w=1,v=1,k=0;break;case 270:g=0,w=-1,v=-1,k=0;break;case 0:g=1,w=0,v=0,k=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}d&&(v=-v,k=-k);let y,x,I,F;g===0?(y=Math.abs(p-t[1])*i+a,x=Math.abs(h-t[0])*i+c,I=(t[3]-t[1])*i,F=(t[2]-t[0])*i):(y=Math.abs(h-t[0])*i+a,x=Math.abs(p-t[1])*i+c,I=(t[2]-t[0])*i,F=(t[3]-t[1])*i),this.transform=[g*i,w*i,v*i,k*i,y-g*i*h-v*i*p,x-w*i*h-k*i*p],this.width=I,this.height=F}get rawDims(){const t=this.viewBox;return Tn(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:o=this.offsetY,dontFlip:a=!1}={}){return new h0({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:o,dontFlip:a})}convertToViewportPoint(t,e){const i=[t,e];return Ie.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];Ie.applyTransform(e,this.transform);const i=[t[2],t[3]];return Ie.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return Ie.applyInverseTransform(i,this.transform),i}}class tB extends Ng{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function f0(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function eB(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function L3(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function P3(r,t="document.pdf"){if(typeof r!="string")return t;if(f0(r))return An('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=e.exec(r);let a=i.exec(o[1])||i.exec(o[2])||i.exec(o[3]);if(a&&(a=a[0],a.includes("%")))try{a=i.exec(decodeURIComponent(a))[0]}catch{}return a||t}class U4{constructor(){Ft(this,"started",Object.create(null));Ft(this,"times",[])}time(t){t in this.started&&An(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||An(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:o,end:a}of this.times)t.push(`${i.padEnd(e)} ${a-o}ms
`);return t.join("")}}function Fm(r,t){const e=t?URL.parse(r,t):URL.parse(r);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function bc(r){r.preventDefault()}function Ls(r){r.preventDefault(),r.stopPropagation()}var P_;class nB{static toDateObject(t){if(!t||typeof t!="string")return null;B(this,P_)||Z(this,P_,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=B(this,P_).exec(t);if(!e)return null;const i=parseInt(e[1],10);let o=parseInt(e[2],10);o=o>=1&&o<=12?o-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let w=parseInt(e[9],10)||0;return w=w>=0&&w<=59?w:0,p==="-"?(c+=g,d+=w):p==="+"&&(c-=g,d-=w),new Date(Date.UTC(i,o,a,c,d,h))}}P_=new WeakMap,ot(nB,P_);function F3(r,{scale:t=1,rotation:e=0}){const{width:i,height:o}=r.attributes.style,a=[0,0,parseInt(i),parseInt(o)];return new h0({viewBox:a,userUnit:1,scale:t,rotation:e})}function SM(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(An(`Not a valid color format: "${r}"`),[0,0,0])}function Rot(r){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of r.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;r.set(e,SM(i))}t.remove()}function hs(r){const{a:t,b:e,c:i,d:o,e:a,f:c}=r.getTransform();return[t,e,i,o,a,c]}function Ed(r){const{a:t,b:e,c:i,d:o,e:a,f:c}=r.getTransform().invertSelf();return[t,e,i,o,a,c]}function of(r,t,e=!1,i=!0){if(t instanceof h0){const{pageWidth:o,pageHeight:a}=t.rawDims,{style:c}=r,d=Hr.isCSSRoundSupported,h=`var(--total-scale-factor) * ${o}px`,p=`var(--total-scale-factor) * ${a}px`,g=d?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,w=d?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!e||t.rotation%180===0?(c.width=g,c.height=w):(c.width=w,c.height=g)}i&&r.setAttribute("data-main-rotation",t.rotation)}class tA{constructor(){const{pixelRatio:t}=tA;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,o){let a=1/0,c=1/0,d=1/0;i>0&&(a=Math.sqrt(i/(t*e))),o!==-1&&(c=o/t,d=o/e);const h=Math.min(a,c,d);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}}const jE=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var ch,hp,ec,dh,F_,Zm,O_,px,O3,po,N3,R3,_v,U3,jC;const UA=class UA{constructor(t){ot(this,po);ot(this,ch,null);ot(this,hp,null);ot(this,ec);ot(this,dh,null);ot(this,F_,null);ot(this,Zm,null);Z(this,ec,t),B(UA,O_)||Z(UA,O_,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=Z(this,ch,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=B(this,ec)._uiManager._signal;t.addEventListener("contextmenu",bc,{signal:e}),t.addEventListener("pointerdown",lt(UA,px,O3),{signal:e});const i=Z(this,dh,document.createElement("div"));i.className="buttons",t.append(i);const o=B(this,ec).toolbarPosition;if(o){const{style:a}=t,c=B(this,ec)._uiManager.direction==="ltr"?1-o[0]:o[0];a.insetInlineEnd=`${100*c}%`,a.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return lt(this,po,U3).call(this),t}get div(){return B(this,ch)}hide(){var t;B(this,ch).classList.add("hidden"),(t=B(this,hp))==null||t.hideDropdown()}show(){var t;B(this,ch).classList.remove("hidden"),(t=B(this,F_))==null||t.shown()}async addAltText(t){const e=await t.render();lt(this,po,_v).call(this,e),B(this,dh).prepend(e,B(this,po,jC)),Z(this,F_,t)}addColorPicker(t){Z(this,hp,t);const e=t.renderButton();lt(this,po,_v).call(this,e),B(this,dh).prepend(e,B(this,po,jC))}async addEditSignatureButton(t){const e=Z(this,Zm,await t.renderEditButton(B(this,ec)));lt(this,po,_v).call(this,e),B(this,dh).prepend(e,B(this,po,jC))}updateEditSignatureButton(t){B(this,Zm)&&(B(this,Zm).title=t)}remove(){var t;B(this,ch).remove(),(t=B(this,hp))==null||t.destroy(),Z(this,hp,null)}};ch=new WeakMap,hp=new WeakMap,ec=new WeakMap,dh=new WeakMap,F_=new WeakMap,Zm=new WeakMap,O_=new WeakMap,px=new WeakSet,O3=function(t){t.stopPropagation()},po=new WeakSet,N3=function(t){B(this,ec)._focusEventsAllowed=!1,Ls(t)},R3=function(t){B(this,ec)._focusEventsAllowed=!0,Ls(t)},_v=function(t){const e=B(this,ec)._uiManager._signal;t.addEventListener("focusin",lt(this,po,N3).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",lt(this,po,R3).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",bc,{signal:e})},U3=function(){const{editorType:t,_uiManager:e}=B(this,ec),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",B(UA,O_)[t]),lt(this,po,_v).call(this,i),i.addEventListener("click",o=>{e.delete()},{signal:e._signal}),B(this,dh).append(i)},jC=function(){const t=document.createElement("div");return t.className="divider",t},ot(UA,px),ot(UA,O_,null);let nI=UA;var N_,fp,pp,Af,Q3,H3,z3;class Uot{constructor(t){ot(this,Af);ot(this,N_,null);ot(this,fp,null);ot(this,pp);Z(this,pp,t)}show(t,e,i){const[o,a]=lt(this,Af,H3).call(this,e,i),{style:c}=B(this,fp)||Z(this,fp,lt(this,Af,Q3).call(this));t.append(B(this,fp)),c.insetInlineEnd=`${100*o}%`,c.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){B(this,fp).remove()}}N_=new WeakMap,fp=new WeakMap,pp=new WeakMap,Af=new WeakSet,Q3=function(){const t=Z(this,fp,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",bc,{signal:B(this,pp)._signal});const e=Z(this,N_,document.createElement("div"));return e.className="buttons",t.append(e),lt(this,Af,z3).call(this),t},H3=function(t,e){let i=0,o=0;for(const a of t){const c=a.y+a.height;if(c<i)continue;const d=a.x+(e?a.width:0);if(c>i){o=d,i=c;continue}e?d>o&&(o=d):d<o&&(o=d)}return[e?1-o:o,i]},z3=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=B(this,pp)._signal;t.addEventListener("contextmenu",bc,{signal:i}),t.addEventListener("click",()=>{B(this,pp).highlightSelection("floating_button")},{signal:i}),B(this,N_).append(t)};function TM(r,t,e){for(const i of e)t.addEventListener(i,r[i].bind(r))}var gx;class Qot{constructor(){ot(this,gx,0)}get id(){return`${Bot}${ta(this,gx)._++}`}}gx=new WeakMap;var Jm,R_,Bo,tb,VC;const lL=class lL{constructor(){ot(this,tb);ot(this,Jm,xM());ot(this,R_,0);ot(this,Bo,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;o.src=t;const a=o.decode().then(()=>(i.drawImage(o,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Tn(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:i,size:o,type:a}=t;return lt(this,tb,VC).call(this,`${e}_${i}_${o}_${a}`,t)}async getFromUrl(t){return lt(this,tb,VC).call(this,t,t)}async getFromBlob(t,e){const i=await e;return lt(this,tb,VC).call(this,t,i)}async getFromId(t){B(this,Bo)||Z(this,Bo,new Map);const e=B(this,Bo).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){B(this,Bo)||Z(this,Bo,new Map);let i=B(this,Bo).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const o=new OffscreenCanvas(e.width,e.height);return o.getContext("2d").drawImage(e,0,0),i={bitmap:o.transferToImageBitmap(),id:`image_${B(this,Jm)}_${ta(this,R_)._++}`,refCounter:1,isSvg:!1},B(this,Bo).set(t,i),B(this,Bo).set(i.id,i),i}getSvgUrl(t){const e=B(this,Bo).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var o;B(this,Bo)||Z(this,Bo,new Map);const e=B(this,Bo).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}(o=i.close)==null||o.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${B(this,Jm)}_`)}};Jm=new WeakMap,R_=new WeakMap,Bo=new WeakMap,tb=new WeakSet,VC=async function(t,e){B(this,Bo)||Z(this,Bo,new Map);let i=B(this,Bo).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${B(this,Jm)}_${ta(this,R_)._++}`,refCounter:0,isSvg:!1});let o;if(typeof e=="string"?(i.url=e,o=await Cw(e,"blob")):e instanceof File?o=i.file=e:e instanceof Blob&&(o=e),o.type==="image/svg+xml"){const a=lL._isSVGFittingCanvas,c=new FileReader,d=new Image,h=new Promise((p,g)=>{d.onload=()=>{i.bitmap=d,i.isSvg=!0,p()},c.onload=async()=>{const w=i.svgUrl=c.result;d.src=await a?`${w}#svgView(preserveAspectRatio(none))`:w},d.onerror=c.onerror=g});c.readAsDataURL(o),await h}else i.bitmap=await createImageBitmap(o);i.refCounter=1}catch(o){An(o),i=null}return B(this,Bo).set(t,i),i&&B(this,Bo).set(i.id,i),i};let iI=lL;var Is,Ah,U_,us;class Hot{constructor(t=128){ot(this,Is,[]);ot(this,Ah,!1);ot(this,U_);ot(this,us,-1);Z(this,U_,t)}add({cmd:t,undo:e,post:i,mustExec:o,type:a=NaN,overwriteIfSameType:c=!1,keepUndo:d=!1}){if(o&&t(),B(this,Ah))return;const h={cmd:t,undo:e,post:i,type:a};if(B(this,us)===-1){B(this,Is).length>0&&(B(this,Is).length=0),Z(this,us,0),B(this,Is).push(h);return}if(c&&B(this,Is)[B(this,us)].type===a){d&&(h.undo=B(this,Is)[B(this,us)].undo),B(this,Is)[B(this,us)]=h;return}const p=B(this,us)+1;p===B(this,U_)?B(this,Is).splice(0,1):(Z(this,us,p),p<B(this,Is).length&&B(this,Is).splice(p)),B(this,Is).push(h)}undo(){if(B(this,us)===-1)return;Z(this,Ah,!0);const{undo:t,post:e}=B(this,Is)[B(this,us)];t(),e==null||e(),Z(this,Ah,!1),Z(this,us,B(this,us)-1)}redo(){if(B(this,us)<B(this,Is).length-1){Z(this,us,B(this,us)+1),Z(this,Ah,!0);const{cmd:t,post:e}=B(this,Is)[B(this,us)];t(),e==null||e(),Z(this,Ah,!1)}}hasSomethingToUndo(){return B(this,us)!==-1}hasSomethingToRedo(){return B(this,us)<B(this,Is).length-1}cleanType(t){if(B(this,us)!==-1){for(let e=B(this,us);e>=0;e--)if(B(this,Is)[e].type!==t){B(this,Is).splice(e+1,B(this,us)-e),Z(this,us,e);return}B(this,Is).length=0,Z(this,us,-1)}}destroy(){Z(this,Is,null)}}Is=new WeakMap,Ah=new WeakMap,U_=new WeakMap,us=new WeakMap;var mx,j3;class p0{constructor(t){ot(this,mx);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Hr.platform;for(const[i,o,a={}]of t)for(const c of i){const d=c.startsWith("mac+");e&&d?(this.callbacks.set(c.slice(4),{callback:o,options:a}),this.allKeys.add(c.split("+").at(-1))):!e&&!d&&(this.callbacks.set(c,{callback:o,options:a}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(lt(this,mx,j3).call(this,e));if(!i)return;const{callback:o,options:{bubbles:a=!1,args:c=[],checker:d=null}}=i;d&&!d(t,e)||(o.bind(t,...c,e)(),a||Ls(e))}}mx=new WeakSet,j3=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const bx=class bx{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Rot(t),Tn(this,"_colors",t)}convert(t){const e=SM(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,o]of this._colors)if(o.every((a,c)=>a===e[c]))return bx._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Ie.makeHexColor(...e):t}};Ft(bx,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let sI=bx;var eb,ll,fr,so,nb,jA,ib,nc,uh,hh,sb,gp,Dd,Oc,mp,Q_,H_,rb,z_,Md,fh,ob,ph,Ld,wx,gh,j_,mh,bp,wp,bh,V_,Mr,wi,VA,wh,vp,K_,G_,vh,Pd,KA,W_,ic,ge,KC,rI,V3,K3,GC,G3,W3,$3,oI,q3,aI,lI,Y3,ea,FA,X3,Z3,cI,J3,kv,dI;const Wm=class Wm{constructor(t,e,i,o,a,c,d,h,p,g,w,v,k,y){ot(this,ge);ot(this,eb,new AbortController);ot(this,ll,null);ot(this,fr,new Map);ot(this,so,new Map);ot(this,nb,null);ot(this,jA,null);ot(this,ib,null);ot(this,nc,new Hot);ot(this,uh,null);ot(this,hh,null);ot(this,sb,0);ot(this,gp,new Set);ot(this,Dd,null);ot(this,Oc,null);ot(this,mp,new Set);Ft(this,"_editorUndoBar",null);ot(this,Q_,!1);ot(this,H_,!1);ot(this,rb,!1);ot(this,z_,null);ot(this,Md,null);ot(this,fh,null);ot(this,ob,null);ot(this,ph,!1);ot(this,Ld,null);ot(this,wx,new Qot);ot(this,gh,!1);ot(this,j_,!1);ot(this,mh,null);ot(this,bp,null);ot(this,wp,null);ot(this,bh,null);ot(this,V_,null);ot(this,Mr,sn.NONE);ot(this,wi,new Set);ot(this,VA,null);ot(this,wh,null);ot(this,vp,null);ot(this,K_,null);ot(this,G_,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ot(this,vh,[0,0]);ot(this,Pd,null);ot(this,KA,null);ot(this,W_,null);ot(this,ic,null);const x=this._signal=B(this,eb).signal;Z(this,KA,t),Z(this,W_,e),Z(this,nb,i),Z(this,wh,o),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:x}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),a._on("setpreference",this.onSetPreference.bind(this),{signal:x}),a._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:x}),lt(this,ge,G3).call(this),lt(this,ge,Y3).call(this),lt(this,ge,oI).call(this),Z(this,jA,c.annotationStorage),Z(this,z_,c.filterFactory),Z(this,vp,d),Z(this,ob,h||null),Z(this,Q_,p),Z(this,H_,g),Z(this,rb,w),Z(this,V_,v||null),this.viewParameters={realScale:Iu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=k||null,this._supportsPinchToZoom=y!==!1}static get _keyboardManager(){const t=Wm.prototype,e=c=>B(c,KA).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),i=(c,{target:d})=>{if(d instanceof HTMLInputElement){const{type:h}=d;return h!=="text"&&h!=="number"}return!0},o=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Tn(this,"_keyboardManager",new p0([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&B(c,KA).contains(d)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&B(c,KA).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,i,o,a,c,d,h;(t=B(this,ic))==null||t.resolve(),Z(this,ic,null),(e=B(this,eb))==null||e.abort(),Z(this,eb,null),this._signal=null;for(const p of B(this,so).values())p.destroy();B(this,so).clear(),B(this,fr).clear(),B(this,mp).clear(),(i=B(this,bh))==null||i.clear(),Z(this,ll,null),B(this,wi).clear(),B(this,nc).destroy(),(o=B(this,nb))==null||o.destroy(),(a=B(this,wh))==null||a.destroy(),(c=B(this,Ld))==null||c.hide(),Z(this,Ld,null),(d=B(this,wp))==null||d.destroy(),Z(this,wp,null),B(this,Md)&&(clearTimeout(B(this,Md)),Z(this,Md,null)),B(this,Pd)&&(clearTimeout(B(this,Pd)),Z(this,Pd,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return B(this,V_)}get useNewAltTextFlow(){return B(this,H_)}get useNewAltTextWhenAddingImage(){return B(this,rb)}get hcmFilter(){return Tn(this,"hcmFilter",B(this,vp)?B(this,z_).addHCMFilter(B(this,vp).foreground,B(this,vp).background):"none")}get direction(){return Tn(this,"direction",getComputedStyle(B(this,KA)).direction)}get highlightColors(){return Tn(this,"highlightColors",B(this,ob)?new Map(B(this,ob).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Tn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),Z(this,hh,t)}setMainHighlightColorPicker(t){Z(this,wp,t)}editAltText(t,e=!1){var i;(i=B(this,nb))==null||i.editAltText(this,t,e)}getSignature(t){var e;(e=B(this,wh))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return B(this,wh)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":Z(this,rb,e);break}}onPageChanging({pageNumber:t}){Z(this,sb,t-1)}focusMainContainer(){B(this,KA).focus()}findParent(t,e){for(const i of B(this,so).values()){const{x:o,y:a,width:c,height:d}=i.div.getBoundingClientRect();if(t>=o&&t<=o+c&&e>=a&&e<=a+d)return i}return null}disableUserSelect(t=!1){B(this,W_).classList.toggle("noUserSelect",t)}addShouldRescale(t){B(this,mp).add(t)}removeShouldRescale(t){B(this,mp).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Iu.PDF_TO_CSS_UNITS;for(const i of B(this,mp))i.onScaleChanging();(e=B(this,hh))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:o,focusNode:a,focusOffset:c}=e,d=e.toString(),p=lt(this,ge,KC).call(this,e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const w=lt(this,ge,rI).call(this,p),v=B(this,Mr)===sn.NONE,k=()=>{w==null||w.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:i,anchorOffset:o,focusNode:a,focusOffset:c,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(sn.HIGHLIGHT,k);return}k()}addToAnnotationStorage(t){!t.isEmpty()&&B(this,jA)&&!B(this,jA).has(t.id)&&B(this,jA).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,B(this,ph)&&(Z(this,ph,!1),lt(this,ge,GC).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of B(this,wi))if(e.div.contains(t)){Z(this,bp,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!B(this,bp))return;const[t,e]=B(this,bp);Z(this,bp,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){lt(this,ge,oI).call(this),lt(this,ge,aI).call(this)}removeEditListeners(){lt(this,ge,q3).call(this),lt(this,ge,lI).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of B(this,Oc))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of B(this,Oc))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=B(this,ll))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const o of B(this,wi)){const a=o.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const c of B(this,Oc))if(c.isHandlingMimeForPasting(a.type)){c.paste(a,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){An(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const o=this.currentLayer;try{const a=[];for(const h of i){const p=await o.deserialize(h);if(!p)return;a.push(p)}const c=()=>{for(const h of a)lt(this,ge,cI).call(this,h);lt(this,ge,dI).call(this,a)},d=()=>{for(const h of a)h.remove()};this.addCommands({cmd:c,undo:d,mustExec:!0})}catch(a){An(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),B(this,Mr)!==sn.NONE&&!this.isEditorHandlingKeyboard&&Wm._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,B(this,ph)&&(Z(this,ph,!1),lt(this,ge,GC).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(lt(this,ge,W3).call(this),lt(this,ge,aI).call(this),lt(this,ge,ea).call(this,{isEditing:B(this,Mr)!==sn.NONE,isEmpty:lt(this,ge,kv).call(this),hasSomethingToUndo:B(this,nc).hasSomethingToUndo(),hasSomethingToRedo:B(this,nc).hasSomethingToRedo(),hasSelectedEditor:!1})):(lt(this,ge,$3).call(this),lt(this,ge,lI).call(this),lt(this,ge,ea).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!B(this,Oc)){Z(this,Oc,t);for(const e of B(this,Oc))lt(this,ge,FA).call(this,e.defaultPropertiesToUpdate)}}getId(){return B(this,wx).id}get currentLayer(){return B(this,so).get(B(this,sb))}getLayer(t){return B(this,so).get(t)}get currentPageIndex(){return B(this,sb)}addLayer(t){B(this,so).set(t.pageIndex,t),B(this,gh)?t.enable():t.disable()}removeLayer(t){B(this,so).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){var o,a,c;if(B(this,Mr)!==t&&!(B(this,ic)&&(await B(this,ic).promise,!B(this,ic)))){if(Z(this,ic,Promise.withResolvers()),(o=B(this,hh))==null||o.commitOrRemove(),Z(this,Mr,t),t===sn.NONE){this.setEditingState(!1),lt(this,ge,Z3).call(this),(a=this._editorUndoBar)==null||a.hide(),B(this,ic).resolve();return}t===sn.SIGNATURE&&await((c=B(this,wh))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await lt(this,ge,X3).call(this),this.unselectAll();for(const d of B(this,so).values())d.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),B(this,ic).resolve();return}for(const d of B(this,fr).values())d.annotationElementId===e?(this.setSelected(d),d.enterInEditMode()):d.unselect();B(this,ic).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==B(this,Mr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(B(this,Oc)){switch(t){case On.CREATE:this.currentLayer.addNewEditor(e);return;case On.HIGHLIGHT_DEFAULT_COLOR:(i=B(this,wp))==null||i.updateColor(e);break;case On.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(B(this,K_)||Z(this,K_,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const o of B(this,wi))o.updateParams(t,e);for(const o of B(this,Oc))o.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var a;for(const c of B(this,fr).values())c.editorType===t&&c.show(e);(((a=B(this,K_))==null?void 0:a.get(On.HIGHLIGHT_SHOW_ALL))??!0)!==e&&lt(this,ge,FA).call(this,[[On.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(B(this,j_)!==t){Z(this,j_,t);for(const e of B(this,so).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of B(this,fr).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return B(this,fr).get(t)}addEditor(t){B(this,fr).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(B(this,Md)&&clearTimeout(B(this,Md)),Z(this,Md,setTimeout(()=>{this.focusMainContainer(),Z(this,Md,null)},0))),B(this,fr).delete(t.id),t.annotationElementId&&((e=B(this,bh))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!B(this,gp).has(t.annotationElementId))&&((i=B(this,jA))==null||i.remove(t.id))}addDeletedAnnotationElement(t){B(this,gp).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return B(this,gp).has(t)}removeDeletedAnnotationElement(t){B(this,gp).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){B(this,ll)!==t&&(Z(this,ll,t),t&&lt(this,ge,FA).call(this,t.propertiesToUpdate))}updateUI(t){B(this,ge,J3)===t&&lt(this,ge,FA).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){lt(this,ge,FA).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(B(this,wi).has(t)){B(this,wi).delete(t),t.unselect(),lt(this,ge,ea).call(this,{hasSelectedEditor:this.hasSelection});return}B(this,wi).add(t),t.select(),lt(this,ge,FA).call(this,t.propertiesToUpdate),lt(this,ge,ea).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=B(this,hh))==null||e.commitOrRemove();for(const i of B(this,wi))i!==t&&i.unselect();B(this,wi).clear(),B(this,wi).add(t),t.select(),lt(this,ge,FA).call(this,t.propertiesToUpdate),lt(this,ge,ea).call(this,{hasSelectedEditor:!0})}isSelected(t){return B(this,wi).has(t)}get firstSelectedEditor(){return B(this,wi).values().next().value}unselect(t){t.unselect(),B(this,wi).delete(t),lt(this,ge,ea).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return B(this,wi).size!==0}get isEnterHandled(){return B(this,wi).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;B(this,nc).undo(),lt(this,ge,ea).call(this,{hasSomethingToUndo:B(this,nc).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:lt(this,ge,kv).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){B(this,nc).redo(),lt(this,ge,ea).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:B(this,nc).hasSomethingToRedo(),isEmpty:lt(this,ge,kv).call(this)})}addCommands(t){B(this,nc).add(t),lt(this,ge,ea).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:lt(this,ge,kv).call(this)})}cleanUndoStack(t){B(this,nc).cleanType(t)}delete(){var a;this.commitOrRemove();const t=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...B(this,wi)],i=()=>{var c;(c=this._editorUndoBar)==null||c.show(o,e.length===1?e[0].editorType:e.length);for(const d of e)d.remove()},o=()=>{for(const c of e)lt(this,ge,cI).call(this,c)};this.addCommands({cmd:i,undo:o,mustExec:!0})}commitOrRemove(){var t;(t=B(this,ll))==null||t.commitOrRemove()}hasSomethingToControl(){return B(this,ll)||this.hasSelection}selectAll(){for(const t of B(this,wi))t.commit();lt(this,ge,dI).call(this,B(this,fr).values())}unselectAll(){var t;if(!(B(this,ll)&&(B(this,ll).commitOrRemove(),B(this,Mr)!==sn.NONE))&&!((t=B(this,hh))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of B(this,wi))e.unselect();B(this,wi).clear(),lt(this,ge,ea).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;B(this,vh)[0]+=t,B(this,vh)[1]+=e;const[o,a]=B(this,vh),c=[...B(this,wi)],d=1e3;B(this,Pd)&&clearTimeout(B(this,Pd)),Z(this,Pd,setTimeout(()=>{Z(this,Pd,null),B(this,vh)[0]=B(this,vh)[1]=0,this.addCommands({cmd:()=>{for(const h of c)B(this,fr).has(h.id)&&(h.translateInPage(o,a),h.translationDone())},undo:()=>{for(const h of c)B(this,fr).has(h.id)&&(h.translateInPage(-o,-a),h.translationDone())},mustExec:!1})},d));for(const h of c)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Z(this,Dd,new Map);for(const t of B(this,wi))B(this,Dd).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!B(this,Dd))return!1;this.disableUserSelect(!1);const t=B(this,Dd);Z(this,Dd,null);let e=!1;for(const[{x:o,y:a,pageIndex:c},d]of t)d.newX=o,d.newY=a,d.newPageIndex=c,e||(e=o!==d.savedX||a!==d.savedY||c!==d.savedPageIndex);if(!e)return!1;const i=(o,a,c,d)=>{if(B(this,fr).has(o.id)){const h=B(this,so).get(d);h?o._setParentAndPosition(h,a,c):(o.pageIndex=d,o.x=a,o.y=c)}};return this.addCommands({cmd:()=>{for(const[o,{newX:a,newY:c,newPageIndex:d}]of t)i(o,a,c,d)},undo:()=>{for(const[o,{savedX:a,savedY:c,savedPageIndex:d}]of t)i(o,a,c,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(B(this,Dd))for(const i of B(this,Dd).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||B(this,wi).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return B(this,ll)===t}getActive(){return B(this,ll)}getMode(){return B(this,Mr)}get imageManager(){return Tn(this,"imageManager",new iI)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:i,y:o,width:a,height:c}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(p,g,w,v)=>({x:(g-o)/c,y:1-(p+w-i)/a,width:v/c,height:w/a});break;case"180":d=(p,g,w,v)=>({x:1-(p+w-i)/a,y:1-(g+v-o)/c,width:w/a,height:v/c});break;case"270":d=(p,g,w,v)=>({x:1-(g+v-o)/c,y:(p-i)/a,width:v/c,height:w/a});break;default:d=(p,g,w,v)=>({x:(p-i)/a,y:(g-o)/c,width:w/a,height:v/c});break}const h=[];for(let p=0,g=e.rangeCount;p<g;p++){const w=e.getRangeAt(p);if(!w.collapsed)for(const{x:v,y:k,width:y,height:x}of w.getClientRects())y===0||x===0||h.push(d(v,k,y,x))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(B(this,ib)||Z(this,ib,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=B(this,ib))==null||e.delete(t)}renderAnnotationElement(t){var o;const e=(o=B(this,ib))==null?void 0:o.get(t.data.id);if(!e)return;const i=B(this,jA).getRawValue(e);i&&(B(this,Mr)===sn.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var a;const o=(a=B(this,bh))==null?void 0:a.get(t);o&&(o.setCanvas(e,i),B(this,bh).delete(t))}addMissingCanvas(t,e){(B(this,bh)||Z(this,bh,new Map)).set(t,e)}};eb=new WeakMap,ll=new WeakMap,fr=new WeakMap,so=new WeakMap,nb=new WeakMap,jA=new WeakMap,ib=new WeakMap,nc=new WeakMap,uh=new WeakMap,hh=new WeakMap,sb=new WeakMap,gp=new WeakMap,Dd=new WeakMap,Oc=new WeakMap,mp=new WeakMap,Q_=new WeakMap,H_=new WeakMap,rb=new WeakMap,z_=new WeakMap,Md=new WeakMap,fh=new WeakMap,ob=new WeakMap,ph=new WeakMap,Ld=new WeakMap,wx=new WeakMap,gh=new WeakMap,j_=new WeakMap,mh=new WeakMap,bp=new WeakMap,wp=new WeakMap,bh=new WeakMap,V_=new WeakMap,Mr=new WeakMap,wi=new WeakMap,VA=new WeakMap,wh=new WeakMap,vp=new WeakMap,K_=new WeakMap,G_=new WeakMap,vh=new WeakMap,Pd=new WeakMap,KA=new WeakMap,W_=new WeakMap,ic=new WeakMap,ge=new WeakSet,KC=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},rI=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of B(this,so).values())if(i.hasTextLayer(t))return i;return null},V3=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=lt(this,ge,KC).call(this,t).closest(".textLayer"),o=this.getSelectionBoxes(i);o&&(B(this,Ld)||Z(this,Ld,new Uot(this)),B(this,Ld).show(i,o,this.direction==="ltr"))},K3=function(){var a,c,d;const t=document.getSelection();if(!t||t.isCollapsed){B(this,VA)&&((a=B(this,Ld))==null||a.hide(),Z(this,VA,null),lt(this,ge,ea).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===B(this,VA))return;const o=lt(this,ge,KC).call(this,t).closest(".textLayer");if(!o){B(this,VA)&&((c=B(this,Ld))==null||c.hide(),Z(this,VA,null),lt(this,ge,ea).call(this,{hasSelectedText:!1}));return}if((d=B(this,Ld))==null||d.hide(),Z(this,VA,e),lt(this,ge,ea).call(this,{hasSelectedText:!0}),!(B(this,Mr)!==sn.HIGHLIGHT&&B(this,Mr)!==sn.NONE)&&(B(this,Mr)===sn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Z(this,ph,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=B(this,Mr)===sn.HIGHLIGHT?lt(this,ge,rI).call(this,o):null;h==null||h.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),w=v=>{v.type==="pointerup"&&v.button!==0||(p.abort(),h==null||h.toggleDrawing(!0),v.type==="pointerup"&&lt(this,ge,GC).call(this,"main_toolbar"))};window.addEventListener("pointerup",w,{signal:g}),window.addEventListener("blur",w,{signal:g})}},GC=function(t=""){B(this,Mr)===sn.HIGHLIGHT?this.highlightSelection(t):B(this,Q_)&&lt(this,ge,V3).call(this)},G3=function(){document.addEventListener("selectionchange",lt(this,ge,K3).bind(this),{signal:this._signal})},W3=function(){if(B(this,fh))return;Z(this,fh,new AbortController);const t=this.combinedSignal(B(this,fh));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},$3=function(){var t;(t=B(this,fh))==null||t.abort(),Z(this,fh,null)},oI=function(){if(B(this,mh))return;Z(this,mh,new AbortController);const t=this.combinedSignal(B(this,mh));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},q3=function(){var t;(t=B(this,mh))==null||t.abort(),Z(this,mh,null)},aI=function(){if(B(this,uh))return;Z(this,uh,new AbortController);const t=this.combinedSignal(B(this,uh));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},lI=function(){var t;(t=B(this,uh))==null||t.abort(),Z(this,uh,null)},Y3=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},ea=function(t){Object.entries(t).some(([i,o])=>B(this,G_)[i]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(B(this,G_),t)}),B(this,Mr)===sn.HIGHLIGHT&&t.hasSelectedEditor===!1&&lt(this,ge,FA).call(this,[[On.HIGHLIGHT_FREE,!0]]))},FA=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},X3=async function(){if(!B(this,gh)){Z(this,gh,!0);const t=[];for(const e of B(this,so).values())t.push(e.enable());await Promise.all(t);for(const e of B(this,fr).values())e.enable()}},Z3=function(){if(this.unselectAll(),B(this,gh)){Z(this,gh,!1);for(const t of B(this,so).values())t.disable();for(const t of B(this,fr).values())t.disable()}},cI=function(t){const e=B(this,so).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},J3=function(){let t=null;for(t of B(this,wi));return t},kv=function(){if(B(this,fr).size===0)return!0;if(B(this,fr).size===1)for(const t of B(this,fr).values())return t.isEmpty();return!1},dI=function(t){for(const e of B(this,wi))e.unselect();B(this,wi).clear();for(const e of t)e.isEmpty()||(B(this,wi).add(e),e.select());lt(this,ge,ea).call(this,{hasSelectedEditor:this.hasSelection})},Ft(Wm,"TRANSLATE_SMALL",1),Ft(Wm,"TRANSLATE_BIG",10);let af=Wm;var Lr,Fd,Nc,ab,Od,cl,lb,Nd,Ta,GA,_p,Rd,_h,Yc,yv,WC;const na=class na{constructor(t){ot(this,Yc);ot(this,Lr,null);ot(this,Fd,!1);ot(this,Nc,null);ot(this,ab,null);ot(this,Od,null);ot(this,cl,null);ot(this,lb,!1);ot(this,Nd,null);ot(this,Ta,null);ot(this,GA,null);ot(this,_p,null);ot(this,Rd,!1);Z(this,Ta,t),Z(this,Rd,t._uiManager.useNewAltTextFlow),B(na,_h)||Z(na,_h,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){na._l10n??(na._l10n=t)}async render(){const t=Z(this,Nc,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=Z(this,ab,document.createElement("span"));t.append(e),B(this,Rd)?(t.classList.add("new"),t.setAttribute("data-l10n-id",B(na,_h).missing),e.setAttribute("data-l10n-id",B(na,_h)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=B(this,Ta)._uiManager._signal;t.addEventListener("contextmenu",bc,{signal:i}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const o=a=>{a.preventDefault(),B(this,Ta)._uiManager.editAltText(B(this,Ta)),B(this,Rd)&&B(this,Ta)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:B(this,Yc,yv)}})};return t.addEventListener("click",o,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(Z(this,lb,!0),o(a))},{signal:i}),await lt(this,Yc,WC).call(this),t}finish(){B(this,Nc)&&(B(this,Nc).focus({focusVisible:B(this,lb)}),Z(this,lb,!1))}isEmpty(){return B(this,Rd)?B(this,Lr)===null:!B(this,Lr)&&!B(this,Fd)}hasData(){return B(this,Rd)?B(this,Lr)!==null||!!B(this,GA):this.isEmpty()}get guessedText(){return B(this,GA)}async setGuessedText(t){B(this,Lr)===null&&(Z(this,GA,t),Z(this,_p,await na._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),lt(this,Yc,WC).call(this))}toggleAltTextBadge(t=!1){var e;if(!B(this,Rd)||B(this,Lr)){(e=B(this,Nd))==null||e.remove(),Z(this,Nd,null);return}if(!B(this,Nd)){const i=Z(this,Nd,document.createElement("div"));i.className="noAltTextBadge",B(this,Ta).div.append(i)}B(this,Nd).classList.toggle("hidden",!t)}serialize(t){let e=B(this,Lr);return!t&&B(this,GA)===e&&(e=B(this,_p)),{altText:e,decorative:B(this,Fd),guessedText:B(this,GA),textWithDisclaimer:B(this,_p)}}get data(){return{altText:B(this,Lr),decorative:B(this,Fd)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:o,cancel:a=!1}){i&&(Z(this,GA,i),Z(this,_p,o)),!(B(this,Lr)===t&&B(this,Fd)===e)&&(a||(Z(this,Lr,t),Z(this,Fd,e)),lt(this,Yc,WC).call(this))}toggle(t=!1){B(this,Nc)&&(!t&&B(this,cl)&&(clearTimeout(B(this,cl)),Z(this,cl,null)),B(this,Nc).disabled=!t)}shown(){B(this,Ta)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:B(this,Yc,yv)}})}destroy(){var t,e;(t=B(this,Nc))==null||t.remove(),Z(this,Nc,null),Z(this,ab,null),Z(this,Od,null),(e=B(this,Nd))==null||e.remove(),Z(this,Nd,null)}};Lr=new WeakMap,Fd=new WeakMap,Nc=new WeakMap,ab=new WeakMap,Od=new WeakMap,cl=new WeakMap,lb=new WeakMap,Nd=new WeakMap,Ta=new WeakMap,GA=new WeakMap,_p=new WeakMap,Rd=new WeakMap,_h=new WeakMap,Yc=new WeakSet,yv=function(){return B(this,Lr)&&"added"||B(this,Lr)===null&&this.guessedText&&"review"||"missing"},WC=async function(){var o,a,c;const t=B(this,Nc);if(!t)return;if(B(this,Rd)){if(t.classList.toggle("done",!!B(this,Lr)),t.setAttribute("data-l10n-id",B(na,_h)[B(this,Yc,yv)]),(o=B(this,ab))==null||o.setAttribute("data-l10n-id",B(na,_h)[`${B(this,Yc,yv)}-label`]),!B(this,Lr)){(a=B(this,Od))==null||a.remove();return}}else{if(!B(this,Lr)&&!B(this,Fd)){t.classList.remove("done"),(c=B(this,Od))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=B(this,Od);if(!e){Z(this,Od,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${B(this,Ta).id}`;const d=100,h=B(this,Ta)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(B(this,cl)),Z(this,cl,null)},{once:!0}),t.addEventListener("mouseenter",()=>{Z(this,cl,setTimeout(()=>{Z(this,cl,null),B(this,Od).classList.add("show"),B(this,Ta)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:h}),t.addEventListener("mouseleave",()=>{var p;B(this,cl)&&(clearTimeout(B(this,cl)),Z(this,cl,null)),(p=B(this,Od))==null||p.classList.remove("show")},{signal:h})}B(this,Fd)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=B(this,Lr)),e.parentNode||t.append(e);const i=B(this,Ta).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},ot(na,_h,null),Ft(na,"_l10n",null);let VE=na;var cb,kp,$_,q_,Y_,X_,Z_,WA,yp,$A,Cp,qA,uf,tj,ej,nj;const cL=class cL{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:o=null,onPinching:a=null,onPinchEnd:c=null,signal:d}){ot(this,uf);ot(this,cb);ot(this,kp,!1);ot(this,$_,null);ot(this,q_);ot(this,Y_);ot(this,X_);ot(this,Z_);ot(this,WA,null);ot(this,yp);ot(this,$A,null);ot(this,Cp);ot(this,qA,null);Z(this,cb,t),Z(this,$_,i),Z(this,q_,e),Z(this,Y_,o),Z(this,X_,a),Z(this,Z_,c),Z(this,Cp,new AbortController),Z(this,yp,AbortSignal.any([d,B(this,Cp).signal])),t.addEventListener("touchstart",lt(this,uf,tj).bind(this),{passive:!1,signal:B(this,yp)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/tA.pixelRatio}destroy(){var t,e;(t=B(this,Cp))==null||t.abort(),Z(this,Cp,null),(e=B(this,WA))==null||e.abort(),Z(this,WA,null)}};cb=new WeakMap,kp=new WeakMap,$_=new WeakMap,q_=new WeakMap,Y_=new WeakMap,X_=new WeakMap,Z_=new WeakMap,WA=new WeakMap,yp=new WeakMap,$A=new WeakMap,Cp=new WeakMap,qA=new WeakMap,uf=new WeakSet,tj=function(t){var o,a,c;if((o=B(this,q_))!=null&&o.call(this))return;if(t.touches.length===1){if(B(this,WA))return;const d=Z(this,WA,new AbortController),h=AbortSignal.any([B(this,yp),d.signal]),p=B(this,cb),g={capture:!0,signal:h,passive:!1},w=v=>{var k;v.pointerType==="touch"&&((k=B(this,WA))==null||k.abort(),Z(this,WA,null))};p.addEventListener("pointerdown",v=>{v.pointerType==="touch"&&(Ls(v),w(v))},g),p.addEventListener("pointerup",w,g),p.addEventListener("pointercancel",w,g);return}if(!B(this,qA)){Z(this,qA,new AbortController);const d=AbortSignal.any([B(this,yp),B(this,qA).signal]),h=B(this,cb),p={signal:d,capture:!1,passive:!1};h.addEventListener("touchmove",lt(this,uf,ej).bind(this),p);const g=lt(this,uf,nj).bind(this);h.addEventListener("touchend",g,p),h.addEventListener("touchcancel",g,p),p.capture=!0,h.addEventListener("pointerdown",Ls,p),h.addEventListener("pointermove",Ls,p),h.addEventListener("pointercancel",Ls,p),h.addEventListener("pointerup",Ls,p),(a=B(this,Y_))==null||a.call(this)}if(Ls(t),t.touches.length!==2||(c=B(this,$_))!=null&&c.call(this)){Z(this,$A,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),Z(this,$A,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},ej=function(t){var V;if(!B(this,$A)||t.touches.length!==2)return;Ls(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:o,screenY:a}=e,{screenX:c,screenY:d}=i,h=B(this,$A),{touch0X:p,touch0Y:g,touch1X:w,touch1Y:v}=h,k=w-p,y=v-g,x=c-o,I=d-a,F=Math.hypot(x,I)||1,R=Math.hypot(k,y)||1;if(!B(this,kp)&&Math.abs(R-F)<=cL.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=o,h.touch0Y=a,h.touch1X=c,h.touch1Y=d,!B(this,kp)){Z(this,kp,!0);return}const Q=[(o+c)/2,(a+d)/2];(V=B(this,X_))==null||V.call(this,Q,R,F)},nj=function(t){var e;t.touches.length>=2||(B(this,qA)&&(B(this,qA).abort(),Z(this,qA,null),(e=B(this,Z_))==null||e.call(this)),B(this,$A)&&(Ls(t),Z(this,$A,null),Z(this,kp,!1)))};let w_=cL;var Ep,Rc,zi,db,kh,J_,xp,ro,Bp,YA,yh,tk,Sp,dl,ek,Tp,XA,Ud,Ab,ub,sc,Ip,nk,vx,Ke,AI,ik,uI,$C,ij,sj,hI,qC,fI,rj,oj,aj,pI,lj,gI,cj,dj,Aj,mI,Cv;const yn=class yn{constructor(t){ot(this,Ke);ot(this,Ep,null);ot(this,Rc,null);ot(this,zi,null);ot(this,db,!1);ot(this,kh,null);ot(this,J_,"");ot(this,xp,!1);ot(this,ro,null);ot(this,Bp,null);ot(this,YA,null);ot(this,yh,null);ot(this,tk,"");ot(this,Sp,!1);ot(this,dl,null);ot(this,ek,!1);ot(this,Tp,!1);ot(this,XA,!1);ot(this,Ud,null);ot(this,Ab,0);ot(this,ub,0);ot(this,sc,null);ot(this,Ip,null);Ft(this,"_isCopy",!1);Ft(this,"_editToolbar",null);Ft(this,"_initialOptions",Object.create(null));Ft(this,"_initialData",null);Ft(this,"_isVisible",!0);Ft(this,"_uiManager",null);Ft(this,"_focusEventsAllowed",!0);ot(this,nk,!1);ot(this,vx,yn._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,o],this.pageTranslation=[a,c];const[d,h]=this.parentDimensions;this.x=t.x/d,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=yn.prototype._resizeWithKeyboard,e=af.TRANSLATE_SMALL,i=af.TRANSLATE_BIG;return Tn(this,"_resizerKeyboardManager",new p0([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],yn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Tn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new zot({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(yn._l10n??(yn._l10n=t),yn._l10nResizer||(yn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),yn._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);yn._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Si("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return B(this,nk)}set _isDraggable(t){var e;Z(this,nk,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=B(this,vx)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):lt(this,Ke,Cv).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(B(this,Sp)?Z(this,Sp,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,o){const[a,c]=this.parentDimensions;[i,o]=this.screenToPageTranslation(i,o),this.x=(t+i)/a,this.y=(e+o)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,o]=this.parentDimensions;this.setAt(t*i,e*o,this.width*i,this.height*o),this._onTranslated()}translate(t,e){lt(this,Ke,AI).call(this,this.parentDimensions,t,e)}translateInPage(t,e){B(this,dl)||Z(this,dl,[this.x,this.y,this.width,this.height]),lt(this,Ke,AI).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){B(this,dl)||Z(this,dl,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[o,a]}=this;if(this.x+=t/o,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:w,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,w,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:d}=this;const[h,p]=this.getBaseTranslation();c+=h,d+=p;const{style:g}=i;g.left=`${(100*c).toFixed(2)}%`,g.top=`${(100*d).toFixed(2)}%`,this._onTranslating(c,d),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!B(this,dl)&&(B(this,dl)[0]!==this.x||B(this,dl)[1]!==this.y)}get _hasBeenResized(){return!!B(this,dl)&&(B(this,dl)[2]!==this.width||B(this,dl)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=yn,o=i/t,a=i/e;switch(this.rotation){case 90:return[-o,a];case 180:return[o,a];case 270:return[o,-a];default:return[-o,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,o]}=this;let{x:a,y:c,width:d,height:h}=this;if(d*=i,h*=o,a*=i,c*=o,this._mustFixPosition)switch(t){case 0:a=Lo(a,0,i-d),c=Lo(c,0,o-h);break;case 90:a=Lo(a,0,i-h),c=Lo(c,d,o);break;case 180:a=Lo(a,d,i),c=Lo(c,h,o);break;case 270:a=Lo(a,h,i),c=Lo(c,0,o-d);break}this.x=a/=i,this.y=c/=o;const[p,g]=this.getBaseTranslation();a+=p,c+=g,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return lt(i=yn,ik,uI).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return lt(i=yn,ik,uI).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,o]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*t/i).toFixed(2)}%`,B(this,xp)||(a.height=`${(100*e/o).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,o=i.endsWith("%"),a=!B(this,xp)&&e.endsWith("%");if(o&&a)return;const[c,d]=this.parentDimensions;o||(t.width=`${(100*parseFloat(i)/c).toFixed(2)}%`),!B(this,xp)&&!a&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=B(this,zi))==null||t.finish()}async addEditToolbar(){return this._editToolbar||B(this,Tp)?this._editToolbar:(this._editToolbar=new nI(this),this.div.append(this._editToolbar.render()),B(this,zi)&&await this._editToolbar.addAltText(B(this,zi)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=B(this,zi))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){B(this,zi)||(VE.initialize(yn._l10n),Z(this,zi,new VE(this)),B(this,Ep)&&(B(this,zi).data=B(this,Ep),Z(this,Ep,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=B(this,zi))==null?void 0:t.data}set altTextData(t){B(this,zi)&&(B(this,zi).data=t)}get guessedAltText(){var t;return(t=B(this,zi))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=B(this,zi))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=B(this,zi))==null?void 0:e.serialize(t)}hasAltText(){return!!B(this,zi)&&!B(this,zi).isEmpty()}hasAltTextData(){var t;return((t=B(this,zi))==null?void 0:t.hasData())??!1}render(){var c;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=B(this,db)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),lt(this,Ke,gI).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[o,a]=this.getInitialTranslation();return this.translate(o,a),TM(this,t,["keydown","pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(B(this,Ip)||Z(this,Ip,new w_({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:lt(this,Ke,rj).bind(this),onPinching:lt(this,Ke,oj).bind(this),onPinchEnd:lt(this,Ke,aj).bind(this),signal:this._uiManager._signal}))),(c=this._uiManager._editorUndoBar)==null||c.hide(),t}pointerdown(t){const{isMac:e}=Hr.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(Z(this,Sp,!0),this._isDraggable){lt(this,Ke,lj).call(this,t);return}lt(this,Ke,pI).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){B(this,Ud)&&clearTimeout(B(this,Ud)),Z(this,Ud,setTimeout(()=>{var t;Z(this,Ud,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const o=this.parentScale,[a,c]=this.pageDimensions,[d,h]=this.pageTranslation,p=t/o,g=e/o,w=this.x*a,v=this.y*c,k=this.width*a,y=this.height*c;switch(i){case 0:return[w+p+d,c-v-g-y+h,w+p+k+d,c-v-g+h];case 90:return[w+g+d,c-v+p+h,w+g+y+d,c-v+p+k+h];case 180:return[w-p-k+d,c-v+g+h,w-p+d,c-v+g+y+h];case 270:return[w-g-y+d,c-v-p-k+h,w-g+d,c-v-p+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,o,a,c]=t,d=a-i,h=c-o;switch(this.rotation){case 0:return[i,e-c,d,h];case 90:return[i,e-o,h,d];case 180:return[a,e-o,d,h];case 270:return[a,e-c,h,d];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){Z(this,Tp,!0)}disableEditMode(){Z(this,Tp,!1)}isInEditMode(){return B(this,Tp)}shouldGetKeyboardEvents(){return B(this,XA)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:o}=this.getClientDimensions(),{innerHeight:a,innerWidth:c}=window;return e<c&&o>0&&t<a&&i>0}rebuild(){lt(this,Ke,gI).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Si("An editor must be serializable")}static async deserialize(t,e,i){const o=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});o.rotation=t.rotation,Z(o,Ep,t.accessibilityData),o._isCopy=t.isCopy||!1;const[a,c]=o.pageDimensions,[d,h,p,g]=o.getRectInCurrentCoords(t.rect,c);return o.x=d/a,o.y=h/c,o.width=p/a,o.height=g/c,o}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=B(this,yh))==null||t.abort(),Z(this,yh,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),B(this,Ud)&&(clearTimeout(B(this,Ud)),Z(this,Ud,null)),lt(this,Ke,Cv).call(this),this.removeEditToolbar(),B(this,sc)){for(const i of B(this,sc).values())clearTimeout(i);Z(this,sc,null)}this.parent=null,(e=B(this,Ip))==null||e.destroy(),Z(this,Ip,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(lt(this,Ke,ij).call(this),B(this,ro).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),Z(this,YA,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=B(this,ro).children;if(!B(this,Rc)){Z(this,Rc,Array.from(e));const c=lt(this,Ke,cj).bind(this),d=lt(this,Ke,dj).bind(this),h=this._uiManager._signal;for(const p of B(this,Rc)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:h}),p.addEventListener("blur",d,{signal:h}),p.addEventListener("focus",lt(this,Ke,Aj).bind(this,g),{signal:h}),p.setAttribute("data-l10n-id",yn._l10nResizer[g])}}const i=B(this,Rc)[0];let o=0;for(const c of e){if(c===i)break;o++}const a=(360-this.rotation+this.parentRotation)%360/90*(B(this,Rc).length/4);if(a!==o){if(a<o)for(let d=0;d<o-a;d++)B(this,ro).append(B(this,ro).firstChild);else if(a>o)for(let d=0;d<a-o;d++)B(this,ro).firstChild.before(B(this,ro).lastChild);let c=0;for(const d of e){const p=B(this,Rc)[c++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",yn._l10nResizer[p])}}lt(this,Ke,mI).call(this,0),Z(this,XA,!0),B(this,ro).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){B(this,XA)&&lt(this,Ke,fI).call(this,B(this,tk),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){lt(this,Ke,Cv).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var o,a;(o=this.div)!=null&&o.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(i=B(this,zi))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,o,a;(t=B(this,ro))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(o=this._editToolbar)==null||o.hide(),(a=B(this,zi))==null||a.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return B(this,ek)}set isEditing(t){Z(this,ek,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){Z(this,xp,!0);const i=t/e,{style:o}=this.div;o.aspectRatio=i,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){B(this,sc)||Z(this,sc,new Map);const{action:i}=t;let o=B(this,sc).get(i);o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(t),B(this,sc).delete(i),B(this,sc).size===0&&Z(this,sc,null)},yn._telemetryTimeout),B(this,sc).set(i,o);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),Z(this,db,!1)}disable(){this.div&&(this.div.tabIndex=-1),Z(this,db,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Ep=new WeakMap,Rc=new WeakMap,zi=new WeakMap,db=new WeakMap,kh=new WeakMap,J_=new WeakMap,xp=new WeakMap,ro=new WeakMap,Bp=new WeakMap,YA=new WeakMap,yh=new WeakMap,tk=new WeakMap,Sp=new WeakMap,dl=new WeakMap,ek=new WeakMap,Tp=new WeakMap,XA=new WeakMap,Ud=new WeakMap,Ab=new WeakMap,ub=new WeakMap,sc=new WeakMap,Ip=new WeakMap,nk=new WeakMap,vx=new WeakMap,Ke=new WeakSet,AI=function([t,e],i,o){[i,o]=this.screenToPageTranslation(i,o),this.x+=i/t,this.y+=o/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},ik=new WeakSet,uI=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},$C=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},ij=function(){if(B(this,ro))return;Z(this,ro,document.createElement("div")),B(this,ro).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const o=document.createElement("div");B(this,ro).append(o),o.classList.add("resizer",i),o.setAttribute("data-resizer-name",i),o.addEventListener("pointerdown",lt(this,Ke,sj).bind(this,i),{signal:e}),o.addEventListener("contextmenu",bc,{signal:e}),o.tabIndex=-1}this.div.prepend(B(this,ro))},sj=function(t,e){var g;e.preventDefault();const{isMac:i}=Hr.platform;if(e.button!==0||e.ctrlKey&&i)return;(g=B(this,zi))==null||g.toggle(!1);const o=this._isDraggable;this._isDraggable=!1,Z(this,Bp,[e.screenX,e.screenY]);const a=new AbortController,c=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",lt(this,Ke,fI).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",Ls,{passive:!1,signal:c}),window.addEventListener("contextmenu",bc,{signal:c}),Z(this,YA,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var w;a.abort(),this.parent.togglePointerEvents(!0),(w=B(this,zi))==null||w.toggle(!0),this._isDraggable=o,this.parent.div.style.cursor=d,this.div.style.cursor=h,lt(this,Ke,qC).call(this)};window.addEventListener("pointerup",p,{signal:c}),window.addEventListener("blur",p,{signal:c})},hI=function(t,e,i,o){this.width=i,this.height=o,this.x=t,this.y=e;const[a,c]=this.parentDimensions;this.setDims(a*i,c*o),this.fixAndSetPosition(),this._onResized()},qC=function(){if(!B(this,YA))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:o}=B(this,YA);Z(this,YA,null);const a=this.x,c=this.y,d=this.width,h=this.height;a===t&&c===e&&d===i&&h===o||this.addCommands({cmd:lt(this,Ke,hI).bind(this,a,c,d,h),undo:lt(this,Ke,hI).bind(this,t,e,i,o),mustExec:!0})},fI=function(t,e){const[i,o]=this.parentDimensions,a=this.x,c=this.y,d=this.width,h=this.height,p=yn.MIN_SIZE/i,g=yn.MIN_SIZE/o,w=lt(this,Ke,$C).call(this,this.rotation),v=(vt,pt)=>[w[0]*vt+w[2]*pt,w[1]*vt+w[3]*pt],k=lt(this,Ke,$C).call(this,360-this.rotation),y=(vt,pt)=>[k[0]*vt+k[2]*pt,k[1]*vt+k[3]*pt];let x,I,F=!1,R=!1;switch(t){case"topLeft":F=!0,x=(vt,pt)=>[0,0],I=(vt,pt)=>[vt,pt];break;case"topMiddle":x=(vt,pt)=>[vt/2,0],I=(vt,pt)=>[vt/2,pt];break;case"topRight":F=!0,x=(vt,pt)=>[vt,0],I=(vt,pt)=>[0,pt];break;case"middleRight":R=!0,x=(vt,pt)=>[vt,pt/2],I=(vt,pt)=>[0,pt/2];break;case"bottomRight":F=!0,x=(vt,pt)=>[vt,pt],I=(vt,pt)=>[0,0];break;case"bottomMiddle":x=(vt,pt)=>[vt/2,pt],I=(vt,pt)=>[vt/2,0];break;case"bottomLeft":F=!0,x=(vt,pt)=>[0,pt],I=(vt,pt)=>[vt,0];break;case"middleLeft":R=!0,x=(vt,pt)=>[0,pt/2],I=(vt,pt)=>[vt,pt/2];break}const Q=x(d,h),V=I(d,h);let W=v(...V);const X=yn._round(a+W[0]),P=yn._round(c+W[1]);let K=1,J=1,rt,dt;if(e.fromKeyboard)({deltaX:rt,deltaY:dt}=e);else{const{screenX:vt,screenY:pt}=e,[_t,Dt]=B(this,Bp);[rt,dt]=this.screenToPageTranslation(vt-_t,pt-Dt),B(this,Bp)[0]=vt,B(this,Bp)[1]=pt}if([rt,dt]=y(rt/i,dt/o),F){const vt=Math.hypot(d,h);K=J=Math.max(Math.min(Math.hypot(V[0]-Q[0]-rt,V[1]-Q[1]-dt)/vt,1/d,1/h),p/d,g/h)}else R?K=Lo(Math.abs(V[0]-Q[0]-rt),p,1)/d:J=Lo(Math.abs(V[1]-Q[1]-dt),g,1)/h;const ht=yn._round(d*K),ut=yn._round(h*J);W=v(...I(ht,ut));const mt=X-W[0],St=P-W[1];B(this,dl)||Z(this,dl,[this.x,this.y,this.width,this.height]),this.width=ht,this.height=ut,this.x=mt,this.y=St,this.setDims(i*ht,o*ut),this.fixAndSetPosition(),this._onResizing()},rj=function(){var t;Z(this,YA,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=B(this,zi))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},oj=function(t,e,i){let a=.7*(i/e)+1-.7;if(a===1)return;const c=lt(this,Ke,$C).call(this,this.rotation),d=(X,P)=>[c[0]*X+c[2]*P,c[1]*X+c[3]*P],[h,p]=this.parentDimensions,g=this.x,w=this.y,v=this.width,k=this.height,y=yn.MIN_SIZE/h,x=yn.MIN_SIZE/p;a=Math.max(Math.min(a,1/v,1/k),y/v,x/k);const I=yn._round(v*a),F=yn._round(k*a);if(I===v&&F===k)return;B(this,dl)||Z(this,dl,[g,w,v,k]);const R=d(v/2,k/2),Q=yn._round(g+R[0]),V=yn._round(w+R[1]),W=d(I/2,F/2);this.x=Q-W[0],this.y=V-W[1],this.width=I,this.height=F,this.setDims(h*I,p*F),this.fixAndSetPosition(),this._onResizing()},aj=function(){var t;(t=B(this,zi))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),lt(this,Ke,qC).call(this)},pI=function(t){const{isMac:e}=Hr.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},lj=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const o=new AbortController,a=this._uiManager.combinedSignal(o),c={capture:!0,passive:!1,signal:a},d=p=>{o.abort(),Z(this,kh,null),Z(this,Sp,!1),this._uiManager.endDragSession()||lt(this,Ke,pI).call(this,p),i&&this._onStopDragging()};e&&(Z(this,Ab,t.clientX),Z(this,ub,t.clientY),Z(this,kh,t.pointerId),Z(this,J_,t.pointerType),window.addEventListener("pointermove",p=>{i||(i=!0,this._onStartDragging());const{clientX:g,clientY:w,pointerId:v}=p;if(v!==B(this,kh)){Ls(p);return}const[k,y]=this.screenToPageTranslation(g-B(this,Ab),w-B(this,ub));Z(this,Ab,g),Z(this,ub,w),this._uiManager.dragSelectedEditors(k,y)},c),window.addEventListener("touchmove",Ls,c),window.addEventListener("pointerdown",p=>{p.pointerType===B(this,J_)&&(B(this,Ip)||p.isPrimary)&&d(p),Ls(p)},c));const h=p=>{if(!B(this,kh)||B(this,kh)===p.pointerId){d(p);return}Ls(p)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})},gI=function(){if(B(this,yh)||!this.div)return;Z(this,yh,new AbortController);const t=this._uiManager.combinedSignal(B(this,yh));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},cj=function(t){yn._resizerKeyboardManager.exec(this,t)},dj=function(t){var e;B(this,XA)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==B(this,ro)&&lt(this,Ke,Cv).call(this)},Aj=function(t){Z(this,tk,B(this,XA)?t:"")},mI=function(t){if(B(this,Rc))for(const e of B(this,Rc))e.tabIndex=t},Cv=function(){Z(this,XA,!1),lt(this,Ke,mI).call(this,-1),lt(this,Ke,qC).call(this)},ot(yn,ik),Ft(yn,"_l10n",null),Ft(yn,"_l10nResizer",null),Ft(yn,"_borderLineWidth",-1),Ft(yn,"_colorManager",new sI),Ft(yn,"_zIndex",1),Ft(yn,"_telemetryTimeout",1e3);let Oi=yn;class zot extends Oi{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Q4=3285377520,Zl=4294901760,xd=65535;class uj{constructor(t){this.h1=t?t&4294967295:Q4,this.h2=t?t&4294967295:Q4}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let x=0,I=t.length;x<I;x++){const F=t.charCodeAt(x);F<=255?e[i++]=F:(e[i++]=F>>>8,e[i++]=F&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const o=i>>2,a=i-o*4,c=new Uint32Array(e.buffer,0,o);let d=0,h=0,p=this.h1,g=this.h2;const w=3432918353,v=461845907,k=w&xd,y=v&xd;for(let x=0;x<o;x++)x&1?(d=c[x],d=d*w&Zl|d*k&xd,d=d<<15|d>>>17,d=d*v&Zl|d*y&xd,p^=d,p=p<<13|p>>>19,p=p*5+3864292196):(h=c[x],h=h*w&Zl|h*k&xd,h=h<<15|h>>>17,h=h*v&Zl|h*y&xd,g^=h,g=g<<13|g>>>19,g=g*5+3864292196);switch(d=0,a){case 3:d^=e[o*4+2]<<16;case 2:d^=e[o*4+1]<<8;case 1:d^=e[o*4],d=d*w&Zl|d*k&xd,d=d<<15|d>>>17,d=d*v&Zl|d*y&xd,o&1?p^=d:g^=d}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Zl|t*36045&xd,e=e*4283543511&Zl|((e<<16|t>>>16)*2950163797&Zl)>>>16,t^=e>>>1,t=t*444984403&Zl|t*60499&xd,e=e*3301882366&Zl|((e<<16|t>>>16)*3120437893&Zl)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const bI=Object.freeze({map:null,hash:"",transfer:void 0});var Dp,Mp,oo,_x,hj;class IM{constructor(){ot(this,_x);ot(this,Dp,!1);ot(this,Mp,null);ot(this,oo,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=B(this,oo).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return B(this,oo).get(t)}remove(t){if(B(this,oo).delete(t),B(this,oo).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of B(this,oo).values())if(e instanceof Oi)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=B(this,oo).get(t);let o=!1;if(i!==void 0)for(const[a,c]of Object.entries(e))i[a]!==c&&(o=!0,i[a]=c);else o=!0,B(this,oo).set(t,e);o&&lt(this,_x,hj).call(this),e instanceof Oi&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return B(this,oo).has(t)}get size(){return B(this,oo).size}resetModified(){B(this,Dp)&&(Z(this,Dp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fj(this)}get serializable(){if(B(this,oo).size===0)return bI;const t=new Map,e=new uj,i=[],o=Object.create(null);let a=!1;for(const[c,d]of B(this,oo)){const h=d instanceof Oi?d.serialize(!1,o):d;h&&(t.set(c,h),e.update(`${c}:${JSON.stringify(h)}`),a||(a=!!h.bitmap))}if(a)for(const c of t.values())c.bitmap&&i.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:bI}get editorStats(){let t=null;const e=new Map;for(const i of B(this,oo).values()){if(!(i instanceof Oi))continue;const o=i.telemetryFinalData;if(!o)continue;const{type:a}=o;e.has(a)||e.set(a,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const c=t[a]||(t[a]=new Map);for(const[d,h]of Object.entries(o)){if(d==="type")continue;let p=c.get(d);p||(p=new Map,c.set(d,p));const g=p.get(h)??0;p.set(h,g+1)}}for(const[i,o]of e)t[i]=o.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){Z(this,Mp,null)}get modifiedIds(){if(B(this,Mp))return B(this,Mp);const t=[];for(const e of B(this,oo).values())!(e instanceof Oi)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return Z(this,Mp,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return B(this,oo).entries()}}Dp=new WeakMap,Mp=new WeakMap,oo=new WeakMap,_x=new WeakSet,hj=function(){B(this,Dp)||(Z(this,Dp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var sk;class fj extends IM{constructor(e){super();ot(this,sk);const{map:i,hash:o,transfer:a}=e.serializable,c=structuredClone(i,a?{transfer:a}:null);Z(this,sk,{map:c,hash:o,transfer:a})}get print(){Si("Should not call PrintAnnotationStorage.print")}get serializable(){return B(this,sk)}get modifiedIds(){return Tn(this,"modifiedIds",{ids:new Set,hash:""})}}sk=new WeakMap;var hb;class jot{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){ot(this,hb,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),B(this,hb).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||B(this,hb).has(t.loadedName))){if(Gs(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:o,src:a,style:c}=t,d=new FontFace(o,a,c);this.addNativeFontFace(d);try{await d.load(),B(this,hb).add(o),i==null||i(t)}catch{An(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(d)}return}Si("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(o){throw An(`Failed to load font '${i.family}': '${o}'.`),t.disableFontFace=!0,o}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const o=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,o)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Tn(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Tn(this,"isSyncFontLoadingSupported",aa||Hr.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Gs(!o.done,"completeRequest() cannot be called twice."),o.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,o={done:!1,complete:e,callback:t};return i.push(o),o}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Tn(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(V,W){return V.charCodeAt(W)<<24|V.charCodeAt(W+1)<<16|V.charCodeAt(W+2)<<8|V.charCodeAt(W+3)&255}function o(V,W,X,P){const K=V.substring(0,W),J=V.substring(W+X);return K+P+J}let a,c;const d=this._document.createElement("canvas");d.width=1,d.height=1;const h=d.getContext("2d");let p=0;function g(V,W){if(++p>30){An("Load test font never loaded."),W();return}if(h.font="30px "+V,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){W();return}setTimeout(g.bind(null,V,W))}const w=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=o(v,976,w.length,w);const y=16,x=1482184792;let I=i(v,y);for(a=0,c=w.length-3;a<c;a+=4)I=I-x+i(w,a)|0;a<w.length&&(I=I-x+i(w+"XXX",a)|0),v=o(v,y,4,Mot(I));const F=`url(data:font/opentype;base64,${btoa(v)});`,R=`@font-face {font-family:"${w}";src:${F}}`;this.insertRule(R);const Q=this._document.createElement("div");Q.style.visibility="hidden",Q.style.width=Q.style.height="10px",Q.style.position="absolute",Q.style.top=Q.style.left="0px";for(const V of[t.loadedName,w]){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=V,Q.append(W)}this._document.body.append(Q),g(w,()=>{Q.remove(),e.complete()})}}hb=new WeakMap;class Vot{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${M3(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let o;try{o=t.get(i)}catch(c){An(`getPathGenerator - ignoring character: "${c}".`)}const a=new Path2D(o||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=a}}const zy={DATA:1,ERROR:2},js={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function H4(){}function Ba(r){if(r instanceof Tu||r instanceof zE||r instanceof N4||r instanceof b_||r instanceof WS)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Si('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Tu(r.message);case"InvalidPDFException":return new zE(r.message);case"PasswordException":return new N4(r.message,r.code);case"ResponseException":return new b_(r.message,r.status,r.missing);case"UnknownErrorException":return new WS(r.message,r.details)}return new WS(r.message,r.toString())}var fb,pc,pj,gj,mj,YC;class Ev{constructor(t,e,i){ot(this,pc);ot(this,fb,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",lt(this,pc,pj).bind(this),{signal:B(this,fb).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const o=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[o]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:o,data:e},i)}catch(c){a.reject(c)}return a.promise}sendWithStream(t,e,i,o){const a=this.streamId++,c=this.sourceName,d=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[a]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:c,targetName:d,action:t,streamId:a,data:e,desiredSize:p.desiredSize},o),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[a].pullCall=g,h.postMessage({sourceName:c,targetName:d,stream:js.PULL,streamId:a,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Gs(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[a].cancelCall=g,this.streamControllers[a].isClosed=!0,h.postMessage({sourceName:c,targetName:d,stream:js.CANCEL,streamId:a,reason:Ba(p)}),g.promise}},i)}destroy(){var t;(t=B(this,fb))==null||t.abort(),Z(this,fb,null)}}fb=new WeakMap,pc=new WeakSet,pj=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){lt(this,pc,mj).call(this,t);return}if(t.callback){const i=t.callbackId,o=this.callbackCapabilities[i];if(!o)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===zy.DATA)o.resolve(t.data);else if(t.callback===zy.ERROR)o.reject(Ba(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,o=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(c){a.postMessage({sourceName:i,targetName:o,callback:zy.DATA,callbackId:t.callbackId,data:c})},function(c){a.postMessage({sourceName:i,targetName:o,callback:zy.ERROR,callbackId:t.callbackId,reason:Ba(c)})});return}if(t.streamId){lt(this,pc,gj).call(this,t);return}e(t.data)},gj=function(t){const e=t.streamId,i=this.sourceName,o=t.sourceName,a=this.comObj,c=this,d=this.actionHandler[t.action],h={enqueue(p,g=1,w){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:o,stream:js.ENQUEUE,streamId:e,chunk:p},w)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:o,stream:js.CLOSE,streamId:e}),delete c.streamSinks[e])},error(p){Gs(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:o,stream:js.ERROR,streamId:e,reason:Ba(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(d,t.data,h).then(function(){a.postMessage({sourceName:i,targetName:o,stream:js.START_COMPLETE,streamId:e,success:!0})},function(p){a.postMessage({sourceName:i,targetName:o,stream:js.START_COMPLETE,streamId:e,reason:Ba(p)})})},mj=function(t){const e=t.streamId,i=this.sourceName,o=t.sourceName,a=this.comObj,c=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case js.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Ba(t.reason));break;case js.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Ba(t.reason));break;case js.PULL:if(!d){a.postMessage({sourceName:i,targetName:o,stream:js.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,Promise.try(d.onPull||H4).then(function(){a.postMessage({sourceName:i,targetName:o,stream:js.PULL_COMPLETE,streamId:e,success:!0})},function(p){a.postMessage({sourceName:i,targetName:o,stream:js.PULL_COMPLETE,streamId:e,reason:Ba(p)})});break;case js.ENQUEUE:if(Gs(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case js.CLOSE:if(Gs(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),lt(this,pc,YC).call(this,c,e);break;case js.ERROR:Gs(c,"error should have stream controller"),c.controller.error(Ba(t.reason)),lt(this,pc,YC).call(this,c,e);break;case js.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Ba(t.reason)),lt(this,pc,YC).call(this,c,e);break;case js.CANCEL:if(!d)break;const h=Ba(t.reason);Promise.try(d.onCancel||H4,h).then(function(){a.postMessage({sourceName:i,targetName:o,stream:js.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){a.postMessage({sourceName:i,targetName:o,stream:js.CANCEL_COMPLETE,streamId:e,reason:Ba(p)})}),d.sinkCapability.reject(h),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},YC=async function(t,e){var i,o,a;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(o=t.pullCall)==null?void 0:o.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var rk;class bj{constructor({enableHWA:t=!1}){ot(this,rk,!1);Z(this,rk,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!B(this,rk)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Si("Abstract method `_createCanvas` called.")}}rk=new WeakMap;class Kot extends bj{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class wj{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Si("Abstract method `_fetch` called.")}}class z4 extends wj{async _fetch(t){const e=await Cw(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):u0(e)}}class vj{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,o,a){return"none"}destroy(t=!1){}}var Lp,pb,ZA,JA,So,Pp,Fp,ye,Eo,xv,Om,XC,Nm,_j,wI,Rm,Bv,Sv,vI,Tv;class Got extends vj{constructor({docId:e,ownerDocument:i=globalThis.document}){super();ot(this,ye);ot(this,Lp);ot(this,pb);ot(this,ZA);ot(this,JA);ot(this,So);ot(this,Pp);ot(this,Fp,0);Z(this,JA,e),Z(this,So,i)}addFilter(e){if(!e)return"none";let i=B(this,ye,Eo).get(e);if(i)return i;const[o,a,c]=lt(this,ye,XC).call(this,e),d=e.length===1?o:`${o}${a}${c}`;if(i=B(this,ye,Eo).get(d),i)return B(this,ye,Eo).set(e,i),i;const h=`g_${B(this,JA)}_transfer_map_${ta(this,Fp)._++}`,p=lt(this,ye,Nm).call(this,h);B(this,ye,Eo).set(e,p),B(this,ye,Eo).set(d,p);const g=lt(this,ye,Rm).call(this,h);return lt(this,ye,Sv).call(this,o,a,c,g),p}addHCMFilter(e,i){var y;const o=`${e}-${i}`,a="base";let c=B(this,ye,xv).get(a);if((c==null?void 0:c.key)===o||(c?((y=c.filter)==null||y.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},B(this,ye,xv).set(a,c)),!e||!i))return c.url;const d=lt(this,ye,Tv).call(this,e);e=Ie.makeHexColor(...d);const h=lt(this,ye,Tv).call(this,i);if(i=Ie.makeHexColor(...h),B(this,ye,Om).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return c.url;const p=new Array(256);for(let x=0;x<=255;x++){const I=x/255;p[x]=I<=.03928?I/12.92:((I+.055)/1.055)**2.4}const g=p.join(","),w=`g_${B(this,JA)}_hcm_filter`,v=c.filter=lt(this,ye,Rm).call(this,w);lt(this,ye,Sv).call(this,g,g,g,v),lt(this,ye,wI).call(this,v);const k=(x,I)=>{const F=d[x]/255,R=h[x]/255,Q=new Array(I+1);for(let V=0;V<=I;V++)Q[V]=F+V/I*(R-F);return Q.join(",")};return lt(this,ye,Sv).call(this,k(0,5),k(1,5),k(2,5),v),c.url=lt(this,ye,Nm).call(this,w),c.url}addAlphaFilter(e){let i=B(this,ye,Eo).get(e);if(i)return i;const[o]=lt(this,ye,XC).call(this,[e]),a=`alpha_${o}`;if(i=B(this,ye,Eo).get(a),i)return B(this,ye,Eo).set(e,i),i;const c=`g_${B(this,JA)}_alpha_map_${ta(this,Fp)._++}`,d=lt(this,ye,Nm).call(this,c);B(this,ye,Eo).set(e,d),B(this,ye,Eo).set(a,d);const h=lt(this,ye,Rm).call(this,c);return lt(this,ye,vI).call(this,o,h),d}addLuminosityFilter(e){let i=B(this,ye,Eo).get(e||"luminosity");if(i)return i;let o,a;if(e?([o]=lt(this,ye,XC).call(this,[e]),a=`luminosity_${o}`):a="luminosity",i=B(this,ye,Eo).get(a),i)return B(this,ye,Eo).set(e,i),i;const c=`g_${B(this,JA)}_luminosity_map_${ta(this,Fp)._++}`,d=lt(this,ye,Nm).call(this,c);B(this,ye,Eo).set(e,d),B(this,ye,Eo).set(a,d);const h=lt(this,ye,Rm).call(this,c);return lt(this,ye,_j).call(this,h),e&&lt(this,ye,vI).call(this,o,h),d}addHighlightHCMFilter(e,i,o,a,c){var R;const d=`${i}-${o}-${a}-${c}`;let h=B(this,ye,xv).get(e);if((h==null?void 0:h.key)===d||(h?((R=h.filter)==null||R.remove(),h.key=d,h.url="none",h.filter=null):(h={key:d,url:"none",filter:null},B(this,ye,xv).set(e,h)),!i||!o))return h.url;const[p,g]=[i,o].map(lt(this,ye,Tv).bind(this));let w=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[k,y]=[a,c].map(lt(this,ye,Tv).bind(this));v<w&&([w,v,k,y]=[v,w,y,k]),B(this,ye,Om).style.color="";const x=(Q,V,W)=>{const X=new Array(256),P=(v-w)/W,K=Q/255,J=(V-Q)/(255*W);let rt=0;for(let dt=0;dt<=W;dt++){const ht=Math.round(w+dt*P),ut=K+dt*J;for(let mt=rt;mt<=ht;mt++)X[mt]=ut;rt=ht+1}for(let dt=rt;dt<256;dt++)X[dt]=X[rt-1];return X.join(",")},I=`g_${B(this,JA)}_hcm_${e}_filter`,F=h.filter=lt(this,ye,Rm).call(this,I);return lt(this,ye,wI).call(this,F),lt(this,ye,Sv).call(this,x(k[0],y[0],5),x(k[1],y[1],5),x(k[2],y[2],5),F),h.url=lt(this,ye,Nm).call(this,I),h.url}destroy(e=!1){var i,o,a,c;e&&((i=B(this,Pp))!=null&&i.size)||((o=B(this,ZA))==null||o.parentNode.parentNode.remove(),Z(this,ZA,null),(a=B(this,pb))==null||a.clear(),Z(this,pb,null),(c=B(this,Pp))==null||c.clear(),Z(this,Pp,null),Z(this,Fp,0))}}Lp=new WeakMap,pb=new WeakMap,ZA=new WeakMap,JA=new WeakMap,So=new WeakMap,Pp=new WeakMap,Fp=new WeakMap,ye=new WeakSet,Eo=function(){return B(this,pb)||Z(this,pb,new Map)},xv=function(){return B(this,Pp)||Z(this,Pp,new Map)},Om=function(){if(!B(this,ZA)){const e=B(this,So).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const o=B(this,So).createElementNS(PA,"svg");o.setAttribute("width",0),o.setAttribute("height",0),Z(this,ZA,B(this,So).createElementNS(PA,"defs")),e.append(o),o.append(B(this,ZA)),B(this,So).body.append(e)}return B(this,ZA)},XC=function(e){if(e.length===1){const p=e[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=p[v]/255;const w=g.join(",");return[w,w,w]}const[i,o,a]=e,c=new Array(256),d=new Array(256),h=new Array(256);for(let p=0;p<256;p++)c[p]=i[p]/255,d[p]=o[p]/255,h[p]=a[p]/255;return[c.join(","),d.join(","),h.join(",")]},Nm=function(e){if(B(this,Lp)===void 0){Z(this,Lp,"");const i=B(this,So).URL;i!==B(this,So).baseURI&&(f0(i)?An('#createUrl: ignore "data:"-URL for performance reasons.'):Z(this,Lp,EM(i,"")))}return`url(${B(this,Lp)}#${e})`},_j=function(e){const i=B(this,So).createElementNS(PA,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},wI=function(e){const i=B(this,So).createElementNS(PA,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},Rm=function(e){const i=B(this,So).createElementNS(PA,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),B(this,ye,Om).append(i),i},Bv=function(e,i,o){const a=B(this,So).createElementNS(PA,i);a.setAttribute("type","discrete"),a.setAttribute("tableValues",o),e.append(a)},Sv=function(e,i,o,a){const c=B(this,So).createElementNS(PA,"feComponentTransfer");a.append(c),lt(this,ye,Bv).call(this,c,"feFuncR",e),lt(this,ye,Bv).call(this,c,"feFuncG",i),lt(this,ye,Bv).call(this,c,"feFuncB",o)},vI=function(e,i){const o=B(this,So).createElementNS(PA,"feComponentTransfer");i.append(o),lt(this,ye,Bv).call(this,o,"feFuncA",e)},Tv=function(e){return B(this,ye,Om).style.color=e,SM(getComputedStyle(B(this,ye,Om)).getPropertyValue("color"))};class kj{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Si("Abstract method `_fetch` called.")}}class j4 extends kj{async _fetch(t){const e=await Cw(t,"arraybuffer");return new Uint8Array(e)}}class yj{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Si("Abstract method `_fetch` called.")}}class V4 extends yj{async _fetch(t){const e=await Cw(t,"arraybuffer");return new Uint8Array(e)}}aa&&An("Please use the `legacy` build in Node.js environments.");async function DM(r){const e=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class Wot extends vj{}class $ot extends bj{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class qot extends wj{async _fetch(t){return DM(t)}}class Yot extends kj{async _fetch(t){return DM(t)}}class Xot extends yj{async _fetch(t){return DM(t)}}const Ao={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function _I(r,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],o=new Path2D;o.rect(t[0],t[1],e,i),r.clip(o)}class MM{isModifyingCurrentTransform(){return!1}getPattern(){Si("Abstract method `getPattern` called.")}}class Zot extends MM{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,o){let a;if(o===Ao.STROKE||o===Ao.FILL){const c=e.current.getClippedPathBoundingBox(o,hs(t))||[0,0,0,0],d=Math.ceil(c[2]-c[0])||1,h=Math.ceil(c[3]-c[1])||1,p=e.cachedCanvases.getCanvas("pattern",d,h),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-c[0],-c[1]),i=Ie.transform(i,[1,0,0,1,c[0],c[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),_I(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),a=t.createPattern(p.canvas,"no-repeat");const w=new DOMMatrix(i);a.setTransform(w)}else _I(t,this._bbox),a=this._createGradient(t);return a}}function YS(r,t,e,i,o,a,c,d){const h=t.coords,p=t.colors,g=r.data,w=r.width*4;let v;h[e+1]>h[i+1]&&(v=e,e=i,i=v,v=a,a=c,c=v),h[i+1]>h[o+1]&&(v=i,i=o,o=v,v=c,c=d,d=v),h[e+1]>h[i+1]&&(v=e,e=i,i=v,v=a,a=c,c=v);const k=(h[e]+t.offsetX)*t.scaleX,y=(h[e+1]+t.offsetY)*t.scaleY,x=(h[i]+t.offsetX)*t.scaleX,I=(h[i+1]+t.offsetY)*t.scaleY,F=(h[o]+t.offsetX)*t.scaleX,R=(h[o+1]+t.offsetY)*t.scaleY;if(y>=R)return;const Q=p[a],V=p[a+1],W=p[a+2],X=p[c],P=p[c+1],K=p[c+2],J=p[d],rt=p[d+1],dt=p[d+2],ht=Math.round(y),ut=Math.round(R);let mt,St,vt,pt,_t,Dt,yt,se;for(let oe=ht;oe<=ut;oe++){if(oe<I){const Pt=oe<y?0:(y-oe)/(y-I);mt=k-(k-x)*Pt,St=Q-(Q-X)*Pt,vt=V-(V-P)*Pt,pt=W-(W-K)*Pt}else{let Pt;oe>R?Pt=1:I===R?Pt=0:Pt=(I-oe)/(I-R),mt=x-(x-F)*Pt,St=X-(X-J)*Pt,vt=P-(P-rt)*Pt,pt=K-(K-dt)*Pt}let ie;oe<y?ie=0:oe>R?ie=1:ie=(y-oe)/(y-R),_t=k-(k-F)*ie,Dt=Q-(Q-J)*ie,yt=V-(V-rt)*ie,se=W-(W-dt)*ie;const le=Math.round(Math.min(mt,_t)),Lt=Math.round(Math.max(mt,_t));let Tt=w*oe+le*4;for(let Pt=le;Pt<=Lt;Pt++)ie=(mt-Pt)/(mt-_t),ie<0?ie=0:ie>1&&(ie=1),g[Tt++]=St-(St-Dt)*ie|0,g[Tt++]=vt-(vt-yt)*ie|0,g[Tt++]=pt-(pt-se)*ie|0,g[Tt++]=255}}function Jot(r,t,e){const i=t.coords,o=t.colors;let a,c;switch(t.type){case"lattice":const d=t.verticesPerRow,h=Math.floor(i.length/d)-1,p=d-1;for(a=0;a<h;a++){let g=a*d;for(let w=0;w<p;w++,g++)YS(r,e,i[g],i[g+1],i[g+d],o[g],o[g+1],o[g+d]),YS(r,e,i[g+d+1],i[g+1],i[g+d],o[g+d+1],o[g+1],o[g+d])}break;case"triangles":for(a=0,c=i.length;a<c;a+=3)YS(r,e,i[a],i[a+1],i[a+2],o[a],o[a+1],o[a+2]);break;default:throw new Error("illegal figure")}}class tat extends MM{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const d=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-d,g=Math.ceil(this._bounds[3])-h,w=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),k=p/w,y=g/v,x={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-h,scaleX:1/k,scaleY:1/y},I=w+2*2,F=v+2*2,R=i.getCanvas("mesh",I,F),Q=R.context,V=Q.createImageData(w,v);if(e){const X=V.data;for(let P=0,K=X.length;P<K;P+=4)X[P]=e[0],X[P+1]=e[1],X[P+2]=e[2],X[P+3]=255}for(const X of this._figures)Jot(V,X,x);return Q.putImageData(V,2,2),{canvas:R.canvas,offsetX:d-2*k,offsetY:h-2*y,scaleX:k,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,o){_I(t,this._bbox);const a=new Float32Array(2);if(o===Ao.SHADING)Ie.singularValueDecompose2dScale(hs(t),a);else if(this.matrix){Ie.singularValueDecompose2dScale(this.matrix,a);const[d,h]=a;Ie.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=d,a[1]*=h}else Ie.singularValueDecompose2dScale(e.baseTransform,a);const c=this._createMeshCanvas(a,o===Ao.SHADING?null:this._background,e.cachedCanvases);return o!==Ao.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class eat extends MM{getPattern(){return"hotpink"}}function nat(r){switch(r[0]){case"RadialAxial":return new Zot(r);case"Mesh":return new tat(r);case"Dummy":return new eat}throw new Error(`Unknown IR type: ${r[0]}`)}const K4={COLORED:1,UNCOLORED:2},kx=class kx{constructor(t,e,i,o){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:o,tilingType:a,color:c,canvasGraphicsFactory:d}=this;let{xstep:h,ystep:p}=this;h=Math.abs(h),p=Math.abs(p),Jx("TilingType: "+a);const g=e[0],w=e[1],v=e[2],k=e[3],y=v-g,x=k-w,I=new Float32Array(2);Ie.singularValueDecompose2dScale(this.matrix,I);const[F,R]=I;Ie.singularValueDecompose2dScale(this.baseTransform,I);const Q=F*I[0],V=R*I[1];let W=y,X=x,P=!1,K=!1;const J=Math.ceil(h*Q),rt=Math.ceil(p*V),dt=Math.ceil(y*Q),ht=Math.ceil(x*V);J>=dt?W=h:P=!0,rt>=ht?X=p:K=!0;const ut=this.getSizeAndScale(W,this.ctx.canvas.width,Q),mt=this.getSizeAndScale(X,this.ctx.canvas.height,V),St=t.cachedCanvases.getCanvas("pattern",ut.size,mt.size),vt=St.context,pt=d.createCanvasGraphics(vt);if(pt.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(pt,o,c),vt.translate(-ut.scale*g,-mt.scale*w),pt.transform(ut.scale,0,0,mt.scale,0,0),vt.save(),this.clipBbox(pt,g,w,v,k),pt.baseTransform=hs(pt.ctx),pt.executeOperatorList(i),pt.endDrawing(),vt.restore(),P||K){const _t=St.canvas;P&&(W=h),K&&(X=p);const Dt=this.getSizeAndScale(W,this.ctx.canvas.width,Q),yt=this.getSizeAndScale(X,this.ctx.canvas.height,V),se=Dt.size,oe=yt.size,ie=t.cachedCanvases.getCanvas("pattern-workaround",se,oe),le=ie.context,Lt=P?Math.floor(y/h):0,Tt=K?Math.floor(x/p):0;for(let Pt=0;Pt<=Lt;Pt++)for(let jt=0;jt<=Tt;jt++)le.drawImage(_t,se*Pt,oe*jt,se,oe,0,0,se,oe);return{canvas:ie.canvas,scaleX:Dt.scale,scaleY:yt.scale,offsetX:g,offsetY:w}}return{canvas:St.canvas,scaleX:ut.scale,scaleY:mt.scale,offsetX:g,offsetY:w}}getSizeAndScale(t,e,i){const o=Math.max(kx.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*i);return a>=o?a=o:i=a/t,{scale:i,size:a}}clipBbox(t,e,i,o,a){const c=o-e,d=a-i;t.ctx.rect(e,i,c,d),Ie.axialAlignedBoundingBox([e,i,o,a],hs(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const o=t.ctx,a=t.current;switch(e){case K4.COLORED:const c=this.ctx;o.fillStyle=c.fillStyle,o.strokeStyle=c.strokeStyle,a.fillColor=c.fillStyle,a.strokeColor=c.strokeStyle;break;case K4.UNCOLORED:const d=Ie.makeHexColor(i[0],i[1],i[2]);o.fillStyle=d,o.strokeStyle=d,a.fillColor=d,a.strokeColor=d;break;default:throw new Dot(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,o){let a=i;o!==Ao.SHADING&&(a=Ie.transform(a,e.baseTransform),this.matrix&&(a=Ie.transform(a,this.matrix)));const c=this.createPatternCanvas(e);let d=new DOMMatrix(a);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const h=t.createPattern(c.canvas,"repeat");return h.setTransform(d),h}};Ft(kx,"MAX_PATTERN_SIZE",3e3);let kI=kx;function iat({src:r,srcPos:t=0,dest:e,width:i,height:o,nonBlackColor:a=4294967295,inverseDecode:c=!1}){const d=Hr.isLittleEndian?4278190080:255,[h,p]=c?[a,d]:[d,a],g=i>>3,w=i&7,v=r.length;e=new Uint32Array(e.buffer);let k=0;for(let y=0;y<o;y++){for(const I=t+g;t<I;t++){const F=t<v?r[t]:255;e[k++]=F&128?p:h,e[k++]=F&64?p:h,e[k++]=F&32?p:h,e[k++]=F&16?p:h,e[k++]=F&8?p:h,e[k++]=F&4?p:h,e[k++]=F&2?p:h,e[k++]=F&1?p:h}if(w===0)continue;const x=t<v?r[t++]:255;for(let I=0;I<w;I++)e[k++]=x&1<<7-I?p:h}return{srcPos:t,destPos:k}}const G4=16,W4=100,sat=15,$4=10,Ma=16,XS=new DOMMatrix,yl=new Float32Array(2),Km=new Float32Array([1/0,1/0,-1/0,-1/0]);function rat(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},r.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},r.transform=function(e,i,o,a,c,d){t.transform(e,i,o,a,c,d),this.__originalTransform(e,i,o,a,c,d)},r.setTransform=function(e,i,o,a,c,d){t.setTransform(e,i,o,a,c,d),this.__originalSetTransform(e,i,o,a,c,d)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(e){t.rotate(e),this.__originalRotate(e)},r.clip=function(e){t.clip(e),this.__originalClip(e)},r.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},r.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},r.bezierCurveTo=function(e,i,o,a,c,d){t.bezierCurveTo(e,i,o,a,c,d),this.__originalBezierCurveTo(e,i,o,a,c,d)},r.rect=function(e,i,o,a){t.rect(e,i,o,a),this.__originalRect(e,i,o,a)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class oat{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let o;return this.cache[t]!==void 0?(o=this.cache[t],this.canvasFactory.reset(o,e,i)):(o=this.canvasFactory.create(e,i),this.cache[t]=o),o}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function jy(r,t,e,i,o,a,c,d,h,p){const[g,w,v,k,y,x]=hs(r);if(w===0&&v===0){const R=c*g+y,Q=Math.round(R),V=d*k+x,W=Math.round(V),X=(c+h)*g+y,P=Math.abs(Math.round(X)-Q)||1,K=(d+p)*k+x,J=Math.abs(Math.round(K)-W)||1;return r.setTransform(Math.sign(g),0,0,Math.sign(k),Q,W),r.drawImage(t,e,i,o,a,0,0,P,J),r.setTransform(g,w,v,k,y,x),[P,J]}if(g===0&&k===0){const R=d*v+y,Q=Math.round(R),V=c*w+x,W=Math.round(V),X=(d+p)*v+y,P=Math.abs(Math.round(X)-Q)||1,K=(c+h)*w+x,J=Math.abs(Math.round(K)-W)||1;return r.setTransform(0,Math.sign(w),Math.sign(v),0,Q,W),r.drawImage(t,e,i,o,a,0,0,J,P),r.setTransform(g,w,v,k,y,x),[J,P]}r.drawImage(t,e,i,o,a,c,d,h,p);const I=Math.hypot(g,w),F=Math.hypot(v,k);return[I*h,F*p]}class q4{constructor(t,e){Ft(this,"alphaIsShape",!1);Ft(this,"fontSize",0);Ft(this,"fontSizeScale",1);Ft(this,"textMatrix",null);Ft(this,"textMatrixScale",1);Ft(this,"fontMatrix",tI);Ft(this,"leading",0);Ft(this,"x",0);Ft(this,"y",0);Ft(this,"lineX",0);Ft(this,"lineY",0);Ft(this,"charSpacing",0);Ft(this,"wordSpacing",0);Ft(this,"textHScale",1);Ft(this,"textRenderingMode",Co.FILL);Ft(this,"textRise",0);Ft(this,"fillColor","#000000");Ft(this,"strokeColor","#000000");Ft(this,"patternFill",!1);Ft(this,"patternStroke",!1);Ft(this,"fillAlpha",1);Ft(this,"strokeAlpha",1);Ft(this,"lineWidth",1);Ft(this,"activeSMask",null);Ft(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Km.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ao.FILL,e=null){const i=this.minMax.slice();if(t===Ao.STROKE){e||Si("Stroke bounding box must include transform."),Ie.singularValueDecompose2dScale(e,yl);const o=yl[0]*this.lineWidth/2,a=yl[1]*this.lineWidth/2;i[0]-=o,i[1]-=a,i[2]+=o,i[3]+=a}return i}updateClipFromPath(){const t=Ie.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Km,0)}getClippedPathBoundingBox(t=Ao.FILL,e=null){return Ie.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Y4(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,i=t.width,o=e%Ma,a=(e-o)/Ma,c=o===0?a:a+1,d=r.createImageData(i,Ma);let h=0,p;const g=t.data,w=d.data;let v,k,y,x;if(t.kind===i_.GRAYSCALE_1BPP){const I=g.byteLength,F=new Uint32Array(w.buffer,0,w.byteLength>>2),R=F.length,Q=i+7>>3,V=4294967295,W=Hr.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(y=v<a?Ma:o,p=0,k=0;k<y;k++){const X=I-h;let P=0;const K=X>Q?i:X*8-7,J=K&-8;let rt=0,dt=0;for(;P<J;P+=8)dt=g[h++],F[p++]=dt&128?V:W,F[p++]=dt&64?V:W,F[p++]=dt&32?V:W,F[p++]=dt&16?V:W,F[p++]=dt&8?V:W,F[p++]=dt&4?V:W,F[p++]=dt&2?V:W,F[p++]=dt&1?V:W;for(;P<K;P++)rt===0&&(dt=g[h++],rt=128),F[p++]=dt&rt?V:W,rt>>=1}for(;p<R;)F[p++]=0;r.putImageData(d,0,v*Ma)}}else if(t.kind===i_.RGBA_32BPP){for(k=0,x=i*Ma*4,v=0;v<a;v++)w.set(g.subarray(h,h+x)),h+=x,r.putImageData(d,0,k),k+=Ma;v<c&&(x=i*o*4,w.set(g.subarray(h,h+x)),r.putImageData(d,0,k))}else if(t.kind===i_.RGB_24BPP)for(y=Ma,x=i*y,v=0;v<c;v++){for(v>=a&&(y=o,x=i*y),p=0,k=x;k--;)w[p++]=g[h++],w[p++]=g[h++],w[p++]=g[h++],w[p++]=255;r.putImageData(d,0,v*Ma)}else throw new Error(`bad image kind: ${t.kind}`)}function X4(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,o=e%Ma,a=(e-o)/Ma,c=o===0?a:a+1,d=r.createImageData(i,Ma);let h=0;const p=t.data,g=d.data;for(let w=0;w<c;w++){const v=w<a?Ma:o;({srcPos:h}=iat({src:p,srcPos:h,dest:g,width:i,height:v,nonBlackColor:0})),r.putImageData(d,0,w*Ma)}}function rv(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)r[i]!==void 0&&(t[i]=r[i]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function Vy(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}function Z4(r,t){if(t)return!0;Ie.singularValueDecompose2dScale(r,yl);const e=Math.fround(tA.pixelRatio*Iu.PDF_TO_CSS_UNITS);return yl[0]<=e&&yl[1]<=e}const aat=["butt","round","square"],lat=["miter","round","bevel"],cat={},J4={};var Zc,yI,CI,EI;const dL=class dL{constructor(t,e,i,o,a,{optionalContentConfig:c,markedContentStack:d=null},h,p){ot(this,Zc);this.ctx=t,this.current=new q4(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=o,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new oat(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:o=null}){const a=this.ctx.canvas.width,c=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,a,c),this.ctx.fillStyle=d,i){const h=this.cachedCanvases.getCanvas("transparent",a,c);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...hs(this.compositeCtx))}this.ctx.save(),Vy(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=hs(this.ctx)}executeOperatorList(t,e,i,o){const a=t.argsArray,c=t.fnArray;let d=e||0;const h=a.length;if(h===d)return d;const p=h-d>$4&&typeof i=="function",g=p?Date.now()+sat:0;let w=0;const v=this.commonObjs,k=this.objs;let y;for(;;){if(o!==void 0&&d===o.nextBreakPoint)return o.breakIt(d,i),d;if(y=c[d],y!==m_.dependency)this[y].apply(this,a[d]);else for(const x of a[d]){const I=x.startsWith("g_")?v:k;if(!I.has(x))return I.get(x,i),d}if(d++,d===h)return d;if(p&&++w>$4){if(Date.now()>g)return i(),d;w=0}}}endDrawing(){lt(this,Zc,yI).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),lt(this,Zc,CI).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,o=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),d=i,h=o,p="prescale1",g,w;for(;a>2&&d>1||c>2&&h>1;){let v=d,k=h;a>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),a/=d/v),c>2&&h>1&&(k=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/k),g=this.cachedCanvases.getCanvas(p,v,k),w=g.context,w.clearRect(0,0,v,k),w.drawImage(t,0,0,d,h,0,0,v,k),t=g.canvas,d=v,h=k,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:o}=t,a=this.current.fillColor,c=this.current.patternFill,d=hs(e);let h,p,g,w;if((t.bitmap||t.data)&&t.count>1){const J=t.bitmap||t.data.buffer;p=JSON.stringify(c?d:[d.slice(0,4),a]),h=this._cachedBitmapsMap.get(J),h||(h=new Map,this._cachedBitmapsMap.set(J,h));const rt=h.get(p);if(rt&&!c){const dt=Math.round(Math.min(d[0],d[2])+d[4]),ht=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:rt,offsetX:dt,offsetY:ht}}g=rt}g||(w=this.cachedCanvases.getCanvas("maskCanvas",i,o),X4(w.context,t));let v=Ie.transform(d,[1/i,0,0,-1/o,0,0]);v=Ie.transform(v,[1,0,0,1,0,-o]);const k=Km.slice();Ie.axialAlignedBoundingBox([0,0,i,o],v,k);const[y,x,I,F]=k,R=Math.round(I-y)||1,Q=Math.round(F-x)||1,V=this.cachedCanvases.getCanvas("fillCanvas",R,Q),W=V.context,X=y,P=x;W.translate(-X,-P),W.transform(...v),g||(g=this._scaleImage(w.canvas,Ed(W)),g=g.img,h&&c&&h.set(p,g)),W.imageSmoothingEnabled=Z4(hs(W),t.interpolate),jy(W,g,0,0,g.width,g.height,0,0,i,o),W.globalCompositeOperation="source-in";const K=Ie.transform(Ed(W),[1,0,0,1,-X,-P]);return W.fillStyle=c?a.getPattern(e,this,K,Ao.FILL):a,W.fillRect(0,0,i,o),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(p,V.canvas)),{canvas:V.canvas,offsetX:Math.round(X),offsetY:Math.round(P)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=aat[t]}setLineJoin(t){this.ctx.lineJoin=lat[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const a=this.ctx=o.context;a.setTransform(this.suspendedCtx.getTransform()),rv(this.suspendedCtx,a),rat(a,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rv(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,o){const a=o[0],c=o[1],d=o[2]-a,h=o[3]-c;d===0||h===0||(this.genericComposeSMask(e.context,i,d,h,e.subtype,e.backdrop,e.transferMap,a,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,o,a,c,d,h,p,g,w){let v=t.canvas,k=h-g,y=p-w;if(c){const I=Ie.makeHexColor(...c);if(k<0||y<0||k+i>v.width||y+o>v.height){const F=this.cachedCanvases.getCanvas("maskExtension",i,o),R=F.context;R.drawImage(v,-k,-y),R.globalCompositeOperation="destination-atop",R.fillStyle=I,R.fillRect(0,0,i,o),R.globalCompositeOperation="source-over",v=F.canvas,k=y=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const F=new Path2D;F.rect(k,y,i,o),t.clip(F),t.globalCompositeOperation="destination-atop",t.fillStyle=I,t.fillRect(k,y,i,o),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const x=new Path2D;x.rect(h,p,i,o),e.clip(x),e.globalCompositeOperation="destination-in",e.drawImage(v,k,y,i,o,h,p,i,o),e.restore()}save(){this.inSMaskMode&&rv(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&rv(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,o,a,c){this.ctx.transform(t,e,i,o,a,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[o]=e;if(!i){o||(o=e[0]=new Path2D),this[t](o);return}if(!(o instanceof Path2D)){const a=e[0]=new Path2D;for(let c=0,d=o.length;c<d;)switch(o[c++]){case Hy.moveTo:a.moveTo(o[c++],o[c++]);break;case Hy.lineTo:a.lineTo(o[c++],o[c++]);break;case Hy.curveTo:a.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);break;case Hy.closePath:a.closePath();break;default:An(`Unrecognized drawing path operator: ${o[c-1]}`);break}o=a}Ie.axialAlignedBoundingBox(i,hs(this.ctx),this.current.minMax),this[t](o)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,o=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&(o!=null&&o.getPattern)){const a=o.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=o.getPattern(i,this,Ed(i),Ao.STROKE),a){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(a)),t=c}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ao.STROKE,hs(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,o=this.current.fillColor,a=this.current.patternFill;let c=!1;if(a){const h=o.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=o.getPattern(i,this,Ed(i),Ao.FILL),h){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=p}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),c&&i.restore(),e&&this.consumePath(t,d)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=cat}eoClip(){this.pendingClip=J4}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,o=e.getTransform().invertSelf();for(const{transform:a,x:c,y:d,fontSize:h,path:p}of t)i.addPath(p,new DOMMatrix(a).preMultiplySelf(o).translate(c,d).scale(h,-h));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var g;const i=this.commonObjs.get(t),o=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(o.fontMatrix=i.fontMatrix||tI,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&An("Invalid font matrix for font "+t),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const a=i.loadedName||"sans-serif",c=((g=i.systemFontInfo)==null?void 0:g.css)||`"${a}", ${i.fallbackName}`;let d="normal";i.black?d="900":i.bold&&(d="bold");const h=i.italic?"italic":"normal";let p=e;e<G4?p=G4:e>W4&&(p=W4),this.current.fontSizeScale=e/p,this.ctx.font=`${h} ${d} ${p}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,o,a){const c=this.ctx,d=this.current,h=d.font,p=d.textRenderingMode,g=d.fontSize/d.fontSizeScale,w=p&Co.FILL_STROKE_MASK,v=!!(p&Co.ADD_TO_PATH_FLAG),k=d.patternFill&&!h.missingFile,y=d.patternStroke&&!h.missingFile;let x;if((h.disableFontFace||v||k||y)&&(x=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||k||y){c.save(),c.translate(e,i),c.scale(g,-g);let I;if((w===Co.FILL||w===Co.FILL_STROKE)&&(o?(I=c.getTransform(),c.setTransform(...o),c.fill(lt(this,Zc,EI).call(this,x,I,o))):c.fill(x)),w===Co.STROKE||w===Co.FILL_STROKE)if(a){I||(I=c.getTransform()),c.setTransform(...a);const{a:F,b:R,c:Q,d:V}=I,W=Ie.inverseTransform(a),X=Ie.transform([F,R,Q,V,0,0],W);Ie.singularValueDecompose2dScale(X,yl),c.lineWidth*=Math.max(yl[0],yl[1])/g,c.stroke(lt(this,Zc,EI).call(this,x,I,a))}else c.lineWidth/=g,c.stroke(x);c.restore()}else(w===Co.FILL||w===Co.FILL_STROKE)&&c.fillText(t,e,i),(w===Co.STROKE||w===Co.FILL_STROKE)&&c.strokeText(t,e,i);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:hs(c),x:e,y:i,fontSize:g,path:x})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){i=!0;break}return Tn(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const o=e.fontSize;if(o===0)return;const a=this.ctx,c=e.fontSizeScale,d=e.charSpacing,h=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,w=t.length,v=i.vertical,k=v?1:-1,y=i.defaultVMetrics,x=o*e.fontMatrix[0],I=e.textRenderingMode===Co.FILL&&!i.disableFontFace&&!e.patternFill;a.save(),e.textMatrix&&a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),p>0?a.scale(g,-1):a.scale(g,1);let F,R;if(e.patternFill){a.save();const P=e.fillColor.getPattern(a,this,Ed(a),Ao.FILL);F=hs(a),a.restore(),a.fillStyle=P}if(e.patternStroke){a.save();const P=e.strokeColor.getPattern(a,this,Ed(a),Ao.STROKE);R=hs(a),a.restore(),a.strokeStyle=P}let Q=e.lineWidth;const V=e.textMatrixScale;if(V===0||Q===0){const P=e.textRenderingMode&Co.FILL_STROKE_MASK;(P===Co.STROKE||P===Co.FILL_STROKE)&&(Q=this.getSinglePixelWidth())}else Q/=V;if(c!==1&&(a.scale(c,c),Q/=c),a.lineWidth=Q,i.isInvalidPDFjsFont){const P=[];let K=0;for(const J of t)P.push(J.unicode),K+=J.width;a.fillText(P.join(""),0,0),e.x+=K*x*g,a.restore(),this.compose();return}let W=0,X;for(X=0;X<w;++X){const P=t[X];if(typeof P=="number"){W+=k*P*o/1e3;continue}let K=!1;const J=(P.isSpace?h:0)+d,rt=P.fontChar,dt=P.accent;let ht,ut,mt=P.width;if(v){const vt=P.vmetric||y,pt=-(P.vmetric?vt[1]:mt*.5)*x,_t=vt[2]*x;mt=vt?-vt[0]:mt,ht=pt/c,ut=(W+_t)/c}else ht=W/c,ut=0;if(i.remeasure&&mt>0){const vt=a.measureText(rt).width*1e3/o*c;if(mt<vt&&this.isFontSubpixelAAEnabled){const pt=mt/vt;K=!0,a.save(),a.scale(pt,1),ht/=pt}else mt!==vt&&(ht+=(mt-vt)/2e3*o/c)}if(this.contentVisible&&(P.isInFont||i.missingFile)){if(I&&!dt)a.fillText(rt,ht,ut);else if(this.paintChar(rt,ht,ut,F,R),dt){const vt=ht+o*dt.offset.x/c,pt=ut-o*dt.offset.y/c;this.paintChar(dt.fontChar,vt,pt,F,R)}}const St=v?mt*x-J*p:mt*x+J*p;W+=St,K&&a.restore()}v?e.y-=W:e.x+=W*g,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,o=i.font,a=i.fontSize,c=i.fontDirection,d=o.vertical?1:-1,h=i.charSpacing,p=i.wordSpacing,g=i.textHScale*c,w=i.fontMatrix||tI,v=t.length,k=i.textRenderingMode===Co.INVISIBLE;let y,x,I,F;if(!(k||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(g,c),y=0;y<v;++y){if(x=t[y],typeof x=="number"){F=d*x*a/1e3,this.ctx.translate(F,0),i.x+=F*g;continue}const R=(x.isSpace?p:0)+h,Q=o.charProcOperatorList[x.operatorListId];Q?this.contentVisible&&(this.save(),e.scale(a,a),e.transform(...w),this.executeOperatorList(Q),this.restore()):An(`Type3 character "${x.operatorListId}" is not available.`);const V=[x.width,0];Ie.applyTransform(V,w),I=V[0]*a+R,e.translate(I,0),i.x+=I*g}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,o,a,c){const d=new Path2D;d.rect(i,o,a-i,c-o),this.ctx.clip(d),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||hs(this.ctx),o={createCanvasGraphics:a=>new dL(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new kI(t,this.ctx,o,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=Ie.makeHexColor(t,e,i),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=Ie.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=nat(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Ed(e),Ao.SHADING);const o=Ed(e);if(o){const{width:a,height:c}=e.canvas,d=Km.slice();Ie.axialAlignedBoundingBox([0,0,a,c],o,d);const[h,p,g,w]=d;this.ctx.fillRect(h,p,g-h,w-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Si("Should not call beginInlineImage")}beginImageData(){Si("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=hs(this.ctx),e)){Ie.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,o,a,c]=e,d=new Path2D;d.rect(i,o,a-i,c-o),this.ctx.clip(d),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Jx("TODO: Support non-isolated groups."),t.knockout&&An("Knockout groups not supported.");const i=hs(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let o=Km.slice();Ie.axialAlignedBoundingBox(t.bbox,hs(e),o);const a=[0,0,e.canvas.width,e.canvas.height];o=Ie.intersect(o,a)||[0,0,0,0];const c=Math.floor(o[0]),d=Math.floor(o[1]),h=Math.max(Math.ceil(o[2])-c,1),p=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,h,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const w=this.cachedCanvases.getCanvas(g,h,p),v=w.context;v.translate(-c,-d),v.transform(...i);let k=new Path2D;const[y,x,I,F]=t.bbox;if(k.rect(y,x,I-y,F-x),t.matrix){const R=new Path2D;R.addPath(k,new DOMMatrix(t.matrix)),k=R}v.clip(k),t.smask?this.smaskStack.push({canvas:w.canvas,context:v,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,d),e.save()),rv(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=hs(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const a=Km.slice();Ie.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o,a),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,i,o,a){if(lt(this,Zc,yI).call(this),Vy(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],d=e[3]-e[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=d,Ie.singularValueDecompose2dScale(hs(this.ctx),yl);const{viewportScale:h}=this,p=Math.ceil(c*this.outputScaleX*h),g=Math.ceil(d*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:w,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(yl[0],0,0,-yl[1],0,d*yl[1]),Vy(this.ctx)}else{Vy(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],c,d),this.ctx.clip(h)}}this.current=new q4(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),lt(this,Zc,CI).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,o=this._createMaskCanvas(t),a=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,o=0,a,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const h=hs(d);d.transform(e,i,o,a,0,0);const p=this._createMaskCanvas(t);d.setTransform(1,0,0,1,p.offsetX-h[4],p.offsetY-h[5]);for(let g=0,w=c.length;g<w;g+=2){const v=Ie.transform(h,[e,i,o,a,c[g],c[g+1]]);d.drawImage(p.canvas,v[4],v[5])}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,o=this.current.patternFill;for(const a of t){const{data:c,width:d,height:h,transform:p}=a,g=this.cachedCanvases.getCanvas("maskCanvas",d,h),w=g.context;w.save();const v=this.getObject(c,a);X4(w,v),w.globalCompositeOperation="source-in",w.fillStyle=o?i.getPattern(w,this,Ed(e),Ao.FILL):i,w.fillRect(0,0,d,h),w.restore(),e.save(),e.transform(...p),e.scale(1,-1),jy(e,g.canvas,0,0,d,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){An("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,o){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){An("Dependent image isn't ready yet");return}const c=a.width,d=a.height,h=[];for(let p=0,g=o.length;p<g;p+=2)h.push({transform:[e,0,0,i,o[p],o[p+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(a,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:o}=t,a=this.cachedCanvases.getCanvas("inlineImage",i,o),c=a.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,o=this.ctx;this.save();const{filter:a}=o;a!=="none"&&a!==""&&(o.filter="none"),o.scale(1/e,-1/i);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,i).context;Y4(p,t),c=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(c,Ed(o));o.imageSmoothingEnabled=Z4(hs(o),t.interpolate),jy(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let o;if(t.bitmap)o=t.bitmap;else{const a=t.width,c=t.height,h=this.cachedCanvases.getCanvas("inlineImage",a,c).context;Y4(h,t),o=this.applyTransferMapsToCanvas(h)}for(const a of e)i.save(),i.transform(...a.transform),i.scale(1,-1),jy(i,o,a.x,a.y,a.w,a.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const o=this.ctx;this.pendingClip&&(i||(this.pendingClip===J4?o.clip(t,"evenodd"):o.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=hs(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),o=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:o,d:a}=this.ctx.getTransform();let c,d;if(i===0&&o===0){const h=Math.abs(e),p=Math.abs(a);if(h===p)if(t===0)c=d=1/h;else{const g=h*t;c=d=g<1?1/g:1}else if(t===0)c=1/h,d=1/p;else{const g=h*t,w=p*t;c=g<1?1/g:1,d=w<1?1/w:1}}else{const h=Math.abs(e*a-i*o),p=Math.hypot(e,i),g=Math.hypot(o,a);if(t===0)c=g/h,d=p/h;else{const w=t*h;c=g>w?g/w:1,d=p>w?p/w:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:o}}=this,[a,c]=this.getScaleForStroking();if(a===c){i.lineWidth=(o||1)*a,i.stroke(t);return}const d=i.getLineDash();e&&i.save(),i.scale(a,c),XS.a=1/a,XS.d=1/c;const h=new Path2D;if(h.addPath(t,XS),d.length>0){const p=Math.max(a,c);i.setLineDash(d.map(g=>g/p)),i.lineDashOffset/=p}i.lineWidth=o||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Zc=new WeakSet,yI=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},CI=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},EI=function(t,e,i){const o=new Path2D;return o.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),o};let qm=dL;for(const r in m_)qm.prototype[r]!==void 0&&(qm.prototype[m_[r]]=qm.prototype[r]);var ok,ak;class $c{static get workerPort(){return B(this,ok)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");Z(this,ok,t)}static get workerSrc(){return B(this,ak)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");Z(this,ak,t)}}ok=new WeakMap,ak=new WeakMap,ot($c,ok,null),ot($c,ak,"");var gb,lk;class dat{constructor({parsedData:t,rawData:e}){ot(this,gb);ot(this,lk);Z(this,gb,t),Z(this,lk,e)}getRaw(){return B(this,lk)}get(t){return B(this,gb).get(t)??null}[Symbol.iterator](){return B(this,gb).entries()}}gb=new WeakMap,lk=new WeakMap;const Um=Symbol("INTERNAL");var ck,dk,Ak,mb;class Aat{constructor(t,{name:e,intent:i,usage:o,rbGroups:a}){ot(this,ck,!1);ot(this,dk,!1);ot(this,Ak,!1);ot(this,mb,!0);Z(this,ck,!!(t&_l.DISPLAY)),Z(this,dk,!!(t&_l.PRINT)),this.name=e,this.intent=i,this.usage=o,this.rbGroups=a}get visible(){if(B(this,Ak))return B(this,mb);if(!B(this,mb))return!1;const{print:t,view:e}=this.usage;return B(this,ck)?(e==null?void 0:e.viewState)!=="OFF":B(this,dk)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==Um&&Si("Internal method `_setVisible` called."),Z(this,Ak,i),Z(this,mb,e)}}ck=new WeakMap,dk=new WeakMap,Ak=new WeakMap,mb=new WeakMap;var Ch,Ei,bb,wb,uk,xI;class uat{constructor(t,e=_l.DISPLAY){ot(this,uk);ot(this,Ch,null);ot(this,Ei,new Map);ot(this,bb,null);ot(this,wb,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,Z(this,wb,t.order);for(const i of t.groups)B(this,Ei).set(i.id,new Aat(e,i));if(t.baseState==="OFF")for(const i of B(this,Ei).values())i._setVisible(Um,!1);for(const i of t.on)B(this,Ei).get(i)._setVisible(Um,!0);for(const i of t.off)B(this,Ei).get(i)._setVisible(Um,!1);Z(this,bb,this.getHash())}}isVisible(t){if(B(this,Ei).size===0)return!0;if(!t)return Jx("Optional content group not defined."),!0;if(t.type==="OCG")return B(this,Ei).has(t.id)?B(this,Ei).get(t.id).visible:(An(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return lt(this,uk,xI).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!B(this,Ei).has(e))return An(`Optional content group not found: ${e}`),!0;if(B(this,Ei).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!B(this,Ei).has(e))return An(`Optional content group not found: ${e}`),!0;if(!B(this,Ei).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!B(this,Ei).has(e))return An(`Optional content group not found: ${e}`),!0;if(!B(this,Ei).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!B(this,Ei).has(e))return An(`Optional content group not found: ${e}`),!0;if(B(this,Ei).get(e).visible)return!1}return!0}return An(`Unknown optional content policy ${t.policy}.`),!0}return An(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var a;const o=B(this,Ei).get(t);if(!o){An(`Optional content group not found: ${t}`);return}if(i&&e&&o.rbGroups.length)for(const c of o.rbGroups)for(const d of c)d!==t&&((a=B(this,Ei).get(d))==null||a._setVisible(Um,!1,!0));o._setVisible(Um,!!e,!0),Z(this,Ch,null)}setOCGState({state:t,preserveRB:e}){let i;for(const o of t){switch(o){case"ON":case"OFF":case"Toggle":i=o;continue}const a=B(this,Ei).get(o);if(a)switch(i){case"ON":this.setVisibility(o,!0,e);break;case"OFF":this.setVisibility(o,!1,e);break;case"Toggle":this.setVisibility(o,!a.visible,e);break}}Z(this,Ch,null)}get hasInitialVisibility(){return B(this,bb)===null||this.getHash()===B(this,bb)}getOrder(){return B(this,Ei).size?B(this,wb)?B(this,wb).slice():[...B(this,Ei).keys()]:null}getGroup(t){return B(this,Ei).get(t)||null}getHash(){if(B(this,Ch)!==null)return B(this,Ch);const t=new uj;for(const[e,i]of B(this,Ei))t.update(`${e}:${i.visible}`);return Z(this,Ch,t.hexdigest())}[Symbol.iterator](){return B(this,Ei).entries()}}Ch=new WeakMap,Ei=new WeakMap,bb=new WeakMap,wb=new WeakMap,uk=new WeakSet,xI=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let o=1;o<e;o++){const a=t[o];let c;if(Array.isArray(a))c=lt(this,uk,xI).call(this,a);else if(B(this,Ei).has(a))c=B(this,Ei).get(a).visible;else return An(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return i==="And"};class hat{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Gs(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:a,progressiveDone:c,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=d,(a==null?void 0:a.length)>0){const h=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),t.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const o=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(i),!0)});Gs(o,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,o,a;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(a=(o=this._fullRequestReader)==null?void 0:o.onProgress)==null||a.call(o,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Gs(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new fat(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new pat(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class fat{constructor(t,e,i=!1,o=null){this._stream=t,this._done=i||!1,this._filename=eB(o)?o:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class pat{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gat(r){let t=!0,e=i("filename\\*","i").exec(r);if(e){e=e[1];let g=d(e);return g=unescape(g),g=h(g),g=p(g),a(g)}if(e=c(r),e){const g=p(e);return a(g)}if(e=i("filename","i").exec(r),e){e=e[1];let g=d(e);return g=p(g),a(g)}function i(g,w){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',w)}function o(g,w){if(g){if(!/^[\x00-\xFF]+$/.test(w))return w;try{const v=new TextDecoder(g,{fatal:!0}),k=u0(w);w=v.decode(k),t=!1}catch{}}return w}function a(g){return t&&/[\x80-\xff]/.test(g)&&(g=o("utf-8",g),t&&(g=o("iso-8859-1",g))),g}function c(g){const w=[];let v;const k=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=k.exec(g))!==null;){let[,x,I,F]=v;if(x=parseInt(x,10),x in w){if(x===0)break;continue}w[x]=[I,F]}const y=[];for(let x=0;x<w.length&&x in w;++x){let[I,F]=w[x];F=d(F),I&&(F=unescape(F),x===0&&(F=h(F))),y.push(F)}return y.join("")}function d(g){if(g.startsWith('"')){const w=g.slice(1).split('\\"');for(let v=0;v<w.length;++v){const k=w[v].indexOf('"');k!==-1&&(w[v]=w[v].slice(0,k),w.length=v+1),w[v]=w[v].replaceAll(/\\(.)/g,"$1")}g=w.join('"')}return g}function h(g){const w=g.indexOf("'");if(w===-1)return g;const v=g.slice(0,w),y=g.slice(w+1).replace(/^[^']*'/,"");return o(v,y)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(w,v,k,y){if(k==="q"||k==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,I){return String.fromCharCode(parseInt(I,16))}),o(v,y);try{y=atob(y)}catch{}return o(v,y)})}return""}function Cj(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const i in t){const o=t[i];o!==void 0&&e.append(i,o)}return e}function iB(r){var t;return((t=URL.parse(r))==null?void 0:t.origin)??null}function Ej({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:i}){const o={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(r.get("Content-Length"),10);return!Number.isInteger(a)||(o.suggestedLength=a,a<=2*e)||i||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function xj(r){const t=r.get("Content-Disposition");if(t){let e=gat(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(eB(e))return e}return null}function g0(r,t){return new b_(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r,r===404||r===0&&t.startsWith("file:"))}function Bj(r){return r===200||r===206}function Sj(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Tj(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(An(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class tQ{constructor(t){Ft(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Cj(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Gs(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new mat(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new bat(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class mat{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),o=e.url;fetch(o,Sj(i,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=iB(a.url),!Bj(a.status))throw g0(a.status,o);this._reader=a.body.getReader(),this._headersCapability.resolve();const c=a.headers,{allowRangeRequests:d,suggestedLength:h}=Ej({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=h||this._contentLength,this._filename=xj(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Tu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Tj(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class bat{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const o=t.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${i-1}`);const c=o.url;fetch(c,Sj(a,this._withCredentials,this._abortController)).then(d=>{const h=iB(d.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!Bj(d.status))throw g0(d.status,c);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:Tj(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const ZS=200,JS=206;function wat(r){const t=r.response;return typeof t!="string"?t:u0(t).buffer}class vat{constructor({url:t,httpHeaders:e,withCredentials:i}){Ft(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Cj(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,o=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,c]of this.headers)e.setRequestHeader(a,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),o.expectedStatus=JS):o.expectedStatus=ZS,e.responseType="arraybuffer",Gs(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),o.onHeadersReceived=t.onHeadersReceived,o.onDone=t.onDone,o.onError=t.onError,o.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var o;const i=this.pendingRequests[t];i&&((o=i.onProgress)==null||o.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const o=i.xhr;if(o.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),o.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],o.status===0&&this.isHttp){i.onError(o.status);return}const a=o.status||ZS;if(!(a===ZS&&i.expectedStatus===JS)&&a!==i.expectedStatus){i.onError(o.status);return}const d=wat(o);if(a===JS){const h=o.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);p?i.onDone({begin:parseInt(p[1],10),chunk:d}):(An('Missing or invalid "Content-Range" header.'),i.onError(0))}else d?i.onDone({begin:0,chunk:d}):i.onError(o.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class _at{constructor(t){this._source=t,this._manager=new vat(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Gs(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new kat(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new yat(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class kat{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=iB(e.responseURL);const i=e.getAllResponseHeaders(),o=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(d=>{const[h,...p]=d.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:c}=Ej({responseHeaders:o,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=xj(o),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=g0(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class yat{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=iB((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=g0(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Cat=/^[a-z][a-z0-9\-+.]+:/i;function Eat(r){if(Cat.test(r))return new URL(r);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}class xat{constructor(t){this.source=t,this.url=Eat(t.url),Gs(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Gs(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Bat(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Sat(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class Bat{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(o=>{this._contentLength=o.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},o=>{o.code==="ENOENT"&&(o=g0(0,this._url.href)),this._storedError=o,this._headersCapability.reject(o)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Tu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Sat{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const o=t.source;this._isStreamingSupported=!o.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Tat=1e5,eQ=30;var I5,Eh,Ia,hk,fk,Op,tu,pk,gk,Np,vb,_b,xh,kb,mk,yb,Rp,bk,wk,Cb,Up,vk,Bh,Eb,Mu,Ij,Dj,BI,Sl,ZC,SI,Mj,Lj;const ur=class ur{constructor({textContentSource:t,container:e,viewport:i}){ot(this,Mu);ot(this,Eh,Promise.withResolvers());ot(this,Ia,null);ot(this,hk,!1);ot(this,fk,!!((I5=globalThis.FontInspector)!=null&&I5.enabled));ot(this,Op,null);ot(this,tu,null);ot(this,pk,0);ot(this,gk,0);ot(this,Np,null);ot(this,vb,null);ot(this,_b,0);ot(this,xh,0);ot(this,kb,Object.create(null));ot(this,mk,[]);ot(this,yb,null);ot(this,Rp,[]);ot(this,bk,new WeakMap);ot(this,wk,null);var h;if(t instanceof ReadableStream)Z(this,yb,t);else if(typeof t=="object")Z(this,yb,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');Z(this,Ia,Z(this,vb,e)),Z(this,xh,i.scale*tA.pixelRatio),Z(this,_b,i.rotation),Z(this,tu,{div:null,properties:null,ctx:null});const{pageWidth:o,pageHeight:a,pageX:c,pageY:d}=i.rawDims;Z(this,wk,[1,0,0,-1,-c,d+a]),Z(this,gk,o),Z(this,pk,a),lt(h=ur,Sl,Mj).call(h),of(e,i),B(this,Eh).promise.finally(()=>{B(ur,Eb).delete(this),Z(this,tu,null),Z(this,kb,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Hr.platform;return Tn(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{B(this,Np).read().then(({value:e,done:i})=>{if(i){B(this,Eh).resolve();return}B(this,Op)??Z(this,Op,e.lang),Object.assign(B(this,kb),e.styles),lt(this,Mu,Ij).call(this,e.items),t()},B(this,Eh).reject)};return Z(this,Np,B(this,yb).getReader()),B(ur,Eb).add(this),t(),B(this,Eh).promise}update({viewport:t,onBefore:e=null}){var a;const i=t.scale*tA.pixelRatio,o=t.rotation;if(o!==B(this,_b)&&(e==null||e(),Z(this,_b,o),of(B(this,vb),{rotation:o})),i!==B(this,xh)){e==null||e(),Z(this,xh,i);const c={div:null,properties:null,ctx:lt(a=ur,Sl,ZC).call(a,B(this,Op))};for(const d of B(this,Rp))c.properties=B(this,bk).get(d),c.div=d,lt(this,Mu,BI).call(this,c)}}cancel(){var e;const t=new Tu("TextLayer task cancelled.");(e=B(this,Np))==null||e.cancel(t).catch(()=>{}),Z(this,Np,null),B(this,Eh).reject(t)}get textDivs(){return B(this,Rp)}get textContentItemsStr(){return B(this,mk)}static cleanup(){if(!(B(this,Eb).size>0)){B(this,Cb).clear();for(const{canvas:t}of B(this,Up).values())t.remove();B(this,Up).clear()}}};Eh=new WeakMap,Ia=new WeakMap,hk=new WeakMap,fk=new WeakMap,Op=new WeakMap,tu=new WeakMap,pk=new WeakMap,gk=new WeakMap,Np=new WeakMap,vb=new WeakMap,_b=new WeakMap,xh=new WeakMap,kb=new WeakMap,mk=new WeakMap,yb=new WeakMap,Rp=new WeakMap,bk=new WeakMap,wk=new WeakMap,Cb=new WeakMap,Up=new WeakMap,vk=new WeakMap,Bh=new WeakMap,Eb=new WeakMap,Mu=new WeakSet,Ij=function(t){var o,a;if(B(this,hk))return;(a=B(this,tu)).ctx??(a.ctx=lt(o=ur,Sl,ZC).call(o,B(this,Op)));const e=B(this,Rp),i=B(this,mk);for(const c of t){if(e.length>Tat){An("Ignoring additional textDivs for performance reasons."),Z(this,hk,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const d=B(this,Ia);Z(this,Ia,document.createElement("span")),B(this,Ia).classList.add("markedContent"),c.id!==null&&B(this,Ia).setAttribute("id",`${c.id}`),d.append(B(this,Ia))}else c.type==="endMarkedContent"&&Z(this,Ia,B(this,Ia).parentNode);continue}i.push(c.str),lt(this,Mu,Dj).call(this,c)}},Dj=function(t){var x;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};B(this,Rp).push(e);const o=Ie.transform(B(this,wk),t.transform);let a=Math.atan2(o[1],o[0]);const c=B(this,kb)[t.fontName];c.vertical&&(a+=Math.PI/2);let d=B(this,fk)&&c.fontSubstitution||c.fontFamily;d=ur.fontFamilyMap.get(d)||d;const h=Math.hypot(o[2],o[3]),p=h*lt(x=ur,Sl,Lj).call(x,d,c,B(this,Op));let g,w;a===0?(g=o[4],w=o[5]-p):(g=o[4]+p*Math.sin(a),w=o[5]-p*Math.cos(a));const v="calc(var(--total-scale-factor) *",k=e.style;B(this,Ia)===B(this,vb)?(k.left=`${(100*g/B(this,gk)).toFixed(2)}%`,k.top=`${(100*w/B(this,pk)).toFixed(2)}%`):(k.left=`${v}${g.toFixed(2)}px)`,k.top=`${v}${w.toFixed(2)}px)`),k.fontSize=`${v}${(B(ur,Bh)*h).toFixed(2)}px)`,k.fontFamily=d,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,B(this,fk)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),a!==0&&(i.angle=a*(180/Math.PI));let y=!1;if(t.str.length>1)y=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const I=Math.abs(t.transform[0]),F=Math.abs(t.transform[3]);I!==F&&Math.max(I,F)/Math.min(I,F)>1.5&&(y=!0)}if(y&&(i.canvasWidth=c.vertical?t.height:t.width),B(this,bk).set(e,i),B(this,tu).div=e,B(this,tu).properties=i,lt(this,Mu,BI).call(this,B(this,tu)),i.hasText&&B(this,Ia).append(e),i.hasEOL){const I=document.createElement("br");I.setAttribute("role","presentation"),B(this,Ia).append(I)}},BI=function(t){var d;const{div:e,properties:i,ctx:o}=t,{style:a}=e;let c="";if(B(ur,Bh)>1&&(c=`scale(${1/B(ur,Bh)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:h}=a,{canvasWidth:p,fontSize:g}=i;lt(d=ur,Sl,SI).call(d,o,g*B(this,xh),h);const{width:w}=o.measureText(e.textContent);w>0&&(c=`scaleX(${p*B(this,xh)/w}) ${c}`)}i.angle!==0&&(c=`rotate(${i.angle}deg) ${c}`),c.length>0&&(a.transform=c)},Sl=new WeakSet,ZC=function(t=null){let e=B(this,Up).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),B(this,Up).set(t,e),B(this,vk).set(e,{size:0,family:""})}return e},SI=function(t,e,i){const o=B(this,vk).get(t);e===o.size&&i===o.family||(t.font=`${e}px ${i}`,o.size=e,o.family=i)},Mj=function(){if(B(this,Bh)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),Z(this,Bh,t.getBoundingClientRect().height),t.remove()},Lj=function(t,e,i){const o=B(this,Cb).get(t);if(o)return o;const a=lt(this,Sl,ZC).call(this,i);a.canvas.width=a.canvas.height=eQ,lt(this,Sl,SI).call(this,a,eQ,t);const c=a.measureText(""),d=c.fontBoundingBoxAscent,h=Math.abs(c.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let p=.8;return d?p=d/(d+h):(Hr.platform.isFirefox&&An("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?p=e.ascent:e.descent&&(p=1+e.descent)),B(this,Cb).set(t,p),p},ot(ur,Sl),ot(ur,Cb,new Map),ot(ur,Up,new Map),ot(ur,vk,new WeakMap),ot(ur,Bh,null),ot(ur,Eb,new Set);let hw=ur;class v_{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function o(a){var h;if(!a)return;let c=null;const d=a.name;if(d==="#text")c=a.value;else if(v_.shouldBuildText(d))(h=a==null?void 0:a.attributes)!=null&&h.textContent?c=a.attributes.textContent:a.value&&(c=a.value);else return;if(c!==null&&e.push({str:c}),!!a.children)for(const p of a.children)o(p)}return o(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Iat=65536,Dat=100;function Pj(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new II,{docId:e}=t,i=r.url?Mat(r.url):null,o=r.data?Lat(r.data):null,a=r.httpHeaders||null,c=r.withCredentials===!0,d=r.password??null,h=r.range instanceof LM?r.range:null,p=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:Iat;let g=r.worker instanceof _g?r.worker:null;const w=r.verbosity,v=typeof r.docBaseUrl=="string"&&!f0(r.docBaseUrl)?r.docBaseUrl:null,k=Ky(r.cMapUrl),y=r.cMapPacked!==!1,x=r.CMapReaderFactory||(aa?qot:z4),I=Ky(r.iccUrl),F=Ky(r.standardFontDataUrl),R=r.StandardFontDataFactory||(aa?Yot:j4),Q=Ky(r.wasmUrl),V=r.WasmFactory||(aa?Xot:V4),W=r.stopAtErrors!==!0,X=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,P=r.isEvalSupported!==!1,K=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!aa,J=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!aa&&(Hr.platform.isFirefox||!globalThis.chrome),rt=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,dt=typeof r.disableFontFace=="boolean"?r.disableFontFace:aa,ht=r.fontExtraProperties===!0,ut=r.enableXfa===!0,mt=r.ownerDocument||globalThis.document,St=r.disableRange===!0,vt=r.disableStream===!0,pt=r.disableAutoFetch===!0,_t=r.pdfBug===!0,Dt=r.CanvasFactory||(aa?$ot:Kot),yt=r.FilterFactory||(aa?Wot:Got),se=r.enableHWA===!0,oe=r.useWasm!==!1,ie=h?h.length:r.length??NaN,le=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!aa&&!dt,Lt=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(x===z4&&R===j4&&V===V4&&k&&F&&Q&&Fm(k,document.baseURI)&&Fm(F,document.baseURI)&&Fm(Q,document.baseURI)),Tt=null;Sot(w);const Pt={canvasFactory:new Dt({ownerDocument:mt,enableHWA:se}),filterFactory:new yt({docId:e,ownerDocument:mt}),cMapReaderFactory:Lt?null:new x({baseUrl:k,isCompressed:y}),standardFontDataFactory:Lt?null:new R({baseUrl:F}),wasmFactory:Lt?null:new V({baseUrl:Q})};if(!g){const Ge={verbosity:w,port:$c.workerPort};g=Ge.port?_g.fromPort(Ge):new _g(Ge),t._worker=g}const jt={docId:e,apiVersion:"5.2.133",data:o,password:d,disableAutoFetch:pt,rangeChunkSize:p,length:ie,docBaseUrl:v,enableXfa:ut,evaluatorOptions:{maxImageSize:X,disableFontFace:dt,ignoreErrors:W,isEvalSupported:P,isOffscreenCanvasSupported:K,isImageDecoderSupported:J,canvasMaxAreaInBytes:rt,fontExtraProperties:ht,useSystemFonts:le,useWasm:oe,useWorkerFetch:Lt,cMapUrl:k,iccUrl:I,standardFontDataUrl:F,wasmUrl:Q}},Ne={ownerDocument:mt,pdfBug:_t,styleElement:Tt,loadingParams:{disableAutoFetch:pt,enableXfa:ut}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Ge=g.messageHandler.sendWithPromise("GetDocRequest",jt,o?[o.buffer]:null);let hn;if(h)hn=new hat(h,{disableRange:St,disableStream:vt});else if(!o){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Ye;if(aa)if(Fm(i)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");Ye=tQ}else Ye=xat;else Ye=Fm(i)?tQ:_at;hn=new Ye({url:i,length:ie,httpHeaders:a,withCredentials:c,rangeChunkSize:p,disableRange:St,disableStream:vt})}return Ge.then(Ye=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Se=new Ev(e,Ye,g.port),ae=new Rat(Se,t,hn,Ne,Pt);t._transport=ae,Se.send("Ready",null)})}).catch(t._capability.reject),t}function Mat(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(aa)return r;const t=URL.parse(r,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Lat(r){if(aa&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return u0(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Ky(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const TI=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,Pat=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",Fj=Oot.bind(null,TI,Pat);var yx;const Cx=class Cx{constructor(){Ft(this,"_capability",Promise.withResolvers());Ft(this,"_transport",null);Ft(this,"_worker",null);Ft(this,"docId",`d${ta(Cx,yx)._++}`);Ft(this,"destroyed",!1);Ft(this,"onPassword",null);Ft(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,o;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(a){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,(o=this._worker)==null||o.destroy(),this._worker=null}async getData(){return this._transport.getData()}};yx=new WeakMap,ot(Cx,yx,0);let II=Cx;class LM{constructor(t,e,i=!1,o=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Si("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Fat{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Tn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var eu,Qp,Iv;class Oat{constructor(t,e,i,o=!1){ot(this,Qp);ot(this,eu,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=o?new U4:null,this._pdfBug=o,this.commonObjs=i.commonObjs,this.objs=new Oj,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:o=0,dontFlip:a=!1}={}){return new h0({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:o,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Tn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:o=bu.ENABLE,transform:a=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:h=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:w=!1}){var V,W;(V=this._stats)==null||V.time("Overall");const v=this._transport.getRenderingIntent(i,o,g,w),{renderingIntent:k,cacheKey:y}=v;Z(this,eu,!1),d||(d=this._transport.getOptionalContentConfig(k));let x=this._intentStates.get(y);x||(x=Object.create(null),this._intentStates.set(y,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const I=!!(k&_l.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(W=this._stats)==null||W.time("Page Request"),this._pumpOperatorList(v));const F=X=>{var P;x.renderTasks.delete(R),I&&Z(this,eu,!0),lt(this,Qp,Iv).call(this),X?(R.capability.reject(X),this._abortOperatorList({intentState:x,reason:X instanceof Error?X:new Error(X)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new MI({callback:F,params:{canvasContext:t,viewport:e,transform:a,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!I,pdfBug:this._pdfBug,pageColors:p});(x.renderTasks||(x.renderTasks=new Set)).add(R);const Q=R.task;return Promise.all([x.displayReadyCapability.promise,d]).then(([X,P])=>{var K;if(this.destroyed){F();return}if((K=this._stats)==null||K.time("Rendering"),!(P.renderingIntent&k))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:X,optionalContentConfig:P}),R.operatorListChanged()}).catch(F),Q}getOperatorList({intent:t="display",annotationMode:e=bu.ENABLE,printAnnotationStorage:i=null,isEditing:o=!1}={}){var p;function a(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(h))}const c=this._transport.getRenderingIntent(t,e,i,o,!0);let d=this._intentStates.get(c.cacheKey);d||(d=Object.create(null),this._intentStates.set(c.cacheKey,d));let h;return d.opListReadCapability||(h=Object.create(null),h.operatorListChanged=a,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(h),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(o){return o.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>v_.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,o){function a(){c.read().then(function({value:h,done:p}){if(p){i(d);return}d.lang??(d.lang=h.lang),Object.assign(d.styles,h.styles),d.items.push(...h.items),a()},o)}const c=e.getReader(),d={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),Z(this,eu,!1),Promise.all(t)}cleanup(t=!1){Z(this,eu,!0);const e=lt(this,Qp,Iv).call(this);return t&&e&&this._stats&&(this._stats=new U4),e}_startRenderPage(t,e){var o,a;const i=this._intentStates.get(e);i&&((o=this._stats)==null||o.timeEnd("Page Request"),(a=i.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let i=0,o=t.length;i<o;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&lt(this,Qp,Iv).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:o}){const{map:a,transfer:c}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:o},c).getReader(),p=this._intentStates.get(e);p.streamReader=h;const g=()=>{h.read().then(({value:w,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(w,p),g())},w=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();lt(this,Qp,Iv).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(w);else if(p.opListReadCapability)p.opListReadCapability.reject(w);else throw w}})};g()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof tB){let o=Dat;e.extraDelay>0&&e.extraDelay<1e3&&(o+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},o);return}}if(t.streamReader.cancel(new Tu(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[o,a]of this._intentStates)if(a===t){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}eu=new WeakMap,Qp=new WeakSet,Iv=function(){if(!B(this,eu)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Z(this,eu,!1),!0};var nu,Ex;class Nat{constructor(){ot(this,nu,new Map);ot(this,Ex,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};B(this,Ex).then(()=>{for(const[o]of B(this,nu))o.call(this,i)})}addEventListener(t,e,i=null){let o=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:a}=i;if(a.aborted){An("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);o=()=>a.removeEventListener("abort",c),a.addEventListener("abort",c)}B(this,nu).set(e,o)}removeEventListener(t,e){const i=B(this,nu).get(e);i==null||i(),B(this,nu).delete(e)}terminate(){for(const[,t]of B(this,nu))t==null||t();B(this,nu).clear()}}nu=new WeakMap,Ex=new WeakMap;var xx,Hp,zp,xb,JC,Bb,tE;const Ji=class Ji{constructor({name:t=null,port:e=null,verbosity:i=Tot()}={}){ot(this,xb);var o;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((o=B(Ji,zp))!=null&&o.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(B(Ji,zp)||Z(Ji,zp,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Ev("main","worker",t),this._messageHandler.on("ready",function(){}),lt(this,xb,JC).call(this)}_initialize(){if(B(Ji,Hp)||B(Ji,Bb,tE)){this._setupFakeWorker();return}let{workerSrc:t}=Ji;try{Ji._isSameOrigin(window.location,t)||(t=Ji._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Ev("main","worker",e),o=()=>{a.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;e.addEventListener("error",()=>{this._webWorker||o()},{signal:a.signal}),i.on("test",d=>{if(a.abort(),this.destroyed||!d){o();return}this._messageHandler=i,this._port=e,this._webWorker=e,lt(this,xb,JC).call(this)}),i.on("ready",d=>{if(a.abort(),this.destroyed){o();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const d=new Uint8Array;i.send("test",d,[d.buffer])};c();return}catch{Jx("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){B(Ji,Hp)||(An("Setting up fake worker."),Z(Ji,Hp,!0)),Ji._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new Nat;this._port=e;const i=`fake${ta(Ji,xx)._++}`,o=new Ev(i+"_worker",i,e);t.setup(o,e),this._messageHandler=new Ev(i,i+"_worker",e),lt(this,xb,JC).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t,e,i;this.destroyed=!0,(t=this._webWorker)==null||t.terminate(),this._webWorker=null,(e=B(Ji,zp))==null||e.delete(this._port),this._port=null,(i=this._messageHandler)==null||i.destroy(),this._messageHandler=null}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=B(this,zp))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ji(t)}static get workerSrc(){if($c.workerSrc)return $c.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Tn(this,"_setupFakeWorkerGlobal",(async()=>B(this,Bb,tE)?B(this,Bb,tE):(await import(this.workerSrc)).WorkerMessageHandler)())}};xx=new WeakMap,Hp=new WeakMap,zp=new WeakMap,xb=new WeakSet,JC=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Bb=new WeakSet,tE=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},ot(Ji,Bb),ot(Ji,xx,0),ot(Ji,Hp,!1),ot(Ji,zp),aa&&(Z(Ji,Hp,!0),$c.workerSrc||($c.workerSrc="./pdf.worker.mjs")),Ji._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const o=new URL(e,i);return i.origin===o.origin},Ji._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let _g=Ji;var iu,Qd,Sb,Tb,su,jp,Dv;class Rat{constructor(t,e,i,o,a){ot(this,jp);ot(this,iu,new Map);ot(this,Qd,new Map);ot(this,Sb,new Map);ot(this,Tb,new Map);ot(this,su,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Oj,this.fontLoader=new jot({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Tn(this,"annotationStorage",new IM)}getRenderingIntent(t,e=bu.ENABLE,i=null,o=!1,a=!1){let c=_l.DISPLAY,d=bI;switch(t){case"any":c=_l.ANY;break;case"display":break;case"print":c=_l.PRINT;break;default:An(`getRenderingIntent - invalid intent: ${t}`)}const h=c&_l.PRINT&&i instanceof fj?i:this.annotationStorage;switch(e){case bu.DISABLE:c+=_l.ANNOTATIONS_DISABLE;break;case bu.ENABLE:break;case bu.ENABLE_FORMS:c+=_l.ANNOTATIONS_FORMS;break;case bu.ENABLE_STORAGE:c+=_l.ANNOTATIONS_STORAGE,d=h.serializable;break;default:An(`getRenderingIntent - invalid annotationMode: ${e}`)}o&&(c+=_l.IS_EDITING),a&&(c+=_l.OPLIST);const{ids:p,hash:g}=h.modifiedIds,w=[c,d.hash,g];return{renderingIntent:c,cacheKey:w.join("_"),annotationStorageSerializable:d,modifiedIds:p}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=B(this,su))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const o of B(this,Qd).values())t.push(o._destroy());B(this,Qd).clear(),B(this,Sb).clear(),B(this,Tb).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var o,a;this.commonObjs.clear(),this.fontLoader.clear(),B(this,iu).clear(),this.filterFactory.destroy(),hw.cleanup(),(o=this._networkStream)==null||o.cancelAllRequests(new Tu("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,o)=>{Gs(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},o.onPull=()=>{this._fullReader.read().then(function({value:a,done:c}){if(c){o.close();return}Gs(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{o.error(a)})},o.onCancel=a=>{this._fullReader.cancel(a),o.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async i=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:o,isRangeSupported:a,contentLength:c}=this._fullReader;return(!o||!a)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:o,isRangeSupported:a,contentLength:c}}),t.on("GetRangeReader",(i,o)=>{Gs(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);if(!a){o.close();return}o.onPull=()=>{a.read().then(function({value:c,done:d}){if(d){o.close();return}Gs(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{o.error(c)})},o.onCancel=c=>{a.cancel(c),o.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new Fat(i,this))}),t.on("DocException",i=>{e._capability.reject(Ba(i))}),t.on("PasswordRequest",i=>{Z(this,su,Promise.withResolvers());try{if(!e.onPassword)throw Ba(i);const o=a=>{a instanceof Error?B(this,su).reject(a):B(this,su).resolve({password:a})};e.onPassword(o,i.code)}catch(o){B(this,su).reject(o)}return B(this,su).promise}),t.on("DataLoaded",i=>{var o;(o=e.onProgress)==null||o.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;B(this,Qd).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,o,a])=>{var c;if(this.destroyed||this.commonObjs.has(i))return null;switch(o){case"Font":if("error"in a){const g=a.error;An(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const d=this._params.pdfBug&&((c=globalThis.FontInspector)!=null&&c.enabled)?(g,w)=>globalThis.FontInspector.fontAdded(g,w):null,h=new Vot(a,d);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:p}=a;Gs(p,"The imageRef must be defined.");for(const g of B(this,Qd).values())for(const[,w]of g.objs)if((w==null?void 0:w.ref)===p)return w.dataLen?(this.commonObjs.resolve(i,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error(`Got unknown common object type ${o}`)}return null}),t.on("obj",([i,o,a,c])=>{var h;if(this.destroyed)return;const d=B(this,Qd).get(o);if(!d.objs.has(i)){if(d._intentStates.size===0){(h=c==null?void 0:c.bitmap)==null||h.close();return}switch(a){case"Image":case"Pattern":d.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",i=>{var o;this.destroyed||(o=e.onProgress)==null||o.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const o=this[i.type];if(!o)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return o.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&An("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=B(this,Sb).get(e);if(i)return i;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&B(this,Tb).set(a.refStr,t);const c=new Oat(e,a,this,this._params.pdfBug);return B(this,Qd).set(e,c),c});return B(this,Sb).set(e,o),o}getPageIndex(t){return TI(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return lt(this,jp,Dv).call(this,"GetFieldObjects")}hasJSActions(){return lt(this,jp,Dv).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return lt(this,jp,Dv).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return lt(this,jp,Dv).call(this,"GetOptionalContentConfig").then(e=>new uat(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=B(this,iu).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(o=>{var a,c;return{info:o[0],metadata:o[1]?new dat(o[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return B(this,iu).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of B(this,Qd).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),B(this,iu).clear(),this.filterFactory.destroy(!0),hw.cleanup()}}cachedPageNumber(t){if(!TI(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return B(this,Tb).get(e)??null}}iu=new WeakMap,Qd=new WeakMap,Sb=new WeakMap,Tb=new WeakMap,su=new WeakMap,jp=new WeakSet,Dv=function(t,e=null){const i=B(this,iu).get(t);if(i)return i;const o=this.messageHandler.sendWithPromise(t,e);return B(this,iu).set(t,o),o};const ov=Symbol("INITIAL_DATA");var Al,_k,DI;class Oj{constructor(){ot(this,_k);ot(this,Al,Object.create(null))}get(t,e=null){if(e){const o=lt(this,_k,DI).call(this,t);return o.promise.then(()=>e(o.data)),null}const i=B(this,Al)[t];if(!i||i.data===ov)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=B(this,Al)[t];return!!e&&e.data!==ov}delete(t){const e=B(this,Al)[t];return!e||e.data===ov?!1:(delete B(this,Al)[t],!0)}resolve(t,e=null){const i=lt(this,_k,DI).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in B(this,Al)){const{data:i}=B(this,Al)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}Z(this,Al,Object.create(null))}*[Symbol.iterator](){for(const t in B(this,Al)){const{data:e}=B(this,Al)[t];e!==ov&&(yield[t,e])}}}Al=new WeakMap,_k=new WeakSet,DI=function(t){var e;return(e=B(this,Al))[t]||(e[t]={...Promise.withResolvers(),data:ov})};var Sh;class Uat{constructor(t){ot(this,Sh,null);Ft(this,"onContinue",null);Ft(this,"onError",null);Z(this,Sh,t)}get promise(){return B(this,Sh).capability.promise}cancel(t=0){B(this,Sh).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=B(this,Sh).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=B(this,Sh);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Sh=new WeakMap;var Th,Vp;const op=class op{constructor({callback:t,params:e,objs:i,commonObjs:o,annotationCanvasMap:a,operatorList:c,pageIndex:d,canvasFactory:h,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:w=!1,pageColors:v=null}){ot(this,Th,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=o,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=d,this.canvasFactory=h,this.filterFactory=p,this._pdfBug=w,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Uat(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,h;if(this.cancelled)return;if(this._canvas){if(B(op,Vp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");B(op,Vp).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:o,transform:a,background:c}=this.params;this.gfx=new qm(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:o,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var i,o,a;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),B(this,Th)&&(window.cancelAnimationFrame(B(this,Th)),Z(this,Th,null)),B(op,Vp).delete(this._canvas),t||(t=new tB(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(a=(o=this.task).onError)==null||a.call(o,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Z(this,Th,window.requestAnimationFrame(()=>{Z(this,Th,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),B(op,Vp).delete(this._canvas),this.callback())))}};Th=new WeakMap,Vp=new WeakMap,ot(op,Vp,new WeakSet);let MI=op;const Nj="5.2.133",Rj="4f7761353";function nQ(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function av(r){return Math.max(0,Math.min(255,255*r))}class iQ{static CMYK_G([t,e,i,o]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+o)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=av(t),[t,t,t]}static G_HTML([t]){const e=nQ(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(av)}static RGB_HTML(t){return`#${t.map(nQ).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,o]){return["RGB",1-Math.min(1,t+o),1-Math.min(1,i+o),1-Math.min(1,e+o)]}static CMYK_rgb([t,e,i,o]){return[av(1-Math.min(1,t+o)),av(1-Math.min(1,i+o)),av(1-Math.min(1,e+o))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const o=1-t,a=1-e,c=1-i,d=Math.min(o,a,c);return["CMYK",o,a,c,d]}}class Qat{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),i||(o.setAttribute("width",`${t}px`),o.setAttribute("height",`${e}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${t} ${e}`),o}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Si("Abstract method `_createSVG` called.")}}class __ extends Qat{_createSVG(t){return document.createElementNS(PA,t)}}class PM{static setupStorage(t,e,i,o,a){const c=o.getValue(e,{value:null});switch(i.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),a==="print")break;t.addEventListener("input",d=>{o.setValue(e,{value:d.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(c.value===i.attributes.xfaOn?t.setAttribute("checked",!0):c.value===i.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",d=>{o.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),a==="print")break;t.addEventListener("input",d=>{o.setValue(e,{value:d.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const d of i.children)d.attributes.value===c.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const h=d.target.options,p=h.selectedIndex===-1?"":h[h.selectedIndex].value;o.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:o,linkService:a}){const{attributes:c}=e,d=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${o}`);for(const[h,p]of Object.entries(c))if(p!=null)switch(h){case"class":p.length&&t.setAttribute(h,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!d||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,p)}d&&a.addLinkAttributes(t,c.href,c.newWindow),i&&c.dataId&&this.setupStorage(t,c.dataId,e,i)}static render(t){var w,v;const e=t.annotationStorage,i=t.linkService,o=t.xfaHtml,a=t.intent||"display",c=document.createElement(o.name);o.attributes&&this.setAttributes({html:c,element:o,intent:a,linkService:i});const d=a!=="richText",h=t.div;if(h.append(c),t.viewport){const k=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=k}d&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(o.children.length===0){if(o.value){const k=document.createTextNode(o.value);c.append(k),d&&v_.shouldBuildText(o.name)&&p.push(k)}return{textDivs:p}}const g=[[o,-1,c]];for(;g.length>0;){const[k,y,x]=g.at(-1);if(y+1===k.children.length){g.pop();continue}const I=k.children[++g.at(-1)[1]];if(I===null)continue;const{name:F}=I;if(F==="#text"){const Q=document.createTextNode(I.value);p.push(Q),x.append(Q);continue}const R=(w=I==null?void 0:I.attributes)!=null&&w.xmlns?document.createElementNS(I.attributes.xmlns,F):document.createElement(F);if(x.append(R),I.attributes&&this.setAttributes({html:R,element:I,storage:e,intent:a,linkService:i}),((v=I.children)==null?void 0:v.length)>0)g.push([I,-1,R]);else if(I.value){const Q=document.createTextNode(I.value);d&&v_.shouldBuildText(F)&&p.push(Q),R.append(Q)}}for(const k of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))k.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const m0=1e3,Hat=9,Dg=new WeakSet;class sQ{static create(t){switch(t.data.annotationType){case Ts.LINK:return new Uj(t);case Ts.TEXT:return new zat(t);case Ts.WIDGET:switch(t.data.fieldType){case"Tx":return new jat(t);case"Btn":return t.data.radioButton?new zj(t):t.data.checkBox?new Kat(t):new Gat(t);case"Ch":return new Wat(t);case"Sig":return new Vat(t)}return new Rg(t);case Ts.POPUP:return new PI(t);case Ts.FREETEXT:return new Wj(t);case Ts.LINE:return new qat(t);case Ts.SQUARE:return new Yat(t);case Ts.CIRCLE:return new Xat(t);case Ts.POLYLINE:return new $j(t);case Ts.CARET:return new Jat(t);case Ts.INK:return new FM(t);case Ts.POLYGON:return new Zat(t);case Ts.HIGHLIGHT:return new qj(t);case Ts.UNDERLINE:return new tlt(t);case Ts.SQUIGGLY:return new elt(t);case Ts.STRIKEOUT:return new nlt(t);case Ts.STAMP:return new Yj(t);case Ts.FILEATTACHMENT:return new ilt(t);default:return new Os(t)}}}var Kp,Ib,Db,kk,LI;const AL=class AL{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:o=!1}={}){ot(this,kk);ot(this,Kp,null);ot(this,Ib,!1);ot(this,Db,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return AL._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;B(this,Kp)||Z(this,Kp,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&lt(this,kk,LI).call(this,e),(i=B(this,Db))==null||i.popup.updateEdited(t)}resetEdited(){var t;B(this,Kp)&&(lt(this,kk,LI).call(this,B(this,Kp).rect),(t=B(this,Db))==null||t.popup.resetEdited(),Z(this,Kp,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:o}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof Rg||(a.tabIndex=m0);const{style:c}=a;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof PI){const{rotation:x}=e;return!e.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:d,height:h}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const x=e.borderStyle.horizontalCornerRadius,I=e.borderStyle.verticalCornerRadius;if(x>0||I>0){const R=`calc(${x}px * var(--total-scale-factor)) / calc(${I}px * var(--total-scale-factor))`;c.borderRadius=R}else if(this instanceof zj){const R=`calc(${d}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;c.borderRadius=R}switch(e.borderStyle.style){case Pm.SOLID:c.borderStyle="solid";break;case Pm.DASHED:c.borderStyle="dashed";break;case Pm.BEVELED:An("Unimplemented border style: beveled");break;case Pm.INSET:An("Unimplemented border style: inset");break;case Pm.UNDERLINE:c.borderBottomStyle="solid";break}const F=e.borderColor||null;F?(Z(this,Ib,!0),c.borderColor=Ie.makeHexColor(F[0]|0,F[1]|0,F[2]|0)):c.borderWidth=0}const p=Ie.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:g,pageHeight:w,pageX:v,pageY:k}=o.rawDims;c.left=`${100*(p[0]-v)/g}%`,c.top=`${100*(p[1]-k)/w}%`;const{rotation:y}=e;return e.hasOwnCanvas||y===0?(c.width=`${100*d/g}%`,c.height=`${100*h/w}%`):this.setRotation(y,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:o}=this.parent.viewport.rawDims;let{width:a,height:c}=this;t%180!==0&&([a,c]=[c,a]),e.style.width=`${100*a/i}%`,e.style.height=`${100*c/o}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,o)=>{const a=o.detail[e],c=a[0],d=a.slice(1);o.target.style[i]=iQ[`${c}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[i]:iQ[`${c}_rgb`](d)})};return Tn(this,"_commonActions",{display:e=>{const{display:i}=e.detail,o=i%2===1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const o of Object.keys(e.detail)){const a=t[o]||i[o];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[o,a]of Object.entries(e)){const c=i[o];if(c){const d={detail:{[o]:a},target:t};c(d),delete e[o]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,o,a]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){const[x,I,F,R]=t.subarray(2,6);if(o===x&&a===I&&e===F&&i===R)return}const{style:c}=this.container;let d;if(B(this,Ib)){const{borderColor:x,borderWidth:I}=c;c.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${I}">`],this.container.classList.add("hasBorder")}const h=o-e,p=a-i,{svgFactory:g}=this,w=g.createElement("svg");w.classList.add("quadrilateralsContainer"),w.setAttribute("width",0),w.setAttribute("height",0);const v=g.createElement("defs");w.append(v);const k=g.createElement("clipPath"),y=`clippath_${this.data.id}`;k.setAttribute("id",y),k.setAttribute("clipPathUnits","objectBoundingBox"),v.append(k);for(let x=2,I=t.length;x<I;x+=8){const F=t[x],R=t[x+1],Q=t[x+2],V=t[x+3],W=g.createElement("rect"),X=(Q-e)/h,P=(a-R)/p,K=(F-Q)/h,J=(R-V)/p;W.setAttribute("x",X),W.setAttribute("y",P),W.setAttribute("width",K),W.setAttribute("height",J),k.append(W),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${X}" y="${P}" width="${K}" height="${J}"/>`)}B(this,Ib)&&(d.push("</g></svg>')"),c.backgroundImage=d.join("")),this.container.append(w),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:t}=this,e=Z(this,Db,new PI({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Si("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const o=this._fieldObjects[t];if(o)for(const{page:a,id:c,exportValues:d}of o){if(a===-1||c===e)continue;const h=typeof d=="string"?d:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!Dg.has(p)){An(`_getElementsByName - element not allowed: ${c}`);continue}i.push({id:c,exportValue:h,domElement:p})}return i}for(const o of document.getElementsByName(t)){const{exportValue:a}=o,c=o.getAttribute("data-element-id");c!==e&&Dg.has(o)&&i.push({id:c,exportValue:a,domElement:o})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Kp=new WeakMap,Ib=new WeakMap,Db=new WeakMap,kk=new WeakSet,LI=function(t){const{container:{style:e},data:{rect:i,rotation:o},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:c,pageX:d,pageY:h}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-d)/a}%`,e.top=`${100*(c-t[3]+h)/c}%`,o===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(o)};let Os=AL;var El,Zf,Qj,Hj;class Uj extends Os{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});ot(this,El);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,o=document.createElement("a");o.setAttribute("data-element-id",e.id);let a=!1;return e.url?(i.addLinkAttributes(o,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(o,e.action),a=!0):e.attachment?(lt(this,El,Qj).call(this,o,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(lt(this,El,Hj).call(this,o,e.setOCGState),a=!0):e.dest?(this._bindLink(o,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(o,e),a=!0),e.resetForm?(this._bindResetFormAction(o,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(o,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(o),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&lt(this,El,Zf).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),lt(this,El,Zf).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(i.actions)){const c=o.get(a);c&&(e[c]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),lt(this,El,Zf).call(this)}_bindResetFormAction(e,i){const o=e.onclick;if(o||(e.href=this.linkService.getAnchorUrl("")),lt(this,El,Zf).call(this),!this._fieldObjects){An('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),o||(e.onclick=()=>!1);return}e.onclick=()=>{var w;o==null||o();const{fields:a,refs:c,include:d}=i,h=[];if(a.length!==0||c.length!==0){const v=new Set(c);for(const k of a){const y=this._fieldObjects[k]||[];for(const{id:x}of y)v.add(x)}for(const k of Object.values(this._fieldObjects))for(const y of k)v.has(y.id)===d&&h.push(y)}else for(const v of Object.values(this._fieldObjects))h.push(...v);const p=this.annotationStorage,g=[];for(const v of h){const{id:k}=v;switch(g.push(k),v.type){case"text":{const x=v.defaultValue||"";p.setValue(k,{value:x});break}case"checkbox":case"radiobutton":{const x=v.defaultValue===v.exportValues;p.setValue(k,{value:x});break}case"combobox":case"listbox":{const x=v.defaultValue||"";p.setValue(k,{value:x});break}default:continue}const y=document.querySelector(`[data-element-id="${k}"]`);if(y){if(!Dg.has(y)){An(`_bindResetFormAction - element not allowed: ${k}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}El=new WeakSet,Zf=function(){this.container.setAttribute("data-internal-link","")},Qj=function(e,i,o=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,o),!1},lt(this,El,Zf).call(this)},Hj=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),lt(this,El,Zf).call(this)};class zat extends Os{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Rg extends Os{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Hr.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,o,a){i.includes("mouse")?t.addEventListener(i,c=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:a(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(i,c=>{var d;if(i==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}a&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:a(c)}}))})}_setEventListeners(t,e,i,o){var a,c,d;for(const[h,p]of i)(p==="Action"||(a=this.data.actions)!=null&&a[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,p,o),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Ie.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||Hat,a=t.style;let c;const d=2,h=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d),g=Math.round(p/(GS*o))||1,w=p/g;c=Math.min(o,h(w/GS))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d);c=Math.min(o,h(p/GS))}a.fontSize=`calc(${c}px * var(--total-scale-factor))`,a.color=Ie.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class jat extends Rg{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,o){const a=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=i),a.setValue(c.id,{[o]:i})}render(){var o,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let d=c.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&d.length>h&&(d=d.slice(0,h));let p=c.formattedValue||((o=this.data.textContent)==null?void 0:o.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:d,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=p??d,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",p??d),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Dg.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=m0,this._setRequired(i,this.data.required),h&&(i.maxLength=h),i.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(i,"value",v.target.value,"value"),g.formattedValue=null}),i.addEventListener("resetform",v=>{const k=this.data.defaultFieldValue??"";i.value=g.userValue=k,g.formattedValue=null});let w=v=>{const{formattedValue:k}=g;k!=null&&(v.target.value=k),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",k=>{var x;if(g.focused)return;const{target:y}=k;g.userValue&&(y.value=g.userValue),g.lastCommittedValue=y.value,g.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(g.focused=!0)}),i.addEventListener("updatefromsandbox",k=>{this.showElementAndHideCanvas(k.target);const y={value(x){g.userValue=x.detail.value??"",t.setValue(e,{value:g.userValue.toString()}),x.target.value=g.userValue},formattedValue(x){const{formattedValue:I}=x.detail;g.formattedValue=I,I!=null&&x.target!==document.activeElement&&(x.target.value=I),t.setValue(e,{formattedValue:I})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var Q;const{charLimit:I}=x.detail,{target:F}=x;if(I===0){F.removeAttribute("maxLength");return}F.setAttribute("maxLength",I);let R=g.userValue;!R||R.length<=I||(R=R.slice(0,I),F.value=g.userValue=R,t.setValue(e,{value:R}),(Q=this.linkService.eventBus)==null||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:F.selectionStart,selEnd:F.selectionEnd}}))}};this._dispatchEventFromSandbox(y,k)}),i.addEventListener("keydown",k=>{var I;g.commitKey=1;let y=-1;if(k.key==="Escape"?y=0:k.key==="Enter"&&!this.data.multiLine?y=2:k.key==="Tab"&&(g.commitKey=3),y===-1)return;const{value:x}=k.target;g.lastCommittedValue!==x&&(g.lastCommittedValue=x,g.userValue=x,(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:y,selStart:k.target.selectionStart,selEnd:k.target.selectionEnd}}))});const v=w;w=null,i.addEventListener("blur",k=>{var x,I;if(!g.focused||!k.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(g.focused=!1);const{value:y}=k.target;g.userValue=y,g.lastCommittedValue!==y&&((I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,willCommit:!0,commitKey:g.commitKey,selStart:k.target.selectionStart,selEnd:k.target.selectionEnd}})),v(k)}),(a=this.data.actions)!=null&&a.Keystroke&&i.addEventListener("beforeinput",k=>{var W;g.lastCommittedValue=null;const{data:y,target:x}=k,{value:I,selectionStart:F,selectionEnd:R}=x;let Q=F,V=R;switch(k.inputType){case"deleteWordBackward":{const X=I.substring(0,F).match(/\w*[^\w]*$/);X&&(Q-=X[0].length);break}case"deleteWordForward":{const X=I.substring(F).match(/^[^\w]*\w*/);X&&(V+=X[0].length);break}case"deleteContentBackward":F===R&&(Q-=1);break;case"deleteContentForward":F===R&&(V+=1);break}k.preventDefault(),(W=this.linkService.eventBus)==null||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:I,change:y||"",willCommit:!1,selStart:Q,selEnd:V}})}),this._setEventListeners(i,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],k=>k.target.value)}if(w&&i.addEventListener("blur",w),this.data.comb){const k=(this.data.rect[2]-this.data.rect[0])/h;i.classList.add("comb"),i.style.letterSpacing=`calc(${k}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Vat extends Rg{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Kat extends Rg{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let o=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof o=="string"&&(o=o!=="Off",t.setValue(i,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Dg.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,o&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=m0,a.addEventListener("change",c=>{const{name:d,checked:h}=c.target;for(const p of this._getElementsByName(d,i)){const g=h&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(i,{value:h})}),a.addEventListener("resetform",c=>{const d=e.defaultFieldValue||"Off";c.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",c=>{const d={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class zj extends Rg{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let o=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof o=="string"&&(o=o!==e.buttonValue,t.setValue(i,{value:o})),o)for(const c of this._getElementsByName(e.fieldName,i))t.setValue(c.id,{value:!1});const a=document.createElement("input");if(Dg.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,o&&a.setAttribute("checked",!0),a.tabIndex=m0,a.addEventListener("change",c=>{const{name:d,checked:h}=c.target;for(const p of this._getElementsByName(d,i))t.setValue(p.id,{value:!1});t.setValue(i,{value:h})}),a.addEventListener("resetform",c=>{const d=e.defaultFieldValue;c.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;a.addEventListener("updatefromsandbox",d=>{const h={value:p=>{const g=c===p.detail.value;for(const w of this._getElementsByName(p.target.name)){const v=g&&w.id===i;w.domElement&&(w.domElement.checked=v),t.setValue(w.id,{value:v})}}};this._dispatchEventFromSandbox(h,d)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Gat extends Uj{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class Wat extends Rg{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),o=document.createElement("select");Dg.add(o),o.setAttribute("data-element-id",e),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=m0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",g=>{const w=this.data.defaultFieldValue;for(const v of o.options)v.selected=v.value===w});for(const g of this.data.options){const w=document.createElement("option");w.textContent=g.displayValue,w.value=g.exportValue,i.value.includes(g.exportValue)&&(w.setAttribute("selected",!0),a=!1),o.append(w)}let c=null;if(a){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),o.prepend(g),c=()=>{g.remove(),o.removeEventListener("input",c),c=null},o.addEventListener("input",c)}const d=g=>{const w=g?"value":"textContent",{options:v,multiple:k}=o;return k?Array.prototype.filter.call(v,y=>y.selected).map(y=>y[w]):v.selectedIndex===-1?null:v[v.selectedIndex][w]};let h=d(!1);const p=g=>{const w=g.target.options;return Array.prototype.map.call(w,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",g=>{const w={value(v){c==null||c();const k=v.detail.value,y=new Set(Array.isArray(k)?k:[k]);for(const x of o.options)x.selected=y.has(x.value);t.setValue(e,{value:d(!0)}),h=d(!1)},multipleSelection(v){o.multiple=!0},remove(v){const k=o.options,y=v.detail.remove;k[y].selected=!1,o.remove(y),k.length>0&&Array.prototype.findIndex.call(k,I=>I.selected)===-1&&(k[0].selected=!0),t.setValue(e,{value:d(!0),items:p(v)}),h=d(!1)},clear(v){for(;o.length!==0;)o.remove(0);t.setValue(e,{value:null,items:[]}),h=d(!1)},insert(v){const{index:k,displayValue:y,exportValue:x}=v.detail.insert,I=o.children[k],F=document.createElement("option");F.textContent=y,F.value=x,I?I.before(F):o.append(F),t.setValue(e,{value:d(!0),items:p(v)}),h=d(!1)},items(v){const{items:k}=v.detail;for(;o.length!==0;)o.remove(0);for(const y of k){const{displayValue:x,exportValue:I}=y,F=document.createElement("option");F.textContent=x,F.value=I,o.append(F)}o.options.length>0&&(o.options[0].selected=!0),t.setValue(e,{value:d(!0),items:p(v)}),h=d(!1)},indices(v){const k=new Set(v.detail.indices);for(const y of v.target.options)y.selected=k.has(y.index);t.setValue(e,{value:d(!0)}),h=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(w,g)}),o.addEventListener("input",g=>{var k;const w=d(!0),v=d(!1);t.setValue(e,{value:w}),g.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:v,changeEx:w,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):o.addEventListener("input",function(g){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class PI extends Os{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Os._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new $at({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${BM}${i}`).join(",")),this.container}}var Mb,Bx,Sx,Lb,Pb,bs,ru,Fb,yk,Ck,Ob,ou,Uc,au,Ek,lu,xk,Gp,Wp,Ti,eE,FI,jj,Vj,Kj,Gj,nE,iE,OI;class $at{constructor({container:t,color:e,elements:i,titleObj:o,modificationDate:a,contentsObj:c,richText:d,parent:h,rect:p,parentRect:g,open:w}){ot(this,Ti);ot(this,Mb,lt(this,Ti,Kj).bind(this));ot(this,Bx,lt(this,Ti,OI).bind(this));ot(this,Sx,lt(this,Ti,iE).bind(this));ot(this,Lb,lt(this,Ti,nE).bind(this));ot(this,Pb,null);ot(this,bs,null);ot(this,ru,null);ot(this,Fb,null);ot(this,yk,null);ot(this,Ck,null);ot(this,Ob,null);ot(this,ou,!1);ot(this,Uc,null);ot(this,au,null);ot(this,Ek,null);ot(this,lu,null);ot(this,xk,null);ot(this,Gp,null);ot(this,Wp,!1);var v;Z(this,bs,t),Z(this,xk,o),Z(this,ru,c),Z(this,lu,d),Z(this,Ck,h),Z(this,Pb,e),Z(this,Ek,p),Z(this,Ob,g),Z(this,yk,i),Z(this,Fb,nB.toDateObject(a)),this.trigger=i.flatMap(k=>k.getElementsToTriggerPopup());for(const k of this.trigger)k.addEventListener("click",B(this,Lb)),k.addEventListener("mouseenter",B(this,Sx)),k.addEventListener("mouseleave",B(this,Bx)),k.classList.add("popupTriggerArea");for(const k of i)(v=k.container)==null||v.addEventListener("keydown",B(this,Mb));B(this,bs).hidden=!0,w&&lt(this,Ti,nE).call(this)}render(){if(B(this,Uc))return;const t=Z(this,Uc,document.createElement("div"));if(t.className="popup",B(this,Pb)){const a=t.style.outlineColor=Ie.makeHexColor(...B(this,Pb));t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=B(this,xk),t.append(e),B(this,Fb)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:B(this,Fb).valueOf()})),e.append(a)}const o=B(this,Ti,eE);if(o)PM.render({xfaHtml:o,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(B(this,ru));t.append(a)}B(this,bs).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const o=t.split(/(?:\r\n?|\n)/);for(let a=0,c=o.length;a<c;++a){const d=o[a];i.append(document.createTextNode(d)),a<c-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;B(this,Gp)||Z(this,Gp,{contentsObj:B(this,ru),richText:B(this,lu)}),t&&Z(this,au,null),e&&(Z(this,lu,lt(this,Ti,Vj).call(this,e)),Z(this,ru,null)),(i=B(this,Uc))==null||i.remove(),Z(this,Uc,null)}resetEdited(){var t;B(this,Gp)&&({contentsObj:ta(this,ru)._,richText:ta(this,lu)._}=B(this,Gp),Z(this,Gp,null),(t=B(this,Uc))==null||t.remove(),Z(this,Uc,null),Z(this,au,null))}forceHide(){Z(this,Wp,this.isVisible),B(this,Wp)&&(B(this,bs).hidden=!0)}maybeShow(){B(this,Wp)&&(B(this,Uc)||lt(this,Ti,iE).call(this),Z(this,Wp,!1),B(this,bs).hidden=!1)}get isVisible(){return B(this,bs).hidden===!1}}Mb=new WeakMap,Bx=new WeakMap,Sx=new WeakMap,Lb=new WeakMap,Pb=new WeakMap,bs=new WeakMap,ru=new WeakMap,Fb=new WeakMap,yk=new WeakMap,Ck=new WeakMap,Ob=new WeakMap,ou=new WeakMap,Uc=new WeakMap,au=new WeakMap,Ek=new WeakMap,lu=new WeakMap,xk=new WeakMap,Gp=new WeakMap,Wp=new WeakMap,Ti=new WeakSet,eE=function(){const t=B(this,lu),e=B(this,ru);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&B(this,lu).html||null},FI=function(){var t,e,i;return((i=(e=(t=B(this,Ti,eE))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},jj=function(){var t,e,i;return((i=(e=(t=B(this,Ti,eE))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},Vj=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},o={style:{color:B(this,Ti,jj),fontSize:B(this,Ti,FI)?`calc(${B(this,Ti,FI)}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:o});return i},Kj=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&B(this,ou))&&lt(this,Ti,nE).call(this)},Gj=function(){if(B(this,au)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:o,pageY:a}}}=B(this,Ck);let c=!!B(this,Ob),d=c?B(this,Ob):B(this,Ek);for(const y of B(this,yk))if(!d||Ie.intersect(y.data.rect,d)!==null){d=y.data.rect,c=!0;break}const h=Ie.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),g=c?d[2]-d[0]+5:0,w=h[0]+g,v=h[1];Z(this,au,[100*(w-o)/e,100*(v-a)/i]);const{style:k}=B(this,bs);k.left=`${B(this,au)[0]}%`,k.top=`${B(this,au)[1]}%`},nE=function(){Z(this,ou,!B(this,ou)),B(this,ou)?(lt(this,Ti,iE).call(this),B(this,bs).addEventListener("click",B(this,Lb)),B(this,bs).addEventListener("keydown",B(this,Mb))):(lt(this,Ti,OI).call(this),B(this,bs).removeEventListener("click",B(this,Lb)),B(this,bs).removeEventListener("keydown",B(this,Mb)))},iE=function(){B(this,Uc)||this.render(),this.isVisible?B(this,ou)&&B(this,bs).classList.add("focused"):(lt(this,Ti,Gj).call(this),B(this,bs).hidden=!1,B(this,bs).style.zIndex=parseInt(B(this,bs).style.zIndex)+1e3)},OI=function(){B(this,bs).classList.remove("focused"),!(B(this,ou)||!this.isVisible)&&(B(this,bs).hidden=!0,B(this,bs).style.zIndex=parseInt(B(this,bs).style.zIndex)-1e3)};class Wj extends Os{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=sn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Bk;class qat extends Os{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});ot(this,Bk,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:o}=this,a=this.svgFactory.create(i,o,!0),c=Z(this,Bk,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return B(this,Bk)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bk=new WeakMap;var Sk;class Yat extends Os{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});ot(this,Sk,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:o}=this,a=this.svgFactory.create(i,o,!0),c=e.borderStyle.width,d=Z(this,Sk,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",c/2),d.setAttribute("y",c/2),d.setAttribute("width",i-c),d.setAttribute("height",o-c),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),a.append(d),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return B(this,Sk)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sk=new WeakMap;var Tk;class Xat extends Os{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});ot(this,Tk,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:o}=this,a=this.svgFactory.create(i,o,!0),c=e.borderStyle.width,d=Z(this,Tk,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",i/2),d.setAttribute("cy",o/2),d.setAttribute("rx",i/2-c/2),d.setAttribute("ry",o/2-c/2),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),a.append(d),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return B(this,Tk)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tk=new WeakMap;var Ik;class $j extends Os{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});ot(this,Ik,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:o,popupRef:a},width:c,height:d}=this;if(!i)return this.container;const h=this.svgFactory.create(c,d,!0);let p=[];for(let w=0,v=i.length;w<v;w+=2){const k=i[w]-e[0],y=e[3]-i[w+1];p.push(`${k},${y}`)}p=p.join(" ");const g=Z(this,Ik,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",o.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return B(this,Ik)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ik=new WeakMap;class Zat extends $j{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Jat extends Os{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Dk,$p,Mk,NI;class FM extends Os{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});ot(this,Mk);ot(this,Dk,null);ot(this,$p,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?sn.HIGHLIGHT:sn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:o,borderStyle:a,popupRef:c}}=this,{transform:d,width:h,height:p}=lt(this,Mk,NI).call(this,i,e),g=this.svgFactory.create(h,p,!0),w=Z(this,Dk,this.svgFactory.createElement("svg:g"));g.append(w),w.setAttribute("stroke-width",a.width||1),w.setAttribute("stroke-linecap","round"),w.setAttribute("stroke-linejoin","round"),w.setAttribute("stroke-miterlimit",10),w.setAttribute("stroke","transparent"),w.setAttribute("fill","transparent"),w.setAttribute("transform",d);for(let v=0,k=o.length;v<k;v++){const y=this.svgFactory.createElement(this.svgElementName);B(this,$p).push(y),y.setAttribute("points",o[v].join(",")),w.append(y)}return!c&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:o,rect:a}=e,c=B(this,Dk);if(i>=0&&c.setAttribute("stroke-width",i||1),o)for(let d=0,h=B(this,$p).length;d<h;d++)B(this,$p)[d].setAttribute("points",o[d].join(","));if(a){const{transform:d,width:h,height:p}=lt(this,Mk,NI).call(this,this.data.rotation,a);c.parentElement.setAttribute("viewBox",`0 0 ${h} ${p}`),c.setAttribute("transform",d)}}getElementsToTriggerPopup(){return B(this,$p)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dk=new WeakMap,$p=new WeakMap,Mk=new WeakSet,NI=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class qj extends Os{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=sn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class tlt extends Os{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class elt extends Os{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nlt extends Os{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Yj extends Os{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=sn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Lk,Pk,RI;class ilt extends Os{constructor(e){var o;super(e,{isRenderable:!0});ot(this,Pk);ot(this,Lk,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(o=this.linkService.eventBus)==null||o.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let o;i.hasAppearance||i.fillAlpha===0?o=document.createElement("div"):(o=document.createElement("img"),o.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(o.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),o.addEventListener("dblclick",lt(this,Pk,RI).bind(this)),Z(this,Lk,o);const{isMac:a}=Hr.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(a?c.metaKey:c.ctrlKey)&&lt(this,Pk,RI).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():o.classList.add("popupTriggerArea"),e.append(o),e}getElementsToTriggerPopup(){return B(this,Lk)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lk=new WeakMap,Pk=new WeakSet,RI=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Fk,qp,Ih,Ok,hf,UI,QI;const uL=class uL{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:o,page:a,viewport:c,structTreeLayer:d}){ot(this,hf);ot(this,Fk,null);ot(this,qp,null);ot(this,Ih,new Map);ot(this,Ok,null);this.div=t,Z(this,Fk,e),Z(this,qp,i),Z(this,Ok,d||null),this.page=a,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=o}hasEditableAnnotations(){return B(this,Ih).size>0}async render(t){var c;const{annotations:e}=t,i=this.div;of(i,this.viewport);const o=new Map,a={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new __,annotationStorage:t.annotationStorage||new IM,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const h=d.annotationType===Ts.POPUP;if(h){const w=o.get(d.id);if(!w)continue;a.elements=w}else if(d.rect[2]===d.rect[0]||d.rect[3]===d.rect[1])continue;a.data=d;const p=sQ.create(a);if(!p.isRenderable)continue;if(!h&&d.popupRef){const w=o.get(d.popupRef);w?w.push(p):o.set(d.popupRef,[p])}const g=p.render();d.hidden&&(g.style.visibility="hidden"),await lt(this,hf,UI).call(this,g,d.id),p._isEditable&&(B(this,Ih).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}lt(this,hf,QI).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new __,parent:this};for(const o of t){o.borderStyle||(o.borderStyle=uL._defaultBorderStyle),i.data=o;const a=sQ.create(i);if(!a.isRenderable)continue;const c=a.render();await lt(this,hf,UI).call(this,c,o.id)}}update({viewport:t}){const e=this.div;this.viewport=t,of(e,{rotation:t.rotation}),lt(this,hf,QI).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(B(this,Ih).values())}getEditableAnnotation(t){return B(this,Ih).get(t)}static get _defaultBorderStyle(){return Tn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Pm.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Fk=new WeakMap,qp=new WeakMap,Ih=new WeakMap,Ok=new WeakMap,hf=new WeakSet,UI=async function(t,e){var c,d;const i=t.firstChild||t,o=i.id=`${BM}${e}`,a=await((c=B(this,Ok))==null?void 0:c.getAriaAttributes(o));if(a)for(const[h,p]of a)i.setAttribute(h,p);this.div.append(t),(d=B(this,Fk))==null||d.moveElementInDOM(this.div,t,i,!1)},QI=function(){var e;if(!B(this,qp))return;const t=this.div;for(const[i,o]of B(this,qp)){const a=t.querySelector(`[data-annotation-id="${i}"]`);if(!a)continue;o.className="annotationContent";const{firstChild:c}=a;c?c.nodeName==="CANVAS"?c.replaceWith(o):c.classList.contains("annotationContent")?c.after(o):c.before(o):a.append(o);const d=B(this,Ih).get(i);d&&(d._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,a.id,o),d._hasNoCanvas=!1):d.canvas=o)}B(this,qp).clear()};let KE=uL;const Gy=/\r\n?|\n/g;var Qc,ul,Nk,Yp,hl,Ws,Xj,Zj,Jj,sE,Bu,rE,oE,tV,zI,eV;const Li=class Li extends Oi{constructor(e){super({...e,name:"freeTextEditor"});ot(this,Ws);ot(this,Qc);ot(this,ul,"");ot(this,Nk,`${this.id}-editor`);ot(this,Yp,null);ot(this,hl);Z(this,Qc,e.color||Li._defaultColor||Oi._defaultLineColor),Z(this,hl,e.fontSize||Li._defaultFontSize)}static get _keyboardManager(){const e=Li.prototype,i=c=>c.isEmpty(),o=af.TRANSLATE_SMALL,a=af.TRANSLATE_BIG;return Tn(this,"_keyboardManager",new p0([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[o,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,o],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}]]))}static initialize(e,i){Oi.initialize(e,i);const o=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(o.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case On.FREETEXT_SIZE:Li._defaultFontSize=i;break;case On.FREETEXT_COLOR:Li._defaultColor=i;break}}updateParams(e,i){switch(e){case On.FREETEXT_SIZE:lt(this,Ws,Xj).call(this,i);break;case On.FREETEXT_COLOR:lt(this,Ws,Zj).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[On.FREETEXT_SIZE,Li._defaultFontSize],[On.FREETEXT_COLOR,Li._defaultColor||Oi._defaultLineColor]]}get propertiesToUpdate(){return[[On.FREETEXT_SIZE,B(this,hl)],[On.FREETEXT_COLOR,B(this,Qc)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Li._internalPadding*e,-(Li._internalPadding+B(this,hl))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(sn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Z(this,Yp,new AbortController);const e=this._uiManager.combinedSignal(B(this,Yp));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",B(this,Nk)),this._isDraggable=!0,(e=B(this,Yp))==null||e.abort(),Z(this,Yp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=B(this,ul),i=Z(this,ul,lt(this,Ws,Jj).call(this).trimEnd());if(e===i)return;const o=a=>{if(Z(this,ul,a),!a){this.remove();return}lt(this,Ws,oE).call(this),this._uiManager.rebuild(this),lt(this,Ws,sE).call(this)};this.addCommands({cmd:()=>{o(i)},undo:()=>{o(e)},mustExec:!1}),lt(this,Ws,sE).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Li._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",B(this,Nk)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:o}=this.editorDiv;if(o.fontSize=`calc(${B(this,hl)}px * var(--total-scale-factor))`,o.color=B(this,Qc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),TM(this,this.div,["dblclick","keydown"]),this._isCopy||this.annotationElementId){const[a,c]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[h,p]=this.getInitialTranslation();[h,p]=this.pageTranslationToScreen(h,p);const[g,w]=this.pageDimensions,[v,k]=this.pageTranslation;let y,x;switch(this.rotation){case 0:y=e+(d[0]-v)/g,x=i+this.height-(d[1]-k)/w;break;case 90:y=e+(d[0]-v)/g,x=i-(d[1]-k)/w,[h,p]=[p,-h];break;case 180:y=e-this.width+(d[0]-v)/g,x=i-(d[1]-k)/w,[h,p]=[-h,-p];break;case 270:y=e+(d[0]-v-this.height*w)/g,x=i+(d[1]-k-this.width*g)/w,[h,p]=[-p,h];break}this.setAt(y*a,x*c,h,p)}else this._moveAfterPaste(e,i);lt(this,Ws,oE).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var y,x,I;const i=e.clipboardData||window.clipboardData,{types:o}=i;if(o.length===1&&o[0]==="text/plain")return;e.preventDefault();const a=lt(y=Li,Bu,zI).call(y,i.getData("text")||"").replaceAll(Gy,`
`);if(!a)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const d=c.getRangeAt(0);if(!a.includes(`
`)){d.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:h,startOffset:p}=d,g=[],w=[];if(h.nodeType===Node.TEXT_NODE){const F=h.parentElement;if(w.push(h.nodeValue.slice(p).replaceAll(Gy,"")),F!==this.editorDiv){let R=g;for(const Q of this.editorDiv.childNodes){if(Q===F){R=w;continue}R.push(lt(x=Li,Bu,rE).call(x,Q))}}g.push(h.nodeValue.slice(0,p).replaceAll(Gy,""))}else if(h===this.editorDiv){let F=g,R=0;for(const Q of this.editorDiv.childNodes)R++===p&&(F=w),F.push(lt(I=Li,Bu,rE).call(I,Q))}Z(this,ul,`${g.join(`
`)}${a}${w.join(`
`)}`),lt(this,Ws,oE).call(this);const v=new Range;let k=Math.sumPrecise(g.map(F=>F.length));for(const{firstChild:F}of this.editorDiv.childNodes)if(F.nodeType===Node.TEXT_NODE){const R=F.nodeValue.length;if(k<=R){v.setStart(F,k),v.setEnd(F,k);break}k-=R}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,o){var d;let a=null;if(e instanceof Wj){const{data:{defaultAppearanceData:{fontSize:h,fontColor:p},rect:g,rotation:w,id:v,popupRef:k},textContent:y,textPosition:x,parent:{page:{pageNumber:I}}}=e;if(!y||y.length===0)return null;a=e={annotationType:sn.FREETEXT,color:Array.from(p),fontSize:h,value:y.join(`
`),position:x,pageIndex:I-1,rect:g.slice(0),rotation:w,id:v,deleted:!1,popupRef:k}}const c=await super.deserialize(e,i,o);return Z(c,hl,e.fontSize),Z(c,Qc,Ie.makeHexColor(...e.color)),Z(c,ul,lt(d=Li,Bu,zI).call(d,e.value)),c.annotationElementId=e.id||null,c._initialData=a,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Li._internalPadding*this.parentScale,o=this.getRect(i,i),a=Oi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:B(this,Qc)),c={annotationType:sn.FREETEXT,color:a,fontSize:B(this,hl),value:lt(this,Ws,tV).call(this),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(c.isCopy=!0,c):this.annotationElementId&&!lt(this,Ws,eV).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:o}=i;o.fontSize=`calc(${B(this,hl)}px * var(--total-scale-factor))`,o.color=B(this,Qc),i.replaceChildren();for(const c of B(this,ul).split(`
`)){const d=document.createElement("div");d.append(c?document.createTextNode(c):document.createElement("br")),i.append(d)}const a=Li._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:B(this,ul)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Qc=new WeakMap,ul=new WeakMap,Nk=new WeakMap,Yp=new WeakMap,hl=new WeakMap,Ws=new WeakSet,Xj=function(e){const i=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-B(this,hl))*this.parentScale),Z(this,hl,a),lt(this,Ws,sE).call(this)},o=B(this,hl);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:On.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Zj=function(e){const i=a=>{Z(this,Qc,this.editorDiv.style.color=a)},o=B(this,Qc);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:On.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jj=function(){var o;const e=[];this.editorDiv.normalize();let i=null;for(const a of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(lt(o=Li,Bu,rE).call(o,a)),i=a);return e.join(`
`)},sE=function(){const[e,i]=this.parentDimensions;let o;if(this.isAttachedToDOM)o=this.div.getBoundingClientRect();else{const{currentLayer:a,div:c}=this,d=c.style.display,h=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",a.div.append(this.div),o=c.getBoundingClientRect(),c.remove(),c.style.display=d,c.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=o.width/e,this.height=o.height/i):(this.width=o.height/e,this.height=o.width/i),this.fixAndSetPosition()},Bu=new WeakSet,rE=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Gy,"")},oE=function(){if(this.editorDiv.replaceChildren(),!!B(this,ul))for(const e of B(this,ul).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},tV=function(){return B(this,ul).replaceAll("Â "," ")},zI=function(e){return e.replaceAll(" ","Â ")},eV=function(e){const{value:i,fontSize:o,color:a,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==o||e.color.some((d,h)=>d!==a[h])||e.pageIndex!==c},ot(Li,Bu),Ft(Li,"_freeTextDefaultContent",""),Ft(Li,"_internalPadding",0),Ft(Li,"_defaultColor",null),Ft(Li,"_defaultFontSize",10),Ft(Li,"_type","freetext"),Ft(Li,"_editorType",sn.FREETEXT);let HI=Li;class xe{toSVGPath(){Si("Abstract method `toSVGPath` must be implemented.")}get box(){Si("Abstract getter `box` must be implemented.")}serialize(t,e){Si("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,o,a,c){c||(c=new Float32Array(t.length));for(let d=0,h=t.length;d<h;d+=2)c[d]=e+t[d]*o,c[d+1]=i+t[d+1]*a;return c}static _rescaleAndSwap(t,e,i,o,a,c){c||(c=new Float32Array(t.length));for(let d=0,h=t.length;d<h;d+=2)c[d]=e+t[d+1]*o,c[d+1]=i+t[d]*a;return c}static _translate(t,e,i,o){o||(o=new Float32Array(t.length));for(let a=0,c=t.length;a<c;a+=2)o[a]=e+t[a],o[a+1]=i+t[a+1];return o}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,o,a){switch(a){case 90:return[1-e/i,t/o];case 180:return[1-t/i,1-e/o];case 270:return[e/i,1-t/o];default:return[t/i,e/o]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,o,a,c){return[(t+5*i)/6,(e+5*o)/6,(5*i+a)/6,(5*o+c)/6,(i+a)/2,(o+c)/2]}}Ft(xe,"PRECISION",1e-4);var fl,Hc,Nb,Rb,Hd,Sn,Xp,Zp,Rk,Uk,Ub,Qb,Dh,Qk,Tx,Ix,br,Mv,nV,iV,sV,rV,oV,aV;const QA=class QA{constructor({x:t,y:e},i,o,a,c,d=0){ot(this,br);ot(this,fl);ot(this,Hc,[]);ot(this,Nb);ot(this,Rb);ot(this,Hd,[]);ot(this,Sn,new Float32Array(18));ot(this,Xp);ot(this,Zp);ot(this,Rk);ot(this,Uk);ot(this,Ub);ot(this,Qb);ot(this,Dh,[]);Z(this,fl,i),Z(this,Qb,a*o),Z(this,Rb,c),B(this,Sn).set([NaN,NaN,NaN,NaN,t,e],6),Z(this,Nb,d),Z(this,Uk,B(QA,Qk)*o),Z(this,Rk,B(QA,Ix)*o),Z(this,Ub,o),B(this,Dh).push(t,e)}isEmpty(){return isNaN(B(this,Sn)[8])}add({x:t,y:e}){var J;Z(this,Xp,t),Z(this,Zp,e);const[i,o,a,c]=B(this,fl);let[d,h,p,g]=B(this,Sn).subarray(8,12);const w=t-p,v=e-g,k=Math.hypot(w,v);if(k<B(this,Rk))return!1;const y=k-B(this,Uk),x=y/k,I=x*w,F=x*v;let R=d,Q=h;d=p,h=g,p+=I,g+=F,(J=B(this,Dh))==null||J.push(t,e);const V=-F/y,W=I/y,X=V*B(this,Qb),P=W*B(this,Qb);return B(this,Sn).set(B(this,Sn).subarray(2,8),0),B(this,Sn).set([p+X,g+P],4),B(this,Sn).set(B(this,Sn).subarray(14,18),12),B(this,Sn).set([p-X,g-P],16),isNaN(B(this,Sn)[6])?(B(this,Hd).length===0&&(B(this,Sn).set([d+X,h+P],2),B(this,Hd).push(NaN,NaN,NaN,NaN,(d+X-i)/a,(h+P-o)/c),B(this,Sn).set([d-X,h-P],14),B(this,Hc).push(NaN,NaN,NaN,NaN,(d-X-i)/a,(h-P-o)/c)),B(this,Sn).set([R,Q,d,h,p,g],6),!this.isEmpty()):(B(this,Sn).set([R,Q,d,h,p,g],6),Math.abs(Math.atan2(Q-h,R-d)-Math.atan2(F,I))<Math.PI/2?([d,h,p,g]=B(this,Sn).subarray(2,6),B(this,Hd).push(NaN,NaN,NaN,NaN,((d+p)/2-i)/a,((h+g)/2-o)/c),[d,h,R,Q]=B(this,Sn).subarray(14,18),B(this,Hc).push(NaN,NaN,NaN,NaN,((R+d)/2-i)/a,((Q+h)/2-o)/c),!0):([R,Q,d,h,p,g]=B(this,Sn).subarray(0,6),B(this,Hd).push(((R+5*d)/6-i)/a,((Q+5*h)/6-o)/c,((5*d+p)/6-i)/a,((5*h+g)/6-o)/c,((d+p)/2-i)/a,((h+g)/2-o)/c),[p,g,d,h,R,Q]=B(this,Sn).subarray(12,18),B(this,Hc).push(((R+5*d)/6-i)/a,((Q+5*h)/6-o)/c,((5*d+p)/6-i)/a,((5*h+g)/6-o)/c,((d+p)/2-i)/a,((h+g)/2-o)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=B(this,Hd),e=B(this,Hc);if(isNaN(B(this,Sn)[6])&&!this.isEmpty())return lt(this,br,nV).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let o=6;o<t.length;o+=6)isNaN(t[o])?i.push(`L${t[o+4]} ${t[o+5]}`):i.push(`C${t[o]} ${t[o+1]} ${t[o+2]} ${t[o+3]} ${t[o+4]} ${t[o+5]}`);lt(this,br,sV).call(this,i);for(let o=e.length-6;o>=6;o-=6)isNaN(e[o])?i.push(`L${e[o+4]} ${e[o+5]}`):i.push(`C${e[o]} ${e[o+1]} ${e[o+2]} ${e[o+3]} ${e[o+4]} ${e[o+5]}`);return lt(this,br,iV).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,o,a,c){return new lV(t,e,i,o,a,c)}getOutlines(){var w;const t=B(this,Hd),e=B(this,Hc),i=B(this,Sn),[o,a,c,d]=B(this,fl),h=new Float32Array((((w=B(this,Dh))==null?void 0:w.length)??0)+2);for(let v=0,k=h.length-2;v<k;v+=2)h[v]=(B(this,Dh)[v]-o)/c,h[v+1]=(B(this,Dh)[v+1]-a)/d;if(h[h.length-2]=(B(this,Xp)-o)/c,h[h.length-1]=(B(this,Zp)-a)/d,isNaN(i[6])&&!this.isEmpty())return lt(this,br,rV).call(this,h);const p=new Float32Array(B(this,Hd).length+24+B(this,Hc).length);let g=t.length;for(let v=0;v<g;v+=2){if(isNaN(t[v])){p[v]=p[v+1]=NaN;continue}p[v]=t[v],p[v+1]=t[v+1]}g=lt(this,br,aV).call(this,p,g);for(let v=e.length-6;v>=6;v-=6)for(let k=0;k<6;k+=2){if(isNaN(e[v+k])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[v+k],p[g+1]=e[v+k+1],g+=2}return lt(this,br,oV).call(this,p,g),this.newFreeDrawOutline(p,h,B(this,fl),B(this,Ub),B(this,Nb),B(this,Rb))}};fl=new WeakMap,Hc=new WeakMap,Nb=new WeakMap,Rb=new WeakMap,Hd=new WeakMap,Sn=new WeakMap,Xp=new WeakMap,Zp=new WeakMap,Rk=new WeakMap,Uk=new WeakMap,Ub=new WeakMap,Qb=new WeakMap,Dh=new WeakMap,Qk=new WeakMap,Tx=new WeakMap,Ix=new WeakMap,br=new WeakSet,Mv=function(){const t=B(this,Sn).subarray(4,6),e=B(this,Sn).subarray(16,18),[i,o,a,c]=B(this,fl);return[(B(this,Xp)+(t[0]-e[0])/2-i)/a,(B(this,Zp)+(t[1]-e[1])/2-o)/c,(B(this,Xp)+(e[0]-t[0])/2-i)/a,(B(this,Zp)+(e[1]-t[1])/2-o)/c]},nV=function(){const[t,e,i,o]=B(this,fl),[a,c,d,h]=lt(this,br,Mv).call(this);return`M${(B(this,Sn)[2]-t)/i} ${(B(this,Sn)[3]-e)/o} L${(B(this,Sn)[4]-t)/i} ${(B(this,Sn)[5]-e)/o} L${a} ${c} L${d} ${h} L${(B(this,Sn)[16]-t)/i} ${(B(this,Sn)[17]-e)/o} L${(B(this,Sn)[14]-t)/i} ${(B(this,Sn)[15]-e)/o} Z`},iV=function(t){const e=B(this,Hc);t.push(`L${e[4]} ${e[5]} Z`)},sV=function(t){const[e,i,o,a]=B(this,fl),c=B(this,Sn).subarray(4,6),d=B(this,Sn).subarray(16,18),[h,p,g,w]=lt(this,br,Mv).call(this);t.push(`L${(c[0]-e)/o} ${(c[1]-i)/a} L${h} ${p} L${g} ${w} L${(d[0]-e)/o} ${(d[1]-i)/a}`)},rV=function(t){const e=B(this,Sn),[i,o,a,c]=B(this,fl),[d,h,p,g]=lt(this,br,Mv).call(this),w=new Float32Array(36);return w.set([NaN,NaN,NaN,NaN,(e[2]-i)/a,(e[3]-o)/c,NaN,NaN,NaN,NaN,(e[4]-i)/a,(e[5]-o)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-i)/a,(e[17]-o)/c,NaN,NaN,NaN,NaN,(e[14]-i)/a,(e[15]-o)/c],0),this.newFreeDrawOutline(w,t,B(this,fl),B(this,Ub),B(this,Nb),B(this,Rb))},oV=function(t,e){const i=B(this,Hc);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},aV=function(t,e){const i=B(this,Sn).subarray(4,6),o=B(this,Sn).subarray(16,18),[a,c,d,h]=B(this,fl),[p,g,w,v]=lt(this,br,Mv).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-a)/d,(i[1]-c)/h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,w,v,NaN,NaN,NaN,NaN,(o[0]-a)/d,(o[1]-c)/h],e),e+=24},ot(QA,Qk,8),ot(QA,Tx,2),ot(QA,Ix,B(QA,Qk)+B(QA,Tx));let GE=QA;var Hb,Jp,cu,Hk,pl,zk,Ds,Dx,cV;class lV extends xe{constructor(e,i,o,a,c,d){super();ot(this,Dx);ot(this,Hb);ot(this,Jp,new Float32Array(4));ot(this,cu);ot(this,Hk);ot(this,pl);ot(this,zk);ot(this,Ds);Z(this,Ds,e),Z(this,pl,i),Z(this,Hb,o),Z(this,zk,a),Z(this,cu,c),Z(this,Hk,d),this.lastPoint=[NaN,NaN],lt(this,Dx,cV).call(this,d);const[h,p,g,w]=B(this,Jp);for(let v=0,k=e.length;v<k;v+=2)e[v]=(e[v]-h)/g,e[v+1]=(e[v+1]-p)/w;for(let v=0,k=i.length;v<k;v+=2)i[v]=(i[v]-h)/g,i[v+1]=(i[v+1]-p)/w}toSVGPath(){const e=[`M${B(this,Ds)[4]} ${B(this,Ds)[5]}`];for(let i=6,o=B(this,Ds).length;i<o;i+=6){if(isNaN(B(this,Ds)[i])){e.push(`L${B(this,Ds)[i+4]} ${B(this,Ds)[i+5]}`);continue}e.push(`C${B(this,Ds)[i]} ${B(this,Ds)[i+1]} ${B(this,Ds)[i+2]} ${B(this,Ds)[i+3]} ${B(this,Ds)[i+4]} ${B(this,Ds)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,o,a],c){const d=o-e,h=a-i;let p,g;switch(c){case 0:p=xe._rescale(B(this,Ds),e,a,d,-h),g=xe._rescale(B(this,pl),e,a,d,-h);break;case 90:p=xe._rescaleAndSwap(B(this,Ds),e,i,d,h),g=xe._rescaleAndSwap(B(this,pl),e,i,d,h);break;case 180:p=xe._rescale(B(this,Ds),o,i,-d,h),g=xe._rescale(B(this,pl),o,i,-d,h);break;case 270:p=xe._rescaleAndSwap(B(this,Ds),o,a,-d,-h),g=xe._rescaleAndSwap(B(this,pl),o,a,-d,-h);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return B(this,Jp)}newOutliner(e,i,o,a,c,d=0){return new GE(e,i,o,a,c,d)}getNewOutline(e,i){const[o,a,c,d]=B(this,Jp),[h,p,g,w]=B(this,Hb),v=c*g,k=d*w,y=o*g+h,x=a*w+p,I=this.newOutliner({x:B(this,pl)[0]*v+y,y:B(this,pl)[1]*k+x},B(this,Hb),B(this,zk),e,B(this,Hk),i??B(this,cu));for(let F=2;F<B(this,pl).length;F+=2)I.add({x:B(this,pl)[F]*v+y,y:B(this,pl)[F+1]*k+x});return I.getOutlines()}}Hb=new WeakMap,Jp=new WeakMap,cu=new WeakMap,Hk=new WeakMap,pl=new WeakMap,zk=new WeakMap,Ds=new WeakMap,Dx=new WeakSet,cV=function(e){const i=B(this,Ds);let o=i[4],a=i[5];const c=[o,a,o,a];let d=o,h=a;const p=e?Math.max:Math.min;for(let w=6,v=i.length;w<v;w+=6){const k=i[w+4],y=i[w+5];if(isNaN(i[w]))Ie.pointBoundingBox(k,y,c),h<y?(d=k,h=y):h===y&&(d=p(d,k));else{const x=[1/0,1/0,-1/0,-1/0];Ie.bezierBoundingBox(o,a,...i.slice(w,w+6),x),Ie.rectBoundingBox(...x,c),h<x[3]?(d=x[2],h=x[3]):h===x[3]&&(d=p(d,x[2]))}o=k,a=y}const g=B(this,Jp);g[0]=c[0]-B(this,cu),g[1]=c[1]-B(this,cu),g[2]=c[2]-c[0]+2*B(this,cu),g[3]=c[3]-c[1]+2*B(this,cu),this.lastPoint=[d,h]};var jk,Vk,Mh,zc,da,dV,aE,AV,uV,VI;class jI{constructor(t,e=0,i=0,o=!0){ot(this,da);ot(this,jk);ot(this,Vk);ot(this,Mh,[]);ot(this,zc,[]);const a=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:k,y,width:x,height:I}of t){const F=Math.floor((k-e)/c)*c,R=Math.ceil((k+x+e)/c)*c,Q=Math.floor((y-e)/c)*c,V=Math.ceil((y+I+e)/c)*c,W=[F,Q,V,!0],X=[R,Q,V,!1];B(this,Mh).push(W,X),Ie.rectBoundingBox(F,Q,R,V,a)}const d=a[2]-a[0]+2*i,h=a[3]-a[1]+2*i,p=a[0]-i,g=a[1]-i,w=B(this,Mh).at(o?-1:-2),v=[w[0],w[2]];for(const k of B(this,Mh)){const[y,x,I]=k;k[0]=(y-p)/d,k[1]=(x-g)/h,k[2]=(I-g)/h}Z(this,jk,new Float32Array([p,g,d,h])),Z(this,Vk,v)}getOutlines(){B(this,Mh).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of B(this,Mh))e[3]?(t.push(...lt(this,da,VI).call(this,e)),lt(this,da,AV).call(this,e)):(lt(this,da,uV).call(this,e),t.push(...lt(this,da,VI).call(this,e)));return lt(this,da,dV).call(this,t)}}jk=new WeakMap,Vk=new WeakMap,Mh=new WeakMap,zc=new WeakMap,da=new WeakSet,dV=function(t){const e=[],i=new Set;for(const c of t){const[d,h,p]=c;e.push([d,h,c],[d,p,c])}e.sort((c,d)=>c[1]-d[1]||c[0]-d[0]);for(let c=0,d=e.length;c<d;c+=2){const h=e[c][2],p=e[c+1][2];h.push(p),p.push(h),i.add(h),i.add(p)}const o=[];let a;for(;i.size>0;){const c=i.values().next().value;let[d,h,p,g,w]=c;i.delete(c);let v=d,k=h;for(a=[d,p],o.push(a);;){let y;if(i.has(g))y=g;else if(i.has(w))y=w;else break;i.delete(y),[d,h,p,g,w]=y,v!==d&&(a.push(v,k,d,k===h?h:p),v=d),k=k===h?p:h}a.push(v,k)}return new slt(o,B(this,jk),B(this,Vk))},aE=function(t){const e=B(this,zc);let i=0,o=e.length-1;for(;i<=o;){const a=i+o>>1,c=e[a][0];if(c===t)return a;c<t?i=a+1:o=a-1}return o+1},AV=function([,t,e]){const i=lt(this,da,aE).call(this,t);B(this,zc).splice(i,0,[t,e])},uV=function([,t,e]){const i=lt(this,da,aE).call(this,t);for(let o=i;o<B(this,zc).length;o++){const[a,c]=B(this,zc)[o];if(a!==t)break;if(a===t&&c===e){B(this,zc).splice(o,1);return}}for(let o=i-1;o>=0;o--){const[a,c]=B(this,zc)[o];if(a!==t)break;if(a===t&&c===e){B(this,zc).splice(o,1);return}}},VI=function(t){const[e,i,o]=t,a=[[e,i,o]],c=lt(this,da,aE).call(this,o);for(let d=0;d<c;d++){const[h,p]=B(this,zc)[d];for(let g=0,w=a.length;g<w;g++){const[,v,k]=a[g];if(!(p<=v||k<=h)){if(v>=h){if(k>p)a[g][1]=p;else{if(w===1)return[];a.splice(g,1),g--,w--}continue}a[g][2]=h,k>p&&a.push([e,p,k])}}}return a};var Kk,zb;class slt extends xe{constructor(e,i,o){super();ot(this,Kk);ot(this,zb);Z(this,zb,e),Z(this,Kk,i),this.lastPoint=o}toSVGPath(){const e=[];for(const i of B(this,zb)){let[o,a]=i;e.push(`M${o} ${a}`);for(let c=2;c<i.length;c+=2){const d=i[c],h=i[c+1];d===o?(e.push(`V${h}`),a=h):h===a&&(e.push(`H${d}`),o=d)}e.push("Z")}return e.join(" ")}serialize([e,i,o,a],c){const d=[],h=o-e,p=a-i;for(const g of B(this,zb)){const w=new Array(g.length);for(let v=0;v<g.length;v+=2)w[v]=e+g[v]*h,w[v+1]=a-g[v+1]*p;d.push(w)}return d}get box(){return B(this,Kk)}get classNamesForOutlining(){return["highlightOutline"]}}Kk=new WeakMap,zb=new WeakMap;class KI extends GE{newFreeDrawOutline(t,e,i,o,a,c){return new rlt(t,e,i,o,a,c)}}class rlt extends lV{newOutliner(t,e,i,o,a,c=0){return new KI(t,e,i,o,a,c)}}var jc,tg,jb,pr,Gk,Vb,Wk,$k,Lh,Vc,Kb,qk,xi,GI,WI,$I,Jf,hV,rh;const Sa=class Sa{constructor({editor:t=null,uiManager:e=null}){ot(this,xi);ot(this,jc,null);ot(this,tg,null);ot(this,jb);ot(this,pr,null);ot(this,Gk,!1);ot(this,Vb,!1);ot(this,Wk,null);ot(this,$k);ot(this,Lh,null);ot(this,Vc,null);ot(this,Kb);var i;t?(Z(this,Vb,!1),Z(this,Kb,On.HIGHLIGHT_COLOR),Z(this,Wk,t)):(Z(this,Vb,!0),Z(this,Kb,On.HIGHLIGHT_DEFAULT_COLOR)),Z(this,Vc,(t==null?void 0:t._uiManager)||e),Z(this,$k,B(this,Vc)._eventBus),Z(this,jb,(t==null?void 0:t.color)||((i=B(this,Vc))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),B(Sa,qk)||Z(Sa,qk,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Tn(this,"_keyboardManager",new p0([[["Escape","mac+Escape"],Sa.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Sa.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Sa.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Sa.prototype._moveToPrevious],[["Home","mac+Home"],Sa.prototype._moveToBeginning],[["End","mac+End"],Sa.prototype._moveToEnd]]))}renderButton(){const t=Z(this,jc,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=B(this,Vc)._signal;t.addEventListener("click",lt(this,xi,Jf).bind(this),{signal:e}),t.addEventListener("keydown",lt(this,xi,$I).bind(this),{signal:e});const i=Z(this,tg,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=B(this,jb),t.append(i),t}renderMainDropdown(){const t=Z(this,pr,lt(this,xi,GI).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===B(this,jc)){lt(this,xi,Jf).call(this,t);return}const e=t.target.getAttribute("data-color");e&&lt(this,xi,WI).call(this,e,t)}_moveToNext(t){var e,i;if(!B(this,xi,rh)){lt(this,xi,Jf).call(this,t);return}if(t.target===B(this,jc)){(e=B(this,pr).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=B(this,pr))==null?void 0:e.firstChild)||t.target===B(this,jc)){B(this,xi,rh)&&this._hideDropdownFromKeyboard();return}B(this,xi,rh)||lt(this,xi,Jf).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!B(this,xi,rh)){lt(this,xi,Jf).call(this,t);return}(e=B(this,pr).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!B(this,xi,rh)){lt(this,xi,Jf).call(this,t);return}(e=B(this,pr).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=B(this,pr))==null||t.classList.add("hidden"),(e=B(this,Lh))==null||e.abort(),Z(this,Lh,null)}_hideDropdownFromKeyboard(){var t;if(!B(this,Vb)){if(!B(this,xi,rh)){(t=B(this,Wk))==null||t.unselect();return}this.hideDropdown(),B(this,jc).focus({preventScroll:!0,focusVisible:B(this,Gk)})}}updateColor(t){if(B(this,tg)&&(B(this,tg).style.backgroundColor=t),!B(this,pr))return;const e=B(this,Vc).highlightColors.values();for(const i of B(this,pr).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=B(this,jc))==null||t.remove(),Z(this,jc,null),Z(this,tg,null),(e=B(this,pr))==null||e.remove(),Z(this,pr,null)}};jc=new WeakMap,tg=new WeakMap,jb=new WeakMap,pr=new WeakMap,Gk=new WeakMap,Vb=new WeakMap,Wk=new WeakMap,$k=new WeakMap,Lh=new WeakMap,Vc=new WeakMap,Kb=new WeakMap,qk=new WeakMap,xi=new WeakSet,GI=function(){const t=document.createElement("div"),e=B(this,Vc)._signal;t.addEventListener("contextmenu",bc,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,o]of B(this,Vc).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",o),a.title=i,a.setAttribute("data-l10n-id",B(Sa,qk)[i]);const c=document.createElement("span");a.append(c),c.className="swatch",c.style.backgroundColor=o,a.setAttribute("aria-selected",o===B(this,jb)),a.addEventListener("click",lt(this,xi,WI).bind(this,o),{signal:e}),t.append(a)}return t.addEventListener("keydown",lt(this,xi,$I).bind(this),{signal:e}),t},WI=function(t,e){e.stopPropagation(),B(this,$k).dispatch("switchannotationeditorparams",{source:this,type:B(this,Kb),value:t})},$I=function(t){Sa._keyboardManager.exec(this,t)},Jf=function(t){if(B(this,xi,rh)){this.hideDropdown();return}if(Z(this,Gk,t.detail===0),B(this,Lh)||(Z(this,Lh,new AbortController),window.addEventListener("pointerdown",lt(this,xi,hV).bind(this),{signal:B(this,Vc).combinedSignal(B(this,Lh))})),B(this,pr)){B(this,pr).classList.remove("hidden");return}const e=Z(this,pr,lt(this,xi,GI).call(this));B(this,jc).append(e)},hV=function(t){var e;(e=B(this,pr))!=null&&e.contains(t.target)||this.hideDropdown()},rh=function(){return B(this,pr)&&!B(this,pr).classList.contains("hidden")},ot(Sa,qk,null);let k_=Sa;var Gb,Yk,du,eg,Wb,Da,Xk,Zk,ng,rc,gl,ao,$b,Au,To,qb,oc,Jk,bn,qI,lE,fV,pV,gV,YI,tp,Ac,Qm,mV,cE,Lv,bV,wV,vV,_V,kV;const si=class si extends Oi{constructor(e){super({...e,name:"highlightEditor"});ot(this,bn);ot(this,Gb,null);ot(this,Yk,0);ot(this,du);ot(this,eg,null);ot(this,Wb,null);ot(this,Da,null);ot(this,Xk,null);ot(this,Zk,0);ot(this,ng,null);ot(this,rc,null);ot(this,gl,null);ot(this,ao,!1);ot(this,$b,null);ot(this,Au);ot(this,To,null);ot(this,qb,"");ot(this,oc);ot(this,Jk,"");this.color=e.color||si._defaultColor,Z(this,oc,e.thickness||si._defaultThickness),Z(this,Au,e.opacity||si._defaultOpacity),Z(this,du,e.boxes||null),Z(this,Jk,e.methodOfCreation||""),Z(this,qb,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(Z(this,ao,!0),lt(this,bn,lE).call(this,e),lt(this,bn,tp).call(this)):B(this,du)&&(Z(this,Gb,e.anchorNode),Z(this,Yk,e.anchorOffset),Z(this,Xk,e.focusNode),Z(this,Zk,e.focusOffset),lt(this,bn,qI).call(this),lt(this,bn,tp).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=si.prototype;return Tn(this,"_keyboardManager",new p0([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:B(this,ao)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:B(this,oc),methodOfCreation:B(this,Jk)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var o;Oi.initialize(e,i),si._defaultColor||(si._defaultColor=((o=i.highlightColors)==null?void 0:o.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case On.HIGHLIGHT_DEFAULT_COLOR:si._defaultColor=i;break;case On.HIGHLIGHT_THICKNESS:si._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return B(this,$b)}updateParams(e,i){switch(e){case On.HIGHLIGHT_COLOR:lt(this,bn,fV).call(this,i);break;case On.HIGHLIGHT_THICKNESS:lt(this,bn,pV).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[On.HIGHLIGHT_DEFAULT_COLOR,si._defaultColor],[On.HIGHLIGHT_THICKNESS,si._defaultThickness]]}get propertiesToUpdate(){return[[On.HIGHLIGHT_COLOR,this.color||si._defaultColor],[On.HIGHLIGHT_THICKNESS,B(this,oc)||si._defaultThickness],[On.HIGHLIGHT_FREE,B(this,ao)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(Z(this,Wb,new k_({editor:this})),e.addColorPicker(B(this,Wb))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(lt(this,bn,Lv).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,lt(this,bn,Lv).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){lt(this,bn,YI).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(lt(this,bn,tp).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var o;let i=!1;this.parent&&!e?lt(this,bn,YI).call(this):e&&(lt(this,bn,tp).call(this,e),i=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var a,c,d;const{drawLayer:i}=this.parent;let o;B(this,ao)?(e=(e-this.rotation+360)%360,o=lt(a=si,Ac,Qm).call(a,B(this,rc).box,e)):o=lt(c=si,Ac,Qm).call(c,[this.x,this.y,this.width,this.height],e),i.updateProperties(B(this,gl),{bbox:o,root:{"data-main-rotation":e}}),i.updateProperties(B(this,To),{bbox:lt(d=si,Ac,Qm).call(d,B(this,Da).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();B(this,qb)&&(e.setAttribute("aria-label",B(this,qb)),e.setAttribute("role","mark")),B(this,ao)?e.classList.add("free"):this.div.addEventListener("keydown",lt(this,bn,mV).bind(this),{signal:this._uiManager._signal});const i=Z(this,ng,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=B(this,eg);const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),TM(this,B(this,ng),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(B(this,To),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(B(this,To),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:lt(this,bn,cE).call(this,!0);break;case 1:case 3:lt(this,bn,cE).call(this,!1);break}}select(){var e;super.select(),B(this,To)&&((e=this.parent)==null||e.drawLayer.updateProperties(B(this,To),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),B(this,To)&&((e=this.parent)==null||e.drawLayer.updateProperties(B(this,To),{rootClass:{selected:!1}}),B(this,ao)||lt(this,bn,cE).call(this,!1))}get _mustFixPosition(){return!B(this,ao)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(B(this,gl),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(B(this,To),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:o,x:a,y:c}){const{x:d,y:h,width:p,height:g}=o.getBoundingClientRect(),w=new AbortController,v=e.combinedSignal(w),k=y=>{w.abort(),lt(this,Ac,_V).call(this,e,y)};window.addEventListener("blur",k,{signal:v}),window.addEventListener("pointerup",k,{signal:v}),window.addEventListener("pointerdown",Ls,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",bc,{signal:v}),o.addEventListener("pointermove",lt(this,Ac,vV).bind(this,e),{signal:v}),this._freeHighlight=new KI({x:a,y:c},[d,h,p,g],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,o){var x,I,F,R;let a=null;if(e instanceof qj){const{data:{quadPoints:Q,rect:V,rotation:W,id:X,color:P,opacity:K,popupRef:J},parent:{page:{pageNumber:rt}}}=e;a=e={annotationType:sn.HIGHLIGHT,color:Array.from(P),opacity:K,quadPoints:Q,boxes:null,pageIndex:rt-1,rect:V.slice(0),rotation:W,id:X,deleted:!1,popupRef:J}}else if(e instanceof FM){const{data:{inkLists:Q,rect:V,rotation:W,id:X,color:P,borderStyle:{rawWidth:K},popupRef:J},parent:{page:{pageNumber:rt}}}=e;a=e={annotationType:sn.HIGHLIGHT,color:Array.from(P),thickness:K,inkLists:Q,boxes:null,pageIndex:rt-1,rect:V.slice(0),rotation:W,id:X,deleted:!1,popupRef:J}}const{color:c,quadPoints:d,inkLists:h,opacity:p}=e,g=await super.deserialize(e,i,o);g.color=Ie.makeHexColor(...c),Z(g,Au,p||1),h&&Z(g,oc,e.thickness),g.annotationElementId=e.id||null,g._initialData=a;const[w,v]=g.pageDimensions,[k,y]=g.pageTranslation;if(d){const Q=Z(g,du,[]);for(let V=0;V<d.length;V+=8)Q.push({x:(d[V]-k)/w,y:1-(d[V+1]-y)/v,width:(d[V+2]-d[V])/w,height:(d[V+1]-d[V+5])/v});lt(x=g,bn,qI).call(x),lt(I=g,bn,tp).call(I),g.rotate(g.rotation)}else if(h){Z(g,ao,!0);const Q=h[0],V={x:Q[0]-k,y:v-(Q[1]-y)},W=new KI(V,[0,0,w,v],1,B(g,oc)/2,!0,.001);for(let K=0,J=Q.length;K<J;K+=2)V.x=Q[K]-k,V.y=v-(Q[K+1]-y),W.add(V);const{id:X,clipPathId:P}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:W.toSVGPath()}},!0,!0);lt(F=g,bn,lE).call(F,{highlightOutlines:W.getOutlines(),highlightId:X,clipPathId:P}),lt(R=g,bn,tp).call(R),g.rotate(g.parentRotation)}return g}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),o=Oi._colorManager.convert(this.color),a={annotationType:sn.HIGHLIGHT,color:o,opacity:B(this,Au),thickness:B(this,oc),quadPoints:lt(this,bn,bV).call(this),outlines:lt(this,bn,wV).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:lt(this,bn,Lv).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!lt(this,bn,kV).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Gb=new WeakMap,Yk=new WeakMap,du=new WeakMap,eg=new WeakMap,Wb=new WeakMap,Da=new WeakMap,Xk=new WeakMap,Zk=new WeakMap,ng=new WeakMap,rc=new WeakMap,gl=new WeakMap,ao=new WeakMap,$b=new WeakMap,Au=new WeakMap,To=new WeakMap,qb=new WeakMap,oc=new WeakMap,Jk=new WeakMap,bn=new WeakSet,qI=function(){const e=new jI(B(this,du),.001);Z(this,rc,e.getOutlines()),[this.x,this.y,this.width,this.height]=B(this,rc).box;const i=new jI(B(this,du),.0025,.001,this._uiManager.direction==="ltr");Z(this,Da,i.getOutlines());const{lastPoint:o}=B(this,Da);Z(this,$b,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},lE=function({highlightOutlines:e,highlightId:i,clipPathId:o}){var w,v;if(Z(this,rc,e),Z(this,Da,e.getNewOutline(B(this,oc)/2+1.5,.0025)),i>=0)Z(this,gl,i),Z(this,eg,o),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),Z(this,To,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:B(this,Da).box,path:{d:B(this,Da).toSVGPath()}},!0));else if(this.parent){const k=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(B(this,gl),{bbox:lt(w=si,Ac,Qm).call(w,B(this,rc).box,(k-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(B(this,To),{bbox:lt(v=si,Ac,Qm).call(v,B(this,Da).box,k),path:{d:B(this,Da).toSVGPath()}})}const[c,d,h,p]=e.box;switch(this.rotation){case 0:this.x=c,this.y=d,this.width=h,this.height=p;break;case 90:{const[k,y]=this.parentDimensions;this.x=d,this.y=1-c,this.width=h*y/k,this.height=p*k/y;break}case 180:this.x=1-c,this.y=1-d,this.width=h,this.height=p;break;case 270:{const[k,y]=this.parentDimensions;this.x=1-d,this.y=c,this.width=h*y/k,this.height=p*k/y;break}}const{lastPoint:g}=B(this,Da);Z(this,$b,[(g[0]-c)/h,(g[1]-d)/p])},fV=function(e){const i=(c,d)=>{var h,p;this.color=c,Z(this,Au,d),(h=this.parent)==null||h.drawLayer.updateProperties(B(this,gl),{root:{fill:c,"fill-opacity":d}}),(p=B(this,Wb))==null||p.updateColor(c)},o=this.color,a=B(this,Au);this.addCommands({cmd:i.bind(this,e,si._defaultOpacity),undo:i.bind(this,o,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:On.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},pV=function(e){const i=B(this,oc),o=a=>{Z(this,oc,a),lt(this,bn,gV).call(this,a)};this.addCommands({cmd:o.bind(this,e),undo:o.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:On.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},gV=function(e){if(!B(this,ao))return;lt(this,bn,lE).call(this,{highlightOutlines:B(this,rc).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,o]=this.parentDimensions;this.setDims(this.width*i,this.height*o)},YI=function(){B(this,gl)===null||!this.parent||(this.parent.drawLayer.remove(B(this,gl)),Z(this,gl,null),this.parent.drawLayer.remove(B(this,To)),Z(this,To,null))},tp=function(e=this.parent){B(this,gl)===null&&({id:ta(this,gl)._,clipPathId:ta(this,eg)._}=e.drawLayer.draw({bbox:B(this,rc).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":B(this,Au)},rootClass:{highlight:!0,free:B(this,ao)},path:{d:B(this,rc).toSVGPath()}},!1,!0),Z(this,To,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:B(this,ao)},bbox:B(this,Da).box,path:{d:B(this,Da).toSVGPath()}},B(this,ao))),B(this,ng)&&(B(this,ng).style.clipPath=B(this,eg)))},Ac=new WeakSet,Qm=function([e,i,o,a],c){switch(c){case 90:return[1-i-a,e,a,o];case 180:return[1-e-o,1-i-a,o,a];case 270:return[i,1-e-o,a,o]}return[e,i,o,a]},mV=function(e){si._keyboardManager.exec(this,e)},cE=function(e){if(!B(this,Gb))return;const i=window.getSelection();e?i.setPosition(B(this,Gb),B(this,Yk)):i.setPosition(B(this,Xk),B(this,Zk))},Lv=function(){return B(this,ao)?this.rotation:0},bV=function(){if(B(this,ao))return null;const[e,i]=this.pageDimensions,[o,a]=this.pageTranslation,c=B(this,du),d=new Float32Array(c.length*8);let h=0;for(const{x:p,y:g,width:w,height:v}of c){const k=p*e+o,y=(1-g)*i+a;d[h]=d[h+4]=k,d[h+1]=d[h+3]=y,d[h+2]=d[h+6]=k+w*e,d[h+5]=d[h+7]=y-v*i,h+=8}return d},wV=function(e){return B(this,rc).serialize(e,lt(this,bn,Lv).call(this))},vV=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},_V=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},kV=function(e){const{color:i}=this._initialData;return e.color.some((o,a)=>o!==i[a])},ot(si,Ac),Ft(si,"_defaultColor",null),Ft(si,"_defaultOpacity",1),Ft(si,"_defaultThickness",12),Ft(si,"_type","highlight"),Ft(si,"_editorType",sn.HIGHLIGHT),Ft(si,"_freeHighlightId",-1),Ft(si,"_freeHighlight",null),Ft(si,"_freeHighlightClipId","");let WE=si;var ig;class yV{constructor(){ot(this,ig,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){B(this,ig)[t]=e}toSVGProperties(){const t=B(this,ig);return Z(this,ig,Object.create(null)),{root:t}}reset(){Z(this,ig,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Si("Not implemented")}}ig=new WeakMap;var ml,Yb,Pr,sg,rg,Ph,Fh,Oh,og,qn,XI,ZI,JI,Pv,CV,dE,Fv,Hm;const Be=class Be extends Oi{constructor(e){super(e);ot(this,qn);ot(this,ml,null);ot(this,Yb);Ft(this,"_drawId",null);Z(this,Yb,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(lt(this,qn,XI).call(this,e),lt(this,qn,Pv).call(this))}static _mergeSVGProperties(e,i){const o=new Set(Object.keys(e));for(const[a,c]of Object.entries(i))o.has(a)?Object.assign(e[a],c):e[a]=c;return e}static getDefaultDrawingOptions(e){Si("Not implemented")}static get typesMap(){Si("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const o=this.typesMap.get(e);o&&this._defaultDrawingOptions.updateProperty(o,i),this._currentParent&&(B(Be,Pr).updateProperty(o,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const o=this.constructor.typesMap.get(e);o&&this._updateProperty(e,o,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[o,a]of this.typesMap)e.push([o,i[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[o,a]of this.constructor.typesMap)e.push([o,i[a]]);return e}_updateProperty(e,i,o){const a=this._drawingOptions,c=a[i],d=h=>{var g;a.updateProperty(i,h);const p=B(this,ml).updateProperty(i,h);p&&lt(this,qn,Fv).call(this,p),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:d.bind(this,o),undo:d.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Be._mergeSVGProperties(B(this,ml).getPathResizingSVGProperties(lt(this,qn,dE).call(this)),{bbox:lt(this,qn,Hm).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Be._mergeSVGProperties(B(this,ml).getPathResizedSVGProperties(lt(this,qn,dE).call(this)),{bbox:lt(this,qn,Hm).call(this)}))}_onTranslating(e,i){var o;(o=this.parent)==null||o.drawLayer.updateProperties(this._drawId,{bbox:lt(this,qn,Hm).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Be._mergeSVGProperties(B(this,ml).getPathTranslatedSVGProperties(lt(this,qn,dE).call(this),this.parentDimensions),{bbox:lt(this,qn,Hm).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,B(this,Yb)&&(Z(this,Yb,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){lt(this,qn,JI).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(lt(this,qn,Pv).call(this),lt(this,qn,Fv).call(this,B(this,ml).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var o;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),lt(this,qn,JI).call(this)):e&&(this._uiManager.addShouldRescale(this),lt(this,qn,Pv).call(this,e),i=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Be._mergeSVGProperties({bbox:lt(this,qn,Hm).call(this)},B(this,ml).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&lt(this,qn,Fv).call(this,B(this,ml).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const o=super.render();o.classList.add("draw");const a=document.createElement("div");o.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[c,d]=this.parentDimensions;return this.setDims(this.width*c,this.height*d),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),o}static createDrawerInstance(e,i,o,a,c){Si("Not implemented")}static startDrawing(e,i,o,a){var I;const{target:c,offsetX:d,offsetY:h,pointerId:p,pointerType:g}=a;if(B(Be,Fh)&&B(Be,Fh)!==g)return;const{viewport:{rotation:w}}=e,{width:v,height:k}=c.getBoundingClientRect(),y=Z(Be,sg,new AbortController),x=e.combinedSignal(y);if(B(Be,Ph)||Z(Be,Ph,p),B(Be,Fh)??Z(Be,Fh,g),window.addEventListener("pointerup",F=>{var R;B(Be,Ph)===F.pointerId?this._endDraw(F):(R=B(Be,Oh))==null||R.delete(F.pointerId)},{signal:x}),window.addEventListener("pointercancel",F=>{var R;B(Be,Ph)===F.pointerId?this._currentParent.endDrawingSession():(R=B(Be,Oh))==null||R.delete(F.pointerId)},{signal:x}),window.addEventListener("pointerdown",F=>{B(Be,Fh)===F.pointerType&&((B(Be,Oh)||Z(Be,Oh,new Set)).add(F.pointerId),B(Be,Pr).isCancellable()&&(B(Be,Pr).removeLastElement(),B(Be,Pr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",bc,{signal:x}),c.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),c.addEventListener("touchmove",F=>{F.timeStamp===B(Be,og)&&Ls(F)},{signal:x}),e.toggleDrawing(),(I=i._editorUndoBar)==null||I.hide(),B(Be,Pr)){e.drawLayer.updateProperties(this._currentDrawId,B(Be,Pr).startNew(d,h,v,k,w));return}i.updateUIForDefaultProperties(this),Z(Be,Pr,this.createDrawerInstance(d,h,v,k,w)),Z(Be,rg,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(B(Be,rg).toSVGProperties(),B(Be,Pr).defaultSVGProperties),!0,!1)}static _drawMove(e){var c;if(Z(Be,og,-1),!B(Be,Pr))return;const{offsetX:i,offsetY:o,pointerId:a}=e;if(B(Be,Ph)===a){if(((c=B(Be,Oh))==null?void 0:c.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,B(Be,Pr).add(i,o)),Z(Be,og,e.timeStamp),Ls(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Z(Be,Pr,null),Z(Be,rg,null),Z(Be,Fh,null),Z(Be,og,NaN)),B(Be,sg)&&(B(Be,sg).abort(),Z(Be,sg,null),Z(Be,Ph,NaN),Z(Be,Oh,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,B(Be,Pr).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const o=B(Be,Pr),a=this._currentDrawId,c=o.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(a,o.setLastElement(c))},undo:()=>{i.drawLayer.updateProperties(a,o.removeLastElement())},mustExec:!1,type:On.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(On.DRAW_STEP),!B(Be,Pr).isEmpty()){const{pageDimensions:[o,a],scale:c}=i,d=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:B(Be,Pr).getOutlines(o*c,a*c,c,this._INNER_MARGIN),drawingOptions:B(Be,rg),mustBeCommitted:!e});return this._cleanup(!0),d}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,o,a,c,d){Si("Not implemented")}static async deserialize(e,i,o){var w,v;const{rawDims:{pageWidth:a,pageHeight:c,pageX:d,pageY:h}}=i.viewport,p=this.deserializeDraw(d,h,a,c,this._INNER_MARGIN,e),g=await super.deserialize(e,i,o);return g.createDrawingOptions(e),lt(w=g,qn,XI).call(w,{drawOutlines:p}),lt(v=g,qn,Pv).call(v),g.onScaleChanging(),g.rotate(),g}serializeDraw(e){const[i,o]=this.pageTranslation,[a,c]=this.pageDimensions;return B(this,ml).serialize([i,o,a,c],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ml=new WeakMap,Yb=new WeakMap,Pr=new WeakMap,sg=new WeakMap,rg=new WeakMap,Ph=new WeakMap,Fh=new WeakMap,Oh=new WeakMap,og=new WeakMap,qn=new WeakSet,XI=function({drawOutlines:e,drawId:i,drawingOptions:o}){Z(this,ml,e),this._drawingOptions||(this._drawingOptions=o),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=lt(this,qn,ZI).call(this,e,this.parent),lt(this,qn,Fv).call(this,e.box)},ZI=function(e,i){const{id:o}=i.drawLayer.draw(Be._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return o},JI=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Pv=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=lt(this,qn,ZI).call(this,B(this,ml),e)}},CV=function([e,i,o,a]){const{parentDimensions:[c,d],rotation:h}=this;switch(h){case 90:return[i,1-e,o*(d/c),a*(c/d)];case 180:return[1-e,1-i,o,a];case 270:return[1-i,e,o*(d/c),a*(c/d)];default:return[e,i,o,a]}},dE=function(){const{x:e,y:i,width:o,height:a,parentDimensions:[c,d],rotation:h}=this;switch(h){case 90:return[1-i,e,o*(c/d),a*(d/c)];case 180:return[1-e,1-i,o,a];case 270:return[i,1-e,o*(c/d),a*(d/c)];default:return[e,i,o,a]}},Fv=function(e){if([this.x,this.y,this.width,this.height]=lt(this,qn,CV).call(this,e),this.div){this.fixAndSetPosition();const[i,o]=this.parentDimensions;this.setDims(this.width*i,this.height*o)}this._onResized()},Hm=function(){const{x:e,y:i,width:o,height:a,rotation:c,parentRotation:d,parentDimensions:[h,p]}=this;switch((c*4+d)/90){case 1:return[1-i-a,e,a,o];case 2:return[1-e-o,1-i-a,o,a];case 3:return[i,1-e-o,a,o];case 4:return[e,i-o*(h/p),a*(p/h),o*(h/p)];case 5:return[1-i,e,o*(h/p),a*(p/h)];case 6:return[1-e-a*(p/h),1-i,a*(p/h),o*(h/p)];case 7:return[i-o*(h/p),1-e-a*(p/h),o*(h/p),a*(p/h)];case 8:return[e-o,i-a,o,a];case 9:return[1-i,e-o,a,o];case 10:return[1-e,1-i,o,a];case 11:return[i-a,1-e,a,o];case 12:return[e-a*(p/h),i,a*(p/h),o*(h/p)];case 13:return[1-i-o*(h/p),e-a*(p/h),o*(h/p),a*(p/h)];case 14:return[1-e,1-i-o*(h/p),a*(p/h),o*(h/p)];case 15:return[i,1-e,o*(h/p),a*(p/h)];default:return[e,i,o,a]}},Ft(Be,"_currentDrawId",-1),Ft(Be,"_currentParent",null),ot(Be,Pr,null),ot(Be,sg,null),ot(Be,rg,null),ot(Be,Ph,NaN),ot(Be,Fh,null),ot(Be,Oh,null),ot(Be,og,NaN),Ft(Be,"_INNER_MARGIN",3);let $E=Be;var zd,Fr,Or,ag,Xb,ia,lo,ac,lg,cg,dg,Zb,AE;class olt{constructor(t,e,i,o,a,c){ot(this,Zb);ot(this,zd,new Float64Array(6));ot(this,Fr);ot(this,Or);ot(this,ag);ot(this,Xb);ot(this,ia);ot(this,lo,"");ot(this,ac,0);ot(this,lg,new b0);ot(this,cg);ot(this,dg);Z(this,cg,i),Z(this,dg,o),Z(this,ag,a),Z(this,Xb,c),[t,e]=lt(this,Zb,AE).call(this,t,e);const d=Z(this,Fr,[NaN,NaN,NaN,NaN,t,e]);Z(this,ia,[t,e]),Z(this,Or,[{line:d,points:B(this,ia)}]),B(this,zd).set(d,0)}updateProperty(t,e){t==="stroke-width"&&Z(this,Xb,e)}isEmpty(){return!B(this,Or)||B(this,Or).length===0}isCancellable(){return B(this,ia).length<=10}add(t,e){[t,e]=lt(this,Zb,AE).call(this,t,e);const[i,o,a,c]=B(this,zd).subarray(2,6),d=t-a,h=e-c;return Math.hypot(B(this,cg)*d,B(this,dg)*h)<=2?null:(B(this,ia).push(t,e),isNaN(i)?(B(this,zd).set([a,c,t,e],2),B(this,Fr).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(B(this,zd)[0])&&B(this,Fr).splice(6,6),B(this,zd).set([i,o,a,c,t,e],0),B(this,Fr).push(...xe.createBezierPoints(i,o,a,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(B(this,ia).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,o,a){Z(this,cg,i),Z(this,dg,o),Z(this,ag,a),[t,e]=lt(this,Zb,AE).call(this,t,e);const c=Z(this,Fr,[NaN,NaN,NaN,NaN,t,e]);Z(this,ia,[t,e]);const d=B(this,Or).at(-1);return d&&(d.line=new Float32Array(d.line),d.points=new Float32Array(d.points)),B(this,Or).push({line:c,points:B(this,ia)}),B(this,zd).set(c,0),Z(this,ac,0),this.toSVGPath(),null}getLastElement(){return B(this,Or).at(-1)}setLastElement(t){return B(this,Or)?(B(this,Or).push(t),Z(this,Fr,t.line),Z(this,ia,t.points),Z(this,ac,0),{path:{d:this.toSVGPath()}}):B(this,lg).setLastElement(t)}removeLastElement(){if(!B(this,Or))return B(this,lg).removeLastElement();B(this,Or).pop(),Z(this,lo,"");for(let t=0,e=B(this,Or).length;t<e;t++){const{line:i,points:o}=B(this,Or)[t];Z(this,Fr,i),Z(this,ia,o),Z(this,ac,0),this.toSVGPath()}return{path:{d:B(this,lo)}}}toSVGPath(){const t=xe.svgRound(B(this,Fr)[4]),e=xe.svgRound(B(this,Fr)[5]);if(B(this,ia).length===2)return Z(this,lo,`${B(this,lo)} M ${t} ${e} Z`),B(this,lo);if(B(this,ia).length<=6){const o=B(this,lo).lastIndexOf("M");Z(this,lo,`${B(this,lo).slice(0,o)} M ${t} ${e}`),Z(this,ac,6)}if(B(this,ia).length===4){const o=xe.svgRound(B(this,Fr)[10]),a=xe.svgRound(B(this,Fr)[11]);return Z(this,lo,`${B(this,lo)} L ${o} ${a}`),Z(this,ac,12),B(this,lo)}const i=[];B(this,ac)===0&&(i.push(`M ${t} ${e}`),Z(this,ac,6));for(let o=B(this,ac),a=B(this,Fr).length;o<a;o+=6){const[c,d,h,p,g,w]=B(this,Fr).slice(o,o+6).map(xe.svgRound);i.push(`C${c} ${d} ${h} ${p} ${g} ${w}`)}return Z(this,lo,B(this,lo)+i.join(" ")),Z(this,ac,B(this,Fr).length),B(this,lo)}getOutlines(t,e,i,o){const a=B(this,Or).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),B(this,lg).build(B(this,Or),t,e,i,B(this,ag),B(this,Xb),o),Z(this,zd,null),Z(this,Fr,null),Z(this,Or,null),Z(this,lo,null),B(this,lg)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}zd=new WeakMap,Fr=new WeakMap,Or=new WeakMap,ag=new WeakMap,Xb=new WeakMap,ia=new WeakMap,lo=new WeakMap,ac=new WeakMap,lg=new WeakMap,cg=new WeakMap,dg=new WeakMap,Zb=new WeakSet,AE=function(t,e){return xe._normalizePoint(t,e,B(this,cg),B(this,dg),B(this,ag))};var sa,t0,e0,bl,jd,Vd,Jb,tw,Ag,uo,OA,EV,xV,BV;class b0 extends xe{constructor(){super(...arguments);ot(this,uo);ot(this,sa);ot(this,t0,0);ot(this,e0);ot(this,bl);ot(this,jd);ot(this,Vd);ot(this,Jb);ot(this,tw);ot(this,Ag)}build(e,i,o,a,c,d,h){Z(this,jd,i),Z(this,Vd,o),Z(this,Jb,a),Z(this,tw,c),Z(this,Ag,d),Z(this,e0,h??0),Z(this,bl,e),lt(this,uo,xV).call(this)}get thickness(){return B(this,Ag)}setLastElement(e){return B(this,bl).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return B(this,bl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of B(this,bl)){if(e.push(`M${xe.svgRound(i[4])} ${xe.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${xe.svgRound(i[10])} ${xe.svgRound(i[11])}`);continue}for(let o=6,a=i.length;o<a;o+=6){const[c,d,h,p,g,w]=i.subarray(o,o+6).map(xe.svgRound);e.push(`C${c} ${d} ${h} ${p} ${g} ${w}`)}}return e.join("")}serialize([e,i,o,a],c){const d=[],h=[],[p,g,w,v]=lt(this,uo,EV).call(this);let k,y,x,I,F,R,Q,V,W;switch(B(this,tw)){case 0:W=xe._rescale,k=e,y=i+a,x=o,I=-a,F=e+p*o,R=i+(1-g-v)*a,Q=e+(p+w)*o,V=i+(1-g)*a;break;case 90:W=xe._rescaleAndSwap,k=e,y=i,x=o,I=a,F=e+g*o,R=i+p*a,Q=e+(g+v)*o,V=i+(p+w)*a;break;case 180:W=xe._rescale,k=e+o,y=i,x=-o,I=a,F=e+(1-p-w)*o,R=i+g*a,Q=e+(1-p)*o,V=i+(g+v)*a;break;case 270:W=xe._rescaleAndSwap,k=e+o,y=i+a,x=-o,I=-a,F=e+(1-g-v)*o,R=i+(1-p-w)*a,Q=e+(1-g)*o,V=i+(1-p)*a;break}for(const{line:X,points:P}of B(this,bl))d.push(W(X,k,y,x,I,c?new Array(X.length):null)),h.push(W(P,k,y,x,I,c?new Array(P.length):null));return{lines:d,points:h,rect:[F,R,Q,V]}}static deserialize(e,i,o,a,c,{paths:{lines:d,points:h},rotation:p,thickness:g}){const w=[];let v,k,y,x,I;switch(p){case 0:I=xe._rescale,v=-e/o,k=i/a+1,y=1/o,x=-1/a;break;case 90:I=xe._rescaleAndSwap,v=-i/a,k=-e/o,y=1/a,x=1/o;break;case 180:I=xe._rescale,v=e/o+1,k=-i/a,y=-1/o,x=1/a;break;case 270:I=xe._rescaleAndSwap,v=i/a+1,k=e/o+1,y=-1/a,x=-1/o;break}if(!d){d=[];for(const R of h){const Q=R.length;if(Q===2){d.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(Q===4){d.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const V=new Float32Array(3*(Q-2));d.push(V);let[W,X,P,K]=R.subarray(0,4);V.set([NaN,NaN,NaN,NaN,W,X],0);for(let J=4;J<Q;J+=2){const rt=R[J],dt=R[J+1];V.set(xe.createBezierPoints(W,X,P,K,rt,dt),(J-2)*3),[W,X,P,K]=[P,K,rt,dt]}}}for(let R=0,Q=d.length;R<Q;R++)w.push({line:I(d[R].map(V=>V??NaN),v,k,y,x),points:I(h[R].map(V=>V??NaN),v,k,y,x)});const F=new this.prototype.constructor;return F.build(w,o,a,1,p,g,c),F}get box(){return B(this,sa)}updateProperty(e,i){return e==="stroke-width"?lt(this,uo,BV).call(this,i):null}updateParentDimensions([e,i],o){const[a,c]=lt(this,uo,OA).call(this);Z(this,jd,e),Z(this,Vd,i),Z(this,Jb,o);const[d,h]=lt(this,uo,OA).call(this),p=d-a,g=h-c,w=B(this,sa);return w[0]-=p,w[1]-=g,w[2]+=2*p,w[3]+=2*g,w}updateRotation(e){return Z(this,t0,e),{path:{transform:this.rotationTransform}}}get viewBox(){return B(this,sa).map(xe.svgRound).join(" ")}get defaultProperties(){const[e,i]=B(this,sa);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${xe.svgRound(e)} ${xe.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=B(this,sa);let o=0,a=0,c=0,d=0,h=0,p=0;switch(B(this,t0)){case 90:a=i/e,c=-e/i,h=e;break;case 180:o=-1,d=-1,h=e,p=i;break;case 270:a=-i/e,c=e/i,p=i;break;default:return""}return`matrix(${o} ${a} ${c} ${d} ${xe.svgRound(h)} ${xe.svgRound(p)})`}getPathResizingSVGProperties([e,i,o,a]){const[c,d]=lt(this,uo,OA).call(this),[h,p,g,w]=B(this,sa);if(Math.abs(g-c)<=xe.PRECISION||Math.abs(w-d)<=xe.PRECISION){const I=e+o/2-(h+g/2),F=i+a/2-(p+w/2);return{path:{"transform-origin":`${xe.svgRound(e)} ${xe.svgRound(i)}`,transform:`${this.rotationTransform} translate(${I} ${F})`}}}const v=(o-2*c)/(g-2*c),k=(a-2*d)/(w-2*d),y=g/o,x=w/a;return{path:{"transform-origin":`${xe.svgRound(h)} ${xe.svgRound(p)}`,transform:`${this.rotationTransform} scale(${y} ${x}) translate(${xe.svgRound(c)} ${xe.svgRound(d)}) scale(${v} ${k}) translate(${xe.svgRound(-c)} ${xe.svgRound(-d)})`}}}getPathResizedSVGProperties([e,i,o,a]){const[c,d]=lt(this,uo,OA).call(this),h=B(this,sa),[p,g,w,v]=h;if(h[0]=e,h[1]=i,h[2]=o,h[3]=a,Math.abs(w-c)<=xe.PRECISION||Math.abs(v-d)<=xe.PRECISION){const F=e+o/2-(p+w/2),R=i+a/2-(g+v/2);for(const{line:Q,points:V}of B(this,bl))xe._translate(Q,F,R,Q),xe._translate(V,F,R,V);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${xe.svgRound(e)} ${xe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const k=(o-2*c)/(w-2*c),y=(a-2*d)/(v-2*d),x=-k*(p+c)+e+c,I=-y*(g+d)+i+d;if(k!==1||y!==1||x!==0||I!==0)for(const{line:F,points:R}of B(this,bl))xe._rescale(F,x,I,k,y,F),xe._rescale(R,x,I,k,y,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${xe.svgRound(e)} ${xe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],o){const[a,c]=o,d=B(this,sa),h=e-d[0],p=i-d[1];if(B(this,jd)===a&&B(this,Vd)===c)for(const{line:g,points:w}of B(this,bl))xe._translate(g,h,p,g),xe._translate(w,h,p,w);else{const g=B(this,jd)/a,w=B(this,Vd)/c;Z(this,jd,a),Z(this,Vd,c);for(const{line:v,points:k}of B(this,bl))xe._rescale(v,h,p,g,w,v),xe._rescale(k,h,p,g,w,k);d[2]*=g,d[3]*=w}return d[0]=e,d[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${xe.svgRound(e)} ${xe.svgRound(i)}`}}}get defaultSVGProperties(){const e=B(this,sa);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${xe.svgRound(e[0])} ${xe.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}sa=new WeakMap,t0=new WeakMap,e0=new WeakMap,bl=new WeakMap,jd=new WeakMap,Vd=new WeakMap,Jb=new WeakMap,tw=new WeakMap,Ag=new WeakMap,uo=new WeakSet,OA=function(e=B(this,Ag)){const i=B(this,e0)+e/2*B(this,Jb);return B(this,tw)%180===0?[i/B(this,jd),i/B(this,Vd)]:[i/B(this,Vd),i/B(this,jd)]},EV=function(){const[e,i,o,a]=B(this,sa),[c,d]=lt(this,uo,OA).call(this,0);return[e+c,i+d,o-2*c,a-2*d]},xV=function(){const e=Z(this,sa,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of B(this,bl)){if(a.length<=12){for(let h=4,p=a.length;h<p;h+=6)Ie.pointBoundingBox(a[h],a[h+1],e);continue}let c=a[4],d=a[5];for(let h=6,p=a.length;h<p;h+=6){const[g,w,v,k,y,x]=a.subarray(h,h+6);Ie.bezierBoundingBox(c,d,g,w,v,k,y,x,e),c=y,d=x}}const[i,o]=lt(this,uo,OA).call(this);e[0]=Lo(e[0]-i,0,1),e[1]=Lo(e[1]-o,0,1),e[2]=Lo(e[2]+i,0,1),e[3]=Lo(e[3]+o,0,1),e[2]-=e[0],e[3]-=e[1]},BV=function(e){const[i,o]=lt(this,uo,OA).call(this);Z(this,Ag,e);const[a,c]=lt(this,uo,OA).call(this),[d,h]=[a-i,c-o],p=B(this,sa);return p[0]-=d,p[1]-=h,p[2]+=2*d,p[3]+=2*h,p};class sB extends yV{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Oi._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new sB(this._viewParameters);return t.updateAll(this),t}}var Mx,SV;const $m=class $m extends $E{constructor(e){super({...e,name:"inkEditor"});ot(this,Mx);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){Oi.initialize(e,i),this._defaultDrawingOptions=new sB(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Tn(this,"typesMap",new Map([[On.INK_THICKNESS,"stroke-width"],[On.INK_COLOR,"stroke"],[On.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,o,a,c){return new olt(e,i,o,a,c,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,o,a,c,d){return b0.deserialize(e,i,o,a,c,d)}static async deserialize(e,i,o){let a=null;if(e instanceof FM){const{data:{inkLists:d,rect:h,rotation:p,id:g,color:w,opacity:v,borderStyle:{rawWidth:k},popupRef:y},parent:{page:{pageNumber:x}}}=e;a=e={annotationType:sn.INK,color:Array.from(w),thickness:k,opacity:v,paths:{points:d},boxes:null,pageIndex:x-1,rect:h.slice(0),rotation:p,id:g,deleted:!1,popupRef:y}}const c=await super.deserialize(e,i,o);return c.annotationElementId=e.id||null,c._initialData=a,c}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:o}=this;i.updateSVGProperty("stroke-width"),o.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:o}){this._drawingOptions=$m.getDefaultDrawingOptions({stroke:Ie.makeHexColor(...e),"stroke-width":i,"stroke-opacity":o})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:o,rect:a}=this.serializeDraw(e),{_drawingOptions:{stroke:c,"stroke-opacity":d,"stroke-width":h}}=this,p={annotationType:sn.INK,color:Oi._colorManager.convert(c),opacity:d,thickness:h,paths:{lines:i,points:o},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(p.isCopy=!0,p):this.annotationElementId&&!lt(this,Mx,SV).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(e){const{points:i,rect:o}=this.serializeDraw(!1);return e.updateEdited({rect:o,thickness:this._drawingOptions["stroke-width"],points:i}),null}};Mx=new WeakSet,SV=function(e){const{color:i,thickness:o,opacity:a,pageIndex:c}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((d,h)=>d!==i[h])||e.thickness!==o||e.opacity!==a||e.pageIndex!==c},Ft($m,"_type","ink"),Ft($m,"_editorType",sn.INK),Ft($m,"_defaultDrawingOptions",null);let tD=$m;class eD extends b0{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Wy=8,lv=3;var ug,ui,nD,Kc,TV,IV,iD,uE,DV,MV,LV,sD,rD,PV;class Wd{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:o},a,c,d,h){let p=new OffscreenCanvas(1,1),g=p.getContext("2d",{alpha:!1});const w=200,v=g.font=`${i} ${o} ${w}px ${e}`,{actualBoundingBoxLeft:k,actualBoundingBoxRight:y,actualBoundingBoxAscent:x,actualBoundingBoxDescent:I,fontBoundingBoxAscent:F,fontBoundingBoxDescent:R,width:Q}=g.measureText(t),V=1.5,W=Math.ceil(Math.max(Math.abs(k)+Math.abs(y)||0,Q)*V),X=Math.ceil(Math.max(Math.abs(x)+Math.abs(I)||w,Math.abs(F)+Math.abs(R)||w)*V);p=new OffscreenCanvas(W,X),g=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=v,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,W,X),g.fillStyle="black",g.fillText(t,W*(V-1)/2,X*(3-V)/2);const P=lt(this,ui,sD).call(this,g.getImageData(0,0,W,X).data),K=lt(this,ui,LV).call(this,P),J=lt(this,ui,rD).call(this,K),rt=lt(this,ui,iD).call(this,P,W,X,J);return this.processDrawnLines({lines:{curves:rt,width:W,height:X},pageWidth:a,pageHeight:c,rotation:d,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,o,a){const[c,d,h]=lt(this,ui,PV).call(this,t),[p,g]=lt(this,ui,MV).call(this,c,d,h,Math.hypot(d,h)*B(this,ug).sigmaSFactor,B(this,ug).sigmaR,B(this,ug).kernelSize),w=lt(this,ui,rD).call(this,g),v=lt(this,ui,iD).call(this,p,d,h,w);return this.processDrawnLines({lines:{curves:v,width:d,height:h},pageWidth:e,pageHeight:i,rotation:o,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:o,innerMargin:a,mustSmooth:c,areContours:d}){o%180!==0&&([e,i]=[i,e]);const{curves:h,width:p,height:g}=t,w=t.thickness??0,v=[],k=Math.min(e/p,i/g),y=k/e,x=k/i,I=[];for(const{points:R}of h){const Q=c?lt(this,ui,DV).call(this,R):R;if(!Q)continue;I.push(Q);const V=Q.length,W=new Float32Array(V),X=new Float32Array(3*(V===2?2:V-2));if(v.push({line:X,points:W}),V===2){W[0]=Q[0]*y,W[1]=Q[1]*x,X.set([NaN,NaN,NaN,NaN,W[0],W[1]],0);continue}let[P,K,J,rt]=Q;P*=y,K*=x,J*=y,rt*=x,W.set([P,K,J,rt],0),X.set([NaN,NaN,NaN,NaN,P,K],0);for(let dt=4;dt<V;dt+=2){const ht=W[dt]=Q[dt]*y,ut=W[dt+1]=Q[dt+1]*x;X.set(xe.createBezierPoints(P,K,J,rt,ht,ut),(dt-2)*3),[P,K,J,rt]=[J,rt,ht,ut]}}if(v.length===0)return null;const F=d?new eD:new b0;return F.build(v,e,i,1,o,d?0:w,a),{outline:F,newCurves:I,areContours:d,thickness:w,width:p,height:g}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:o,height:a}){let c=1/0,d=-1/0,h=0;for(const Q of t){h+=Q.length;for(let V=2,W=Q.length;V<W;V++){const X=Q[V]-Q[V-2];c=Math.min(c,X),d=Math.max(d,X)}}let p;c>=-128&&d<=127?p=Int8Array:c>=-32768&&d<=32767?p=Int16Array:p=Int32Array;const g=t.length,w=Wy+lv*g,v=new Uint32Array(w);let k=0;v[k++]=w*Uint32Array.BYTES_PER_ELEMENT+(h-2*g)*p.BYTES_PER_ELEMENT,v[k++]=0,v[k++]=o,v[k++]=a,v[k++]=e?0:1,v[k++]=Math.max(0,Math.floor(i??0)),v[k++]=g,v[k++]=p.BYTES_PER_ELEMENT;for(const Q of t)v[k++]=Q.length-2,v[k++]=Q[0],v[k++]=Q[1];const y=new CompressionStream("deflate-raw"),x=y.writable.getWriter();await x.ready,x.write(v);const I=p.prototype.constructor;for(const Q of t){const V=new I(Q.length-2);for(let W=2,X=Q.length;W<X;W++)V[W-2]=Q[W]-Q[W-2];x.write(V)}x.close();const F=await new Response(y.readable).arrayBuffer(),R=new Uint8Array(F);return M3(R)}static async decompressSignature(t){try{const e=Not(t),{readable:i,writable:o}=new DecompressionStream("deflate-raw"),a=o.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let c=null,d=0;for await(const Q of i)c||(c=new Uint8Array(new Uint32Array(Q.buffer,0,4)[0])),c.set(Q,d),d+=Q.length;const h=new Uint32Array(c.buffer,0,c.length>>2),p=h[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const g=h[2],w=h[3],v=h[4]===0,k=h[5],y=h[6],x=h[7],I=[],F=(Wy+lv*y)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(x){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(c.buffer,F);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(c.buffer,F);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(c.buffer,F);break}d=0;for(let Q=0;Q<y;Q++){const V=h[lv*Q+Wy],W=new Float32Array(V+2);I.push(W);for(let X=0;X<lv-1;X++)W[X]=h[lv*Q+Wy+X+1];for(let X=0;X<V;X++)W[X+2]=W[X]+R[d++]}return{areContours:v,thickness:k,outlines:I,width:g,height:w}}catch(e){return An(`decompressSignature: ${e}`),null}}}ug=new WeakMap,ui=new WeakSet,nD=function(t,e,i,o){return i-=t,o-=e,i===0?o>0?0:4:i===1?o+6:2-o},Kc=new WeakMap,TV=function(t,e,i,o,a,c,d){const h=lt(this,ui,nD).call(this,i,o,a,c);for(let p=0;p<8;p++){const g=(-p+h-d+16)%8,w=B(this,Kc)[2*g],v=B(this,Kc)[2*g+1];if(t[(i+w)*e+(o+v)]!==0)return g}return-1},IV=function(t,e,i,o,a,c,d){const h=lt(this,ui,nD).call(this,i,o,a,c);for(let p=0;p<8;p++){const g=(p+h+d+16)%8,w=B(this,Kc)[2*g],v=B(this,Kc)[2*g+1];if(t[(i+w)*e+(o+v)]!==0)return g}return-1},iD=function(t,e,i,o){const a=t.length,c=new Int32Array(a);for(let g=0;g<a;g++)c[g]=t[g]<=o?1:0;for(let g=1;g<i-1;g++)c[g*e]=c[g*e+e-1]=0;for(let g=0;g<e;g++)c[g]=c[e*i-1-g]=0;let d=1,h;const p=[];for(let g=1;g<i-1;g++){h=1;for(let w=1;w<e-1;w++){const v=g*e+w,k=c[v];if(k===0)continue;let y=g,x=w;if(k===1&&c[v-1]===0)d+=1,x-=1;else if(k>=1&&c[v+1]===0)d+=1,x+=1,k>1&&(h=k);else{k!==1&&(h=Math.abs(k));continue}const I=[w,g],F=x===w+1,R={isHole:F,points:I,id:d,parent:0};p.push(R);let Q;for(const dt of p)if(dt.id===h){Q=dt;break}Q?Q.isHole?R.parent=F?Q.parent:h:R.parent=F?h:Q.parent:R.parent=F?h:0;const V=lt(this,ui,TV).call(this,c,e,g,w,y,x,0);if(V===-1){c[v]=-d,c[v]!==1&&(h=Math.abs(c[v]));continue}let W=B(this,Kc)[2*V],X=B(this,Kc)[2*V+1];const P=g+W,K=w+X;y=P,x=K;let J=g,rt=w;for(;;){const dt=lt(this,ui,IV).call(this,c,e,J,rt,y,x,1);W=B(this,Kc)[2*dt],X=B(this,Kc)[2*dt+1];const ht=J+W,ut=rt+X;I.push(ut,ht);const mt=J*e+rt;if(c[mt+1]===0?c[mt]=-d:c[mt]===1&&(c[mt]=d),ht===g&&ut===w&&J===P&&rt===K){c[v]!==1&&(h=Math.abs(c[v]));break}else y=J,x=rt,J=ht,rt=ut}}}return p},uE=function(t,e,i,o){if(i-e<=4){for(let P=e;P<i-2;P+=2)o.push(t[P],t[P+1]);return}const a=t[e],c=t[e+1],d=t[i-4]-a,h=t[i-3]-c,p=Math.hypot(d,h),g=d/p,w=h/p,v=g*c-w*a,k=h/d,y=1/p,x=Math.atan(k),I=Math.cos(x),F=Math.sin(x),R=y*(Math.abs(I)+Math.abs(F)),Q=y*(1-R+R**2),V=Math.max(Math.atan(Math.abs(F+I)*Q),Math.atan(Math.abs(F-I)*Q));let W=0,X=e;for(let P=e+2;P<i-2;P+=2){const K=Math.abs(v-g*t[P+1]+w*t[P]);K>W&&(X=P,W=K)}W>(p*V)**2?(lt(this,ui,uE).call(this,t,e,X+2,o),lt(this,ui,uE).call(this,t,X,i,o)):o.push(a,c)},DV=function(t){const e=[],i=t.length;return lt(this,ui,uE).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},MV=function(t,e,i,o,a,c){const d=new Float32Array(c**2),h=-2*o**2,p=c>>1;for(let x=0;x<c;x++){const I=(x-p)**2;for(let F=0;F<c;F++)d[x*c+F]=Math.exp((I+(F-p)**2)/h)}const g=new Float32Array(256),w=-2*a**2;for(let x=0;x<256;x++)g[x]=Math.exp(x**2/w);const v=t.length,k=new Uint8Array(v),y=new Uint32Array(256);for(let x=0;x<i;x++)for(let I=0;I<e;I++){const F=x*e+I,R=t[F];let Q=0,V=0;for(let X=0;X<c;X++){const P=x+X-p;if(!(P<0||P>=i))for(let K=0;K<c;K++){const J=I+K-p;if(J<0||J>=e)continue;const rt=t[P*e+J],dt=d[X*c+K]*g[Math.abs(rt-R)];Q+=rt*dt,V+=dt}}const W=k[F]=Math.round(Q/V);y[W]++}return[k,y]},LV=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},sD=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let o=-1/0,a=1/0;for(let d=0,h=i.length;d<h;d++){if(t[(d<<2)+3]===0){o=i[d]=255;continue}const g=i[d]=t[d<<2];g>o&&(o=g),g<a&&(a=g)}const c=255/(o-a);for(let d=0;d<e;d++)i[d]=(i[d]-a)*c;return i},rD=function(t){let e,i=-1/0,o=-1/0;const a=t.findIndex(h=>h!==0);let c=a,d=a;for(e=a;e<256;e++){const h=t[e];h>i&&(e-c>o&&(o=e-c,d=e-1),i=h,c=e)}for(e=d-1;e>=0&&!(t[e]>t[e+1]);e--);return e},PV=function(t){const e=t,{width:i,height:o}=t,{maxDim:a}=B(this,ug);let c=i,d=o;if(i>a||o>a){let v=i,k=o,y=Math.log2(Math.max(i,o)/a);const x=Math.floor(y);y=y===x?x-1:x;for(let F=0;F<y;F++){c=v,d=k,c>a&&(c=Math.ceil(c/2)),d>a&&(d=Math.ceil(d/2));const R=new OffscreenCanvas(c,d);R.getContext("2d").drawImage(t,0,0,v,k,0,0,c,d),v=c,k=d,t!==e&&t.close(),t=R.transferToImageBitmap()}const I=Math.min(a/c,a/d);c=Math.round(c*I),d=Math.round(d*I)}const p=new OffscreenCanvas(c,d).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,c,d);const g=p.getImageData(0,0,c,d).data;return[lt(this,ui,sD).call(this,g),c,d]},ot(Wd,ui),ot(Wd,ug,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),ot(Wd,Kc,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class OM extends yV{constructor(){super(),super.updateProperties({fill:Oi._defaultLineColor,"stroke-width":0})}clone(){const t=new OM;return t.updateAll(this),t}}class NM extends sB{constructor(t){super(t),super.updateProperties({stroke:Oi._defaultLineColor,"stroke-width":1})}clone(){const t=new NM(this._viewParameters);return t.updateAll(this),t}}var Nh,wl,Rh,Uh;const ol=class ol extends $E{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});ot(this,Nh,!1);ot(this,wl,null);ot(this,Rh,null);ot(this,Uh,null);this._willKeepAspectRatio=!0,Z(this,Rh,e.signatureData||null),Z(this,wl,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){Oi.initialize(e,i),this._defaultDrawingOptions=new OM,this._defaultDrawnSignatureOptions=new NM(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Tn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!B(this,wl)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:o}=this;if(o&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(B(this,Rh)){const{lines:a,mustSmooth:c,areContours:d,description:h,uuid:p,heightInPage:g}=B(this,Rh),{rawDims:{pageWidth:w,pageHeight:v},rotation:k}=this.parent.viewport,y=Wd.processDrawnLines({lines:a,pageWidth:w,pageHeight:v,rotation:k,innerMargin:ol._INNER_MARGIN,mustSmooth:c,areContours:d});this.addSignature(y,g,h,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return o&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){Z(this,Uh,e),this.addEditToolbar()}getUuid(){return B(this,Uh)}get description(){return B(this,wl)}set description(e){Z(this,wl,e),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:o,width:a,height:c}=B(this,Rh),d=Math.max(a,c),h=Wd.processDrawnLines({lines:{curves:e.map(p=>({points:p})),thickness:o,width:a,height:c},pageWidth:d,pageHeight:d,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:h.outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&B(this,wl)!==null&&(await e.addEditSignatureButton(this._uiManager.signatureManager,B(this,Uh),B(this,wl)),e.show()),e):null}addSignature(e,i,o,a){const{x:c,y:d}=this,{outline:h}=Z(this,Rh,e);Z(this,Nh,h instanceof eD),Z(this,wl,o),this.div.setAttribute("data-l10n-args",JSON.stringify({description:o}));let p;B(this,Nh)?p=ol.getDefaultDrawingOptions():(p=ol._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:p});const[g,w]=this.parentDimensions,[,v]=this.pageDimensions;let k=i/v;k=k>=1?.5:k,this.width*=k/this.height,this.width>=1&&(k*=.9/this.width,this.width=.9),this.height=k,this.setDims(g*this.width,w*this.height),this.x=c,this.y=d,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!o}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:o},rotation:a}=this.parent.viewport;return Wd.process(e,i,o,a,ol._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:o,pageHeight:a},rotation:c}=this.parent.viewport;return Wd.extractContoursFromText(e,i,o,a,c,ol._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:o},rotation:a}=this.parent.viewport;return Wd.processDrawnLines({lines:e,pageWidth:i,pageHeight:o,rotation:a,innerMargin:ol._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=ol.getDefaultDrawingOptions():(this._drawingOptions=ol._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:o,rect:a}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":c}}=this,d={annotationType:sn.SIGNATURE,isSignature:!0,areContours:B(this,Nh),color:[0,0,0],thickness:B(this,Nh)?0:c,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(d.paths={lines:i,points:o},d.uuid=B(this,Uh),d.isCopy=!0):d.lines=i,B(this,wl)&&(d.accessibilityData={type:"Figure",alt:B(this,wl)}),d}static deserializeDraw(e,i,o,a,c,d){return d.areContours?eD.deserialize(e,i,o,a,c,d):b0.deserialize(e,i,o,a,c,d)}static async deserialize(e,i,o){var c;const a=await super.deserialize(e,i,o);return Z(a,Nh,e.areContours),Z(a,wl,((c=e.accessibilityData)==null?void 0:c.alt)||""),Z(a,Uh,e.uuid),a}};Nh=new WeakMap,wl=new WeakMap,Rh=new WeakMap,Uh=new WeakMap,Ft(ol,"_type","signature"),Ft(ol,"_editorType",sn.SIGNATURE),Ft(ol,"_defaultDrawingOptions",null);let oD=ol;var ts,Nr,Qh,uu,Hh,ew,hu,hg,Kd,vl,nw,Yn,Ov,Nv,hE,fE,pE,lD,gE,FV;class aD extends Oi{constructor(e){super({...e,name:"stampEditor"});ot(this,Yn);ot(this,ts,null);ot(this,Nr,null);ot(this,Qh,null);ot(this,uu,null);ot(this,Hh,null);ot(this,ew,"");ot(this,hu,null);ot(this,hg,!1);ot(this,Kd,null);ot(this,vl,!1);ot(this,nw,!1);Z(this,uu,e.bitmapUrl),Z(this,Hh,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){Oi.initialize(e,i)}static isHandlingMimeForPasting(e){return jE.includes(e)}static paste(e,i){i.pasteEditor(sn.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:o}=this._uiManager;if(!o)throw new Error("No ML.");if(!await o.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:c,height:d}=e||this.copyCanvas(null,null,!0).imageData,h=await o.guess({name:"altText",request:{data:a,width:c,height:d,channels:a.length/(c*d)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const p=h.output;return await this.setGuessedAltText(p),i&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e;B(this,Nr)&&(Z(this,ts,null),this._uiManager.imageManager.deleteId(B(this,Nr)),(e=B(this,hu))==null||e.remove(),Z(this,hu,null),B(this,Kd)&&(clearTimeout(B(this,Kd)),Z(this,Kd,null))),super.remove()}rebuild(){if(!this.parent){B(this,Nr)&&lt(this,Yn,hE).call(this);return}super.rebuild(),this.div!==null&&(B(this,Nr)&&B(this,hu)===null&&lt(this,Yn,hE).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(B(this,Qh)||B(this,ts)||B(this,uu)||B(this,Hh)||B(this,Nr)||B(this,hg))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),B(this,hg)||(B(this,ts)?lt(this,Yn,fE).call(this):lt(this,Yn,hE).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:o,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),o&&this._uiManager.imageManager.isValidId(o)&&(Z(this,Nr,o),a&&Z(this,ts,a),Z(this,hg,!1),lt(this,Yn,fE).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;B(this,Kd)!==null&&clearTimeout(B(this,Kd)),Z(this,Kd,setTimeout(()=>{Z(this,Kd,null),lt(this,Yn,lD).call(this)},200))}copyCanvas(e,i,o=!1){var k;e||(e=224);const{width:a,height:c}=B(this,ts),d=new tA;let h=B(this,ts),p=a,g=c,w=null;if(i){if(a>i||c>i){const K=Math.min(i/a,i/c);p=Math.floor(a*K),g=Math.floor(c*K)}w=document.createElement("canvas");const y=w.width=Math.ceil(p*d.sx),x=w.height=Math.ceil(g*d.sy);B(this,vl)||(h=lt(this,Yn,pE).call(this,y,x));const I=w.getContext("2d");I.filter=this._uiManager.hcmFilter;let F="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":(k=window.matchMedia)!=null&&k.call(window,"(prefers-color-scheme: dark)").matches&&(F="#8f8f9d",R="#42414d");const Q=15,V=Q*d.sx,W=Q*d.sy,X=new OffscreenCanvas(V*2,W*2),P=X.getContext("2d");P.fillStyle=F,P.fillRect(0,0,V*2,W*2),P.fillStyle=R,P.fillRect(0,0,V,W),P.fillRect(V,W,V,W),I.fillStyle=I.createPattern(X,"repeat"),I.fillRect(0,0,y,x),I.drawImage(h,0,0,h.width,h.height,0,0,y,x)}let v=null;if(o){let y,x;if(d.symmetric&&h.width<e&&h.height<e)y=h.width,x=h.height;else if(h=B(this,ts),a>e||c>e){const R=Math.min(e/a,e/c);y=Math.floor(a*R),x=Math.floor(c*R),B(this,vl)||(h=lt(this,Yn,pE).call(this,y,x))}const F=new OffscreenCanvas(y,x).getContext("2d",{willReadFrequently:!0});F.drawImage(h,0,0,h.width,h.height,0,0,y,x),v={width:y,height:x,data:F.getImageData(0,0,y,x).data}}return{canvas:w,width:p,height:g,imageData:v}}static async deserialize(e,i,o){var I;let a=null,c=!1;if(e instanceof Yj){const{data:{rect:F,rotation:R,id:Q,structParent:V,popupRef:W},container:X,parent:{page:{pageNumber:P}},canvas:K}=e;let J,rt;K?(delete e.canvas,{id:J,bitmap:rt}=o.imageManager.getFromCanvas(X.id,K),K.remove()):(c=!0,e._hasNoCanvas=!0);const dt=((I=await i._structTree.getAriaAttributes(`${BM}${Q}`))==null?void 0:I.get("aria-label"))||"";a=e={annotationType:sn.STAMP,bitmapId:J,bitmap:rt,pageIndex:P-1,rect:F.slice(0),rotation:R,id:Q,deleted:!1,accessibilityData:{decorative:!1,altText:dt},isSvg:!1,structParent:V,popupRef:W}}const d=await super.deserialize(e,i,o),{rect:h,bitmap:p,bitmapUrl:g,bitmapId:w,isSvg:v,accessibilityData:k}=e;c?(o.addMissingCanvas(e.id,d),Z(d,hg,!0)):w&&o.imageManager.isValidId(w)?(Z(d,Nr,w),p&&Z(d,ts,p)):Z(d,uu,g),Z(d,vl,v);const[y,x]=d.pageDimensions;return d.width=(h[2]-h[0])/y,d.height=(h[3]-h[1])/x,d.annotationElementId=e.id||null,k&&(d.altTextData=k),d._initialData=a,Z(d,nw,!!a),d}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const o={annotationType:sn.STAMP,bitmapId:B(this,Nr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:B(this,vl),structTreeParentId:this._structTreeParentId};if(e)return o.bitmapUrl=lt(this,Yn,gE).call(this,!0),o.accessibilityData=this.serializeAltText(!0),o.isCopy=!0,o;const{decorative:a,altText:c}=this.serializeAltText(!1);if(!a&&c&&(o.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const h=lt(this,Yn,FV).call(this,o);if(h.isSame)return null;h.isSameAltText?delete o.accessibilityData:o.accessibilityData.structParent=this._initialData.structParent??-1}if(o.id=this.annotationElementId,i===null)return o;i.stamps||(i.stamps=new Map);const d=B(this,vl)?(o.rect[2]-o.rect[0])*(o.rect[3]-o.rect[1]):null;if(!i.stamps.has(B(this,Nr)))i.stamps.set(B(this,Nr),{area:d,serialized:o}),o.bitmap=lt(this,Yn,gE).call(this,!1);else if(B(this,vl)){const h=i.stamps.get(B(this,Nr));d>h.area&&(h.area=d,h.serialized.bitmap.close(),h.serialized.bitmap=lt(this,Yn,gE).call(this,!1))}return o}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}ts=new WeakMap,Nr=new WeakMap,Qh=new WeakMap,uu=new WeakMap,Hh=new WeakMap,ew=new WeakMap,hu=new WeakMap,hg=new WeakMap,Kd=new WeakMap,vl=new WeakMap,nw=new WeakMap,Yn=new WeakSet,Ov=function(e,i=!1){if(!e){this.remove();return}Z(this,ts,e.bitmap),i||(Z(this,Nr,e.id),Z(this,vl,e.isSvg)),e.file&&Z(this,ew,e.file.name),lt(this,Yn,fE).call(this)},Nv=function(){if(Z(this,Qh,null),this._uiManager.enableWaiting(!1),!!B(this,hu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&B(this,ts)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&B(this,ts)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},hE=function(){if(B(this,Nr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(B(this,Nr)).then(o=>lt(this,Yn,Ov).call(this,o,!0)).finally(()=>lt(this,Yn,Nv).call(this));return}if(B(this,uu)){const o=B(this,uu);Z(this,uu,null),this._uiManager.enableWaiting(!0),Z(this,Qh,this._uiManager.imageManager.getFromUrl(o).then(a=>lt(this,Yn,Ov).call(this,a)).finally(()=>lt(this,Yn,Nv).call(this)));return}if(B(this,Hh)){const o=B(this,Hh);Z(this,Hh,null),this._uiManager.enableWaiting(!0),Z(this,Qh,this._uiManager.imageManager.getFromFile(o).then(a=>lt(this,Yn,Ov).call(this,a)).finally(()=>lt(this,Yn,Nv).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=jE.join(",");const i=this._uiManager._signal;Z(this,Qh,new Promise(o=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),lt(this,Yn,Ov).call(this,a)}o()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),o()},{signal:i})}).finally(()=>lt(this,Yn,Nv).call(this))),e.click()},fE=function(){var w;const{div:e}=this;let{width:i,height:o}=B(this,ts);const[a,c]=this.pageDimensions,d=.75;if(this.width)i=this.width*a,o=this.height*c;else if(i>d*a||o>d*c){const v=Math.min(d*a/i,d*c/o);i*=v,o*=v}const[h,p]=this.parentDimensions;this.setDims(i*h/a,o*p/c),this._uiManager.enableWaiting(!1);const g=Z(this,hu,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=i/a,this.height=o/c,(w=this._initialOptions)!=null&&w.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),lt(this,Yn,lD).call(this),B(this,nw)||(this.parent.addUndoableEditor(this),Z(this,nw,!0)),this._reportTelemetry({action:"inserted_image"}),B(this,ew)&&this.div.setAttribute("aria-description",B(this,ew))},pE=function(e,i){const{width:o,height:a}=B(this,ts);let c=o,d=a,h=B(this,ts);for(;c>2*e||d>2*i;){const p=c,g=d;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),d>2*i&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const w=new OffscreenCanvas(c,d);w.getContext("2d").drawImage(h,0,0,p,g,0,0,c,d),h=w.transferToImageBitmap()}return h},lD=function(){const[e,i]=this.parentDimensions,{width:o,height:a}=this,c=new tA,d=Math.ceil(o*e*c.sx),h=Math.ceil(a*i*c.sy),p=B(this,hu);if(!p||p.width===d&&p.height===h)return;p.width=d,p.height=h;const g=B(this,vl)?B(this,ts):lt(this,Yn,pE).call(this,d,h),w=p.getContext("2d");w.filter=this._uiManager.hcmFilter,w.drawImage(g,0,0,g.width,g.height,0,0,d,h)},gE=function(e){if(e){if(B(this,vl)){const a=this._uiManager.imageManager.getSvgUrl(B(this,Nr));if(a)return a}const i=document.createElement("canvas");return{width:i.width,height:i.height}=B(this,ts),i.getContext("2d").drawImage(B(this,ts),0,0),i.toDataURL()}if(B(this,vl)){const[i,o]=this.pageDimensions,a=Math.round(this.width*i*Iu.PDF_TO_CSS_UNITS),c=Math.round(this.height*o*Iu.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(a,c);return d.getContext("2d").drawImage(B(this,ts),0,0,B(this,ts).width,B(this,ts).height,0,0,a,c),d.transferToImageBitmap()}return structuredClone(B(this,ts))},FV=function(e){var d;const{pageIndex:i,accessibilityData:{altText:o}}=this._initialData,a=e.pageIndex===i,c=(((d=e.accessibilityData)==null?void 0:d.alt)||"")===o;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&c,isSameAltText:c}},Ft(aD,"_type","stamp"),Ft(aD,"_editorType",sn.STAMP);var fg,iw,Gd,zh,fu,lc,jh,sw,pg,Gc,pu,Io,gu,De,Vh,es,OV,Sd,cD,dD,mE;const Fc=class Fc{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:o,accessibilityManager:a,annotationLayer:c,drawLayer:d,textLayer:h,viewport:p,l10n:g}){ot(this,es);ot(this,fg);ot(this,iw,!1);ot(this,Gd,null);ot(this,zh,null);ot(this,fu,null);ot(this,lc,new Map);ot(this,jh,!1);ot(this,sw,!1);ot(this,pg,!1);ot(this,Gc,null);ot(this,pu,null);ot(this,Io,null);ot(this,gu,null);ot(this,De);const w=[...B(Fc,Vh).values()];if(!Fc._initialized){Fc._initialized=!0;for(const v of w)v.initialize(g,t)}t.registerEditorTypes(w),Z(this,De,t),this.pageIndex=e,this.div=i,Z(this,fg,a),Z(this,Gd,c),this.viewport=p,Z(this,Io,h),this.drawLayer=d,this._structTree=o,B(this,De).addLayer(this)}get isEmpty(){return B(this,lc).size===0}get isInvisible(){return this.isEmpty&&B(this,De).getMode()===sn.NONE}updateToolbar(t){B(this,De).updateToolbar(t)}updateMode(t=B(this,De).getMode()){switch(lt(this,es,mE).call(this),t){case sn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case sn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case sn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of B(Fc,Vh).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=B(this,Io))==null?void 0:e.div)}setEditingState(t){B(this,De).setEditingState(t)}addCommands(t){B(this,De).addCommands(t)}cleanUndoStack(t){B(this,De).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=B(this,Gd))==null||e.div.classList.toggle("disabled",!t)}async enable(){Z(this,pg,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of B(this,lc).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(B(this,De).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!B(this,Gd)){Z(this,pg,!1);return}const e=B(this,Gd).getEditableAnnotations();for(const i of e){if(i.hide(),B(this,De).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const o=await this.deserialize(i);o&&(this.addOrRebuild(o),o.enableEditing())}Z(this,pg,!1)}disable(){var o;Z(this,sw,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of B(this,lc).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(o=this.getEditableAnnotation(a.annotationElementId))==null||o.show(),a.remove()}if(B(this,Gd)){const a=B(this,Gd).getEditableAnnotations();for(const c of a){const{id:d}=c.data;if(B(this,De).isDeletedAnnotationElement(d))continue;let h=e.get(d);if(h){h.resetAnnotationElement(c),h.show(!1),c.show();continue}h=t.get(d),h&&(B(this,De).addChangedExistingAnnotation(h),h.renderAnnotationElement(c)&&h.show(!1)),c.show()}}lt(this,es,mE).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of B(Fc,Vh).values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Z(this,sw,!1)}getEditableAnnotation(t){var e;return((e=B(this,Gd))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){B(this,De).getActive()!==t&&B(this,De).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=B(this,Io))!=null&&t.div&&!B(this,gu)){Z(this,gu,new AbortController);const e=B(this,De).combinedSignal(B(this,gu));B(this,Io).div.addEventListener("pointerdown",lt(this,es,OV).bind(this),{signal:e}),B(this,Io).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=B(this,Io))!=null&&t.div&&B(this,gu)&&(B(this,gu).abort(),Z(this,gu,null),B(this,Io).div.classList.remove("highlighting"))}enableClick(){if(B(this,zh))return;Z(this,zh,new AbortController);const t=B(this,De).combinedSignal(B(this,zh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=B(this,zh))==null||t.abort(),Z(this,zh,null)}attach(t){B(this,lc).set(t.id,t);const{annotationElementId:e}=t;e&&B(this,De).isDeletedAnnotationElement(e)&&B(this,De).removeDeletedAnnotationElement(t)}detach(t){var e;B(this,lc).delete(t.id),(e=B(this,fg))==null||e.removePointerInTextLayer(t.contentDiv),!B(this,sw)&&t.annotationElementId&&B(this,De).addDeletedAnnotationElement(t)}remove(t){this.detach(t),B(this,De).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(B(this,De).addDeletedAnnotationElement(t.annotationElementId),Oi.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),B(this,De).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!B(this,pg)),B(this,De).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!B(this,fu)&&(t._focusEventsAllowed=!1,Z(this,fu,setTimeout(()=>{Z(this,fu,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:B(this,De)._signal}),e.focus())},0))),t._structTreeParentId=(i=B(this,fg))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return B(this,De).getId()}combinedSignal(t){return B(this,De).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=B(this,es,Sd))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){B(this,De).updateToolbar(t),await B(this,De).updateMode(t);const{offsetX:i,offsetY:o}=lt(this,es,dD).call(this),a=this.getNextId(),c=lt(this,es,cD).call(this,{parent:this,id:a,x:i,y:o,uiManager:B(this,De),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=B(Fc,Vh).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,B(this,De)))||null}createAndAddNewEditor(t,e,i={}){const o=this.getNextId(),a=lt(this,es,cD).call(this,{parent:this,id:o,x:t.offsetX,y:t.offsetY,uiManager:B(this,De),isCentered:e,...i});return a&&this.add(a),a}addNewEditor(t={}){this.createAndAddNewEditor(lt(this,es,dD).call(this),!0,t)}setSelected(t){B(this,De).setSelected(t)}toggleSelected(t){B(this,De).toggleSelected(t)}unselect(t){B(this,De).unselect(t)}pointerup(t){var o;const{isMac:e}=Hr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!B(this,jh)||(Z(this,jh,!1),(o=B(this,es,Sd))!=null&&o.isDrawer&&B(this,es,Sd).supportMultipleDrawings))return;if(!B(this,iw)){Z(this,iw,!0);return}const i=B(this,De).getMode();if(i===sn.STAMP||i===sn.SIGNATURE){B(this,De).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var o;if(B(this,De).getMode()===sn.HIGHLIGHT&&this.enableTextSelection(),B(this,jh)){Z(this,jh,!1);return}const{isMac:e}=Hr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(Z(this,jh,!0),(o=B(this,es,Sd))!=null&&o.isDrawer){this.startDrawingSession(t);return}const i=B(this,De).getActive();Z(this,iw,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),B(this,Gc)){B(this,es,Sd).startDrawing(this,B(this,De),!1,t);return}B(this,De).setCurrentDrawingSession(this),Z(this,Gc,new AbortController);const e=B(this,De).combinedSignal(B(this,Gc));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(Z(this,pu,null),this.commitOrRemove())},{signal:e}),B(this,es,Sd).startDrawing(this,B(this,De),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&Z(this,pu,e);return}B(this,pu)&&setTimeout(()=>{var e;(e=B(this,pu))==null||e.focus(),Z(this,pu,null)},0)}endDrawingSession(t=!1){return B(this,Gc)?(B(this,De).setCurrentDrawingSession(null),B(this,Gc).abort(),Z(this,Gc,null),Z(this,pu,null),B(this,es,Sd).endDrawing(t)):null}findNewParent(t,e,i){const o=B(this,De).findParent(e,i);return o===null||o===this?!1:(o.changeParent(t),!0)}commitOrRemove(){return B(this,Gc)?(this.endDrawingSession(),!0):!1}onScaleChanging(){B(this,Gc)&&B(this,es,Sd).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=B(this,De).getActive())==null?void 0:t.parent)===this&&(B(this,De).commitOrRemove(),B(this,De).setActiveEditor(null)),B(this,fu)&&(clearTimeout(B(this,fu)),Z(this,fu,null));for(const i of B(this,lc).values())(e=B(this,fg))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,B(this,lc).clear(),B(this,De).removeLayer(this)}render({viewport:t}){this.viewport=t,of(this.div,t);for(const e of B(this,De).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){B(this,De).commitOrRemove(),lt(this,es,mE).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,of(this.div,{rotation:i}),e!==i)for(const o of B(this,lc).values())o.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return B(this,De).viewParameters.realScale}};fg=new WeakMap,iw=new WeakMap,Gd=new WeakMap,zh=new WeakMap,fu=new WeakMap,lc=new WeakMap,jh=new WeakMap,sw=new WeakMap,pg=new WeakMap,Gc=new WeakMap,pu=new WeakMap,Io=new WeakMap,gu=new WeakMap,De=new WeakMap,Vh=new WeakMap,es=new WeakSet,OV=function(t){B(this,De).unselectAll();const{target:e}=t;if(e===B(this,Io).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&B(this,Io).div.contains(e)){const{isMac:i}=Hr.platform;if(t.button!==0||t.ctrlKey&&i)return;B(this,De).showAllEditors("highlight",!0,!0),B(this,Io).div.classList.add("free"),this.toggleDrawing(),WE.startHighlighting(this,B(this,De).direction==="ltr",{target:B(this,Io).div,x:t.x,y:t.y}),B(this,Io).div.addEventListener("pointerup",()=>{B(this,Io).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:B(this,De)._signal}),t.preventDefault()}},Sd=function(){return B(Fc,Vh).get(B(this,De).getMode())},cD=function(t){const e=B(this,es,Sd);return e?new e.prototype.constructor(t):null},dD=function(){const{x:t,y:e,width:i,height:o}=this.div.getBoundingClientRect(),a=Math.max(0,t),c=Math.max(0,e),d=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+o),p=(a+d)/2-t,g=(c+h)/2-e,[w,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:w,offsetY:v}},mE=function(){for(const t of B(this,lc).values())t.isEmpty()&&t.remove()},Ft(Fc,"_initialized",!1),ot(Fc,Vh,new Map([HI,tD,aD,WE,oD].map(t=>[t._editorType,t])));let qE=Fc;var Wc,ra,gg,n0,Lx,NV,eA,AD,RV,uD;const hr=class hr{constructor({pageIndex:t}){ot(this,eA);ot(this,Wc,null);ot(this,ra,new Map);ot(this,gg,new Map);this.pageIndex=t}setParent(t){if(!B(this,Wc)){Z(this,Wc,t);return}if(B(this,Wc)!==t){if(B(this,ra).size>0)for(const e of B(this,ra).values())e.remove(),t.append(e);Z(this,Wc,t)}}static get _svgFactory(){return Tn(this,"_svgFactory",new __)}draw(t,e=!1,i=!1){const o=ta(hr,n0)._++,a=lt(this,eA,AD).call(this),c=hr._svgFactory.createElement("defs");a.append(c);const d=hr._svgFactory.createElement("path");c.append(d);const h=`path_p${this.pageIndex}_${o}`;d.setAttribute("id",h),d.setAttribute("vector-effect","non-scaling-stroke"),e&&B(this,gg).set(o,d);const p=i?lt(this,eA,RV).call(this,c,h):null,g=hr._svgFactory.createElement("use");return a.append(g),g.setAttribute("href",`#${h}`),this.updateProperties(a,t),B(this,ra).set(o,a),{id:o,clipPathId:`url(#${p})`}}drawOutline(t,e){const i=ta(hr,n0)._++,o=lt(this,eA,AD).call(this),a=hr._svgFactory.createElement("defs");o.append(a);const c=hr._svgFactory.createElement("path");a.append(c);const d=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const w=hr._svgFactory.createElement("mask");a.append(w),h=`mask_p${this.pageIndex}_${i}`,w.setAttribute("id",h),w.setAttribute("maskUnits","objectBoundingBox");const v=hr._svgFactory.createElement("rect");w.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const k=hr._svgFactory.createElement("use");w.append(k),k.setAttribute("href",`#${d}`),k.setAttribute("stroke","none"),k.setAttribute("fill","black"),k.setAttribute("fill-rule","nonzero"),k.classList.add("mask")}const p=hr._svgFactory.createElement("use");o.append(p),p.setAttribute("href",`#${d}`),h&&p.setAttribute("mask",`url(#${h})`);const g=p.cloneNode();return o.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(o,t),B(this,ra).set(i,o),i}finalizeDraw(t,e){B(this,gg).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var h;if(!e)return;const{root:i,bbox:o,rootClass:a,path:c}=e,d=typeof t=="number"?B(this,ra).get(t):t;if(d){if(i&&lt(this,eA,uD).call(this,d,i),o&&lt(h=hr,Lx,NV).call(h,d,o),a){const{classList:p}=d;for(const[g,w]of Object.entries(a))p.toggle(g,w)}if(c){const g=d.firstChild.firstChild;lt(this,eA,uD).call(this,g,c)}}}updateParent(t,e){if(e===this)return;const i=B(this,ra).get(t);i&&(B(e,Wc).append(i),B(this,ra).delete(t),B(e,ra).set(t,i))}remove(t){B(this,gg).delete(t),B(this,Wc)!==null&&(B(this,ra).get(t).remove(),B(this,ra).delete(t))}destroy(){Z(this,Wc,null);for(const t of B(this,ra).values())t.remove();B(this,ra).clear(),B(this,gg).clear()}};Wc=new WeakMap,ra=new WeakMap,gg=new WeakMap,n0=new WeakMap,Lx=new WeakSet,NV=function(t,[e,i,o,a]){const{style:c}=t;c.top=`${100*i}%`,c.left=`${100*e}%`,c.width=`${100*o}%`,c.height=`${100*a}%`},eA=new WeakSet,AD=function(){const t=hr._svgFactory.create(1,1,!0);return B(this,Wc).append(t),t.setAttribute("aria-hidden",!0),t},RV=function(t,e){const i=hr._svgFactory.createElement("clipPath");t.append(i);const o=`clip_${e}`;i.setAttribute("id",o),i.setAttribute("clipPathUnits","objectBoundingBox");const a=hr._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),o},uD=function(t,e){for(const[i,o]of Object.entries(e))o===null?t.removeAttribute(i):t.setAttribute(i,o)},ot(hr,Lx),ot(hr,n0,0);let YE=hr;globalThis.pdfjsTestingUtils={HighlightOutliner:jI};globalThis.pdfjsLib={AbortException:Tu,AnnotationEditorLayer:qE,AnnotationEditorParamsType:On,AnnotationEditorType:sn,AnnotationEditorUIManager:af,AnnotationLayer:KE,AnnotationMode:bu,AnnotationType:Ts,build:Rj,ColorPicker:k_,createValidAbsoluteUrl:CM,DOMSVGFactory:__,DrawLayer:YE,FeatureTest:Hr,fetchData:Cw,getDocument:Pj,getFilenameFromUrl:L3,getPdfFilenameFromUrl:P3,getUuid:xM,getXfaPageViewport:F3,GlobalWorkerOptions:$c,ImageKind:i_,InvalidPDFException:zE,isDataScheme:f0,isPdfFile:eB,isValidExplicitDest:Fj,MathClamp:Lo,noContextMenu:bc,normalizeUnicode:D3,OPS:m_,OutputScale:tA,PasswordResponses:T3,PDFDataRangeTransport:LM,PDFDateString:nB,PDFWorker:_g,PermissionFlag:S3,PixelsPerInch:Iu,RenderingCancelledException:tB,ResponseException:b_,setLayerDimensions:of,shadow:Tn,SignatureExtractor:Wd,stopEvent:Ls,SupportedImageMimeTypes:jE,TextLayer:hw,TouchManager:w_,updateUrlHash:EM,Util:Ie,VerbosityLevel:A0,version:Nj,XfaLayer:PM};const alt=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Tu,AnnotationEditorLayer:qE,AnnotationEditorParamsType:On,AnnotationEditorType:sn,AnnotationEditorUIManager:af,AnnotationLayer:KE,AnnotationMode:bu,AnnotationType:Ts,ColorPicker:k_,DOMSVGFactory:__,DrawLayer:YE,FeatureTest:Hr,GlobalWorkerOptions:$c,ImageKind:i_,InvalidPDFException:zE,MathClamp:Lo,OPS:m_,OutputScale:tA,PDFDataRangeTransport:LM,PDFDateString:nB,PDFWorker:_g,PasswordResponses:T3,PermissionFlag:S3,PixelsPerInch:Iu,RenderingCancelledException:tB,ResponseException:b_,SignatureExtractor:Wd,SupportedImageMimeTypes:jE,TextLayer:hw,TouchManager:w_,Util:Ie,VerbosityLevel:A0,XfaLayer:PM,build:Rj,createValidAbsoluteUrl:CM,fetchData:Cw,getDocument:Pj,getFilenameFromUrl:L3,getPdfFilenameFromUrl:P3,getUuid:xM,getXfaPageViewport:F3,isDataScheme:f0,isPdfFile:eB,isValidExplicitDest:Fj,noContextMenu:bc,normalizeUnicode:D3,setLayerDimensions:of,shadow:Tn,stopEvent:Ls,updateUrlHash:EM,version:Nj},Symbol.toStringTag,{value:"Module"}));var tT={exports:{}},rQ;function llt(){return rQ||(rQ=1,function(r){(function(t){t(["jquery"],function(e){return function(){var i,o,a=0,c={error:"error",info:"info",success:"success",warning:"warning"},d={clear:x,remove:I,error:p,getContainer:g,info:w,options:{},subscribe:v,success:k,version:"2.1.4",warning:y},h;return d;function p(J,rt,dt){return X({type:c.error,iconClass:P().iconClasses.error,message:J,optionsOverride:dt,title:rt})}function g(J,rt){return J||(J=P()),i=e("#"+J.containerId),i.length||rt&&(i=Q(J)),i}function w(J,rt,dt){return X({type:c.info,iconClass:P().iconClasses.info,message:J,optionsOverride:dt,title:rt})}function v(J){o=J}function k(J,rt,dt){return X({type:c.success,iconClass:P().iconClasses.success,message:J,optionsOverride:dt,title:rt})}function y(J,rt,dt){return X({type:c.warning,iconClass:P().iconClasses.warning,message:J,optionsOverride:dt,title:rt})}function x(J,rt){var dt=P();i||g(dt),R(J,dt,rt)||F(dt)}function I(J){var rt=P();if(i||g(rt),J&&e(":focus",J).length===0){K(J);return}i.children().length&&i.remove()}function F(J){for(var rt=i.children(),dt=rt.length-1;dt>=0;dt--)R(e(rt[dt]),J)}function R(J,rt,dt){var ht=dt&&dt.force?dt.force:!1;return J&&(ht||e(":focus",J).length===0)?(J[rt.hideMethod]({duration:rt.hideDuration,easing:rt.hideEasing,complete:function(){K(J)}}),!0):!1}function Q(J){return i=e("<div/>").attr("id",J.containerId).addClass(J.positionClass),i.appendTo(e(J.target)),i}function V(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function W(J){o&&o(J)}function X(J){var rt=P(),dt=J.iconClass||rt.iconClass;if(typeof J.optionsOverride<"u"&&(rt=e.extend(rt,J.optionsOverride),dt=J.optionsOverride.iconClass||dt),Ye(rt,J))return;a++,i=g(rt,!0);var ht=null,ut=e("<div/>"),mt=e("<div/>"),St=e("<div/>"),vt=e("<div/>"),pt=e(rt.closeHtml),_t={intervalId:null,hideEta:null,maxHideTime:null},Dt={toastId:a,state:"visible",startTime:new Date,options:rt,map:J};return se(),le(),ie(),W(Dt),rt.debug&&console&&console.log(Dt),ut;function yt(Le){return Le==null&&(Le=""),Le.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function se(){Lt(),Pt(),jt(),Ne(),Ge(),hn(),Tt(),oe()}function oe(){var Le="";switch(J.iconClass){case"toast-success":case"toast-info":Le="polite";break;default:Le="assertive"}ut.attr("aria-live",Le)}function ie(){rt.closeOnHover&&ut.hover(rn,ae),!rt.onclick&&rt.tapToDismiss&&ut.click(Se),rt.closeButton&&pt&&pt.click(function(Le){Le.stopPropagation?Le.stopPropagation():Le.cancelBubble!==void 0&&Le.cancelBubble!==!0&&(Le.cancelBubble=!0),rt.onCloseClick&&rt.onCloseClick(Le),Se(!0)}),rt.onclick&&ut.click(function(Le){rt.onclick(Le),Se()})}function le(){ut.hide(),ut[rt.showMethod]({duration:rt.showDuration,easing:rt.showEasing,complete:rt.onShown}),rt.timeOut>0&&(ht=setTimeout(Se,rt.timeOut),_t.maxHideTime=parseFloat(rt.timeOut),_t.hideEta=new Date().getTime()+_t.maxHideTime,rt.progressBar&&(_t.intervalId=setInterval(Rn,10)))}function Lt(){J.iconClass&&ut.addClass(rt.toastClass).addClass(dt)}function Tt(){rt.newestOnTop?i.prepend(ut):i.append(ut)}function Pt(){if(J.title){var Le=J.title;rt.escapeHtml&&(Le=yt(J.title)),mt.append(Le).addClass(rt.titleClass),ut.append(mt)}}function jt(){if(J.message){var Le=J.message;rt.escapeHtml&&(Le=yt(J.message)),St.append(Le).addClass(rt.messageClass),ut.append(St)}}function Ne(){rt.closeButton&&(pt.addClass(rt.closeClass).attr("role","button"),ut.prepend(pt))}function Ge(){rt.progressBar&&(vt.addClass(rt.progressClass),ut.prepend(vt))}function hn(){rt.rtl&&ut.addClass("rtl")}function Ye(Le,Hn){if(Le.preventDuplicates){if(Hn.message===h)return!0;h=Hn.message}return!1}function Se(Le){var Hn=Le&&rt.closeMethod!==!1?rt.closeMethod:rt.hideMethod,$s=Le&&rt.closeDuration!==!1?rt.closeDuration:rt.hideDuration,rs=Le&&rt.closeEasing!==!1?rt.closeEasing:rt.hideEasing;if(!(e(":focus",ut).length&&!Le))return clearTimeout(_t.intervalId),ut[Hn]({duration:$s,easing:rs,complete:function(){K(ut),clearTimeout(ht),rt.onHidden&&Dt.state!=="hidden"&&rt.onHidden(),Dt.state="hidden",Dt.endTime=new Date,W(Dt)}})}function ae(){(rt.timeOut>0||rt.extendedTimeOut>0)&&(ht=setTimeout(Se,rt.extendedTimeOut),_t.maxHideTime=parseFloat(rt.extendedTimeOut),_t.hideEta=new Date().getTime()+_t.maxHideTime)}function rn(){clearTimeout(ht),_t.hideEta=0,ut.stop(!0,!0)[rt.showMethod]({duration:rt.showDuration,easing:rt.showEasing})}function Rn(){var Le=(_t.hideEta-new Date().getTime())/_t.maxHideTime*100;vt.width(Le+"%")}}function P(){return e.extend({},V(),d.options)}function K(J){i||(i=g()),!J.is(":visible")&&(J.remove(),J=null,i.children().length===0&&(i.remove(),h=void 0))}}()})})(function(t,e){r.exports?r.exports=e(D5()):window.toastr=e(window.jQuery)})}(tT)),tT.exports}var clt=llt();const dlt=Px(clt);var Rv={exports:{}};Rv.exports;var oQ;function Alt(){return oQ||(oQ=1,function(r,t){(function(e){const i=e.en=e.en||{};i.dictionary=Object.assign(i.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerâroman":"Lowerâroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerâlatin list style":"Toggle the lowerâlatin list style","Toggle the lowerâroman list style":"Toggle the lowerâroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperâlatin list style":"Toggle the upperâlatin list style","Toggle the upperâroman list style":"Toggle the upperâroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(e,i){r.exports=i()}(self,()=>(()=>{var e={4959:(c,d,h)=>{const p=h(1103),g={};for(const v of Object.keys(p))g[p[v]]=v;const w={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};c.exports=w;for(const v of Object.keys(w)){if(!("channels"in w[v]))throw new Error("missing channels property: "+v);if(!("labels"in w[v]))throw new Error("missing channel labels property: "+v);if(w[v].labels.length!==w[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:k,labels:y}=w[v];delete w[v].channels,delete w[v].labels,Object.defineProperty(w[v],"channels",{value:k}),Object.defineProperty(w[v],"labels",{value:y})}w.rgb.hsl=function(v){const k=v[0]/255,y=v[1]/255,x=v[2]/255,I=Math.min(k,y,x),F=Math.max(k,y,x),R=F-I;let Q,V;F===I?Q=0:k===F?Q=(y-x)/R:y===F?Q=2+(x-k)/R:x===F&&(Q=4+(k-y)/R),Q=Math.min(60*Q,360),Q<0&&(Q+=360);const W=(I+F)/2;return V=F===I?0:W<=.5?R/(F+I):R/(2-F-I),[Q,100*V,100*W]},w.rgb.hsv=function(v){let k,y,x,I,F;const R=v[0]/255,Q=v[1]/255,V=v[2]/255,W=Math.max(R,Q,V),X=W-Math.min(R,Q,V),P=function(K){return(W-K)/6/X+.5};return X===0?(I=0,F=0):(F=X/W,k=P(R),y=P(Q),x=P(V),R===W?I=x-y:Q===W?I=.3333333333333333+k-x:V===W&&(I=.6666666666666666+y-k),I<0?I+=1:I>1&&(I-=1)),[360*I,100*F,100*W]},w.rgb.hwb=function(v){const k=v[0],y=v[1];let x=v[2];const I=w.rgb.hsl(v)[0],F=1/255*Math.min(k,Math.min(y,x));return x=1-.00392156862745098*Math.max(k,Math.max(y,x)),[I,100*F,100*x]},w.rgb.cmyk=function(v){const k=v[0]/255,y=v[1]/255,x=v[2]/255,I=Math.min(1-k,1-y,1-x);return[100*((1-k-I)/(1-I)||0),100*((1-y-I)/(1-I)||0),100*((1-x-I)/(1-I)||0),100*I]},w.rgb.keyword=function(v){const k=g[v];if(k)return k;let y,x=1/0;for(const R of Object.keys(p)){const Q=p[R],V=(F=Q,((I=v)[0]-F[0])**2+(I[1]-F[1])**2+(I[2]-F[2])**2);V<x&&(x=V,y=R)}var I,F;return y},w.keyword.rgb=function(v){return p[v]},w.rgb.xyz=function(v){let k=v[0]/255,y=v[1]/255,x=v[2]/255;return k=k>.04045?((k+.055)/1.055)**2.4:k/12.92,y=y>.04045?((y+.055)/1.055)**2.4:y/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,[100*(.4124*k+.3576*y+.1805*x),100*(.2126*k+.7152*y+.0722*x),100*(.0193*k+.1192*y+.9505*x)]},w.rgb.lab=function(v){const k=w.rgb.xyz(v);let y=k[0],x=k[1],I=k[2];return y/=95.047,x/=100,I/=108.883,y=y>.008856?y**.3333333333333333:7.787*y+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,I=I>.008856?I**.3333333333333333:7.787*I+.13793103448275862,[116*x-16,500*(y-x),200*(x-I)]},w.hsl.rgb=function(v){const k=v[0]/360,y=v[1]/100,x=v[2]/100;let I,F,R;if(y===0)return R=255*x,[R,R,R];I=x<.5?x*(1+y):x+y-x*y;const Q=2*x-I,V=[0,0,0];for(let W=0;W<3;W++)F=k+.3333333333333333*-(W-1),F<0&&F++,F>1&&F--,R=6*F<1?Q+6*(I-Q)*F:2*F<1?I:3*F<2?Q+(I-Q)*(.6666666666666666-F)*6:Q,V[W]=255*R;return V},w.hsl.hsv=function(v){const k=v[0];let y=v[1]/100,x=v[2]/100,I=y;const F=Math.max(x,.01);return x*=2,y*=x<=1?x:2-x,I*=F<=1?F:2-F,[k,100*(x===0?2*I/(F+I):2*y/(x+y)),100*((x+y)/2)]},w.hsv.rgb=function(v){const k=v[0]/60,y=v[1]/100;let x=v[2]/100;const I=Math.floor(k)%6,F=k-Math.floor(k),R=255*x*(1-y),Q=255*x*(1-y*F),V=255*x*(1-y*(1-F));switch(x*=255,I){case 0:return[x,V,R];case 1:return[Q,x,R];case 2:return[R,x,V];case 3:return[R,Q,x];case 4:return[V,R,x];case 5:return[x,R,Q]}},w.hsv.hsl=function(v){const k=v[0],y=v[1]/100,x=v[2]/100,I=Math.max(x,.01);let F,R;R=(2-y)*x;const Q=(2-y)*I;return F=y*I,F/=Q<=1?Q:2-Q,F=F||0,R/=2,[k,100*F,100*R]},w.hwb.rgb=function(v){const k=v[0]/360;let y=v[1]/100,x=v[2]/100;const I=y+x;let F;I>1&&(y/=I,x/=I);const R=Math.floor(6*k),Q=1-x;F=6*k-R,(1&R)!=0&&(F=1-F);const V=y+F*(Q-y);let W,X,P;switch(R){default:case 6:case 0:W=Q,X=V,P=y;break;case 1:W=V,X=Q,P=y;break;case 2:W=y,X=Q,P=V;break;case 3:W=y,X=V,P=Q;break;case 4:W=V,X=y,P=Q;break;case 5:W=Q,X=y,P=V}return[255*W,255*X,255*P]},w.cmyk.rgb=function(v){const k=v[0]/100,y=v[1]/100,x=v[2]/100,I=v[3]/100;return[255*(1-Math.min(1,k*(1-I)+I)),255*(1-Math.min(1,y*(1-I)+I)),255*(1-Math.min(1,x*(1-I)+I))]},w.xyz.rgb=function(v){const k=v[0]/100,y=v[1]/100,x=v[2]/100;let I,F,R;return I=3.2406*k+-1.5372*y+-.4986*x,F=-.9689*k+1.8758*y+.0415*x,R=.0557*k+-.204*y+1.057*x,I=I>.0031308?1.055*I**.4166666666666667-.055:12.92*I,F=F>.0031308?1.055*F**.4166666666666667-.055:12.92*F,R=R>.0031308?1.055*R**.4166666666666667-.055:12.92*R,I=Math.min(Math.max(0,I),1),F=Math.min(Math.max(0,F),1),R=Math.min(Math.max(0,R),1),[255*I,255*F,255*R]},w.xyz.lab=function(v){let k=v[0],y=v[1],x=v[2];return k/=95.047,y/=100,x/=108.883,k=k>.008856?k**.3333333333333333:7.787*k+.13793103448275862,y=y>.008856?y**.3333333333333333:7.787*y+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,[116*y-16,500*(k-y),200*(y-x)]},w.lab.xyz=function(v){let k,y,x;y=(v[0]+16)/116,k=v[1]/500+y,x=y-v[2]/200;const I=y**3,F=k**3,R=x**3;return y=I>.008856?I:(y-.13793103448275862)/7.787,k=F>.008856?F:(k-.13793103448275862)/7.787,x=R>.008856?R:(x-.13793103448275862)/7.787,k*=95.047,y*=100,x*=108.883,[k,y,x]},w.lab.lch=function(v){const k=v[0],y=v[1],x=v[2];let I;return I=360*Math.atan2(x,y)/2/Math.PI,I<0&&(I+=360),[k,Math.sqrt(y*y+x*x),I]},w.lch.lab=function(v){const k=v[0],y=v[1],x=v[2]/360*2*Math.PI;return[k,y*Math.cos(x),y*Math.sin(x)]},w.rgb.ansi16=function(v,k=null){const[y,x,I]=v;let F=k===null?w.rgb.hsv(v)[2]:k;if(F=Math.round(F/50),F===0)return 30;let R=30+(Math.round(I/255)<<2|Math.round(x/255)<<1|Math.round(y/255));return F===2&&(R+=60),R},w.hsv.ansi16=function(v){return w.rgb.ansi16(w.hsv.rgb(v),v[2])},w.rgb.ansi256=function(v){const k=v[0],y=v[1],x=v[2];return k===y&&y===x?k<8?16:k>248?231:Math.round((k-8)/247*24)+232:16+36*Math.round(k/255*5)+6*Math.round(y/255*5)+Math.round(x/255*5)},w.ansi16.rgb=function(v){let k=v%10;if(k===0||k===7)return v>50&&(k+=3.5),k=k/10.5*255,[k,k,k];const y=.5*(1+~~(v>50));return[(1&k)*y*255,(k>>1&1)*y*255,(k>>2&1)*y*255]},w.ansi256.rgb=function(v){if(v>=232){const y=10*(v-232)+8;return[y,y,y]}let k;return v-=16,[Math.floor(v/36)/5*255,Math.floor((k=v%36)/6)/5*255,k%6/5*255]},w.rgb.hex=function(v){const k=(((255&Math.round(v[0]))<<16)+((255&Math.round(v[1]))<<8)+(255&Math.round(v[2]))).toString(16).toUpperCase();return"000000".substring(k.length)+k},w.hex.rgb=function(v){const k=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!k)return[0,0,0];let y=k[0];k[0].length===3&&(y=y.split("").map(I=>I+I).join(""));const x=parseInt(y,16);return[x>>16&255,x>>8&255,255&x]},w.rgb.hcg=function(v){const k=v[0]/255,y=v[1]/255,x=v[2]/255,I=Math.max(Math.max(k,y),x),F=Math.min(Math.min(k,y),x),R=I-F;let Q,V;return Q=R<1?F/(1-R):0,V=R<=0?0:I===k?(y-x)/R%6:I===y?2+(x-k)/R:4+(k-y)/R,V/=6,V%=1,[360*V,100*R,100*Q]},w.hsl.hcg=function(v){const k=v[1]/100,y=v[2]/100,x=y<.5?2*k*y:2*k*(1-y);let I=0;return x<1&&(I=(y-.5*x)/(1-x)),[v[0],100*x,100*I]},w.hsv.hcg=function(v){const k=v[1]/100,y=v[2]/100,x=k*y;let I=0;return x<1&&(I=(y-x)/(1-x)),[v[0],100*x,100*I]},w.hcg.rgb=function(v){const k=v[0]/360,y=v[1]/100,x=v[2]/100;if(y===0)return[255*x,255*x,255*x];const I=[0,0,0],F=k%1*6,R=F%1,Q=1-R;let V=0;switch(Math.floor(F)){case 0:I[0]=1,I[1]=R,I[2]=0;break;case 1:I[0]=Q,I[1]=1,I[2]=0;break;case 2:I[0]=0,I[1]=1,I[2]=R;break;case 3:I[0]=0,I[1]=Q,I[2]=1;break;case 4:I[0]=R,I[1]=0,I[2]=1;break;default:I[0]=1,I[1]=0,I[2]=Q}return V=(1-y)*x,[255*(y*I[0]+V),255*(y*I[1]+V),255*(y*I[2]+V)]},w.hcg.hsv=function(v){const k=v[1]/100,y=k+v[2]/100*(1-k);let x=0;return y>0&&(x=k/y),[v[0],100*x,100*y]},w.hcg.hsl=function(v){const k=v[1]/100,y=v[2]/100*(1-k)+.5*k;let x=0;return y>0&&y<.5?x=k/(2*y):y>=.5&&y<1&&(x=k/(2*(1-y))),[v[0],100*x,100*y]},w.hcg.hwb=function(v){const k=v[1]/100,y=k+v[2]/100*(1-k);return[v[0],100*(y-k),100*(1-y)]},w.hwb.hcg=function(v){const k=v[1]/100,y=1-v[2]/100,x=y-k;let I=0;return x<1&&(I=(y-x)/(1-x)),[v[0],100*x,100*I]},w.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},w.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},w.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},w.gray.hsl=function(v){return[0,0,v[0]]},w.gray.hsv=w.gray.hsl,w.gray.hwb=function(v){return[0,100,v[0]]},w.gray.cmyk=function(v){return[0,0,0,v[0]]},w.gray.lab=function(v){return[v[0],0,0]},w.gray.hex=function(v){const k=255&Math.round(v[0]/100*255),y=((k<<16)+(k<<8)+k).toString(16).toUpperCase();return"000000".substring(y.length)+y},w.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},841:(c,d,h)=>{const p=h(4959),g=h(9325),w={};Object.keys(p).forEach(v=>{w[v]={},Object.defineProperty(w[v],"channels",{value:p[v].channels}),Object.defineProperty(w[v],"labels",{value:p[v].labels});const k=g(v);Object.keys(k).forEach(y=>{const x=k[y];w[v][y]=function(I){const F=function(...R){const Q=R[0];if(Q==null)return Q;Q.length>1&&(R=Q);const V=I(R);if(typeof V=="object")for(let W=V.length,X=0;X<W;X++)V[X]=Math.round(V[X]);return V};return"conversion"in I&&(F.conversion=I.conversion),F}(x),w[v][y].raw=function(I){const F=function(...R){const Q=R[0];return Q==null?Q:(Q.length>1&&(R=Q),I(R))};return"conversion"in I&&(F.conversion=I.conversion),F}(x)})}),c.exports=w},9325:(c,d,h)=>{const p=h(4959);function g(k){const y=function(){const I={},F=Object.keys(p);for(let R=F.length,Q=0;Q<R;Q++)I[F[Q]]={distance:-1,parent:null};return I}(),x=[k];for(y[k].distance=0;x.length;){const I=x.pop(),F=Object.keys(p[I]);for(let R=F.length,Q=0;Q<R;Q++){const V=F[Q],W=y[V];W.distance===-1&&(W.distance=y[I].distance+1,W.parent=I,x.unshift(V))}}return y}function w(k,y){return function(x){return y(k(x))}}function v(k,y){const x=[y[k].parent,k];let I=p[y[k].parent][k],F=y[k].parent;for(;y[F].parent;)x.unshift(y[F].parent),I=w(p[y[F].parent][F],I),F=y[F].parent;return I.conversion=x,I}c.exports=function(k){const y=g(k),x={},I=Object.keys(y);for(let F=I.length,R=0;R<F;R++){const Q=I[R];y[Q].parent!==null&&(x[Q]=v(Q,y))}return x}},1103:c=>{c.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const k=v},3062:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const k=v},903:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const k=v},3143:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},4717:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const k=v},9315:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const k=v},8733:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const k=v},3508:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const k=v},2640:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const k=v},3535:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const k=v},1568:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const k=v},6270:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const k=v},5083:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},4036:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const k=v},3773:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const k=v},3689:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const k=v},1905:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},9773:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const k=v},2347:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},7754:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},111:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const k=v},4721:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const k=v},5730:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const k=v},4564:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},6082:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const k=v},2417:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const k=v},1199:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const k=v},4652:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const k=v},7442:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readâonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},9292:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},7368:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},4070:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},9247:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const k=v},1613:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const k=v},6306:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const k=v},2128:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const k=v},5087:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},4101:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const k=v},3881:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const k=v},6237:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},7341:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},6945:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},4906:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=v},5332:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingâpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=v},6781:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const k=v},3398:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const k=v},4157:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const k=v},5485:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},3949:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},7686:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},7339:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const k=v},9688:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},8847:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const k=v},6574:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},4879:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},3662:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const k=v},2577:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},1046:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},8793:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},4650:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const k=v},7676:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},5868:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},6764:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=v},9695:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const k=v},5542:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=v},3332:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const k=v},4793:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const k=v},3488:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=v},8506:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const k=v},4921:(c,d,h)=>{h.d(d,{Z:()=>k});var p=h(1799),g=h.n(p),w=h(2609),v=h.n(w)()(g());v.push([c.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const k=v},2609:c=>{c.exports=function(d){var h=[];return h.toString=function(){return this.map(function(p){var g=d(p);return p[2]?"@media ".concat(p[2]," {").concat(g,"}"):g}).join("")},h.i=function(p,g,w){typeof p=="string"&&(p=[[null,p,""]]);var v={};if(w)for(var k=0;k<this.length;k++){var y=this[k][0];y!=null&&(v[y]=!0)}for(var x=0;x<p.length;x++){var I=[].concat(p[x]);w&&v[I[0]]||(g&&(I[2]?I[2]="".concat(g," and ").concat(I[2]):I[2]=g),h.push(I))}},h}},1799:c=>{function d(p,g){return function(w){if(Array.isArray(w))return w}(p)||function(w,v){var k=w&&(typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"]);if(k!=null){var y,x,I=[],F=!0,R=!1;try{for(k=k.call(w);!(F=(y=k.next()).done)&&(I.push(y.value),!v||I.length!==v);F=!0);}catch(Q){R=!0,x=Q}finally{try{F||k.return==null||k.return()}finally{if(R)throw x}}return I}}(p,g)||function(w,v){if(w){if(typeof w=="string")return h(w,v);var k=Object.prototype.toString.call(w).slice(8,-1);if(k==="Object"&&w.constructor&&(k=w.constructor.name),k==="Map"||k==="Set")return Array.from(w);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return h(w,v)}}(p,g)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(p,g){(g==null||g>p.length)&&(g=p.length);for(var w=0,v=new Array(g);w<g;w++)v[w]=p[w];return v}c.exports=function(p){var g=d(p,4),w=g[1],v=g[3];if(!v)return w;if(typeof btoa=="function"){var k=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),y="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(k),x="/*# ".concat(y," */"),I=v.sources.map(function(F){return"/*# sourceURL=".concat(v.sourceRoot||"").concat(F," */")});return[w].concat(I).concat([x]).join(`
`)}return[w].join(`
`)}},6062:(c,d,h)=>{var p,g=function(){return p===void 0&&(p=!!(window&&document&&document.all&&!window.atob)),p},w=function(){var P={};return function(K){if(P[K]===void 0){var J=document.querySelector(K);if(window.HTMLIFrameElement&&J instanceof window.HTMLIFrameElement)try{J=J.contentDocument.head}catch{J=null}P[K]=J}return P[K]}}(),v=[];function k(P){for(var K=-1,J=0;J<v.length;J++)if(v[J].identifier===P){K=J;break}return K}function y(P,K){for(var J={},rt=[],dt=0;dt<P.length;dt++){var ht=P[dt],ut=K.base?ht[0]+K.base:ht[0],mt=J[ut]||0,St="".concat(ut," ").concat(mt);J[ut]=mt+1;var vt=k(St),pt={css:ht[1],media:ht[2],sourceMap:ht[3]};vt!==-1?(v[vt].references++,v[vt].updater(pt)):v.push({identifier:St,updater:X(pt,K),references:1}),rt.push(St)}return rt}function x(P){var K=document.createElement("style"),J=P.attributes||{};if(J.nonce===void 0){var rt=h.nc;rt&&(J.nonce=rt)}if(Object.keys(J).forEach(function(ht){K.setAttribute(ht,J[ht])}),typeof P.insert=="function")P.insert(K);else{var dt=w(P.insert||"head");if(!dt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");dt.appendChild(K)}return K}var I,F=(I=[],function(P,K){return I[P]=K,I.filter(Boolean).join(`
`)});function R(P,K,J,rt){var dt=J?"":rt.media?"@media ".concat(rt.media," {").concat(rt.css,"}"):rt.css;if(P.styleSheet)P.styleSheet.cssText=F(K,dt);else{var ht=document.createTextNode(dt),ut=P.childNodes;ut[K]&&P.removeChild(ut[K]),ut.length?P.insertBefore(ht,ut[K]):P.appendChild(ht)}}function Q(P,K,J){var rt=J.css,dt=J.media,ht=J.sourceMap;if(dt?P.setAttribute("media",dt):P.removeAttribute("media"),ht&&typeof btoa<"u"&&(rt+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ht))))," */")),P.styleSheet)P.styleSheet.cssText=rt;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(rt))}}var V=null,W=0;function X(P,K){var J,rt,dt;if(K.singleton){var ht=W++;J=V||(V=x(K)),rt=R.bind(null,J,ht,!1),dt=R.bind(null,J,ht,!0)}else J=x(K),rt=Q.bind(null,J,K),dt=function(){(function(ut){if(ut.parentNode===null)return!1;ut.parentNode.removeChild(ut)})(J)};return rt(P),function(ut){if(ut){if(ut.css===P.css&&ut.media===P.media&&ut.sourceMap===P.sourceMap)return;rt(P=ut)}else dt()}}c.exports=function(P,K){(K=K||{}).singleton||typeof K.singleton=="boolean"||(K.singleton=g());var J=y(P=P||[],K);return function(rt){if(rt=rt||[],Object.prototype.toString.call(rt)==="[object Array]"){for(var dt=0;dt<J.length;dt++){var ht=k(J[dt]);v[ht].references--}for(var ut=y(rt,K),mt=0;mt<J.length;mt++){var St=k(J[mt]);v[St].references===0&&(v[St].updater(),v.splice(St,1))}J=ut}}}}},i={};function o(c){var d=i[c];if(d!==void 0)return d.exports;var h=i[c]={id:c,exports:{}};return e[c](h,h.exports,o),h.exports}o.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return o.d(d,{a:d}),d},o.d=(c,d)=>{for(var h in d)o.o(d,h)&&!o.o(c,h)&&Object.defineProperty(c,h,{enumerable:!0,get:d[h]})},o.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),o.nc=void 0;var a={};return(()=>{function c({emitter:A,activator:n,callback:s,contextElements:l}){A.listenTo(document,"mousedown",(u,f)=>{if(!n())return;const b=typeof f.composedPath=="function"?f.composedPath():[],_=typeof l=="function"?l():l;for(const E of _)if(E.contains(f.target)||b.includes(E))return;s()})}function d(A){return class extends A{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function h({view:A}){A.listenTo(A.element,"submit",(n,s)=>{s.preventDefault(),A.fire("submit")},{useCapture:!0})}o.d(a,{default:()=>iS});const p=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var g;const w={isMac:v(p),isWindows:(g=p,g.indexOf("windows")>-1),isGecko:function(A){return!!A.match(/gecko\/\d+/)}(p),isSafari:function(A){return A.indexOf(" applewebkit/")>-1&&A.indexOf("chrome")===-1}(p),isiOS:function(A){return!!A.match(/iphone|ipad/i)||v(A)&&navigator.maxTouchPoints>0}(p),isAndroid:function(A){return A.indexOf("android")>-1}(p),isBlink:function(A){return A.indexOf("chrome/")>-1&&A.indexOf("edge/")<0}(p),features:{isRegExpUnicodePropertySupported:function(){let A=!1;try{A="Ä".search(new RegExp("[\\p{L}]","u"))===0}catch{}return A}()}};function v(A){return A.indexOf("macintosh")>-1}function k(A,n,s,l){s=s||function(E,T){return E===T};const u=Array.isArray(A)?A:Array.prototype.slice.call(A),f=Array.isArray(n)?n:Array.prototype.slice.call(n),b=function(E,T,D){const U=y(E,T,D);if(U===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const H=x(E,U),$=x(T,U),tt=y(H,$,D),it=E.length-tt,At=T.length-tt;return{firstIndex:U,lastIndexOld:it,lastIndexNew:At}}(u,f,s);return l?function(E,T){const{firstIndex:D,lastIndexOld:U,lastIndexNew:H}=E;if(D===-1)return Array(T).fill("equal");let $=[];return D>0&&($=$.concat(Array(D).fill("equal"))),H-D>0&&($=$.concat(Array(H-D).fill("insert"))),U-D>0&&($=$.concat(Array(U-D).fill("delete"))),H<T&&($=$.concat(Array(T-H).fill("equal"))),$}(b,f.length):function(E,T){const D=[],{firstIndex:U,lastIndexOld:H,lastIndexNew:$}=T;return $-U>0&&D.push({index:U,type:"insert",values:E.slice(U,$)}),H-U>0&&D.push({index:U+($-U),type:"delete",howMany:H-U}),D}(f,b)}function y(A,n,s){for(let l=0;l<Math.max(A.length,n.length);l++)if(A[l]===void 0||n[l]===void 0||!s(A[l],n[l]))return l;return-1}function x(A,n){return A.slice(n).reverse()}function I(A,n,s){s=s||function(it,At){return it===At};const l=A.length,u=n.length;if(l>200||u>200||l+u>300)return I.fastDiff(A,n,s,!0);let f,b;if(u<l){const it=A;A=n,n=it,f="delete",b="insert"}else f="insert",b="delete";const _=A.length,E=n.length,T=E-_,D={},U={};function H(it){const At=(U[it-1]!==void 0?U[it-1]:-1)+1,bt=U[it+1]!==void 0?U[it+1]:-1,It=At>bt?-1:1;D[it+It]&&(D[it]=D[it+It].slice(0)),D[it]||(D[it]=[]),D[it].push(At>bt?f:b);let Wt=Math.max(At,bt),he=Wt-it;for(;he<_&&Wt<E&&s(A[he],n[Wt]);)he++,Wt++,D[it].push("equal");return Wt}let $,tt=0;do{for($=-tt;$<T;$++)U[$]=H($);for($=T+tt;$>T;$--)U[$]=H($);U[T]=H(T),tt++}while(U[T]!==E);return D[T].slice(1)}I.fastDiff=k;const F=function(){return function A(){A.called=!0}};class R{constructor(n,s){this.source=n,this.name=s,this.path=[],this.stop=F(),this.off=F()}}const Q=new Array(256).fill("").map((A,n)=>("0"+n.toString(16)).slice(-2));function V(){const A=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,l=4294967296*Math.random()>>>0;return"e"+Q[A>>0&255]+Q[A>>8&255]+Q[A>>16&255]+Q[A>>24&255]+Q[n>>0&255]+Q[n>>8&255]+Q[n>>16&255]+Q[n>>24&255]+Q[s>>0&255]+Q[s>>8&255]+Q[s>>16&255]+Q[s>>24&255]+Q[l>>0&255]+Q[l>>8&255]+Q[l>>16&255]+Q[l>>24&255]}const W={get(A="normal"){return typeof A!="number"?this[A]||this.normal:A},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function X(A,n){const s=W.get(n.priority);for(let l=0;l<A.length;l++)if(W.get(A[l].priority)<s)return void A.splice(l,0,n);A.push(n)}const P="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class K extends Error{constructor(n,s,l){super(function(u,f){const b=new WeakSet,_=(D,U)=>{if(typeof U=="object"&&U!==null){if(b.has(U))return`[object ${U.constructor.name}]`;b.add(U)}return U},E=f?` ${JSON.stringify(f,_)}`:"",T=dt(u);return u+E+T}(n,l)),this.name="CKEditorError",this.context=s,this.data=l}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,s){if(n.is&&n.is("CKEditorError"))throw n;const l=new K(n.message,s);throw l.stack=n.stack,l}}function J(A,n){console.warn(...ht(A,n))}function rt(A,n){console.error(...ht(A,n))}function dt(A){return`
Read more: ${P}#error-${A}`}function ht(A,n){const s=dt(A);return n?[A,n,s]:[A,s]}const ut="39.0.2",mt=new Date(2023,8,6);if(globalThis.CKEDITOR_VERSION)throw new K("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=ut;const St=Symbol("listeningTo"),vt=Symbol("emitterId"),pt=Symbol("delegations"),_t=Dt(Object);function Dt(A){return A?class extends A{on(n,s,l){this.listenTo(this,n,s,l)}once(n,s,l){let u=!1;this.listenTo(this,n,(f,...b)=>{u||(u=!0,f.off(),s.call(this,f,...b))},l)}off(n,s){this.stopListening(this,n,s)}listenTo(n,s,l,u={}){let f,b;this[St]||(this[St]={});const _=this[St];se(n)||yt(n);const E=se(n);(f=_[E])||(f=_[E]={emitter:n,callbacks:{}}),(b=f.callbacks[s])||(b=f.callbacks[s]=[]),b.push(l),function(T,D,U,H,$){D._addEventListener?D._addEventListener(U,H,$):T._addEventListener.call(D,U,H,$)}(this,n,s,l,u)}stopListening(n,s,l){const u=this[St];let f=n&&se(n);const b=u&&f?u[f]:void 0,_=b&&s?b.callbacks[s]:void 0;if(!(!u||n&&!b||s&&!_))if(l)Tt(this,n,s,l),_.indexOf(l)!==-1&&(_.length===1?delete b.callbacks[s]:Tt(this,n,s,l));else if(_){for(;l=_.pop();)Tt(this,n,s,l);delete b.callbacks[s]}else if(b){for(s in b.callbacks)this.stopListening(n,s);delete u[f]}else{for(f in u)this.stopListening(u[f].emitter);delete this[St]}}fire(n,...s){try{const l=n instanceof R?n:new R(this,n),u=l.name;let f=le(this,u);if(l.path.push(this),f){const _=[l,...s];f=Array.from(f);for(let E=0;E<f.length&&(f[E].callback.apply(this,_),l.off.called&&(delete l.off.called,this._removeEventListener(u,f[E].callback)),!l.stop.called);E++);}const b=this[pt];if(b){const _=b.get(u),E=b.get("*");_&&Lt(_,l,s),E&&Lt(E,l,s)}return l.return}catch(l){K.rethrowUnexpectedError(l,this)}}delegate(...n){return{to:(s,l)=>{this[pt]||(this[pt]=new Map),n.forEach(u=>{const f=this[pt].get(u);f?f.set(s,l):this[pt].set(u,new Map([[s,l]]))})}}}stopDelegating(n,s){if(this[pt])if(n)if(s){const l=this[pt].get(n);l&&l.delete(s)}else this[pt].delete(n);else this[pt].clear()}_addEventListener(n,s,l){(function(b,_){const E=oe(b);if(E[_])return;let T=_,D=null;const U=[];for(;T!==""&&!E[T];)E[T]={callbacks:[],childEvents:[]},U.push(E[T]),D&&E[T].childEvents.push(D),D=T,T=T.substr(0,T.lastIndexOf(":"));if(T!==""){for(const H of U)H.callbacks=E[T].callbacks.slice();E[T].childEvents.push(D)}})(this,n);const u=ie(this,n),f={callback:s,priority:W.get(l.priority)};for(const b of u)X(b,f)}_removeEventListener(n,s){const l=ie(this,n);for(const u of l)for(let f=0;f<u.length;f++)u[f].callback==s&&(u.splice(f,1),f--)}}:_t}function yt(A,n){A[vt]||(A[vt]=n||V())}function se(A){return A[vt]}function oe(A){return A._events||Object.defineProperty(A,"_events",{value:{}}),A._events}function ie(A,n){const s=oe(A)[n];if(!s)return[];let l=[s.callbacks];for(let u=0;u<s.childEvents.length;u++){const f=ie(A,s.childEvents[u]);l=l.concat(f)}return l}function le(A,n){let s;return A._events&&(s=A._events[n])&&s.callbacks.length?s.callbacks:n.indexOf(":")>-1?le(A,n.substr(0,n.lastIndexOf(":"))):null}function Lt(A,n,s){for(let[l,u]of A){u?typeof u=="function"&&(u=u(n.name)):u=n.name;const f=new R(n.source,u);f.path=[...n.path],l.fire(f,...s)}}function Tt(A,n,s,l){n._removeEventListener?n._removeEventListener(s,l):A._removeEventListener.call(n,s,l)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(A=>{Dt[A]=_t.prototype[A]});const Pt=function(A){var n=typeof A;return A!=null&&(n=="object"||n=="function")},jt=Symbol("observableProperties"),Ne=Symbol("boundObservables"),Ge=Symbol("boundProperties"),hn=Symbol("decoratedMethods"),Ye=Symbol("decoratedOriginal"),Se=ae(Dt());function ae(A){return A?class extends A{set(n,s){if(Pt(n))return void Object.keys(n).forEach(u=>{this.set(u,n[u])},this);rn(this);const l=this[jt];if(n in this&&!l.has(n))throw new K("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get:()=>l.get(n),set(u){const f=l.get(n);let b=this.fire(`set:${n}`,n,u,f);b===void 0&&(b=u),f===b&&l.has(n)||(l.set(n,b),this.fire(`change:${n}`,n,b,f))}}),this[n]=s}bind(...n){if(!n.length||!Hn(n))throw new K("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new K("observable-bind-duplicate-properties",this);rn(this);const s=this[Ge];n.forEach(u=>{if(s.has(u))throw new K("observable-bind-rebind",this)});const l=new Map;return n.forEach(u=>{const f={property:u,to:[]};s.set(u,f),l.set(u,f)}),{to:Rn,toMany:Le,_observable:this,_bindProperties:n,_to:[],_bindings:l}}unbind(...n){if(!this[jt])return;const s=this[Ge],l=this[Ne];if(n.length){if(!Hn(n))throw new K("observable-unbind-wrong-properties",this);n.forEach(u=>{const f=s.get(u);f&&(f.to.forEach(([b,_])=>{const E=l.get(b),T=E[_];T.delete(f),T.size||delete E[_],Object.keys(E).length||(l.delete(b),this.stopListening(b,"change"))}),s.delete(u))})}else l.forEach((u,f)=>{this.stopListening(f,"change")}),l.clear(),s.clear()}decorate(n){rn(this);const s=this[n];if(!s)throw new K("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(l,u)=>{l.return=s.apply(this,u)}),this[n]=function(...l){return this.fire(n,l)},this[n][Ye]=s,this[hn]||(this[hn]=[]),this[hn].push(n)}stopListening(n,s,l){if(!n&&this[hn]){for(const u of this[hn])this[u]=this[u][Ye];delete this[hn]}super.stopListening(n,s,l)}}:Se}function rn(A){A[jt]||(Object.defineProperty(A,jt,{value:new Map}),Object.defineProperty(A,Ne,{value:new Map}),Object.defineProperty(A,Ge,{value:new Map}))}function Rn(...A){const n=function(...f){if(!f.length)throw new K("observable-bind-to-parse-error",null);const b={to:[]};let _;return typeof f[f.length-1]=="function"&&(b.callback=f.pop()),f.forEach(E=>{if(typeof E=="string")_.properties.push(E);else{if(typeof E!="object")throw new K("observable-bind-to-parse-error",null);_={observable:E,properties:[]},b.to.push(_)}}),b}(...A),s=Array.from(this._bindings.keys()),l=s.length;if(!n.callback&&n.to.length>1)throw new K("observable-bind-to-no-callback",this);if(l>1&&n.callback)throw new K("observable-bind-to-extra-callback",this);var u;n.to.forEach(f=>{if(f.properties.length&&f.properties.length!==l)throw new K("observable-bind-to-properties-length",this);f.properties.length||(f.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(s[0]).callback=n.callback),u=this._observable,this._to.forEach(f=>{const b=u[Ne];let _;b.get(f.observable)||u.listenTo(f.observable,"change",(E,T)=>{_=b.get(f.observable)[T],_&&_.forEach(D=>{$s(u,D.property)})})}),function(f){let b;f._bindings.forEach((_,E)=>{f._to.forEach(T=>{b=T.properties[_.callback?0:f._bindProperties.indexOf(E)],_.to.push([T.observable,b]),function(D,U,H,$){const tt=D[Ne],it=tt.get(H),At=it||{};At[$]||(At[$]=new Set),At[$].add(U),it||tt.set(H,At)}(f._observable,_,T.observable,b)})})}(this),this._bindProperties.forEach(f=>{$s(this._observable,f)})}function Le(A,n,s){if(this._bindings.size>1)throw new K("observable-bind-to-many-not-one-binding",this);this.to(...function(l,u){const f=l.map(b=>[b,u]);return Array.prototype.concat.apply([],f)}(A,n),s)}function Hn(A){return A.every(n=>typeof n=="string")}function $s(A,n){const s=A[Ge].get(n);let l;s.callback?l=s.callback.apply(A,s.to.map(u=>u[0][u[1]])):(l=s.to[0],l=l[0][l[1]]),Object.prototype.hasOwnProperty.call(A,n)?A[n]=l:A.set(n,l)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(A=>{ae[A]=Se.prototype[A]});class rs{constructor(){this._replacedElements=[]}replace(n,s){this._replacedElements.push({element:n,newElement:s}),n.style.display="none",s&&n.parentNode.insertBefore(s,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:s})=>{n.style.display="",s&&s.remove()}),this._replacedElements=[]}}function vs(A){let n=0;for(const s of A)n++;return n}function xn(A,n){const s=Math.min(A.length,n.length);for(let l=0;l<s;l++)if(A[l]!=n[l])return l;return A.length==n.length?"same":A.length<n.length?"prefix":"extension"}function ti(A){return!(!A||!A[Symbol.iterator])}const os=typeof _y=="object"&&_y&&_y.Object===Object&&_y;var fe=typeof self=="object"&&self&&self.Object===Object&&self;const vn=os||fe||Function("return this")(),Ii=vn.Symbol;var Uo=Object.prototype,zr=Uo.hasOwnProperty,Aa=Uo.toString,wr=Ii?Ii.toStringTag:void 0;const ua=function(A){var n=zr.call(A,wr),s=A[wr];try{A[wr]=void 0;var l=!0}catch{}var u=Aa.call(A);return l&&(n?A[wr]=s:delete A[wr]),u};var go=Object.prototype.toString;const jr=function(A){return go.call(A)};var ha=Ii?Ii.toStringTag:void 0;const fa=function(A){return A==null?A===void 0?"[object Undefined]":"[object Null]":ha&&ha in Object(A)?ua(A):jr(A)},_i=Array.isArray,qs=function(A){return A!=null&&typeof A=="object"},sA=function(A){return typeof A=="string"||!_i(A)&&qs(A)&&fa(A)=="[object String]"};function rA(A,n,s={},l=[]){const u=s&&s.xmlns,f=u?A.createElementNS(u,n):A.createElement(n);for(const b in s)f.setAttribute(b,s[b]);!sA(l)&&ti(l)||(l=[l]);for(let b of l)sA(b)&&(b=A.createTextNode(b)),f.appendChild(b);return f}const Qo=function(A,n){return function(s){return A(n(s))}},Vr=Qo(Object.getPrototypeOf,Object);var oA=Function.prototype,aA=Object.prototype,Ys=oA.toString,Ns=aA.hasOwnProperty,lA=Ys.call(Object);const Xs=function(A){if(!qs(A)||fa(A)!="[object Object]")return!1;var n=Vr(A);if(n===null)return!0;var s=Ns.call(n,"constructor")&&n.constructor;return typeof s=="function"&&s instanceof s&&Ys.call(s)==lA},Ho=function(){this.__data__=[],this.size=0},mo=function(A,n){return A===n||A!=A&&n!=n},zo=function(A,n){for(var s=A.length;s--;)if(mo(A[s][0],n))return s;return-1};var Ml=Array.prototype.splice;const cA=function(A){var n=this.__data__,s=zo(n,A);return!(s<0)&&(s==n.length-1?n.pop():Ml.call(n,s,1),--this.size,!0)},Zs=function(A){var n=this.__data__,s=zo(n,A);return s<0?void 0:n[s][1]},Te=function(A){return zo(this.__data__,A)>-1},id=function(A,n){var s=this.__data__,l=zo(s,A);return l<0?(++this.size,s.push([A,n])):s[l][1]=n,this};function vr(A){var n=-1,s=A==null?0:A.length;for(this.clear();++n<s;){var l=A[n];this.set(l[0],l[1])}}vr.prototype.clear=Ho,vr.prototype.delete=cA,vr.prototype.get=Zs,vr.prototype.has=Te,vr.prototype.set=id;const jo=vr,Fu=function(){this.__data__=new jo,this.size=0},vc=function(A){var n=this.__data__,s=n.delete(A);return this.size=n.size,s},dA=function(A){return this.__data__.get(A)},Ll=function(A){return this.__data__.has(A)},Ki=function(A){if(!Pt(A))return!1;var n=fa(A);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"},Gi=vn["__core-js_shared__"];var fs=function(){var A=/[^.]+$/.exec(Gi&&Gi.keys&&Gi.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}();const _s=function(A){return!!fs&&fs in A};var Wi=Function.prototype.toString;const _r=function(A){if(A!=null){try{return Wi.call(A)}catch{}try{return A+""}catch{}}return""};var Pl=/^\[object .+?Constructor\]$/,Rs=Function.prototype,Qa=Object.prototype,AA=Rs.toString,sd=Qa.hasOwnProperty,Ha=RegExp("^"+AA.call(sd).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ou=function(A){return!(!Pt(A)||_s(A))&&(Ki(A)?Ha:Pl).test(_r(A))},za=function(A,n){return A==null?void 0:A[n]},Js=function(A,n){var s=za(A,n);return Ou(s)?s:void 0},ja=Js(vn,"Map"),pa=Js(Object,"create"),Va=function(){this.__data__=pa?pa(null):{},this.size=0},wn=function(A){var n=this.has(A)&&delete this.__data__[A];return this.size-=n?1:0,n};var ei=Object.prototype.hasOwnProperty;const $i=function(A){var n=this.__data__;if(pa){var s=n[A];return s==="__lodash_hash_undefined__"?void 0:s}return ei.call(n,A)?n[A]:void 0};var kr=Object.prototype.hasOwnProperty;const bo=function(A){var n=this.__data__;return pa?n[A]!==void 0:kr.call(n,A)},rd=function(A,n){var s=this.__data__;return this.size+=this.has(A)?0:1,s[A]=pa&&n===void 0?"__lodash_hash_undefined__":n,this};function Qe(A){var n=-1,s=A==null?0:A.length;for(this.clear();++n<s;){var l=A[n];this.set(l[0],l[1])}}Qe.prototype.clear=Va,Qe.prototype.delete=wn,Qe.prototype.get=$i,Qe.prototype.has=bo,Qe.prototype.set=rd;const Cn=Qe,ps=function(){this.size=0,this.__data__={hash:new Cn,map:new(ja||jo),string:new Cn}},tr=function(A){var n=typeof A;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?A!=="__proto__":A===null},zn=function(A,n){var s=A.__data__;return tr(n)?s[typeof n=="string"?"string":"hash"]:s.map},uA=function(A){var n=zn(this,A).delete(A);return this.size-=n?1:0,n},Fl=function(A){return zn(this,A).get(A)},Xn=function(A){return zn(this,A).has(A)},jn=function(A,n){var s=zn(this,A),l=s.size;return s.set(A,n),this.size+=s.size==l?0:1,this};function Ni(A){var n=-1,s=A==null?0:A.length;for(this.clear();++n<s;){var l=A[n];this.set(l[0],l[1])}}Ni.prototype.clear=ps,Ni.prototype.delete=uA,Ni.prototype.get=Fl,Ni.prototype.has=Xn,Ni.prototype.set=jn;const er=Ni,Ka=function(A,n){var s=this.__data__;if(s instanceof jo){var l=s.__data__;if(!ja||l.length<199)return l.push([A,n]),this.size=++s.size,this;s=this.__data__=new er(l)}return s.set(A,n),this.size=s.size,this};function ks(A){var n=this.__data__=new jo(A);this.size=n.size}ks.prototype.clear=Fu,ks.prototype.delete=vc,ks.prototype.get=dA,ks.prototype.has=Ll,ks.prototype.set=Ka;const Di=ks,Ga=function(A,n){for(var s=-1,l=A==null?0:A.length;++s<l&&n(A[s],s,A)!==!1;);return A},Wa=function(){try{var A=Js(Object,"defineProperty");return A({},"",{}),A}catch{}}(),qi=function(A,n,s){n=="__proto__"&&Wa?Wa(A,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):A[n]=s};var od=Object.prototype.hasOwnProperty;const Us=function(A,n,s){var l=A[n];od.call(A,n)&&mo(l,s)&&(s!==void 0||n in A)||qi(A,n,s)},nr=function(A,n,s,l){var u=!s;s||(s={});for(var f=-1,b=n.length;++f<b;){var _=n[f],E=void 0;E===void 0&&(E=A[_]),u?qi(s,_,E):Us(s,_,E)}return s},ad=function(A,n){for(var s=-1,l=Array(A);++s<A;)l[s]=n(s);return l},ga=function(A){return qs(A)&&fa(A)=="[object Arguments]"};var _c=Object.prototype,He=_c.hasOwnProperty,Kr=_c.propertyIsEnumerable;const In=ga(function(){return arguments}())?ga:function(A){return qs(A)&&He.call(A,"callee")&&!Kr.call(A,"callee")},hA=function(){return!1};var Vo=t&&!t.nodeType&&t,ld=Vo&&!0&&r&&!r.nodeType&&r,kc=ld&&ld.exports===Vo?vn.Buffer:void 0;const ir=(kc?kc.isBuffer:void 0)||hA;var Ol=/^(?:0|[1-9]\d*)$/;const Ko=function(A,n){var s=typeof A;return!!(n=n??9007199254740991)&&(s=="number"||s!="symbol"&&Ol.test(A))&&A>-1&&A%1==0&&A<n},Ri=function(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=9007199254740991};var fn={};fn["[object Float32Array]"]=fn["[object Float64Array]"]=fn["[object Int8Array]"]=fn["[object Int16Array]"]=fn["[object Int32Array]"]=fn["[object Uint8Array]"]=fn["[object Uint8ClampedArray]"]=fn["[object Uint16Array]"]=fn["[object Uint32Array]"]=!0,fn["[object Arguments]"]=fn["[object Array]"]=fn["[object ArrayBuffer]"]=fn["[object Boolean]"]=fn["[object DataView]"]=fn["[object Date]"]=fn["[object Error]"]=fn["[object Function]"]=fn["[object Map]"]=fn["[object Number]"]=fn["[object Object]"]=fn["[object RegExp]"]=fn["[object Set]"]=fn["[object String]"]=fn["[object WeakMap]"]=!1;const fA=function(A){return qs(A)&&Ri(A.length)&&!!fn[fa(A)]},$a=function(A){return function(n){return A(n)}};var yc=t&&!t.nodeType&&t,Go=yc&&!0&&r&&!r.nodeType&&r,Wo=Go&&Go.exports===yc&&os.process;const qa=function(){try{var A=Go&&Go.require&&Go.require("util").types;return A||Wo&&Wo.binding&&Wo.binding("util")}catch{}}();var Ya=qa&&qa.isTypedArray;const ln=Ya?$a(Ya):fA;var Nl=Object.prototype.hasOwnProperty;const Qs=function(A,n){var s=_i(A),l=!s&&In(A),u=!s&&!l&&ir(A),f=!s&&!l&&!u&&ln(A),b=s||l||u||f,_=b?ad(A.length,String):[],E=_.length;for(var T in A)!n&&!Nl.call(A,T)||b&&(T=="length"||u&&(T=="offset"||T=="parent")||f&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||Ko(T,E))||_.push(T);return _};var yr=Object.prototype;const cd=function(A){var n=A&&A.constructor;return A===(typeof n=="function"&&n.prototype||yr)},Nu=Qo(Object.keys,Object);var dd=Object.prototype.hasOwnProperty;const S=function(A){if(!cd(A))return Nu(A);var n=[];for(var s in Object(A))dd.call(A,s)&&s!="constructor"&&n.push(s);return n},O=function(A){return A!=null&&Ri(A.length)&&!Ki(A)},j=function(A){return O(A)?Qs(A):S(A)},G=function(A,n){return A&&nr(n,j(n),A)},et=function(A){var n=[];if(A!=null)for(var s in Object(A))n.push(s);return n};var nt=Object.prototype.hasOwnProperty;const at=function(A){if(!Pt(A))return et(A);var n=cd(A),s=[];for(var l in A)(l!="constructor"||!n&&nt.call(A,l))&&s.push(l);return s},kt=function(A){return O(A)?Qs(A,!0):at(A)},wt=function(A,n){return A&&nr(n,kt(n),A)};var Bt=t&&!t.nodeType&&t,Ht=Bt&&!0&&r&&!r.nodeType&&r,$t=Ht&&Ht.exports===Bt?vn.Buffer:void 0,Rt=$t?$t.allocUnsafe:void 0;const te=function(A,n){if(n)return A.slice();var s=A.length,l=Rt?Rt(s):new A.constructor(s);return A.copy(l),l},Pe=function(A,n){var s=-1,l=A.length;for(n||(n=Array(l));++s<l;)n[s]=A[s];return n},Je=function(A,n){for(var s=-1,l=A==null?0:A.length,u=0,f=[];++s<l;){var b=A[s];n(b,s,A)&&(f[u++]=b)}return f},We=function(){return[]};var as=Object.prototype.propertyIsEnumerable,hi=Object.getOwnPropertySymbols;const Cr=hi?function(A){return A==null?[]:(A=Object(A),Je(hi(A),function(n){return as.call(A,n)}))}:We,Gr=function(A,n){return nr(A,Cr(A),n)},cn=function(A,n){for(var s=-1,l=n.length,u=A.length;++s<l;)A[u+s]=n[s];return A},Wr=Object.getOwnPropertySymbols?function(A){for(var n=[];A;)cn(n,Cr(A)),A=Vr(A);return n}:We,nn=function(A,n){return nr(A,Wr(A),n)},oi=function(A,n,s){var l=n(A);return _i(A)?l:cn(l,s(A))},$r=function(A){return oi(A,j,Cr)},Ui=function(A){return oi(A,kt,Wr)},Qi=Js(vn,"DataView"),ma=Js(vn,"Promise"),ys=Js(vn,"Set"),Er=Js(vn,"WeakMap");var qr="[object Map]",sr="[object Promise]",Ad="[object Set]",Yr="[object WeakMap]",wo="[object DataView]",Xr=_r(Qi),Rl=_r(ja),Zr=_r(ma),dn=_r(ys),Cc=_r(Er),fi=fa;(Qi&&fi(new Qi(new ArrayBuffer(1)))!=wo||ja&&fi(new ja)!=qr||ma&&fi(ma.resolve())!=sr||ys&&fi(new ys)!=Ad||Er&&fi(new Er)!=Yr)&&(fi=function(A){var n=fa(A),s=n=="[object Object]"?A.constructor:void 0,l=s?_r(s):"";if(l)switch(l){case Xr:return wo;case Rl:return qr;case Zr:return sr;case dn:return Ad;case Cc:return Yr}return n});const vo=fi;var Ec=Object.prototype.hasOwnProperty;const pA=function(A){var n=A.length,s=new A.constructor(n);return n&&typeof A[0]=="string"&&Ec.call(A,"index")&&(s.index=A.index,s.input=A.input),s},Jr=vn.Uint8Array,$o=function(A){var n=new A.constructor(A.byteLength);return new Jr(n).set(new Jr(A)),n},_o=function(A,n){var s=n?$o(A.buffer):A.buffer;return new A.constructor(s,A.byteOffset,A.byteLength)};var xr=/\w*$/;const Ru=function(A){var n=new A.constructor(A.source,xr.exec(A));return n.lastIndex=A.lastIndex,n};var ba=Ii?Ii.prototype:void 0,Ul=ba?ba.valueOf:void 0;const rr=function(A){return Ul?Object(Ul.call(A)):{}},xc=function(A,n){var s=n?$o(A.buffer):A.buffer;return new A.constructor(s,A.byteOffset,A.length)},qo=function(A,n,s){var l=A.constructor;switch(n){case"[object ArrayBuffer]":return $o(A);case"[object Boolean]":case"[object Date]":return new l(+A);case"[object DataView]":return _o(A,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return xc(A,s);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(A);case"[object RegExp]":return Ru(A);case"[object Symbol]":return rr(A)}};var Ql=Object.create;const or=function(){function A(){}return function(n){if(!Pt(n))return{};if(Ql)return Ql(n);A.prototype=n;var s=new A;return A.prototype=void 0,s}}(),Yi=function(A){return typeof A.constructor!="function"||cd(A)?{}:or(Vr(A))},Uu=function(A){return qs(A)&&vo(A)=="[object Map]"};var Hl=qa&&qa.isMap;const zl=Hl?$a(Hl):Uu,gt=function(A){return qs(A)&&vo(A)=="[object Set]"};var Et=qa&&qa.isSet;const Nt=Et?$a(Et):gt;var Ut="[object Arguments]",Gt="[object Function]",re="[object Object]",ee={};ee[Ut]=ee["[object Array]"]=ee["[object ArrayBuffer]"]=ee["[object DataView]"]=ee["[object Boolean]"]=ee["[object Date]"]=ee["[object Float32Array]"]=ee["[object Float64Array]"]=ee["[object Int8Array]"]=ee["[object Int16Array]"]=ee["[object Int32Array]"]=ee["[object Map]"]=ee["[object Number]"]=ee[re]=ee["[object RegExp]"]=ee["[object Set]"]=ee["[object String]"]=ee["[object Symbol]"]=ee["[object Uint8Array]"]=ee["[object Uint8ClampedArray]"]=ee["[object Uint16Array]"]=ee["[object Uint32Array]"]=!0,ee["[object Error]"]=ee[Gt]=ee["[object WeakMap]"]=!1;const we=function A(n,s,l,u,f,b){var _,E=1&s,T=2&s,D=4&s;if(l&&(_=f?l(n,u,f,b):l(n)),_!==void 0)return _;if(!Pt(n))return n;var U=_i(n);if(U){if(_=pA(n),!E)return Pe(n,_)}else{var H=vo(n),$=H==Gt||H=="[object GeneratorFunction]";if(ir(n))return te(n,E);if(H==re||H==Ut||$&&!f){if(_=T||$?{}:Yi(n),!E)return T?nn(n,wt(_,n)):Gr(n,G(_,n))}else{if(!ee[H])return f?n:{};_=qo(n,H,E)}}b||(b=new Di);var tt=b.get(n);if(tt)return tt;b.set(n,_),Nt(n)?n.forEach(function(At){_.add(A(At,s,l,At,n,b))}):zl(n)&&n.forEach(function(At,bt){_.set(bt,A(At,s,l,bt,n,b))});var it=U?void 0:(D?T?Ui:$r:T?kt:j)(n);return Ga(it||n,function(At,bt){it&&(At=n[bt=At]),Us(_,bt,A(At,s,l,bt,n,b))}),_},ue=function(A,n){return we(A,5,n=typeof n=="function"?n:void 0)},ze=function(A){return qs(A)&&A.nodeType===1&&!Xs(A)};class Fe{constructor(n,s){this._config={},s&&this.define(Re(s)),n&&this._setObjectToTarget(this._config,n)}set(n,s){this._setToTarget(this._config,n,s)}define(n,s){this._setToTarget(this._config,n,s,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,s,l,u=!1){if(Xs(s))return void this._setObjectToTarget(n,s,u);const f=s.split(".");s=f.pop();for(const b of f)Xs(n[b])||(n[b]={}),n=n[b];if(Xs(l))return Xs(n[s])||(n[s]={}),n=n[s],void this._setObjectToTarget(n,l,u);u&&n[s]!==void 0||(n[s]=l)}_getFromSource(n,s){const l=s.split(".");s=l.pop();for(const u of l){if(!Xs(n[u])){n=null;break}n=n[u]}return n?Re(n[s]):void 0}_setObjectToTarget(n,s,l){Object.keys(s).forEach(u=>{this._setToTarget(n,u,s[u],l)})}}function Re(A){return ue(A,$e)}function $e(A){return ze(A)?A:void 0}function Ae(A){if(A){if(A.defaultView)return A instanceof A.defaultView.Document;if(A.ownerDocument&&A.ownerDocument.defaultView)return A instanceof A.ownerDocument.defaultView.Node}return!1}function En(A){const n=Object.prototype.toString.apply(A);return n=="[object Window]"||n=="[object global]"}const Cs=Vn(Dt());function Vn(A){return A?class extends A{listenTo(n,s,l,u={}){if(Ae(n)||En(n)){const f={capture:!!u.useCapture,passive:!!u.usePassive},b=this._getProxyEmitter(n,f)||new ar(n,f);this.listenTo(b,s,l,u)}else super.listenTo(n,s,l,u)}stopListening(n,s,l){if(Ae(n)||En(n)){const u=this._getAllProxyEmitters(n);for(const f of u)this.stopListening(f,s,l)}else super.stopListening(n,s,l)}_getProxyEmitter(n,s){return function(l,u){const f=l[St];return f&&f[u]?f[u].emitter:null}(this,lr(n,s))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(n,s)).filter(s=>!!s)}}:Cs}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(A=>{Vn[A]=Cs.prototype[A]});class ar extends Dt(){constructor(n,s){super(),yt(this,lr(n,s)),this._domNode=n,this._options=s}attach(n){if(this._domListeners&&this._domListeners[n])return;const s=this._createDomListener(n);this._domNode.addEventListener(n,s,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=s}detach(n){let s;!this._domListeners[n]||(s=this._events[n])&&s.callbacks.length||this._domListeners[n].removeListener()}_addEventListener(n,s,l){this.attach(n),Dt().prototype._addEventListener.call(this,n,s,l)}_removeEventListener(n,s){Dt().prototype._removeEventListener.call(this,n,s),this.detach(n)}_createDomListener(n){const s=l=>{this.fire(n,l)};return s.removeListener=()=>{this._domNode.removeEventListener(n,s,this._options),delete this._domListeners[n]},s}}function lr(A,n){let s=function(l){return l["data-ck-expando"]||(l["data-ck-expando"]=V())}(A);for(const l of Object.keys(n).sort())n[l]&&(s+="-"+l);return s}let Yo;try{Yo={window,document}}catch{Yo={window:{},document:{}}}const Ce=Yo;function bf(A){let n=A.parentElement;if(!n)return null;for(;n.tagName!="BODY";){const s=n.style.overflowY||Ce.window.getComputedStyle(n).overflowY;if(s==="auto"||s==="scroll")break;if(n=n.parentElement,!n)return null}return n}function Xa(A){return Object.prototype.toString.apply(A)=="[object Range]"}function Qu(A){const n=A.ownerDocument.defaultView.getComputedStyle(A);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}function Mi(A){return Object.prototype.toString.call(A)=="[object Text]"}const Qg=["top","right","bottom","left","width","height"];class _n{constructor(n){const s=Xa(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),ud(n)||s)if(s){const l=_n.getDomRangeRects(n);gA(this,_n.getBoundingRect(l))}else gA(this,n.getBoundingClientRect());else if(En(n)){const{innerWidth:l,innerHeight:u}=n;gA(this,{top:0,right:l,bottom:u,left:0,width:l,height:u})}else gA(this,n)}clone(){return new _n(this)}moveTo(n,s){return this.top=s,this.right=n+this.width,this.bottom=s+this.height,this.left=n,this}moveBy(n,s){return this.top+=s,this.right+=n,this.left+=n,this.bottom+=s,this}getIntersection(n){const s={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};return s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0||s.height<0?null:new _n(s)}getIntersectionArea(n){const s=this.getIntersection(n);return s?s.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let s=this.clone();if(wf(n))return s;let l,u=n,f=n.parentNode||n.commonAncestorContainer;for(;f&&!wf(f);){if(u instanceof HTMLElement&&wa(u)==="absolute"&&(l=u),l&&(wa(f)!=="relative"||(b=f).ownerDocument.defaultView.getComputedStyle(b).overflow==="visible")){u=f,f=f.parentNode;continue}const _=new _n(f),E=s.getIntersection(_);if(!E)return null;E.getArea()<s.getArea()&&(s=E),u=f,f=f.parentNode}var b;return s}isEqual(n){for(const s of Qg)if(this[s]!==n[s])return!1;return!0}contains(n){const s=this.getIntersection(n);return!(!s||!s.isEqual(n))}excludeScrollbarsAndBorders(){const n=this._source;let s,l,u;if(En(n))s=n.innerWidth-n.document.documentElement.clientWidth,l=n.innerHeight-n.document.documentElement.clientHeight,u=n.getComputedStyle(n.document.documentElement).direction;else{const f=Qu(n);s=n.offsetWidth-n.clientWidth-f.left-f.right,l=n.offsetHeight-n.clientHeight-f.top-f.bottom,u=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=f.left,this.top+=f.top,this.right-=f.right,this.bottom-=f.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=s,u==="ltr"?this.right-=s:this.left+=s,this.height-=l,this.bottom-=l,this}static getDomRangeRects(n){const s=[],l=Array.from(n.getClientRects());if(l.length)for(const u of l)s.push(new _n(u));else{let u=n.startContainer;Mi(u)&&(u=u.parentNode);const f=new _n(u.getBoundingClientRect());f.right=f.left,f.width=0,s.push(f)}return s}static getBoundingRect(n){const s={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let l=0;for(const u of n)l++,s.left=Math.min(s.left,u.left),s.top=Math.min(s.top,u.top),s.right=Math.max(s.right,u.right),s.bottom=Math.max(s.bottom,u.bottom);return l==0?null:(s.width=s.right-s.left,s.height=s.bottom-s.top,new _n(s))}}function gA(A,n){for(const s of Qg)A[s]=n[s]}function wf(A){return!!ud(A)&&A===A.ownerDocument.body}function ud(A){return A!==null&&typeof A=="object"&&A.nodeType===1&&typeof A.getBoundingClientRect=="function"}function wa(A){return A.ownerDocument.defaultView.getComputedStyle(A).position}const pi=class{constructor(A,n){pi._observerInstance||pi._createObserver(),this._element=A,this._callback=n,pi._addElementCallback(A,n),pi._observerInstance.observe(A)}get element(){return this._element}destroy(){pi._deleteElementCallback(this._element,this._callback)}static _addElementCallback(A,n){pi._elementCallbacks||(pi._elementCallbacks=new Map);let s=pi._elementCallbacks.get(A);s||(s=new Set,pi._elementCallbacks.set(A,s)),s.add(n)}static _deleteElementCallback(A,n){const s=pi._getElementCallbacks(A);s&&(s.delete(n),s.size||(pi._elementCallbacks.delete(A),pi._observerInstance.unobserve(A))),pi._elementCallbacks&&!pi._elementCallbacks.size&&(pi._observerInstance=null,pi._elementCallbacks=null)}static _getElementCallbacks(A){return pi._elementCallbacks?pi._elementCallbacks.get(A):null}static _createObserver(){pi._observerInstance=new Ce.window.ResizeObserver(A=>{for(const n of A){const s=pi._getElementCallbacks(n.target);if(s)for(const l of s)l(n)}})}};let jl=pi;function Hg(A,n){A instanceof HTMLTextAreaElement&&(A.value=n),A.innerHTML=n}function Hu(A){return n=>n+A}function zu(A){let n=0;for(;A.previousSibling;)A=A.previousSibling,n++;return n}function vf(A,n,s){A.insertBefore(s,A.childNodes[n]||null)}function hd(A){return A&&A.nodeType===Node.COMMENT_NODE}function Vl(A){return!!(A&&A.getClientRects&&A.getClientRects().length)}jl._observerInstance=null,jl._elementCallbacks=null;var _f=Math.pow;function mA({element:A,target:n,positions:s,limiter:l,fitInViewport:u,viewportOffsetConfig:f}){Ki(n)&&(n=n()),Ki(l)&&(l=l());const b=function(H){return H&&H.parentNode?H.offsetParent===Ce.document.body?null:H.offsetParent:null}(A),_=new _n(A),E=new _n(n);let T;const D=u&&function(H){H=Object.assign({top:0,bottom:0,left:0,right:0},H);const $=new _n(Ce.window);return $.top+=H.top,$.height-=H.top,$.bottom-=H.bottom,$.height-=H.bottom,$}(f)||null,U={targetRect:E,elementRect:_,positionedElementAncestor:b,viewportRect:D};if(l||u){const H=l&&new _n(l).getVisible();Object.assign(U,{limiterRect:H,viewportRect:D}),T=function($,tt){const{elementRect:it}=tt,At=it.getArea(),bt=$.map(he=>new ju(he,tt)).filter(he=>!!he.name);let It=0,Wt=null;for(const he of bt){const{limiterIntersectionArea:Ve,viewportIntersectionArea:bi}=he;if(Ve===At)return he;const Pn=_f(bi,2)+_f(Ve,2);Pn>It&&(It=Pn,Wt=he)}return Wt}(s,U)||new ju(s[0],U)}else T=new ju(s[0],U);return T}function bA(A){const{scrollX:n,scrollY:s}=Ce.window;return A.clone().moveBy(n,s)}class ju{constructor(n,s){const l=n(s.targetRect,s.elementRect,s.viewportRect);if(!l)return;const{left:u,top:f,name:b,config:_}=l;this.name=b,this.config=_,this._positioningFunctionCorrdinates={left:u,top:f},this._options=s}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;if(n){const s=this._options.viewportRect;if(!s)return n.getIntersectionArea(this._rect);{const l=n.getIntersection(s);if(l)return l.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const n=this._options.viewportRect;return n?n.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=bA(this._rect),this._options.positionedElementAncestor&&function(n,s){const l=bA(new _n(s)),u=Qu(s);let f=0,b=0;f-=l.left,b-=l.top,f+=s.scrollLeft,b+=s.scrollTop,f-=u.left,b-=u.top,n.moveBy(f,b)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function Vu(A){const n=A.parentNode;n&&n.removeChild(A)}function zg({window:A,rect:n,alignToTop:s,forceScroll:l,viewportOffset:u}){const f=n.clone().moveBy(0,u.bottom),b=n.clone().moveBy(0,-u.top),_=new _n(A).excludeScrollbarsAndBorders(),E=s&&l,T=[b,f].every(tt=>_.contains(tt));let{scrollX:D,scrollY:U}=A;const H=D,$=U;E?U-=_.top-n.top+u.top:T||(M(b,_)?U-=_.top-n.top+u.top:C(f,_)&&(U+=s?n.top-_.top-u.top:n.bottom-_.bottom+u.bottom)),T||(z(n,_)?D-=_.left-n.left+u.left:Y(n,_)&&(D+=n.right-_.right+u.right)),D==H&&U===$||A.scrollTo(D,U)}function m({parent:A,getRect:n,alignToTop:s,forceScroll:l,ancestorOffset:u=0,limiterElement:f}){const b=ct(A),_=s&&l;let E,T,D;const U=f||b.document.body;for(;A!=U;)T=n(),E=new _n(A).excludeScrollbarsAndBorders(),D=E.contains(T),_?A.scrollTop-=E.top-T.top+u:D||(M(T,E)?A.scrollTop-=E.top-T.top+u:C(T,E)&&(A.scrollTop+=s?T.top-E.top-u:T.bottom-E.bottom+u)),D||(z(T,E)?A.scrollLeft-=E.left-T.left+u:Y(T,E)&&(A.scrollLeft+=T.right-E.right+u)),A=A.parentNode}function C(A,n){return A.bottom>n.bottom}function M(A,n){return A.top<n.top}function z(A,n){return A.left<n.left}function Y(A,n){return A.right>n.right}function ct(A){return Xa(A)?A.startContainer.ownerDocument.defaultView:A.ownerDocument.defaultView}function Ct(A){if(Xa(A)){let n=A.commonAncestorContainer;return Mi(n)&&(n=n.parentNode),n}return A.parentNode}function Ot(A,n){const s=ct(A),l=new _n(A);if(s===n)return l;{let u=s;for(;u!=n;){const f=u.frameElement,b=new _n(f).excludeScrollbarsAndBorders();l.moveBy(b.left,b.top),u=u.parent}}return l}const Qt={ctrl:"â",cmd:"â",alt:"â¥",shift:"â§"},Xt={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},qt=function(){const A={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++)A[String.fromCharCode(n).toLowerCase()]=n;for(let n=48;n<=57;n++)A[n-48]=n;for(let n=112;n<=123;n++)A["f"+(n-111)]=n;for(const n of"`-=[];',./\\")A[n]=n.charCodeAt(0);return A}(),Oe=Object.fromEntries(Object.entries(qt).map(([A,n])=>[n,A.charAt(0).toUpperCase()+A.slice(1)]));function tn(A){let n;if(typeof A=="string"){if(n=qt[A.toLowerCase()],!n)throw new K("keyboard-unknown-key",null,{key:A})}else n=A.keyCode+(A.altKey?qt.alt:0)+(A.ctrlKey?qt.ctrl:0)+(A.shiftKey?qt.shift:0)+(A.metaKey?qt.cmd:0);return n}function ls(A){return typeof A=="string"&&(A=function(n){return n.split("+").map(s=>s.trim())}(A)),A.map(n=>typeof n=="string"?function(s){if(s.endsWith("!"))return tn(s.slice(0,-1));const l=tn(s);return w.isMac&&l==qt.ctrl?qt.cmd:l}(n):n).reduce((n,s)=>s+n,0)}function cs(A){let n=ls(A);return Object.entries(w.isMac?Qt:Xt).reduce((s,[l,u])=>((n&qt[l])!=0&&(n&=~qt[l],s+=u),s),"")+(n?Oe[n]:"")}function ds(A,n){const s=n==="ltr";switch(A){case qt.arrowleft:return s?"left":"right";case qt.arrowright:return s?"right":"left";case qt.arrowup:return"up";case qt.arrowdown:return"down"}}function Dn(A){return Array.isArray(A)?A:[A]}function Bc(A,n,s=1){if(typeof s!="number")throw new K("translation-service-quantity-not-a-number",null,{quantity:s});const l=Object.keys(Ce.window.CKEDITOR_TRANSLATIONS).length;l===1&&(A=Object.keys(Ce.window.CKEDITOR_TRANSLATIONS)[0]);const u=n.id||n.string;if(l===0||!function(E,T){return!!Ce.window.CKEDITOR_TRANSLATIONS[E]&&!!Ce.window.CKEDITOR_TRANSLATIONS[E].dictionary[T]}(A,u))return s!==1?n.plural:n.string;const f=Ce.window.CKEDITOR_TRANSLATIONS[A].dictionary,b=Ce.window.CKEDITOR_TRANSLATIONS[A].getPluralForm||(E=>E===1?0:1),_=f[u];return typeof _=="string"?_:_[Number(b(s))]}Ce.window.CKEDITOR_TRANSLATIONS||(Ce.window.CKEDITOR_TRANSLATIONS={});const xw=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function jg(A){return xw.includes(A)?"rtl":"ltr"}class Bw{constructor({uiLanguage:n="en",contentLanguage:s}={}){this.uiLanguage=n,this.contentLanguage=s||this.uiLanguage,this.uiLanguageDirection=jg(this.uiLanguage),this.contentLanguageDirection=jg(this.contentLanguage),this.t=(l,u)=>this._t(l,u)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,s=[]){s=Dn(s),typeof n=="string"&&(n={string:n});const l=n.plural?s[0]:1;return function(u,f){return u.replace(/%(\d+)/g,(b,_)=>_<f.length?f[_]:b)}(Bc(this.uiLanguage,n,l),s)}}class Hs extends Dt(){constructor(n={},s={}){super();const l=ti(n);if(l||(s=n),this._items=[],this._itemMap=new Map,this._idProperty=s.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],l)for(const u of n)this._items.push(u),this._itemMap.set(this._getItemIdBeforeAdding(u),u)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,s){return this.addMany([n],s)}addMany(n,s){if(s===void 0)s=this._items.length;else if(s>this._items.length||s<0)throw new K("collection-add-item-invalid-index",this);let l=0;for(const u of n){const f=this._getItemIdBeforeAdding(u),b=s+l;this._items.splice(b,0,u),this._itemMap.set(f,u),this.fire("add",u,b),l++}return this.fire("change",{added:n,removed:[],index:s}),this}get(n){let s;if(typeof n=="string")s=this._itemMap.get(n);else{if(typeof n!="number")throw new K("collection-get-invalid-arg",this);s=this._items[n]}return s||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const s=n[this._idProperty];return s&&this._itemMap.has(s)}}getIndex(n){let s;return s=typeof n=="string"?this._itemMap.get(n):n,s?this._items.indexOf(s):-1}remove(n){const[s,l]=this._remove(n);return this.fire("change",{added:[],removed:[s],index:l}),s}map(n,s){return this._items.map(n,s)}find(n,s){return this._items.find(n,s)}filter(n,s){return this._items.filter(n,s)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new K("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:s=>{this._setUpBindToBinding(l=>new s(l))},using:s=>{typeof s=="function"?this._setUpBindToBinding(s):this._setUpBindToBinding(l=>l[s])}}}_setUpBindToBinding(n){const s=this._bindToCollection,l=(u,f,b)=>{const _=s._bindToCollection==this,E=s._bindToInternalToExternalMap.get(f);if(_&&E)this._bindToExternalToInternalMap.set(f,E),this._bindToInternalToExternalMap.set(E,f);else{const T=n(f);if(!T)return void this._skippedIndexesFromExternal.push(b);let D=b;for(const U of this._skippedIndexesFromExternal)b>U&&D--;for(const U of s._skippedIndexesFromExternal)D>=U&&D++;this._bindToExternalToInternalMap.set(f,T),this._bindToInternalToExternalMap.set(T,f),this.add(T,D);for(let U=0;U<s._skippedIndexesFromExternal.length;U++)D<=s._skippedIndexesFromExternal[U]&&s._skippedIndexesFromExternal[U]++}};for(const u of s)l(0,u,s.getIndex(u));this.listenTo(s,"add",l),this.listenTo(s,"remove",(u,f,b)=>{const _=this._bindToExternalToInternalMap.get(f);_&&this.remove(_),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((E,T)=>(b<T&&E.push(T-1),b>T&&E.push(T),E),[])})}_getItemIdBeforeAdding(n){const s=this._idProperty;let l;if(s in n){if(l=n[s],typeof l!="string")throw new K("collection-add-invalid-id",this);if(this.get(l))throw new K("collection-add-item-already-exists",this)}else n[s]=l=V();return l}_remove(n){let s,l,u,f=!1;const b=this._idProperty;if(typeof n=="string"?(l=n,u=this._itemMap.get(l),f=!u,u&&(s=this._items.indexOf(u))):typeof n=="number"?(s=n,u=this._items[s],f=!u,u&&(l=u[b])):(u=n,l=u[b],s=this._items.indexOf(u),f=s==-1||!this._itemMap.get(l)),f)throw new K("collection-remove-404",this);this._items.splice(s,1),this._itemMap.delete(l);const _=this._bindToInternalToExternalMap.get(u);return this._bindToInternalToExternalMap.delete(u),this._bindToExternalToInternalMap.delete(_),this.fire("remove",u,s),[u,s]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function ai(A){const n=A.next();return n.done?null:n.value}class to extends Vn(ae()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(n){if(this._elements.has(n))throw new K("focustracker-add-element-already-exist",this);this.listenTo(n,"focus",()=>this._focus(n),{useCapture:!0}),this.listenTo(n,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(n)}remove(n){n===this.focusedElement&&this._blur(),this._elements.has(n)&&(this.stopListening(n),this._elements.delete(n))}destroy(){this.stopListening()}_focus(n){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=n,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Kn{constructor(){this._listener=new(Vn())}listenTo(n){this._listener.listenTo(n,"keydown",(s,l)=>{this._listener.fire("_keydown:"+tn(l),l)})}set(n,s,l={}){const u=ls(n),f=l.priority;this._listener.listenTo(this._listener,"_keydown:"+u,(b,_)=>{s(_,()=>{_.preventDefault(),_.stopPropagation(),b.stop()}),b.return=!0},{priority:f})}press(n){return!!this._listener.fire("_keydown:"+tn(n),n)}stopListening(n){this._listener.stopListening(n)}destroy(){this.stopListening()}}function eo(A){return ti(A)?new Map(A):function(n){const s=new Map;for(const l in n)s.set(l,n[l]);return s}(A)}function kf(A,n){let s;function l(...u){l.cancel(),s=setTimeout(()=>A(...u),n)}return l.cancel=()=>{clearTimeout(s)},l}function yf(A,n){return!!(s=A.charAt(n-1))&&s.length==1&&/[\ud800-\udbff]/.test(s)&&function(l){return!!l&&l.length==1&&/[\udc00-\udfff]/.test(l)}(A.charAt(n));var s}function Cf(A,n){return!!(s=A.charAt(n))&&s.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(s);var s}const Ef=function(){const A=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],n=new RegExp("\\p{Regional_Indicator}{2}","u").source,s="(?:"+A.map(l=>l.source).join("|")+")";return new RegExp(`${n}|${s}(?:â${s})*`,"ug")}();function xf(A,n){const s=String(A).matchAll(Ef);return Array.from(s).some(l=>l.index<n&&n<l.index+l[0].length)}class Za extends Hs{constructor(n=[]){super(n,{idProperty:"viewUid"}),this.on("add",(s,l,u)=>{this._renderViewIntoCollectionParent(l,u)}),this.on("remove",(s,l)=>{l.element&&this._parentElement&&l.element.remove()}),this._parentElement=null}destroy(){this.map(n=>n.destroy())}setParent(n){this._parentElement=n;for(const s of this)this._renderViewIntoCollectionParent(s)}delegate(...n){if(!n.length||!n.every(s=>typeof s=="string"))throw new K("ui-viewcollection-delegate-wrong-events",this);return{to:s=>{for(const l of this)for(const u of n)l.delegate(u).to(s);this.on("add",(l,u)=>{for(const f of n)u.delegate(f).to(s)}),this.on("remove",(l,u)=>{for(const f of n)u.stopDelegating(f,s)})}}}_renderViewIntoCollectionParent(n,s){n.isRendered||n.render(),n.element&&this._parentElement&&this._parentElement.insertBefore(n.element,this._parentElement.children[s])}remove(n){return super.remove(n)}}var _B=o(6062),be=o.n(_B),Vg=o(4793),y0={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(Vg.Z,y0),Vg.Z.locals;class on extends Vn(ae()){constructor(n){super(),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new Hs,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(s,l)=>{l.locale=n,l.t=n&&n.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=va.bind(this,this)}createCollection(n){const s=new Za(n);return this._viewCollections.add(s),s}registerChild(n){ti(n)||(n=[n]);for(const s of n)this._unboundChildren.add(s)}deregisterChild(n){ti(n)||(n=[n]);for(const s of n)this._unboundChildren.remove(s)}setTemplate(n){this.template=new va(n)}extendTemplate(n){va.extend(this.template,n)}render(){if(this.isRendered)throw new K("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(n=>n.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class va extends Dt(){constructor(n){super(),Object.assign(this,x0(E0(n))),this._isRendered=!1,this._revertData=null}render(){const n=this._renderNode({intoFragment:!0});return this._isRendered=!0,n}apply(n){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:n,intoFragment:!1,isApplying:!0,revertData:this._revertData}),n}revert(n){if(!this._revertData)throw new K("ui-template-revert-not-applied",[this,n]);this._revertTemplateFromNode(n,this._revertData)}*getViews(){yield*function*n(s){if(s.children)for(const l of s.children)Wg(l)?yield l:$g(l)&&(yield*n(l))}(this)}static bind(n,s){return{to:(l,u)=>new C0({eventNameOrFunction:l,attribute:l,observable:n,emitter:s,callback:u}),if:(l,u,f)=>new Kg({observable:n,emitter:s,attribute:l,valueIfTrue:u,callback:f})}}static extend(n,s){if(n._isRendered)throw new K("template-extend-render",[this,n]);I0(n,x0(E0(s)))}_renderNode(n){let s;if(s=n.node?this.tag&&this.text:this.tag?this.text:!this.text,s)throw new K("ui-template-wrong-syntax",this);return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let s=n.node;return s||(s=n.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),s}_renderText(n){let s=n.node;return s?n.revertData.text=s.textContent:s=n.node=document.createTextNode(""),Bf(this.text)?this._bindToObservable({schema:this.text,updater:kB(s),data:n}):s.textContent=this.text.join(""),s}_renderAttributes(n){if(!this.attributes)return;const s=n.node,l=n.revertData;for(const u in this.attributes){const f=s.getAttribute(u),b=this.attributes[u];l&&(l.attributes[u]=f);const _=Sf(b)?b[0].ns:null;if(Bf(b)){const E=Sf(b)?b[0].value:b;l&&D0(u)&&E.unshift(f),this._bindToObservable({schema:E,updater:vA(s,u,_),data:n})}else if(u=="style"&&typeof b[0]!="string")this._renderStyleAttribute(b[0],n);else{l&&f&&D0(u)&&b.unshift(f);const E=b.map(T=>T&&T.value||T).reduce((T,D)=>T.concat(D),[]).reduce(S0,"");Ku(E)||s.setAttributeNS(_,u,E)}}}_renderStyleAttribute(n,s){const l=s.node;for(const u in n){const f=n[u];Bf(f)?this._bindToObservable({schema:[f],updater:fd(l,u),data:s}):l.style[u]=f}}_renderElementChildren(n){const s=n.node,l=n.intoFragment?document.createDocumentFragment():s,u=n.isApplying;let f=0;for(const b of this.children)if(Gu(b)){if(!u){b.setParent(s);for(const _ of b)l.appendChild(_.element)}}else if(Wg(b))u||(b.isRendered||b.render(),l.appendChild(b.element));else if(Ae(b))l.appendChild(b);else if(u){const _={children:[],bindings:[],attributes:{}};n.revertData.children.push(_),b._renderNode({intoFragment:!1,node:l.childNodes[f++],isApplying:!0,revertData:_})}else l.appendChild(b.render());n.intoFragment&&s.appendChild(l)}_setUpListeners(n){if(this.eventListeners)for(const s in this.eventListeners){const l=this.eventListeners[s].map(u=>{const[f,b]=s.split("@");return u.activateDomEventListener(f,b,n)});n.revertData&&n.revertData.bindings.push(l)}}_bindToObservable({schema:n,updater:s,data:l}){const u=l.revertData;Gg(n,s,l);const f=n.filter(b=>!Ku(b)).filter(b=>b.observable).map(b=>b.activateAttributeListener(n,s,l));u&&u.bindings.push(f)}_revertTemplateFromNode(n,s){for(const u of s.bindings)for(const f of u)f();if(s.text)return void(n.textContent=s.text);const l=n;for(const u in s.attributes){const f=s.attributes[u];f===null?l.removeAttribute(u):l.setAttribute(u,f)}for(let u=0;u<s.children.length;++u)this._revertTemplateFromNode(l.childNodes[u],s.children[u])}}class wA{constructor(n){this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const s=this.observable[this.attribute];return this.callback?this.callback(s,n):s}activateAttributeListener(n,s,l){const u=()=>Gg(n,s,l);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,u),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,u)}}}class C0 extends wA{constructor(n){super(n),this.eventNameOrFunction=n.eventNameOrFunction}activateDomEventListener(n,s,l){const u=(f,b)=>{s&&!b.target.matches(s)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(b):this.observable.fire(this.eventNameOrFunction,b))};return this.emitter.listenTo(l.node,n,u),()=>{this.emitter.stopListening(l.node,n,u)}}}class Kg extends wA{constructor(n){super(n),this.valueIfTrue=n.valueIfTrue}getValue(n){return!Ku(super.getValue(n))&&(this.valueIfTrue||!0)}}function Bf(A){return!!A&&(A.value&&(A=A.value),Array.isArray(A)?A.some(Bf):A instanceof wA)}function Gg(A,n,{node:s}){const l=function(f,b){return f.map(_=>_ instanceof wA?_.getValue(b):_)}(A,s);let u;u=A.length==1&&A[0]instanceof Kg?l[0]:l.reduce(S0,""),Ku(u)?n.remove():n.set(u)}function kB(A){return{set(n){A.textContent=n},remove(){A.textContent=""}}}function vA(A,n,s){return{set(l){A.setAttributeNS(s,n,l)},remove(){A.removeAttributeNS(s,n)}}}function fd(A,n){return{set(s){A.style[n]=s},remove(){A.style[n]=null}}}function E0(A){return ue(A,n=>{if(n&&(n instanceof wA||$g(n)||Wg(n)||Gu(n)))return n})}function x0(A){if(typeof A=="string"?A=function(n){return{text:[n]}}(A):A.text&&function(n){n.text=Dn(n.text)}(A),A.on&&(A.eventListeners=function(n){for(const s in n)B0(n,s);return n}(A.on),delete A.on),!A.text){A.attributes&&function(s){for(const l in s)s[l].value&&(s[l].value=Dn(s[l].value)),B0(s,l)}(A.attributes);const n=[];if(A.children)if(Gu(A.children))n.push(A.children);else for(const s of A.children)$g(s)||Wg(s)||Ae(s)?n.push(s):n.push(new va(s));A.children=n}return A}function B0(A,n){A[n]=Dn(A[n])}function S0(A,n){return Ku(n)?A:Ku(A)?n:`${A} ${n}`}function T0(A,n){for(const s in n)A[s]?A[s].push(...n[s]):A[s]=n[s]}function I0(A,n){if(n.attributes&&(A.attributes||(A.attributes={}),T0(A.attributes,n.attributes)),n.eventListeners&&(A.eventListeners||(A.eventListeners={}),T0(A.eventListeners,n.eventListeners)),n.text&&A.text.push(...n.text),n.children&&n.children.length){if(A.children.length!=n.children.length)throw new K("ui-template-extend-children-mismatch",A);let s=0;for(const l of n.children)I0(A.children[s++],l)}}function Ku(A){return!A&&A!==0}function Wg(A){return A instanceof on}function $g(A){return A instanceof va}function Gu(A){return A instanceof Za}function Sf(A){return Pt(A[0])&&A[0].ns}function D0(A){return A=="class"||A=="style"}class yB extends Za{constructor(n,s=[]){super(s),this.locale=n}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new va({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let n=document.querySelector(".ck-body-wrapper");n||(n=rA(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(n)),n.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const n=document.querySelector(".ck-body-wrapper");n&&n.childElementCount==0&&n.remove()}}var Wu=o(6574),st={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(Wu.Z,st),Wu.Z.locals;const N=class extends on{constructor(){super();const A=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",A.if("isColorInherited","ck-icon_inherit-color")],viewBox:A.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const A=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=A.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:s,value:l}of Array.from(A.attributes))N.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,l);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;A.childNodes.length>0;)this.element.appendChild(A.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(A=>{A.style.fill=this.fillColor})}};let q=N;q.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var ft=o(4906),Mt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(ft.Z,Mt),ft.Z.locals;class xt extends on{constructor(n){super(n),this._focusDelayed=null;const s=this.bindTemplate,l=V();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${l}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new q,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const u={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",f=>!f),s.if("isVisible","ck-hidden",f=>!f),s.to("isOn",f=>f?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",f=>f||"button"),tabindex:s.to("tabindex"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,f=>!f),"aria-checked":s.to("isOn"),"aria-pressed":s.to("isOn",f=>!!this.isToggleable&&String(!!f)),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(f=>{this.isEnabled?this.fire("execute"):f.preventDefault()})}};w.isSafari&&(this._focusDelayed||(this._focusDelayed=kf(()=>this.focus(),0)),u.on.mousedown=s.to(()=>{this._focusDelayed()}),u.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(u)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const n=new on,s=this.bindTemplate;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:s.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:s.to("label")}]}),n}_createKeystrokeView(){const n=new on;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",s=>cs(s))}]}),n}_getTooltipString(n,s,l){return n?typeof n=="string"?n:(l&&(l=cs(l)),n instanceof Function?n(s,l):`${s}${l?` (${l})`:""}`):""}}var Vt=o(5332),Yt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(Vt.Z,Yt),Vt.Z.locals;class ce extends xt{constructor(n){super(n),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const n=new on;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),n}}var _e=o(6781),Ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(_e.Z,Ee),_e.Z.locals,o(1103),o(841);var me=o(3662),un={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(me.Z,un),me.Z.locals;class je extends on{constructor(n){super(n),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${V()}`;const s=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:s.to("for")},children:[{text:s.to("text")}]})}}var en=o(2577),Xe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(en.Z,Xe),en.Z.locals;class Ze extends on{constructor(n,s){super(n);const l=`ck-labeled-field-view-${V()}`,u=`ck-labeled-field-view-status-${V()}`;this.fieldView=s(this,l,u),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(l),this.statusView=this._createStatusView(u),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(b,_)=>b||_);const f=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",f.to("class"),f.if("isEnabled","ck-disabled",b=>!b),f.if("isEmpty","ck-labeled-field-view_empty"),f.if("isFocused","ck-labeled-field-view_focused"),f.if("placeholder","ck-labeled-field-view_placeholder"),f.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(n){const s=new je(this.locale);return s.for=n,s.bind("text").to(this,"label"),s}_createStatusView(n){const s=new on(this.locale),l=this.bindTemplate;return s.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",l.if("errorText","ck-labeled-field-view__status_error"),l.if("_statusText","ck-hidden",u=>!u)],id:n,role:l.if("errorText","alert")},children:[{text:l.to("_statusText")}]}),s}focus(){this.fieldView.focus()}}var ni=o(4879),ki={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(ni.Z,ki),ni.Z.locals;class kn extends on{constructor(n){super(n),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new to,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",s.if("isFocused","ck-input_focused"),s.if("isEmpty","ck-input-text_empty"),s.if("hasError","ck-error")],id:s.to("id"),placeholder:s.to("placeholder"),readonly:s.to("isReadOnly"),inputmode:s.to("inputMode"),"aria-invalid":s.if("hasError",!0),"aria-describedby":s.to("ariaDescribedById")},on:{input:s.to((...l)=>{this.fire("input",...l),this._updateIsEmpty()}),change:s.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(n,s,l)=>{this._setDomElementValue(l),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(n){this.element.value=n||n===0?n:""}}class Gn extends kn{constructor(n){super(n),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class pn extends on{constructor(n){super(n);const s=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",s.to("position",l=>`ck-dropdown__panel_${l}`),s.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:s.to(l=>{l.target.tagName.toLocaleLowerCase()!=="input"&&l.preventDefault()})}})}focus(){if(this.children.length){const n=this.children.first;typeof n.focus=="function"?n.focus():J("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const n=this.children.last;typeof n.focusLast=="function"?n.focusLast():n.focus()}}}var Bn=o(5485),ii={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(Bn.Z,ii),Bn.Z.locals;const Zn=class extends on{constructor(A,n,s){super(A);const l=this.bindTemplate;this.buttonView=n,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Kn,this.focusTracker=new to,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",l.to("class"),l.if("isEnabled","ck-disabled",u=>!u)],id:l.to("id"),"aria-describedby":l.to("ariaDescribedById")},children:[n,s]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":l.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(n,s,l)=>{l&&(this.panelPosition==="auto"?this.panelView.position=Zn._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const A=(n,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(n,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(n,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",A),this.keystrokes.set("esc",A)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:A,north:n,southEast:s,southWest:l,northEast:u,northWest:f,southMiddleEast:b,southMiddleWest:_,northMiddleEast:E,northMiddleWest:T}=Zn.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,l,b,_,A,u,f,E,T,n]:[l,s,_,b,A,f,u,T,E,n]}};let Wn=Zn;Wn.defaultPanelPositions={south:(A,n)=>({top:A.bottom,left:A.left-(n.width-A.width)/2,name:"s"}),southEast:A=>({top:A.bottom,left:A.left,name:"se"}),southWest:(A,n)=>({top:A.bottom,left:A.left-n.width+A.width,name:"sw"}),southMiddleEast:(A,n)=>({top:A.bottom,left:A.left-(n.width-A.width)/4,name:"sme"}),southMiddleWest:(A,n)=>({top:A.bottom,left:A.left-3*(n.width-A.width)/4,name:"smw"}),north:(A,n)=>({top:A.top-n.height,left:A.left-(n.width-A.width)/2,name:"n"}),northEast:(A,n)=>({top:A.top-n.height,left:A.left,name:"ne"}),northWest:(A,n)=>({top:A.top-n.height,left:A.left-n.width+A.width,name:"nw"}),northMiddleEast:(A,n)=>({top:A.top-n.height,left:A.left-(n.width-A.width)/4,name:"nme"}),northMiddleWest:(A,n)=>({top:A.top-n.height,left:A.left-3*(n.width-A.width)/4,name:"nmw"})},Wn._getOptimalPosition=mA;const Xi='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Xo extends xt{constructor(n){super(n),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new q;return n.content=Xi,n.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),n}}class Br{constructor(n){if(this.focusables=n.focusables,this.focusTracker=n.focusTracker,this.keystrokeHandler=n.keystrokeHandler,this.actions=n.actions,n.actions&&n.keystrokeHandler)for(const s in n.actions){let l=n.actions[s];typeof l=="string"&&(l=[l]);for(const u of l)n.keystrokeHandler.set(u,(f,b)=>{this[s](),b()})}}get first(){return this.focusables.find(cr)||null}get last(){return this.focusables.filter(cr).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((s,l)=>{const u=s.element===this.focusTracker.focusedElement;return u&&(n=l),u}),n)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(n){n&&n.focus()}_getFocusableItem(n){const s=this.current,l=this.focusables.length;if(!l)return null;if(s===null)return this[n===1?"first":"last"];let u=(s+l+n)%l;do{const f=this.focusables.get(u);if(cr(f))return f;u=(u+l+n)%l}while(u!==s);return null}}function cr(A){return!(!A.focus||!Vl(A.element))}class Zo extends on{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class _a extends on{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Hi(A){return Array.isArray(A)?{items:A,removeItems:[]}:A?Object.assign({items:[],removeItems:[]},A):{items:[],removeItems:[]}}class Zt extends ae(){constructor(n){super(),this._disableStack=new Set,this.editor=n,this.set("isEnabled",!0)}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",Ja,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",Ja),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Ja(A){A.return=!1,A.stop()}class an extends ae(){constructor(n){super(),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(n,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",s=>{if(!this.affectsData)return;const l=n.model.document.selection,u=l.getFirstPosition().root.rootName!="$graveyard"&&n.model.canEditAt(l);(n.isReadOnly||this._isEnabledBasedOnSelection&&!u)&&(s.return=!1,s.stop())},{priority:"highest"}),this.on("execute",s=>{this.isEnabled||s.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(n){this._affectsData=n}refresh(){this.isEnabled=!0}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",Es,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",Es),this.refresh())}execute(...n){}destroy(){this.stopListening()}}function Es(A){A.return=!1,A.stop()}class li extends an{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...n){const s=this._getFirstEnabledCommand();return!!s&&s.execute(n)}registerChildCommand(n,s={}){X(this._childCommandsDefinitions,{command:n,priority:s.priority||"normal"}),n.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const n=this._childCommandsDefinitions.find(({command:s})=>s.isEnabled);return n&&n.command}}class Sr extends Dt(){constructor(n,s=[],l=[]){super(),this._plugins=new Map,this._context=n,this._availablePlugins=new Map;for(const u of s)u.pluginName&&this._availablePlugins.set(u.pluginName,u);this._contextPlugins=new Map;for(const[u,f]of l)this._contextPlugins.set(u,f),this._contextPlugins.set(f,u),u.pluginName&&this._availablePlugins.set(u.pluginName,u)}*[Symbol.iterator](){for(const n of this._plugins)typeof n[0]=="function"&&(yield n)}get(n){const s=this._plugins.get(n);if(!s){let l=n;throw typeof n=="function"&&(l=n.pluginName||n.name),new K("plugincollection-plugin-not-loaded",this._context,{plugin:l})}return s}has(n){return this._plugins.has(n)}init(n,s=[],l=[]){const u=this,f=this._context;(function tt(it,At=new Set){it.forEach(bt=>{E(bt)&&(At.has(bt)||(At.add(bt),bt.pluginName&&!u._availablePlugins.has(bt.pluginName)&&u._availablePlugins.set(bt.pluginName,bt),bt.requires&&tt(bt.requires,At)))})})(n),H(n);const b=[...function tt(it,At=new Set){return it.map(bt=>E(bt)?bt:u._availablePlugins.get(bt)).reduce((bt,It)=>At.has(It)?bt:(At.add(It),It.requires&&(H(It.requires,It),tt(It.requires,At).forEach(Wt=>bt.add(Wt))),bt.add(It)),new Set)}(n.filter(tt=>!D(tt,s)))];(function(tt,it){for(const At of it){if(typeof At!="function")throw new K("plugincollection-replace-plugin-invalid-type",null,{pluginItem:At});const bt=At.pluginName;if(!bt)throw new K("plugincollection-replace-plugin-missing-name",null,{pluginItem:At});if(At.requires&&At.requires.length)throw new K("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:bt});const It=u._availablePlugins.get(bt);if(!It)throw new K("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:bt});const Wt=tt.indexOf(It);if(Wt===-1){if(u._contextPlugins.has(It))return;throw new K("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:bt})}if(It.requires&&It.requires.length)throw new K("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:bt});tt.splice(Wt,1,At),u._availablePlugins.set(bt,At)}})(b,l);const _=b.map(tt=>{let it=u._contextPlugins.get(tt);return it=it||new tt(f),u._add(tt,it),it});return $(_,"init").then(()=>$(_,"afterInit")).then(()=>_);function E(tt){return typeof tt=="function"}function T(tt){return E(tt)&&!!tt.isContextPlugin}function D(tt,it){return it.some(At=>At===tt||U(tt)===At||U(At)===tt)}function U(tt){return E(tt)?tt.pluginName||tt.name:tt}function H(tt,it=null){tt.map(At=>E(At)?At:u._availablePlugins.get(At)||At).forEach(At=>{(function(bt,It){if(!E(bt))throw It?new K("plugincollection-soft-required",f,{missingPlugin:bt,requiredBy:U(It)}):new K("plugincollection-plugin-not-found",f,{plugin:bt})})(At,it),function(bt,It){if(T(It)&&!T(bt))throw new K("plugincollection-context-required",f,{plugin:U(bt),requiredBy:U(It)})}(At,it),function(bt,It){if(It&&D(bt,s))throw new K("plugincollection-required",f,{plugin:U(bt),requiredBy:U(It)})}(At,it)})}function $(tt,it){return tt.reduce((At,bt)=>bt[it]?u._contextPlugins.has(bt)?At:At.then(bt[it].bind(bt)):At,Promise.resolve())}}destroy(){const n=[];for(const[,s]of this)typeof s.destroy!="function"||this._contextPlugins.has(s)||n.push(s.destroy());return Promise.all(n)}_add(n,s){this._plugins.set(n,s);const l=n.pluginName;if(l){if(this._plugins.has(l))throw new K("plugincollection-plugin-name-conflict",null,{pluginName:l,plugin1:this._plugins.get(l).constructor,plugin2:n});this._plugins.set(l,s)}}}class Jo{constructor(n){this._contextOwner=null,this.config=new Fe(n,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new Sr(this,s);const l=this.config.get("language")||{};this.locale=new Bw({uiLanguage:typeof l=="string"?l:l.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Hs}initPlugins(){const n=this.config.get("plugins")||[],s=this.config.get("substitutePlugins")||[];for(const l of n.concat(s)){if(typeof l!="function")throw new K("context-initplugins-constructor-only",null,{Plugin:l});if(l.isContextPlugin!==!0)throw new K("context-initplugins-invalid-plugin",null,{Plugin:l})}return this.plugins.init(n,[],s)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,s){if(this._contextOwner)throw new K("context-addeditor-private-context");this.editors.add(n),s&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const s of this.config.names())["plugins","removePlugins","extraPlugins"].includes(s)||(n[s]=this.config.get(s));return n}static create(n){return new Promise(s=>{const l=new this(n);s(l.initPlugins().then(()=>l))})}}class tl extends ae(){constructor(n){super(),this.context=n}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class qg extends Kn{constructor(n){super(),this.editor=n}set(n,s,l={}){if(typeof s=="string"){const u=s;s=(f,b)=>{this.editor.execute(u),b()}}super.set(n,s,l)}}var Sw=o(4717),M0={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(Sw.Z,M0),Sw.Z.locals;const _A=new WeakMap;let L0=!1;function P0({view:A,element:n,text:s,isDirectHost:l=!0,keepOnFocus:u=!1}){const f=A.document;function b(_){_A.get(f).set(n,{text:_,isDirectHost:l,keepOnFocus:u,hostElement:l?n:null}),A.change(E=>Iw(f,E))}_A.has(f)||(_A.set(f,new Map),f.registerPostFixer(_=>Iw(f,_)),f.on("change:isComposing",()=>{A.change(_=>Iw(f,_))},{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",(_,E,T)=>{b(T)}),n.placeholder?b(n.placeholder):s&&b(s),s&&function(){L0||J("enableplaceholder-deprecated-text-option"),L0=!0}()}function Tw(A,n){return!!n.hasClass("ck-placeholder")&&(A.removeClass("ck-placeholder",n),!0)}function Iw(A,n){const s=_A.get(A),l=[];let u=!1;for(const[f,b]of s)b.isDirectHost&&(l.push(f),Dw(n,f,b)&&(u=!0));for(const[f,b]of s){if(b.isDirectHost)continue;const _=CB(f);_&&(l.includes(_)||(b.hostElement=_,Dw(n,f,b)&&(u=!0)))}return u}function Dw(A,n,s){const{text:l,isDirectHost:u,hostElement:f}=s;let b=!1;return f.getAttribute("data-placeholder")!==l&&(A.setAttribute("data-placeholder",l,f),b=!0),(u||n.childCount==1)&&function(_,E){if(!_.isAttached()||Array.from(_.getChildren()).some(U=>!U.is("uiElement")))return!1;const T=_.document,D=T.selection.anchor;return!(T.isComposing&&D&&D.parent===_||!E&&T.isFocused&&(!D||D.parent===_))}(f,s.keepOnFocus)?function(_,E){return!E.hasClass("ck-placeholder")&&(_.addClass("ck-placeholder",E),!0)}(A,f)&&(b=!0):Tw(A,f)&&(b=!0),b}function CB(A){if(A.childCount){const n=A.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}class pd{is(){throw new Error("is() method is abstract")}}const Mw=function(A){return we(A,4)};class kA extends Dt(pd){constructor(n){super(),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new K("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let s=this;for(;s.parent;)n.unshift(s.index),s=s.parent;return n}getAncestors(n={}){const s=[];let l=n.includeSelf?this:this.parent;for(;l;)s[n.parentFirst?"push":"unshift"](l),l=l.parent;return s}getCommonAncestor(n,s={}){const l=this.getAncestors(s),u=n.getAncestors(s);let f=0;for(;l[f]==u[f]&&l[f];)f++;return f===0?null:l[f-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const s=this.getPath(),l=n.getPath(),u=xn(s,l);switch(u){case"prefix":return!0;case"extension":return!1;default:return s[u]<l[u]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,s){this.fire(`change:${n}`,s),this.parent&&this.parent._fireChange(n,s)}toJSON(){const n=Mw(this);return delete n.parent,n}}kA.prototype.is=function(A){return A==="node"||A==="view:node"};class ci extends kA{constructor(n,s){super(n),this._textData=s}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof ci&&(this===n||this.data===n.data)}_clone(){return new ci(this.document,this.data)}}ci.prototype.is=function(A){return A==="$text"||A==="view:$text"||A==="text"||A==="view:text"||A==="node"||A==="view:node"};class Tr extends pd{constructor(n,s,l){if(super(),this.textNode=n,s<0||s>n.data.length)throw new K("view-textproxy-wrong-offsetintext",this);if(l<0||s+l>n.data.length)throw new K("view-textproxy-wrong-length",this);this.data=n.data.substring(s,s+l),this.offsetInText=s}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const s=[];let l=n.includeSelf?this.textNode:this.parent;for(;l!==null;)s[n.parentFirst?"push":"unshift"](l),l=l.parent;return s}}Tr.prototype.is=function(A){return A==="$textProxy"||A==="view:$textProxy"||A==="textProxy"||A==="view:textProxy"};class ko{constructor(...n){this._patterns=[],this.add(...n)}add(...n){for(let s of n)(typeof s=="string"||s instanceof RegExp)&&(s={name:s}),this._patterns.push(s)}match(...n){for(const s of n)for(const l of this._patterns){const u=Lw(s,l);if(u)return{element:s,pattern:l,match:u}}return null}matchAll(...n){const s=[];for(const l of n)for(const u of this._patterns){const f=Lw(l,u);f&&s.push({element:l,pattern:u,match:f})}return s.length>0?s:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],s=n.name;return typeof n=="function"||!s||s instanceof RegExp?null:s}}function Lw(A,n){if(typeof n=="function")return n(A);const s={};return n.name&&(s.name=function(l,u){return l instanceof RegExp?!!u.match(l):l===u}(n.name,A.name),!s.name)||n.attributes&&(s.attributes=function(l,u){const f=new Set(u.getAttributeKeys());return Xs(l)?(l.style!==void 0&&J("matcher-pattern-deprecated-attributes-style-key",l),l.class!==void 0&&J("matcher-pattern-deprecated-attributes-class-key",l)):(f.delete("style"),f.delete("class")),Yg(l,f,b=>u.getAttribute(b))}(n.attributes,A),!s.attributes)||n.classes&&(s.classes=function(l,u){return Yg(l,u.getClassNames(),()=>{})}(n.classes,A),!s.classes)||n.styles&&(s.styles=function(l,u){return Yg(l,u.getStyleNames(!0),f=>u.getStyle(f))}(n.styles,A),!s.styles)?null:s}function Yg(A,n,s){const l=function(b){return Array.isArray(b)?b.map(_=>Xs(_)?(_.key!==void 0&&_.value!==void 0||J("matcher-pattern-missing-key-or-value",_),[_.key,_.value]):[_,!0]):Xs(b)?Object.entries(b):[[b,!0]]}(A),u=Array.from(n),f=[];if(l.forEach(([b,_])=>{u.forEach(E=>{(function(T,D){return T===!0||T===D||T instanceof RegExp&&D.match(T)})(b,E)&&function(T,D,U){if(T===!0)return!0;const H=U(D);return T===H||T instanceof RegExp&&!!String(H).match(T)}(_,E,s)&&f.push(E)})}),l.length&&!(f.length<l.length))return f}const $u=function(A){return typeof A=="symbol"||qs(A)&&fa(A)=="[object Symbol]"};var F0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O0=/^\w*$/;const N0=function(A,n){if(_i(A))return!1;var s=typeof A;return!(s!="number"&&s!="symbol"&&s!="boolean"&&A!=null&&!$u(A))||O0.test(A)||!F0.test(A)||n!=null&&A in Object(n)};function Xg(A,n){if(typeof A!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var s=function(){var l=arguments,u=n?n.apply(this,l):l[0],f=s.cache;if(f.has(u))return f.get(u);var b=A.apply(this,l);return s.cache=f.set(u,b)||f,b};return s.cache=new(Xg.Cache||er),s}Xg.Cache=er;const EB=Xg,xB=function(A){var n=EB(A,function(l){return s.size===500&&s.clear(),l}),s=n.cache;return n};var Pw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R0=/\\(\\)?/g,UK=xB(function(A){var n=[];return A.charCodeAt(0)===46&&n.push(""),A.replace(Pw,function(s,l,u,f){n.push(u?f.replace(R0,"$1"):l||s)}),n});const QK=UK,HK=function(A,n){for(var s=-1,l=A==null?0:A.length,u=Array(l);++s<l;)u[s]=n(A[s],s,A);return u};var hL=Ii?Ii.prototype:void 0,fL=hL?hL.toString:void 0;const zK=function A(n){if(typeof n=="string")return n;if(_i(n))return HK(n,A)+"";if($u(n))return fL?fL.call(n):"";var s=n+"";return s=="0"&&1/n==-1/0?"-0":s},BB=function(A){return A==null?"":zK(A)},SB=function(A,n){return _i(A)?A:N0(A,n)?[A]:QK(BB(A))},jK=function(A){var n=A==null?0:A.length;return n?A[n-1]:void 0},TB=function(A){if(typeof A=="string"||$u(A))return A;var n=A+"";return n=="0"&&1/A==-1/0?"-0":n},pL=function(A,n){for(var s=0,l=(n=SB(n,A)).length;A!=null&&s<l;)A=A[TB(n[s++])];return s&&s==l?A:void 0},gL=function(A,n,s){var l=-1,u=A.length;n<0&&(n=-n>u?0:u+n),(s=s>u?u:s)<0&&(s+=u),u=n>s?0:s-n>>>0,n>>>=0;for(var f=Array(u);++l<u;)f[l]=A[l+n];return f},VK=function(A,n){return n.length<2?A:pL(A,gL(n,0,-1))},KK=function(A,n){return n=SB(n,A),(A=VK(A,n))==null||delete A[TB(jK(n))]},GK=function(A,n){return A==null||KK(A,n)},U0=function(A,n,s){var l=A==null?void 0:pL(A,n);return l===void 0?s:l},IB=function(A,n,s){(s!==void 0&&!mo(A[n],s)||s===void 0&&!(n in A))&&qi(A,n,s)},WK=function(A){return function(n,s,l){for(var u=-1,f=Object(n),b=l(n),_=b.length;_--;){var E=b[++u];if(s(f[E],E,f)===!1)break}return n}}(),$K=function(A){return qs(A)&&O(A)},mL=function(A,n){if((n!=="constructor"||typeof A[n]!="function")&&n!="__proto__")return A[n]},qK=function(A){return nr(A,kt(A))},YK=function(A,n,s,l,u,f,b){var _=mL(A,s),E=mL(n,s),T=b.get(E);if(T)IB(A,s,T);else{var D=void 0,U=D===void 0;if(U){var H=_i(E),$=!H&&ir(E),tt=!H&&!$&&ln(E);D=E,H||$||tt?_i(_)?D=_:$K(_)?D=Pe(_):$?(U=!1,D=te(E,!0)):tt?(U=!1,D=xc(E,!0)):D=[]:Xs(E)||In(E)?(D=_,In(_)?D=qK(_):Pt(_)&&!Ki(_)||(D=Yi(E))):U=!1}U&&(b.set(E,D),u(D,E,l,f,b),b.delete(E)),IB(A,s,D)}},XK=function A(n,s,l,u,f){n!==s&&WK(s,function(b,_){if(f||(f=new Di),Pt(b))YK(n,s,_,l,A,u,f);else{var E=void 0;E===void 0&&(E=b),IB(n,_,E)}},kt)},Tf=function(A){return A},ZK=function(A,n,s){switch(s.length){case 0:return A.call(n);case 1:return A.call(n,s[0]);case 2:return A.call(n,s[0],s[1]);case 3:return A.call(n,s[0],s[1],s[2])}return A.apply(n,s)};var bL=Math.max;const JK=function(A,n,s){return n=bL(n===void 0?A.length-1:n,0),function(){for(var l=arguments,u=-1,f=bL(l.length-n,0),b=Array(f);++u<f;)b[u]=l[n+u];u=-1;for(var _=Array(n+1);++u<n;)_[u]=l[u];return _[n]=s(b),ZK(A,this,_)}},tG=function(A){return function(){return A}},eG=Wa?function(A,n){return Wa(A,"toString",{configurable:!0,enumerable:!1,value:tG(n),writable:!0})}:Tf;var nG=Date.now;const iG=function(A){var n=0,s=0;return function(){var l=nG(),u=16-(l-s);if(s=l,u>0){if(++n>=800)return arguments[0]}else n=0;return A.apply(void 0,arguments)}}(eG),sG=function(A,n){return iG(JK(A,n,Tf),A+"")},rG=function(A,n,s){if(!Pt(s))return!1;var l=typeof n;return!!(l=="number"?O(s)&&Ko(n,s.length):l=="string"&&n in s)&&mo(s[n],A)},wL=function(A){return sG(function(n,s){var l=-1,u=s.length,f=u>1?s[u-1]:void 0,b=u>2?s[2]:void 0;for(f=A.length>3&&typeof f=="function"?(u--,f):void 0,b&&rG(s[0],s[1],b)&&(f=u<3?void 0:f,u=1),n=Object(n);++l<u;){var _=s[l];_&&A(n,_,l,f)}return n})},vL=wL(function(A,n,s){XK(A,n,s)}),oG=function(A,n,s,l){if(!Pt(A))return A;for(var u=-1,f=(n=SB(n,A)).length,b=f-1,_=A;_!=null&&++u<f;){var E=TB(n[u]),T=s;if(E==="__proto__"||E==="constructor"||E==="prototype")return A;if(u!=b){var D=_[E];(T=void 0)==void 0&&(T=Pt(D)?D:Ko(n[u+1])?[]:{})}Us(_,E,T),_=_[E]}return A},aG=function(A,n,s){return A==null?A:oG(A,n,s)};class lG{constructor(n){this._styles={},this._styleProcessor=n}get isEmpty(){const n=Object.entries(this._styles);return!Array.from(n).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const s=Array.from(function(l){let u=null,f=0,b=0,_=null;const E=new Map;if(l==="")return E;l.charAt(l.length-1)!=";"&&(l+=";");for(let T=0;T<l.length;T++){const D=l.charAt(T);if(u===null)switch(D){case":":_||(_=l.substr(f,T-f),b=T+1);break;case'"':case"'":u=D;break;case";":{const U=l.substr(b,T-b);_&&E.set(_.trim(),U.trim()),_=null,f=T+1;break}}else D===u&&(u=null)}return E}(n).entries());for(const[l,u]of s)this._styleProcessor.toNormalizedForm(l,u,this._styles)}has(n){if(this.isEmpty)return!1;const s=this._styleProcessor.getReducedForm(n,this._styles).find(([l])=>l===n);return Array.isArray(s)}set(n,s){if(Pt(n))for(const[l,u]of Object.entries(n))this._styleProcessor.toNormalizedForm(l,u,this._styles);else this._styleProcessor.toNormalizedForm(n,s,this._styles)}remove(n){const s=DB(n);GK(this._styles,s),delete this._styles[n],this._cleanEmptyObjectsOnPath(s)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!Pt(this._styles[n]))return this._styles[n];const s=this._styleProcessor.getReducedForm(n,this._styles).find(([l])=>l===n);return Array.isArray(s)?s[1]:void 0}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([s])=>s)}clear(){this._styles={}}_getStylesEntries(){const n=[],s=Object.keys(this._styles);for(const l of s)n.push(...this._styleProcessor.getReducedForm(l,this._styles));return n}_cleanEmptyObjectsOnPath(n){const s=n.split(".");if(!(s.length>1))return;const l=s.splice(0,s.length-1).join("."),u=U0(this._styles,l);u&&!Array.from(Object.keys(u)).length&&this.remove(l)}}class cG{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,s,l){if(Pt(s))MB(l,DB(n),s);else if(this._normalizers.has(n)){const u=this._normalizers.get(n),{path:f,value:b}=u(s);MB(l,f,b)}else MB(l,n,s)}getNormalized(n,s){if(!n)return vL({},s);if(s[n]!==void 0)return s[n];if(this._extractors.has(n)){const l=this._extractors.get(n);if(typeof l=="string")return U0(s,l);const u=l(n,s);if(u)return u}return U0(s,DB(n))}getReducedForm(n,s){const l=this.getNormalized(n,s);return l===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(l):[[n,l]]}getStyleNames(n){const s=Array.from(this._consumables.keys()).filter(u=>{const f=this.getNormalized(u,n);return f&&typeof f=="object"?Object.keys(f).length:f}),l=new Set([...s,...Object.keys(n)]);return Array.from(l.values())}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,s){this._normalizers.set(n,s)}setExtractor(n,s){this._extractors.set(n,s)}setReducer(n,s){this._reducers.set(n,s)}setStyleRelation(n,s){this._mapStyleNames(n,s);for(const l of s)this._mapStyleNames(l,[n])}_mapStyleNames(n,s){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...s)}}function DB(A){return A.replace("-",".")}function MB(A,n,s){let l=s;Pt(s)&&(l=vL({},U0(A,n),s)),aG(A,n,l)}class el extends kA{constructor(n,s,l,u){if(super(n),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=s,this._attrs=function(f){const b=eo(f);for(const[_,E]of b)E===null?b.delete(_):typeof E!="string"&&b.set(_,String(E));return b}(l),this._children=[],u&&this._insertChild(0,u),this._classes=new Set,this._attrs.has("class")){const f=this._attrs.get("class");_L(this._classes,f),this._attrs.delete("class")}this._styles=new lG(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const s=this._styles.toString();return s==""?void 0:s}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof el))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[s,l]of this._attrs)if(!n._attrs.has(s)||n._attrs.get(s)!==l)return!1;for(const s of this._classes)if(!n._classes.has(s))return!1;for(const s of this._styles.getStyleNames())if(!n._styles.has(s)||n._styles.getAsString(s)!==this._styles.getAsString(s))return!1;return!0}hasClass(...n){for(const s of n)if(!this._classes.has(s))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const s of n)if(!this._styles.has(s))return!1;return!0}findAncestor(...n){const s=new ko(...n);let l=this.parent;for(;l&&!l.is("documentFragment");){if(s.match(l))return l;l=l.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),s=this._styles.toString(),l=Array.from(this._attrs).map(u=>`${u[0]}="${u[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(s?` style="${s}"`:"")+(l==""?"":` ${l}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const s=[];if(n)for(const u of this.getChildren())s.push(u._clone(n));const l=new this.constructor(this.document,this.name,this._attrs,s);return l._classes=new Set(this._classes),l._styles.set(this._styles.getNormalized()),l._customProperties=new Map(this._customProperties),l.getFillerOffset=this.getFillerOffset,l._unsafeAttributesToRender=this._unsafeAttributesToRender,l}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,s){this._fireChange("children",this);let l=0;const u=function(f,b){return typeof b=="string"?[new ci(f,b)]:(ti(b)||(b=[b]),Array.from(b).map(_=>typeof _=="string"?new ci(f,_):_ instanceof Tr?new ci(f,_.data):_))}(this.document,s);for(const f of u)f.parent!==null&&f._remove(),f.parent=this,f.document=this.document,this._children.splice(n,0,f),n++,l++;return l}_removeChildren(n,s=1){this._fireChange("children",this);for(let l=n;l<n+s;l++)this._children[l].parent=null;return this._children.splice(n,s)}_setAttribute(n,s){const l=String(s);this._fireChange("attributes",this),n=="class"?_L(this._classes,l):n=="style"?this._styles.setTo(l):this._attrs.set(n,l)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0&&(this._classes.clear(),!0):n=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const s of Dn(n))this._classes.add(s)}_removeClass(n){this._fireChange("attributes",this);for(const s of Dn(n))this._classes.delete(s)}_setStyle(n,s){this._fireChange("attributes",this),typeof n!="string"?this._styles.set(n):this._styles.set(n,s)}_removeStyle(n){this._fireChange("attributes",this);for(const s of Dn(n))this._styles.remove(s)}_setCustomProperty(n,s){this._customProperties.set(n,s)}_removeCustomProperty(n){return this._customProperties.delete(n)}}function _L(A,n){const s=n.split(/\s+/);A.clear(),s.forEach(l=>A.add(l))}el.prototype.is=function(A,n){return n?n===this.name&&(A==="element"||A==="view:element"):A==="element"||A==="view:element"||A==="node"||A==="view:node"};class Fw extends el{constructor(n,s,l,u){super(n,s,l,u),this.getFillerOffset=kL}}function kL(){const A=[...this.getChildren()],n=A[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const s of A)if(!s.is("uiElement"))return null;return this.childCount}Fw.prototype.is=function(A,n){return n?n===this.name&&(A==="containerElement"||A==="view:containerElement"||A==="element"||A==="view:element"):A==="containerElement"||A==="view:containerElement"||A==="element"||A==="view:element"||A==="node"||A==="view:node"};class Q0 extends ae(Fw){constructor(n,s,l,u){super(n,s,l,u),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(n),this.bind("isFocused").to(n,"isFocused",f=>f&&n.selection.editableElement==this),this.listenTo(n.selection,"change",()=>{this.isFocused=n.isFocused&&n.selection.editableElement==this})}destroy(){this.stopListening()}}Q0.prototype.is=function(A,n){return n?n===this.name&&(A==="editableElement"||A==="view:editableElement"||A==="containerElement"||A==="view:containerElement"||A==="element"||A==="view:element"):A==="editableElement"||A==="view:editableElement"||A==="containerElement"||A==="view:containerElement"||A==="element"||A==="view:element"||A==="node"||A==="view:node"};const yL=Symbol("rootName");class CL extends Q0{constructor(n,s){super(n,s),this.rootName="main"}get rootName(){return this.getCustomProperty(yL)}set rootName(n){this._setCustomProperty(yL,n)}set _name(n){this.name=n}}CL.prototype.is=function(A,n){return n?n===this.name&&(A==="rootElement"||A==="view:rootElement"||A==="editableElement"||A==="view:editableElement"||A==="containerElement"||A==="view:containerElement"||A==="element"||A==="view:element"):A==="rootElement"||A==="view:rootElement"||A==="editableElement"||A==="view:editableElement"||A==="containerElement"||A==="view:containerElement"||A==="element"||A==="view:element"||A==="node"||A==="view:node"};class If{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new K("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new K("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this._position=de._createAt(n.startPosition):this._position=de._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let s,l;do l=this.position,s=this.next();while(!s.done&&n(s.value));s.done||(this._position=l)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const s=this.position,l=n.parent;if(l.parent===null&&n.offset===l.childCount)return{done:!0,value:void 0};if(l===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let u;if(l instanceof ci){if(n.isAtEnd)return this._position=de._createAfter(l),this._next();u=l.data[n.offset]}else u=l.getChild(n.offset);if(u instanceof el){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}else n=new de(u,0);return this._position=n,this._formatReturnValue("elementStart",u,s,n,1)}if(u instanceof ci){if(this.singleCharacters)return n=new de(u,0),this._position=n,this._next();let f,b=u.data.length;return u==this._boundaryEndParent?(b=this.boundaries.end.offset,f=new Tr(u,0,b),n=de._createAfter(f)):(f=new Tr(u,0,u.data.length),n.offset++),this._position=n,this._formatReturnValue("text",f,s,n,b)}if(typeof u=="string"){let f;this.singleCharacters?f=1:f=(l===this._boundaryEndParent?this.boundaries.end.offset:l.data.length)-n.offset;const b=new Tr(l,n.offset,f);return n.offset+=f,this._position=n,this._formatReturnValue("text",b,s,n,f)}return n=de._createAfter(l),this._position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",l,s,n)}_previous(){let n=this.position.clone();const s=this.position,l=n.parent;if(l.parent===null&&n.offset===0)return{done:!0,value:void 0};if(l==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let u;if(l instanceof ci){if(n.isAtStart)return this._position=de._createBefore(l),this._previous();u=l.data[n.offset-1]}else u=l.getChild(n.offset-1);if(u instanceof el)return this.shallow?(n.offset--,this._position=n,this._formatReturnValue("elementStart",u,s,n,1)):(n=new de(u,u.childCount),this._position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",u,s,n));if(u instanceof ci){if(this.singleCharacters)return n=new de(u,u.data.length),this._position=n,this._previous();let f,b=u.data.length;if(u==this._boundaryStartParent){const _=this.boundaries.start.offset;f=new Tr(u,_,u.data.length-_),b=f.data.length,n=de._createBefore(f)}else f=new Tr(u,0,u.data.length),n.offset--;return this._position=n,this._formatReturnValue("text",f,s,n,b)}if(typeof u=="string"){let f;if(this.singleCharacters)f=1;else{const _=l===this._boundaryStartParent?this.boundaries.start.offset:0;f=n.offset-_}n.offset-=f;const b=new Tr(l,n.offset,f);return this._position=n,this._formatReturnValue("text",b,s,n,f)}return n=de._createBefore(l),this._position=n,this._formatReturnValue("elementStart",l,s,n,1)}_formatReturnValue(n,s,l,u,f){return s instanceof Tr&&(s.offsetInText+s.data.length==s.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?l=de._createAfter(s.textNode):(u=de._createAfter(s.textNode),this._position=u)),s.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?l=de._createBefore(s.textNode):(u=de._createBefore(s.textNode),this._position=u))),{done:!1,value:{type:n,item:s,previousPosition:l,nextPosition:u,length:f}}}}class de extends pd{constructor(n,s){super(),this.parent=n,this.offset=s}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof Q0);){if(!n.parent)return null;n=n.parent}return n}getShiftedBy(n){const s=de._createAt(this),l=s.offset+n;return s.offset=l<0?0:l,s}getLastMatchingPosition(n,s={}){s.startPosition=this;const l=new If(s);return l.skip(n),l.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const s=this.getAncestors(),l=n.getAncestors();let u=0;for(;s[u]==l[u]&&s[u];)u++;return u===0?null:s[u-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const s=this.parent.is("node")?this.parent.getPath():[],l=n.parent.is("node")?n.parent.getPath():[];s.push(this.offset),l.push(n.offset);const u=xn(s,l);switch(u){case"prefix":return"before";case"extension":return"after";default:return s[u]<l[u]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new If(n)}clone(){return new de(this.parent,this.offset)}static _createAt(n,s){if(n instanceof de)return new this(n.parent,n.offset);{const l=n;if(s=="end")s=l.is("$text")?l.data.length:l.childCount;else{if(s=="before")return this._createBefore(l);if(s=="after")return this._createAfter(l);if(s!==0&&!s)throw new K("view-createpositionat-offset-required",l)}return new de(l,s)}}static _createAfter(n){if(n.is("$textProxy"))return new de(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new K("view-position-after-root",n,{root:n});return new de(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new de(n.textNode,n.offsetInText);if(!n.parent)throw new K("view-position-before-root",n,{root:n});return new de(n.parent,n.index)}}de.prototype.is=function(A){return A==="position"||A==="view:position"};class qe extends pd{constructor(n,s=null){super(),this.start=n.clone(),this.end=s?s.clone():n.clone()}*[Symbol.iterator](){yield*new If({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(H0,{direction:"backward"}),s=this.end.getLastMatchingPosition(H0);return n.parent.is("$text")&&n.isAtStart&&(n=de._createBefore(n.parent)),s.parent.is("$text")&&s.isAtEnd&&(s=de._createAfter(s.parent)),new qe(n,s)}getTrimmed(){let n=this.start.getLastMatchingPosition(H0);if(n.isAfter(this.end)||n.isEqual(this.end))return new qe(n,n);let s=this.end.getLastMatchingPosition(H0,{direction:"backward"});const l=n.nodeAfter,u=s.nodeBefore;return l&&l.is("$text")&&(n=new de(l,0)),u&&u.is("$text")&&(s=new de(u,u.data.length)),new qe(n,s)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,s=!1){n.isCollapsed&&(s=!1);const l=this.containsPosition(n.start)||s&&this.start.isEqual(n.start),u=this.containsPosition(n.end)||s&&this.end.isEqual(n.end);return l&&u}getDifference(n){const s=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&s.push(new qe(this.start,n.start)),this.containsPosition(n.end)&&s.push(new qe(n.end,this.end))):s.push(this.clone()),s}getIntersection(n){if(this.isIntersecting(n)){let s=this.start,l=this.end;return this.containsPosition(n.start)&&(s=n.start),this.containsPosition(n.end)&&(l=n.end),new qe(s,l)}return null}getWalker(n={}){return n.boundaries=this,new If(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,s=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(s=this.end.parent.previousSibling),n&&n.is("element")&&n===s?n:null}clone(){return new qe(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const s=new If(n);for(const l of s)yield l.item}*getPositions(n={}){n.boundaries=this;const s=new If(n);yield s.position;for(const l of s)yield l.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,s,l,u){return new this(new de(n,s),new de(l,u))}static _createFromPositionAndShift(n,s){const l=n,u=n.getShiftedBy(s);return s>0?new this(l,u):new this(u,l)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const s=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(de._createBefore(n),s)}}function H0(A){return!(!A.item.is("attributeElement")&&!A.item.is("uiElement"))}qe.prototype.is=function(A){return A==="range"||A==="view:range"};class gd extends Dt(pd){constructor(...n){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const s of this._ranges)n&&!s.start.isBefore(n.start)||(n=s);return n?n.clone():null}getLastRange(){let n=null;for(const s of this._ranges)n&&!s.end.isAfter(n.end)||(n=s);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const s of this._ranges){let l=!1;for(const u of n._ranges)if(s.isEqual(u)){l=!0;break}if(!l)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const s=vs(this.getRanges());if(s!=vs(n.getRanges()))return!1;if(s==0)return!0;for(let l of this.getRanges()){l=l.getTrimmed();let u=!1;for(let f of n.getRanges())if(f=f.getTrimmed(),l.start.isEqual(f.start)&&l.end.isEqual(f.end)){u=!0;break}if(!u)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[s,l,u]=n;if(typeof l=="object"&&(u=l,l=void 0),s===null)this._setRanges([]),this._setFakeOptions(u);else if(s instanceof gd||s instanceof LB)this._setRanges(s.getRanges(),s.isBackward),this._setFakeOptions({fake:s.isFake,label:s.fakeSelectionLabel});else if(s instanceof qe)this._setRanges([s],u&&u.backward),this._setFakeOptions(u);else if(s instanceof de)this._setRanges([new qe(s)]),this._setFakeOptions(u);else if(s instanceof kA){const f=!!u&&!!u.backward;let b;if(l===void 0)throw new K("view-selection-setto-required-second-parameter",this);b=l=="in"?qe._createIn(s):l=="on"?qe._createOn(s):new qe(de._createAt(s,l)),this._setRanges([b],f),this._setFakeOptions(u)}else{if(!ti(s))throw new K("view-selection-setto-not-selectable",this);this._setRanges(s,u&&u.backward),this._setFakeOptions(u)}this.fire("change")}setFocus(n,s){if(this.anchor===null)throw new K("view-selection-setfocus-no-ranges",this);const l=de._createAt(n,s);if(l.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.pop(),l.compareWith(u)=="before"?this._addRange(new qe(l,u),!0):this._addRange(new qe(u,l)),this.fire("change")}_setRanges(n,s=!1){n=Array.from(n),this._ranges=[];for(const l of n)this._addRange(l);this._lastRangeBackward=!!s}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,s=!1){if(!(n instanceof qe))throw new K("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!s}_pushRange(n){for(const s of this._ranges)if(n.isIntersecting(s))throw new K("view-selection-range-intersects",this,{addedRange:n,intersectingRange:s});this._ranges.push(new qe(n.start,n.end))}}gd.prototype.is=function(A){return A==="selection"||A==="view:selection"};class LB extends Dt(pd){constructor(...n){super(),this._selection=new gd,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,s){this._selection.setFocus(n,s)}}LB.prototype.is=function(A){return A==="selection"||A=="documentSelection"||A=="view:selection"||A=="view:documentSelection"};class Zg extends R{constructor(n,s,l){super(n,s),this.startRange=l,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const PB=Symbol("bubbling contexts");function FB(A){return class extends A{fire(n,...s){try{const l=n instanceof R?n:new R(this,n),u=OB(this);if(!u.size)return;if(Ow(l,"capturing",this),Jg(u,"$capture",l,...s))return l.return;const f=l.startRange||this.selection.getFirstRange(),b=f?f.getContainedElement():null,_=!!b&&!!EL(u,b);let E=b||function(T){if(!T)return null;const D=T.start.parent,U=T.end.parent,H=D.getPath(),$=U.getPath();return H.length>$.length?D:U}(f);if(Ow(l,"atTarget",E),!_){if(Jg(u,"$text",l,...s))return l.return;Ow(l,"bubbling",E)}for(;E;){if(E.is("rootElement")){if(Jg(u,"$root",l,...s))return l.return}else if(E.is("element")&&Jg(u,E.name,l,...s))return l.return;if(Jg(u,E,l,...s))return l.return;E=E.parent,Ow(l,"bubbling",E)}return Ow(l,"bubbling",this),Jg(u,"$document",l,...s),l.return}catch(l){K.rethrowUnexpectedError(l,this)}}_addEventListener(n,s,l){const u=Dn(l.context||"$document"),f=OB(this);for(const b of u){let _=f.get(b);_||(_=new(Dt()),f.set(b,_)),this.listenTo(_,n,s,l)}}_removeEventListener(n,s){const l=OB(this);for(const u of l.values())this.stopListening(u,n,s)}}}{const A=FB(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{FB[n]=A.prototype[n]})}function Ow(A,n,s){A instanceof Zg&&(A._eventPhase=n,A._currentTarget=s)}function Jg(A,n,s,...l){const u=typeof n=="string"?A.get(n):EL(A,n);return!!u&&(u.fire(s,...l),s.stop.called)}function EL(A,n){for(const[s,l]of A)if(typeof s=="function"&&s(n))return l;return null}function OB(A){return A[PB]||(A[PB]=new Map),A[PB]}class z0 extends FB(ae()){constructor(n){super(),this._postFixers=new Set,this.selection=new LB,this.roots=new Hs({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.map(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let s=!1;do for(const l of this._postFixers)if(s=l(n),s)break;while(s)}}class Df extends el{constructor(n,s,l,u){super(n,s,l,u),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=dG}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new K("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const s=super._clone(n);return s._priority=this._priority,s._id=this._id,s}}function dG(){if(NB(this))return null;let A=this.parent;for(;A&&A.is("attributeElement");){if(NB(A)>1)return null;A=A.parent}return!A||NB(A)>1?null:this.childCount}function NB(A){return Array.from(A.getChildren()).filter(n=>!n.is("uiElement")).length}Df.DEFAULT_PRIORITY=10,Df.prototype.is=function(A,n){return n?n===this.name&&(A==="attributeElement"||A==="view:attributeElement"||A==="element"||A==="view:element"):A==="attributeElement"||A==="view:attributeElement"||A==="element"||A==="view:element"||A==="node"||A==="view:node"};class RB extends el{constructor(n,s,l,u){super(n,s,l,u),this.getFillerOffset=AG}_insertChild(n,s){if(s&&(s instanceof kA||Array.from(s).length>0))throw new K("view-emptyelement-cannot-add",[this,s]);return 0}}function AG(){return null}RB.prototype.is=function(A,n){return n?n===this.name&&(A==="emptyElement"||A==="view:emptyElement"||A==="element"||A==="view:element"):A==="emptyElement"||A==="view:emptyElement"||A==="element"||A==="view:element"||A==="node"||A==="view:node"};class j0 extends el{constructor(n,s,l,u){super(n,s,l,u),this.getFillerOffset=hG}_insertChild(n,s){if(s&&(s instanceof kA||Array.from(s).length>0))throw new K("view-uielement-cannot-add",[this,s]);return 0}render(n,s){return this.toDomElement(n)}toDomElement(n){const s=n.createElement(this.name);for(const l of this.getAttributeKeys())s.setAttribute(l,this.getAttribute(l));return s}}function uG(A){A.document.on("arrowKey",(n,s)=>function(l,u,f){if(u.keyCode==qt.arrowright){const b=u.domTarget.ownerDocument.defaultView.getSelection(),_=b.rangeCount==1&&b.getRangeAt(0).collapsed;if(_||u.shiftKey){const E=b.focusNode,T=b.focusOffset,D=f.domPositionToView(E,T);if(D===null)return;let U=!1;const H=D.getLastMatchingPosition($=>($.item.is("uiElement")&&(U=!0),!(!$.item.is("uiElement")&&!$.item.is("attributeElement"))));if(U){const $=f.viewPositionToDom(H);_?b.collapse($.parent,$.offset):b.extend($.parent,$.offset)}}}}(0,s,A.domConverter),{priority:"low"})}function hG(){return null}j0.prototype.is=function(A,n){return n?n===this.name&&(A==="uiElement"||A==="view:uiElement"||A==="element"||A==="view:element"):A==="uiElement"||A==="view:uiElement"||A==="element"||A==="view:element"||A==="node"||A==="view:node"};class UB extends el{constructor(n,s,l,u){super(n,s,l,u),this.getFillerOffset=fG}_insertChild(n,s){if(s&&(s instanceof kA||Array.from(s).length>0))throw new K("view-rawelement-cannot-add",[this,s]);return 0}render(n,s){}}function fG(){return null}UB.prototype.is=function(A,n){return n?n===this.name&&(A==="rawElement"||A==="view:rawElement"||A==="element"||A==="view:element"):A==="rawElement"||A==="view:rawElement"||A===this.name||A==="view:"+this.name||A==="element"||A==="view:element"||A==="node"||A==="view:node"};class Mf extends Dt(pd){constructor(n,s){super(),this._children=[],this._customProperties=new Map,this.document=n,s&&this._insertChild(0,s)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,s){this._fireChange("children",this);let l=0;const u=function(f,b){return typeof b=="string"?[new ci(f,b)]:(ti(b)||(b=[b]),Array.from(b).map(_=>typeof _=="string"?new ci(f,_):_ instanceof Tr?new ci(f,_.data):_))}(this.document,s);for(const f of u)f.parent!==null&&f._remove(),f.parent=this,this._children.splice(n,0,f),n++,l++;return l}_removeChildren(n,s=1){this._fireChange("children",this);for(let l=n;l<n+s;l++)this._children[l].parent=null;return this._children.splice(n,s)}_fireChange(n,s){this.fire("change:"+n,s)}_setCustomProperty(n,s){this._customProperties.set(n,s)}_removeCustomProperty(n){return this._customProperties.delete(n)}}Mf.prototype.is=function(A){return A==="documentFragment"||A==="view:documentFragment"};class xL{constructor(n){this._cloneGroups=new Map,this._slotFactory=null,this.document=n}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(n,s){this.document.selection._setFocus(n,s)}createDocumentFragment(n){return new Mf(this.document,n)}createText(n){return new ci(this.document,n)}createAttributeElement(n,s,l={}){const u=new Df(this.document,n,s);return typeof l.priority=="number"&&(u._priority=l.priority),l.id&&(u._id=l.id),l.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),u}createContainerElement(n,s,l={},u={}){let f=null;Xs(l)?u=l:f=l;const b=new Fw(this.document,n,s,f);return u.renderUnsafeAttributes&&b._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),b}createEditableElement(n,s,l={}){const u=new Q0(this.document,n,s);return l.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),u}createEmptyElement(n,s,l={}){const u=new RB(this.document,n,s);return l.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),u}createUIElement(n,s,l){const u=new j0(this.document,n,s);return l&&(u.render=l),u}createRawElement(n,s,l,u={}){const f=new UB(this.document,n,s);return l&&(f.render=l),u.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),f}setAttribute(n,s,l){l._setAttribute(n,s)}removeAttribute(n,s){s._removeAttribute(n)}addClass(n,s){s._addClass(n)}removeClass(n,s){s._removeClass(n)}setStyle(n,s,l){Xs(n)&&l===void 0?s._setStyle(n):l._setStyle(n,s)}removeStyle(n,s){s._removeStyle(n)}setCustomProperty(n,s,l){l._setCustomProperty(n,s)}removeCustomProperty(n,s){return s._removeCustomProperty(n)}breakAttributes(n){return n instanceof de?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const s=n.parent;if(!s.is("containerElement"))throw new K("view-writer-break-non-container-element",this.document);if(!s.parent)throw new K("view-writer-break-root",this.document);if(n.isAtStart)return de._createBefore(s);if(!n.isAtEnd){const l=s._clone(!1);this.insert(de._createAfter(s),l);const u=new qe(n,de._createAt(s,"end")),f=new de(l,0);this.move(u,f)}return de._createAfter(s)}mergeAttributes(n){const s=n.offset,l=n.parent;if(l.is("$text"))return n;if(l.is("attributeElement")&&l.childCount===0){const b=l.parent,_=l.index;return l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new de(b,_))}const u=l.getChild(s-1),f=l.getChild(s);if(!u||!f)return n;if(u.is("$text")&&f.is("$text"))return SL(u,f);if(u.is("attributeElement")&&f.is("attributeElement")&&u.isSimilar(f)){const b=u.childCount;return u._appendChild(f.getChildren()),f._remove(),this._removeFromClonedElementsGroup(f),this.mergeAttributes(new de(u,b))}return n}mergeContainers(n){const s=n.nodeBefore,l=n.nodeAfter;if(!(s&&l&&s.is("containerElement")&&l.is("containerElement")))throw new K("view-writer-merge-containers-invalid-position",this.document);const u=s.getChild(s.childCount-1),f=u instanceof ci?de._createAt(u,"end"):de._createAt(s,"end");return this.move(qe._createIn(l),de._createAt(s,"end")),this.remove(qe._createOn(l)),f}insert(n,s){TL(s=ti(s)?[...s]:[s],this.document);const l=s.reduce((b,_)=>{const E=b[b.length-1],T=!_.is("uiElement");return E&&E.breakAttributes==T?E.nodes.push(_):b.push({breakAttributes:T,nodes:[_]}),b},[]);let u=null,f=n;for(const{nodes:b,breakAttributes:_}of l){const E=this._insertNodes(f,b,_);u||(u=E.start),f=E.end}return u?new qe(u,f):new qe(n)}remove(n){const s=n instanceof qe?n:qe._createOn(n);if(Nw(s,this.document),s.isCollapsed)return new Mf(this.document);const{start:l,end:u}=this._breakAttributesRange(s,!0),f=l.parent,b=u.offset-l.offset,_=f._removeChildren(l.offset,b);for(const T of _)this._removeFromClonedElementsGroup(T);const E=this.mergeAttributes(l);return s.start=E,s.end=E.clone(),new Mf(this.document,_)}clear(n,s){Nw(n,this.document);const l=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const u of l){const f=u.item;let b;if(f.is("element")&&s.isSimilar(f))b=qe._createOn(f);else if(!u.nextPosition.isAfter(n.start)&&f.is("$textProxy")){const _=f.getAncestors().find(E=>E.is("element")&&s.isSimilar(E));_&&(b=qe._createIn(_))}b&&(b.end.isAfter(n.end)&&(b.end=n.end),b.start.isBefore(n.start)&&(b.start=n.start),this.remove(b))}}move(n,s){let l;if(s.isAfter(n.end)){const u=(s=this._breakAttributes(s,!0)).parent,f=u.childCount;n=this._breakAttributesRange(n,!0),l=this.remove(n),s.offset+=u.childCount-f}else l=this.remove(n);return this.insert(s,l)}wrap(n,s){if(!(s instanceof Df))throw new K("view-writer-wrap-invalid-attribute",this.document);if(Nw(n,this.document),n.isCollapsed){let u=n.start;u.parent.is("element")&&(l=u.parent,!Array.from(l.getChildren()).some(b=>!b.is("uiElement")))&&(u=u.getLastMatchingPosition(b=>b.item.is("uiElement"))),u=this._wrapPosition(u,s);const f=this.document.selection;return f.isCollapsed&&f.getFirstPosition().isEqual(n.start)&&this.setSelection(u),new qe(u)}return this._wrapRange(n,s);var l}unwrap(n,s){if(!(s instanceof Df))throw new K("view-writer-unwrap-invalid-attribute",this.document);if(Nw(n,this.document),n.isCollapsed)return n;const{start:l,end:u}=this._breakAttributesRange(n,!0),f=l.parent,b=this._unwrapChildren(f,l.offset,u.offset,s),_=this.mergeAttributes(b.start);_.isEqual(b.start)||b.end.offset--;const E=this.mergeAttributes(b.end);return new qe(_,E)}rename(n,s){const l=new Fw(this.document,n,s.getAttributes());return this.insert(de._createAfter(s),l),this.move(qe._createIn(s),de._createAt(l,0)),this.remove(qe._createOn(s)),l}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,s){return de._createAt(n,s)}createPositionAfter(n){return de._createAfter(n)}createPositionBefore(n){return de._createBefore(n)}createRange(n,s){return new qe(n,s)}createRangeOn(n){return qe._createOn(n)}createRangeIn(n){return qe._createIn(n)}createSelection(...n){return new gd(...n)}createSlot(n="children"){if(!this._slotFactory)throw new K("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,s,l){let u,f;if(u=l?QB(n):n.parent.is("$text")?n.parent.parent:n.parent,!u)throw new K("view-writer-invalid-position-container",this.document);f=l?this._breakAttributes(n,!0):n.parent.is("$text")?HB(n):n;const b=u._insertChild(f.offset,s);for(const D of s)this._addToClonedElementsGroup(D);const _=f.getShiftedBy(b),E=this.mergeAttributes(f);E.isEqual(f)||_.offset--;const T=this.mergeAttributes(_);return new qe(E,T)}_wrapChildren(n,s,l,u){let f=s;const b=[];for(;f<l;){const E=n.getChild(f),T=E.is("$text"),D=E.is("attributeElement");if(D&&this._wrapAttributeElement(u,E))b.push(new de(n,f));else if(T||!D||pG(u,E)){const U=u._clone();E._remove(),U._appendChild(E),n._insertChild(f,U),this._addToClonedElementsGroup(U),b.push(new de(n,f))}else this._wrapChildren(E,0,E.childCount,u);f++}let _=0;for(const E of b)E.offset-=_,E.offset!=s&&(this.mergeAttributes(E).isEqual(E)||(_++,l--));return qe._createFromParentsAndOffsets(n,s,n,l)}_unwrapChildren(n,s,l,u){let f=s;const b=[];for(;f<l;){const E=n.getChild(f);if(E.is("attributeElement"))if(E.isSimilar(u)){const T=E.getChildren(),D=E.childCount;E._remove(),n._insertChild(f,T),this._removeFromClonedElementsGroup(E),b.push(new de(n,f),new de(n,f+D)),f+=D,l+=D-1}else this._unwrapAttributeElement(u,E)?(b.push(new de(n,f),new de(n,f+1)),f++):(this._unwrapChildren(E,0,E.childCount,u),f++);else f++}let _=0;for(const E of b)E.offset-=_,!(E.offset==s||E.offset==l)&&(this.mergeAttributes(E).isEqual(E)||(_++,l--));return qe._createFromParentsAndOffsets(n,s,n,l)}_wrapRange(n,s){const{start:l,end:u}=this._breakAttributesRange(n,!0),f=l.parent,b=this._wrapChildren(f,l.offset,u.offset,s),_=this.mergeAttributes(b.start);_.isEqual(b.start)||b.end.offset--;const E=this.mergeAttributes(b.end);return new qe(_,E)}_wrapPosition(n,s){if(s.isSimilar(n.parent))return BL(n.clone());n.parent.is("$text")&&(n=HB(n));const l=this.createAttributeElement("_wrapPosition-fake-element");l._priority=Number.POSITIVE_INFINITY,l.isSimilar=()=>!1,n.parent._insertChild(n.offset,l);const u=new qe(n,n.getShiftedBy(1));this.wrap(u,s);const f=new de(l.parent,l.index);l._remove();const b=f.nodeBefore,_=f.nodeAfter;return b instanceof ci&&_ instanceof ci?SL(b,_):BL(f)}_wrapAttributeElement(n,s){if(!IL(n,s)||n.name!==s.name||n.priority!==s.priority)return!1;for(const l of n.getAttributeKeys())if(l!=="class"&&l!=="style"&&s.hasAttribute(l)&&s.getAttribute(l)!==n.getAttribute(l))return!1;for(const l of n.getStyleNames())if(s.hasStyle(l)&&s.getStyle(l)!==n.getStyle(l))return!1;for(const l of n.getAttributeKeys())l!=="class"&&l!=="style"&&(s.hasAttribute(l)||this.setAttribute(l,n.getAttribute(l),s));for(const l of n.getStyleNames())s.hasStyle(l)||this.setStyle(l,n.getStyle(l),s);for(const l of n.getClassNames())s.hasClass(l)||this.addClass(l,s);return!0}_unwrapAttributeElement(n,s){if(!IL(n,s)||n.name!==s.name||n.priority!==s.priority)return!1;for(const l of n.getAttributeKeys())if(l!=="class"&&l!=="style"&&(!s.hasAttribute(l)||s.getAttribute(l)!==n.getAttribute(l)))return!1;if(!s.hasClass(...n.getClassNames()))return!1;for(const l of n.getStyleNames())if(!s.hasStyle(l)||s.getStyle(l)!==n.getStyle(l))return!1;for(const l of n.getAttributeKeys())l!=="class"&&l!=="style"&&this.removeAttribute(l,s);return this.removeClass(Array.from(n.getClassNames()),s),this.removeStyle(Array.from(n.getStyleNames()),s),!0}_breakAttributesRange(n,s=!1){const l=n.start,u=n.end;if(Nw(n,this.document),n.isCollapsed){const E=this._breakAttributes(n.start,s);return new qe(E,E)}const f=this._breakAttributes(u,s),b=f.parent.childCount,_=this._breakAttributes(l,s);return f.offset+=f.parent.childCount-b,new qe(_,f)}_breakAttributes(n,s=!1){const l=n.offset,u=n.parent;if(n.parent.is("emptyElement"))throw new K("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new K("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new K("view-writer-cannot-break-raw-element",this.document);if(!s&&u.is("$text")&&zB(u.parent)||zB(u))return n.clone();if(u.is("$text"))return this._breakAttributes(HB(n),s);if(l==u.childCount){const f=new de(u.parent,u.index+1);return this._breakAttributes(f,s)}if(l===0){const f=new de(u.parent,u.index);return this._breakAttributes(f,s)}{const f=u.index+1,b=u._clone();u.parent._insertChild(f,b),this._addToClonedElementsGroup(b);const _=u.childCount-l,E=u._removeChildren(l,_);b._appendChild(E);const T=new de(u.parent,f);return this._breakAttributes(T,s)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const u of n.getChildren())this._addToClonedElementsGroup(u);const s=n.id;if(!s)return;let l=this._cloneGroups.get(s);l||(l=new Set,this._cloneGroups.set(s,l)),l.add(n),n._clonesGroup=l}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const u of n.getChildren())this._removeFromClonedElementsGroup(u);const s=n.id;if(!s)return;const l=this._cloneGroups.get(s);l&&l.delete(n)}}function QB(A){let n=A.parent;for(;!zB(n);){if(!n)return;n=n.parent}return n}function pG(A,n){return A.priority<n.priority||!(A.priority>n.priority)&&A.getIdentity()<n.getIdentity()}function BL(A){const n=A.nodeBefore;if(n&&n.is("$text"))return new de(n,n.data.length);const s=A.nodeAfter;return s&&s.is("$text")?new de(s,0):A}function HB(A){if(A.offset==A.parent.data.length)return new de(A.parent.parent,A.parent.index+1);if(A.offset===0)return new de(A.parent.parent,A.parent.index);const n=A.parent.data.slice(A.offset);return A.parent._data=A.parent.data.slice(0,A.offset),A.parent.parent._insertChild(A.parent.index+1,new ci(A.root.document,n)),new de(A.parent.parent,A.parent.index+1)}function SL(A,n){const s=A.data.length;return A._data+=n.data,n._remove(),new de(A,s)}const gG=[ci,Df,Fw,RB,UB,j0];function TL(A,n){for(const s of A){if(!gG.some(l=>s instanceof l))throw new K("view-writer-insert-invalid-node-type",n);s.is("$text")||TL(s.getChildren(),n)}}function zB(A){return A&&(A.is("containerElement")||A.is("documentFragment"))}function Nw(A,n){const s=QB(A.start),l=QB(A.end);if(!s||!l||s!==l)throw new K("view-writer-invalid-range-container",n)}function IL(A,n){return A.id===null&&n.id===null}const DL=A=>A.createTextNode("Â "),ML=A=>{const n=A.createElement("span");return n.dataset.ckeFiller="true",n.innerText="Â ",n},LL=A=>{const n=A.createElement("br");return n.dataset.ckeFiller="true",n},Sc=7,Rw="â ".repeat(Sc);function nl(A){return typeof A=="string"?A.substr(0,Sc)===Rw:Mi(A)&&A.data.substr(0,Sc)===Rw}function Uw(A){return A.data.length==Sc&&nl(A)}function PL(A){const n=typeof A=="string"?A:A.data;return nl(A)?n.slice(Sc):n}function mG(A,n){if(n.keyCode==qt.arrowleft){const s=n.domTarget.ownerDocument.defaultView.getSelection();if(s.rangeCount==1&&s.getRangeAt(0).collapsed){const l=s.getRangeAt(0).startContainer,u=s.getRangeAt(0).startOffset;nl(l)&&u<=Sc&&s.collapse(l,0)}}}var FL=o(9315),bG={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(FL.Z,bG),FL.Z.locals;class wG extends ae(){constructor(n,s){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=n,this.selection=s,this.set("isFocused",!1),this.set("isSelecting",!1),w.isBlink&&!w.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(n,s){if(n==="text")this.domConverter.mapViewToDom(s.parent)&&this.markedTexts.add(s);else{if(!this.domConverter.mapViewToDom(s))return;if(n==="attributes")this.markedAttributes.add(s);else{if(n!=="children")throw new K("view-renderer-unknown-type",this);this.markedChildren.add(s)}}}render(){if(this.isComposing&&!w.isAndroid)return;let n=null;const s=!(w.isBlink&&!w.isAndroid)||!this.isSelecting;for(const l of this.markedChildren)this._updateChildrenMappings(l);s?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=de._createBefore(n.parent)));for(const l of this.markedAttributes)this._updateAttrs(l);for(const l of this.markedChildren)this._updateChildren(l,{inlineFillerPosition:n});for(const l of this.markedTexts)!this.markedChildren.has(l.parent)&&this.domConverter.mapViewToDom(l.parent)&&this._updateText(l,{inlineFillerPosition:n});if(s)if(n){const l=this.domConverter.viewPositionToDom(n),u=l.parent.ownerDocument;nl(l.parent)?this._inlineFiller=l.parent:this._inlineFiller=OL(u,l.parent,l.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){if(!this.domConverter.mapViewToDom(n))return;const s=Array.from(this.domConverter.mapViewToDom(n).childNodes),l=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),u=this._diffNodeLists(s,l),f=this._findUpdateActions(u,s,l,vG);if(f.indexOf("update")!==-1){const b={equal:0,insert:0,delete:0};for(const _ of f)if(_==="update"){const E=b.equal+b.insert,T=b.equal+b.delete,D=n.getChild(E);!D||D.is("uiElement")||D.is("rawElement")||this._updateElementMappings(D,s[T]),Vu(l[E]),b.equal++}else b[_]++}}_updateElementMappings(n,s){this.domConverter.unbindDomElement(s),this.domConverter.bindElements(s,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?de._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),s=this.domConverter.viewPositionToDom(n);return!!(s&&Mi(s.parent)&&nl(s.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!nl(n))throw new K("view-renderer-filler-was-lost",this);Uw(n)?n.remove():n.data=n.data.substr(Sc),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),s=n.parent,l=n.offset;if(!this.domConverter.mapViewToDom(s.root)||!s.is("element")||!function(b){if(b.getAttribute("contenteditable")=="false")return!1;const _=b.findAncestor(E=>E.hasAttribute("contenteditable"));return!_||_.getAttribute("contenteditable")=="true"}(s)||l===s.getFillerOffset())return!1;const u=n.nodeBefore,f=n.nodeAfter;return!(u instanceof ci||f instanceof ci)&&(!w.isAndroid||!u&&!f)}_updateText(n,s){const l=this.domConverter.findCorrespondingDomText(n);let u=this.domConverter.viewToDom(n).data;const f=s.inlineFillerPosition;f&&f.parent==n.parent&&f.offset==n.index&&(u=Rw+u),NL(l,u)}_updateAttrs(n){const s=this.domConverter.mapViewToDom(n);if(!s)return;const l=Array.from(s.attributes).map(f=>f.name),u=n.getAttributeKeys();for(const f of u)this.domConverter.setDomElementAttribute(s,f,n.getAttribute(f),n);for(const f of l)n.hasAttribute(f)||this.domConverter.removeDomElementAttribute(s,f)}_updateChildren(n,s){const l=this.domConverter.mapViewToDom(n);if(!l)return;if(w.isAndroid){let U=null;for(const H of Array.from(l.childNodes)){if(U&&Mi(U)&&Mi(H)){l.normalize();break}U=H}}const u=s.inlineFillerPosition,f=l.childNodes,b=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));u&&u.parent===n&&OL(l.ownerDocument,b,u.offset);const _=this._diffNodeLists(f,b),E=this._findUpdateActions(_,f,b,_G);let T=0;const D=new Set;for(const U of E)U==="delete"?(D.add(f[T]),Vu(f[T])):U!=="equal"&&U!=="update"||T++;T=0;for(const U of E)U==="insert"?(vf(l,T,b[T]),T++):U==="update"?(NL(f[T],b[T].data),T++):U==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(b[T])),T++);for(const U of D)U.parentNode||this.domConverter.unbindDomElement(U)}_diffNodeLists(n,s){return n=function(l,u){const f=Array.from(l);return f.length==0||!u||f[f.length-1]==u&&f.pop(),f}(n,this._fakeSelectionContainer),I(n,s,kG.bind(null,this.domConverter))}_findUpdateActions(n,s,l,u){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let f=[],b=[],_=[];const E={equal:0,insert:0,delete:0};for(const T of n)T==="insert"?_.push(l[E.equal+E.insert]):T==="delete"?b.push(s[E.equal+E.delete]):(f=f.concat(I(b,_,u).map(D=>D==="equal"?"update":D)),f.push("equal"),b=[],_=[]),E[T]++;return f.concat(I(b,_,u).map(T=>T==="equal"?"update":T))}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const s of n.getChildren())this._markDescendantTextToSync(s)}}_updateSelection(){if(w.isBlink&&!w.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const n=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&n&&(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&w.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const s=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(b){const _=b.createElement("div");return _.className="ck-fake-selection-container",Object.assign(_.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),_.textContent="Â ",_}(s));const l=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(l,this.selection),!this._fakeSelectionNeedsUpdate(n))return;l.parentElement&&l.parentElement==n||n.appendChild(l),l.textContent=this.selection.fakeSelectionLabel||"Â ";const u=s.getSelection(),f=s.createRange();u.removeAllRanges(),f.selectNodeContents(l),u.addRange(f)}_updateDomSelection(n){const s=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(s))return;const l=this.domConverter.viewPositionToDom(this.selection.anchor),u=this.domConverter.viewPositionToDom(this.selection.focus);s.setBaseAndExtent(l.parent,l.offset,u.parent,u.offset),w.isGecko&&function(f,b){const _=f.parent;if(_.nodeType!=Node.ELEMENT_NODE||f.offset!=_.childNodes.length-1)return;const E=_.childNodes[f.offset];E&&E.tagName=="BR"&&b.addRange(b.getRangeAt(0))}(u,s)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const s=n&&this.domConverter.domSelectionToView(n);return(!s||!this.selection.isEqual(s))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(s))}_fakeSelectionNeedsUpdate(n){const s=this._fakeSelectionContainer,l=n.ownerDocument.getSelection();return!s||s.parentElement!==n||l.anchorNode!==s&&!s.contains(l.anchorNode)||s.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const s=n.getSelection();if(s.rangeCount){const l=n.activeElement,u=this.domConverter.mapDomToView(l);l&&u&&s.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}}function OL(A,n,s){const l=n instanceof Array?n:n.childNodes,u=l[s];if(Mi(u))return u.data=Rw+u.data,u;{const f=A.createTextNode(Rw);return Array.isArray(n)?l.splice(s,0,f):vf(n,s,f),f}}function vG(A,n){return Ae(A)&&Ae(n)&&!Mi(A)&&!Mi(n)&&!hd(A)&&!hd(n)&&A.tagName.toLowerCase()===n.tagName.toLowerCase()}function _G(A,n){return Ae(A)&&Ae(n)&&Mi(A)&&Mi(n)}function kG(A,n,s){return n===s||(Mi(n)&&Mi(s)?n.data===s.data:!(!A.isBlockFiller(n)||!A.isBlockFiller(s)))}function NL(A,n){const s=A.data;if(s==n)return;const l=k(s,n);for(const u of l)u.type==="insert"?A.insertData(u.index,u.values.join("")):A.deleteData(u.index,u.howMany)}const yG=LL(Ce.document),CG=DL(Ce.document),EG=ML(Ce.document),V0="data-ck-unsafe-attribute-",RL="data-ck-unsafe-element";class K0{constructor(n,{blockFillerMode:s,renderingMode:l="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ko,this._inlineObjectElementMatcher=new ko,this.document=n,this.renderingMode=l,this.blockFillerMode=s||(l==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Ce.document:Ce.document.implementation.createHTMLDocument("")}bindFakeSelection(n,s){this._fakeSelectionMapping.set(n,new gd(s))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,s){this._domToViewMapping.set(n,s),this._viewToDomMapping.set(s,n)}unbindDomElement(n){const s=this._domToViewMapping.get(n);if(s){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(s);for(const l of Array.from(n.children))this.unbindDomElement(l)}}bindDocumentFragments(n,s){this._domToViewMapping.set(n,s),this._viewToDomMapping.set(s,n)}shouldRenderAttribute(n,s,l){return this.renderingMode==="data"||!(n=n.toLowerCase()).startsWith("on")&&(n!=="srcdoc"||!s.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(l==="img"&&(n==="src"||n==="srcset")||l==="source"&&n==="srcset"||!s.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,s){if(this.renderingMode==="data")return void(n.innerHTML=s);const l=new DOMParser().parseFromString(s,"text/html"),u=l.createDocumentFragment(),f=l.body.childNodes;for(;f.length>0;)u.appendChild(f[0]);const b=l.createTreeWalker(u,NodeFilter.SHOW_ELEMENT),_=[];let E;for(;E=b.nextNode();)_.push(E);for(const T of _){for(const U of T.getAttributeNames())this.setDomElementAttribute(T,U,T.getAttribute(U));const D=T.tagName.toLowerCase();this._shouldRenameElement(D)&&(HL(D),T.replaceWith(this._createReplacementDomElement(D,T)))}for(;n.firstChild;)n.firstChild.remove();n.append(u)}viewToDom(n,s={}){if(n.is("$text")){const l=this._processDataFromViewText(n);return this._domDocument.createTextNode(l)}{if(this.mapViewToDom(n))return this.mapViewToDom(n);let l;if(n.is("documentFragment"))l=this._domDocument.createDocumentFragment(),s.bind&&this.bindDocumentFragments(l,n);else{if(n.is("uiElement"))return l=n.name==="$comment"?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),s.bind&&this.bindElements(l,n),l;this._shouldRenameElement(n.name)?(HL(n.name),l=this._createReplacementDomElement(n.name)):l=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(l,this),s.bind&&this.bindElements(l,n);for(const u of n.getAttributeKeys())this.setDomElementAttribute(l,u,n.getAttribute(u),n)}if(s.withChildren!==!1)for(const u of this.viewChildrenToDom(n,s))l.appendChild(u);return l}}setDomElementAttribute(n,s,l,u){const f=this.shouldRenderAttribute(s,l,n.tagName.toLowerCase())||u&&u.shouldRenderUnsafeAttribute(s);f||J("domconverter-unsafe-attribute-detected",{domElement:n,key:s,value:l}),function(b){try{Ce.document.createAttribute(b)}catch{return!1}return!0}(s)?(n.hasAttribute(s)&&!f?n.removeAttribute(s):n.hasAttribute(V0+s)&&f&&n.removeAttribute(V0+s),n.setAttribute(f?s:V0+s,l)):J("domconverter-invalid-attribute-detected",{domElement:n,key:s,value:l})}removeDomElementAttribute(n,s){s!=RL&&(n.removeAttribute(s),n.removeAttribute(V0+s))}*viewChildrenToDom(n,s={}){const l=n.getFillerOffset&&n.getFillerOffset();let u=0;for(const f of n.getChildren()){l===u&&(yield this._getBlockFiller());const b=f.is("element")&&!!f.getCustomProperty("dataPipeline:transparentRendering")&&!ai(f.getAttributes());b&&this.renderingMode=="data"?yield*this.viewChildrenToDom(f,s):(b&&J("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:f}),yield this.viewToDom(f,s)),u++}l===u&&(yield this._getBlockFiller())}viewRangeToDom(n){const s=this.viewPositionToDom(n.start),l=this.viewPositionToDom(n.end),u=this._domDocument.createRange();return u.setStart(s.parent,s.offset),u.setEnd(l.parent,l.offset),u}viewPositionToDom(n){const s=n.parent;if(s.is("$text")){const l=this.findCorrespondingDomText(s);if(!l)return null;let u=n.offset;return nl(l)&&(u+=Sc),{parent:l,offset:u}}{let l,u,f;if(n.offset===0){if(l=this.mapViewToDom(s),!l)return null;f=l.childNodes[0]}else{const b=n.nodeBefore;if(u=b.is("$text")?this.findCorrespondingDomText(b):this.mapViewToDom(b),!u)return null;l=u.parentNode,f=u.nextSibling}return Mi(f)&&nl(f)?{parent:f,offset:Sc}:{parent:l,offset:u?zu(u)+1:0}}}domToView(n,s={}){const l=[],u=this._domToView(n,s,l),f=u.next().value;return f?(u.next(),this._processDomInlineNodes(null,l,s),f.is("$text")&&f.data.length==0?null:f):null}*domChildrenToView(n,s={},l=[]){for(let u=0;u<n.childNodes.length;u++){const f=n.childNodes[u],b=this._domToView(f,s,l),_=b.next().value;_!==null&&(this._isBlockViewElement(_)&&this._processDomInlineNodes(n,l,s),yield _,b.next())}this._processDomInlineNodes(n,l,s)}domSelectionToView(n){if(n.rangeCount===1){let u=n.getRangeAt(0).startContainer;Mi(u)&&(u=u.parentNode);const f=this.fakeSelectionToView(u);if(f)return f}const s=this.isDomSelectionBackward(n),l=[];for(let u=0;u<n.rangeCount;u++){const f=n.getRangeAt(u),b=this.domRangeToView(f);b&&l.push(b)}return new gd(l,{backward:s})}domRangeToView(n){const s=this.domPositionToView(n.startContainer,n.startOffset),l=this.domPositionToView(n.endContainer,n.endOffset);return s&&l?new qe(s,l):null}domPositionToView(n,s=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,zu(n));const l=this.mapDomToView(n);if(l&&(l.is("uiElement")||l.is("rawElement")))return de._createBefore(l);if(Mi(n)){if(Uw(n))return this.domPositionToView(n.parentNode,zu(n));const u=this.findCorrespondingViewText(n);let f=s;return u?(nl(n)&&(f-=Sc,f=f<0?0:f),new de(u,f)):null}if(s===0){const u=this.mapDomToView(n);if(u)return new de(u,0)}else{const u=n.childNodes[s-1];if(Mi(u)&&Uw(u)||u&&this.isBlockFiller(u))return this.domPositionToView(u.parentNode,zu(u));const f=Mi(u)?this.findCorrespondingViewText(u):this.mapDomToView(u);if(f&&f.parent)return new de(f.parent,f.index+1)}return null}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(Uw(n))return null;const s=this.getHostViewElement(n);if(s)return s;const l=n.previousSibling;if(l){if(!this.isElement(l))return null;const u=this.mapDomToView(l);if(u){const f=u.nextSibling;return f instanceof ci?f:null}}else{const u=this.mapDomToView(n.parentNode);if(u){const f=u.getChild(0);return f instanceof ci?f:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const s=n.previousSibling;return s&&this.mapViewToDom(s)?this.mapViewToDom(s).nextSibling:!s&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const s=this.mapViewToDom(n);if(s&&s.ownerDocument.activeElement!==s){const{scrollX:l,scrollY:u}=Ce.window,f=[];UL(s,b=>{const{scrollLeft:_,scrollTop:E}=b;f.push([_,E])}),s.focus(),UL(s,b=>{const[_,E]=f.shift();b.scrollLeft=_,b.scrollTop=E}),Ce.window.scrollTo(l,u)}}_clearDomSelection(){const n=this.mapViewToDom(this.document.selection.editableElement);if(!n)return;const s=n.ownerDocument.defaultView.getSelection(),l=this.domSelectionToView(s);l&&l.rangeCount>0&&s.removeAllRanges()}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode(yG):!(n.tagName!=="BR"||!QL(n,this.blockElements)||n.parentNode.childNodes.length!==1)||n.isEqualNode(EG)||function(s,l){return s.isEqualNode(CG)&&QL(s,l)&&s.parentNode.childNodes.length===1}(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const s=this._domDocument.createRange();try{s.setStart(n.anchorNode,n.anchorOffset),s.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const l=s.collapsed;return s.detach(),l}getHostViewElement(n){const s=function(l){const u=[];let f=l;for(;f&&f.nodeType!=Node.DOCUMENT_NODE;)u.unshift(f),f=f.parentNode;return u}(n);for(s.pop();s.length;){const l=s.pop(),u=this._domToViewMapping.get(l);if(u&&(u.is("uiElement")||u.is("rawElement")))return u}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}registerInlineObjectMatcher(n){this._inlineObjectElementMatcher.add(n)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return DL(this._domDocument);case"markedNbsp":return ML(this._domDocument);case"br":return LL(this._domDocument)}}_isDomSelectionPositionCorrect(n,s){if(Mi(n)&&nl(n)&&s<Sc||this.isElement(n)&&nl(n.childNodes[s]))return!1;const l=this.mapDomToView(n);return!l||!l.is("uiElement")&&!l.is("rawElement")}*_domToView(n,s,l){if(this.isBlockFiller(n))return null;const u=this.getHostViewElement(n);if(u)return u;if(hd(n)&&s.skipComments)return null;if(Mi(n)){if(Uw(n))return null;{const f=n.data;if(f==="")return null;const b=new ci(this.document,f);return l.push(b),b}}{let f=this.mapDomToView(n);if(f)return this._isInlineObjectElement(f)&&l.push(f),f;if(this.isDocumentFragment(n))f=new Mf(this.document),s.bind&&this.bindDocumentFragments(n,f);else{f=this._createViewElement(n,s),s.bind&&this.bindElements(n,f);const _=n.attributes;if(_)for(let E=_.length,T=0;T<E;T++)f._setAttribute(_[T].name,_[T].value);if(this._isViewElementWithRawContent(f,s))return f._setCustomProperty("$rawContent",n.innerHTML),this._isBlockViewElement(f)||l.push(f),f;if(hd(n))return f._setCustomProperty("$rawContent",n.data),f}yield f;const b=[];if(s.withChildren!==!1)for(const _ of this.domChildrenToView(n,s,b))f._appendChild(_);if(this._isInlineObjectElement(f))l.push(f);else for(const _ of b)l.push(_)}}_processDomInlineNodes(n,s,l){if(!s.length||n&&!this.isDocumentFragment(n)&&!this._isBlockDomElement(n))return;let u=!1;for(let f=0;f<s.length;f++){const b=s[f];if(!b.is("$text")){u=!1;continue}let _,E=!1;if(xG(b,this.preElements))_=PL(b.data);else{_=b.data.replace(/[ \n\t\r]{1,}/g," "),E=/[^\S\u00A0]/.test(_.charAt(_.length-1));const T=f>0?s[f-1]:null,D=f+1<s.length?s[f+1]:null,U=!T||T.is("element")&&T.name=="br"||u,H=!D&&!nl(b.data);l.withChildren!==!1&&(U&&(_=_.replace(/^ /,"")),H&&(_=_.replace(/ $/,""))),_=PL(_),_=_.replace(/ \u00A0/g,"  ");const $=D&&D.is("element")&&D.name!="br",tt=D&&D.is("$text")&&D.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(_)||!D||$||tt)&&(_=_.replace(/\u00A0$/," ")),(U||T&&T.is("element")&&T.name!="br")&&(_=_.replace(/^\u00A0/," "))}_.length==0&&b.parent?(b._remove(),s.splice(f,1),f--):(b._data=_,u=E)}s.length=0}_processDataFromViewText(n){let s=n.data;if(n.getAncestors().some(l=>this.preElements.includes(l.name)))return s;if(s.charAt(0)==" "){const l=this._getTouchingInlineViewNode(n,!1);!(l&&l.is("$textProxy")&&this._nodeEndsWithSpace(l))&&l||(s="Â "+s.substr(1))}if(s.charAt(s.length-1)==" "){const l=this._getTouchingInlineViewNode(n,!0),u=l&&l.is("$textProxy")&&l.data.charAt(0)==" ";s.charAt(s.length-2)!=" "&&l&&!u||(s=s.substr(0,s.length-1)+"Â ")}return s.replace(/ {2}/g," Â ")}_nodeEndsWithSpace(n){if(n.getAncestors().some(l=>this.preElements.includes(l.name)))return!1;const s=this._processDataFromViewText(n);return s.charAt(s.length-1)==" "}_getTouchingInlineViewNode(n,s){const l=new If({startPosition:s?de._createAfter(n):de._createBefore(n),direction:s?"forward":"backward"});for(const u of l){if(u.item.is("element","br"))return null;if(this._isInlineObjectElement(u.item))return u.item;if(u.item.is("containerElement"))return null;if(u.item.is("$textProxy"))return u.item}return null}_isBlockDomElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isBlockViewElement(n){return n.is("element")&&this.blockElements.includes(n.name)}_isInlineObjectElement(n){return!!n.is("element")&&(n.name=="br"||this.inlineObjectElements.includes(n.name)||!!this._inlineObjectElementMatcher.match(n))}_createViewElement(n,s){if(hd(n))return new j0(this.document,"$comment");const l=s.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new el(this.document,l)}_isViewElementWithRawContent(n,s){return s.withChildren!==!1&&n.is("element")&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const s=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(s)}_createReplacementDomElement(n,s){const l=this._domDocument.createElement("span");if(l.setAttribute(RL,n),s){for(;s.firstChild;)l.appendChild(s.firstChild);for(const u of s.getAttributeNames())l.setAttribute(u,s.getAttribute(u))}return l}}function xG(A,n){return A.getAncestors().some(s=>s.is("element")&&n.includes(s.name))}function UL(A,n){let s=A;for(;s;)n(s),s=s.parentElement}function QL(A,n){const s=A.parentNode;return!!s&&!!s.tagName&&n.includes(s.tagName.toLowerCase())}function HL(A){A==="script"&&J("domconverter-unsafe-script-element-detected"),A==="style"&&J("domconverter-unsafe-style-element-detected")}class md extends Vn(){constructor(n){super(),this._isEnabled=!1,this.view=n,this.document=n.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(n){return n&&n.nodeType===3&&(n=n.parentNode),!(!n||n.nodeType!==1)&&n.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const zL=wL(function(A,n){nr(n,kt(n),A)});class tm{constructor(n,s,l){this.view=n,this.document=n.document,this.domEvent=s,this.domTarget=s.target,zL(this,l)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class qu extends md{constructor(){super(...arguments),this.useCapture=!1}observe(n){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(s=>{this.listenTo(n,s,(l,u)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(u.target)&&this.onDomEvent(u)},{useCapture:this.useCapture})})}stopObserving(n){this.stopListening(n)}fire(n,s,l){this.isEnabled&&this.document.fire(n,new tm(this.view,s,l))}}class BG extends qu{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(n){const s={keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,get keystroke(){return tn(this)}};this.fire(n.type,n,s)}}const jB=function(){return vn.Date.now()};var SG=/\s/;const TG=function(A){for(var n=A.length;n--&&SG.test(A.charAt(n)););return n};var IG=/^\s+/;const DG=function(A){return A&&A.slice(0,TG(A)+1).replace(IG,"")};var MG=/^[-+]0x[0-9a-f]+$/i,LG=/^0b[01]+$/i,PG=/^0o[0-7]+$/i,FG=parseInt;const jL=function(A){if(typeof A=="number")return A;if($u(A))return NaN;if(Pt(A)){var n=typeof A.valueOf=="function"?A.valueOf():A;A=Pt(n)?n+"":n}if(typeof A!="string")return A===0?A:+A;A=DG(A);var s=LG.test(A);return s||PG.test(A)?FG(A.slice(2),s?2:8):MG.test(A)?NaN:+A};var OG=Math.max,NG=Math.min;const Qw=function(A,n,s){var l,u,f,b,_,E,T=0,D=!1,U=!1,H=!0;if(typeof A!="function")throw new TypeError("Expected a function");function $(It){var Wt=l,he=u;return l=u=void 0,T=It,b=A.apply(he,Wt)}function tt(It){var Wt=It-E;return E===void 0||Wt>=n||Wt<0||U&&It-T>=f}function it(){var It=jB();if(tt(It))return At(It);_=setTimeout(it,function(Wt){var he=n-(Wt-E);return U?NG(he,f-(Wt-T)):he}(It))}function At(It){return _=void 0,H&&l?$(It):(l=u=void 0,b)}function bt(){var It=jB(),Wt=tt(It);if(l=arguments,u=this,E=It,Wt){if(_===void 0)return function(he){return T=he,_=setTimeout(it,n),D?$(he):b}(E);if(U)return clearTimeout(_),_=setTimeout(it,n),$(E)}return _===void 0&&(_=setTimeout(it,n)),b}return n=jL(n)||0,Pt(s)&&(D=!!s.leading,f=(U="maxWait"in s)?OG(jL(s.maxWait)||0,n):f,H="trailing"in s?!!s.trailing:H),bt.cancel=function(){_!==void 0&&clearTimeout(_),T=0,l=E=u=_=void 0},bt.flush=function(){return _===void 0?b:At(jB())},bt};class RG extends md{constructor(n){super(n),this._fireSelectionChangeDoneDebounced=Qw(s=>{this.document.fire("selectionChangeDone",s)},200)}observe(){const n=this.document;n.on("arrowKey",(s,l)=>{n.selection.isFake&&this.isEnabled&&l.preventDefault()},{context:"$capture"}),n.on("arrowKey",(s,l)=>{n.selection.isFake&&this.isEnabled&&this._handleSelectionMove(l.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(n){const s=this.document.selection,l=new gd(s.getRanges(),{backward:s.isBackward,fake:!1});n!=qt.arrowleft&&n!=qt.arrowup||l.setTo(l.getFirstPosition()),n!=qt.arrowright&&n!=qt.arrowdown||l.setTo(l.getLastPosition());const u={oldSelection:s,newSelection:l,domSelection:null};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}const UG=function(A){return this.__data__.set(A,"__lodash_hash_undefined__"),this},QG=function(A){return this.__data__.has(A)};function G0(A){var n=-1,s=A==null?0:A.length;for(this.__data__=new er;++n<s;)this.add(A[n])}G0.prototype.add=G0.prototype.push=UG,G0.prototype.has=QG;const HG=G0,zG=function(A,n){for(var s=-1,l=A==null?0:A.length;++s<l;)if(n(A[s],s,A))return!0;return!1},jG=function(A,n){return A.has(n)},VL=function(A,n,s,l,u,f){var b=1&s,_=A.length,E=n.length;if(_!=E&&!(b&&E>_))return!1;var T=f.get(A),D=f.get(n);if(T&&D)return T==n&&D==A;var U=-1,H=!0,$=2&s?new HG:void 0;for(f.set(A,n),f.set(n,A);++U<_;){var tt=A[U],it=n[U];if(l)var At=b?l(it,tt,U,n,A,f):l(tt,it,U,A,n,f);if(At!==void 0){if(At)continue;H=!1;break}if($){if(!zG(n,function(bt,It){if(!jG($,It)&&(tt===bt||u(tt,bt,s,l,f)))return $.push(It)})){H=!1;break}}else if(tt!==it&&!u(tt,it,s,l,f)){H=!1;break}}return f.delete(A),f.delete(n),H},VG=function(A){var n=-1,s=Array(A.size);return A.forEach(function(l,u){s[++n]=[u,l]}),s},KG=function(A){var n=-1,s=Array(A.size);return A.forEach(function(l){s[++n]=l}),s};var KL=Ii?Ii.prototype:void 0,VB=KL?KL.valueOf:void 0;const GG=function(A,n,s,l,u,f,b){switch(s){case"[object DataView]":if(A.byteLength!=n.byteLength||A.byteOffset!=n.byteOffset)return!1;A=A.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(A.byteLength!=n.byteLength||!f(new Jr(A),new Jr(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return mo(+A,+n);case"[object Error]":return A.name==n.name&&A.message==n.message;case"[object RegExp]":case"[object String]":return A==n+"";case"[object Map]":var _=VG;case"[object Set]":var E=1&l;if(_||(_=KG),A.size!=n.size&&!E)return!1;var T=b.get(A);if(T)return T==n;l|=2,b.set(A,n);var D=VL(_(A),_(n),l,u,f,b);return b.delete(A),D;case"[object Symbol]":if(VB)return VB.call(A)==VB.call(n)}return!1};var WG=Object.prototype.hasOwnProperty;const $G=function(A,n,s,l,u,f){var b=1&s,_=$r(A),E=_.length;if(E!=$r(n).length&&!b)return!1;for(var T=E;T--;){var D=_[T];if(!(b?D in n:WG.call(n,D)))return!1}var U=f.get(A),H=f.get(n);if(U&&H)return U==n&&H==A;var $=!0;f.set(A,n),f.set(n,A);for(var tt=b;++T<E;){var it=A[D=_[T]],At=n[D];if(l)var bt=b?l(At,it,D,n,A,f):l(it,At,D,A,n,f);if(!(bt===void 0?it===At||u(it,At,s,l,f):bt)){$=!1;break}tt||(tt=D=="constructor")}if($&&!tt){var It=A.constructor,Wt=n.constructor;It==Wt||!("constructor"in A)||!("constructor"in n)||typeof It=="function"&&It instanceof It&&typeof Wt=="function"&&Wt instanceof Wt||($=!1)}return f.delete(A),f.delete(n),$};var GL="[object Arguments]",WL="[object Array]",W0="[object Object]",$L=Object.prototype.hasOwnProperty;const qG=function(A,n,s,l,u,f){var b=_i(A),_=_i(n),E=b?WL:vo(A),T=_?WL:vo(n),D=(E=E==GL?W0:E)==W0,U=(T=T==GL?W0:T)==W0,H=E==T;if(H&&ir(A)){if(!ir(n))return!1;b=!0,D=!1}if(H&&!D)return f||(f=new Di),b||ln(A)?VL(A,n,s,l,u,f):GG(A,n,E,s,l,u,f);if(!(1&s)){var $=D&&$L.call(A,"__wrapped__"),tt=U&&$L.call(n,"__wrapped__");if($||tt){var it=$?A.value():A,At=tt?n.value():n;return f||(f=new Di),u(it,At,s,l,f)}}return!!H&&(f||(f=new Di),$G(A,n,s,l,u,f))},qL=function A(n,s,l,u,f){return n===s||(n==null||s==null||!qs(n)&&!qs(s)?n!=n&&s!=s:qG(n,s,l,u,A,f))},YG=function(A,n,s){var l=(s=typeof s=="function"?s:void 0)?s(A,n):void 0;return l===void 0?qL(A,n,void 0,s):!!l};class YL extends md{constructor(n){super(n),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this.renderer=n._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.add(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}stopObserving(n){if(this._domElements.delete(n),this.isEnabled){this._mutationObserver.disconnect();for(const s of this._domElements)this._mutationObserver.observe(s,this._config)}}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const s=this.domConverter,l=new Set,u=new Set;for(const b of n){const _=s.mapDomToView(b.target);_&&(_.is("uiElement")||_.is("rawElement")||b.type!=="childList"||this._isBogusBrMutation(b)||u.add(_))}for(const b of n){const _=s.mapDomToView(b.target);if((!_||!_.is("uiElement")&&!_.is("rawElement"))&&b.type==="characterData"){const E=s.findCorrespondingViewText(b.target);E&&!u.has(E.parent)?l.add(E):!E&&nl(b.target)&&u.add(s.mapDomToView(b.target.parentNode))}}let f=!1;for(const b of l)f=!0,this.renderer.markToSync("text",b);for(const b of u){const _=s.mapViewToDom(b),E=Array.from(b.getChildren()),T=Array.from(s.domChildrenToView(_,{withChildren:!1}));YG(E,T,XG)||(f=!0,this.renderer.markToSync("children",b))}f&&this.view.forceRender()}_isBogusBrMutation(n){let s=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(s=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),s&&s.is("element","br")}}function XG(A,n){if(!Array.isArray(A))return A===n||!(!A.is("$text")||!n.is("$text"))&&A.data===n.data}class $0 extends qu{constructor(n){super(n),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const s=this.document;s.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),n.change(()=>{})},50)}),s.on("blur",(l,u)=>{const f=s.selection.editableElement;f!==null&&f!==u.target||(s.isFocused=!1,this._isFocusChanging=!1,n.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(n){this.fire(n.type,n)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class ZG extends md{constructor(n){super(n),this.mutationObserver=n.getObserver(YL),this.focusObserver=n.getObserver($0),this.selection=this.document.selection,this.domConverter=n.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Qw(s=>{this.document.fire("selectionChangeDone",s)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Qw(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(n){const s=n.ownerDocument,l=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,s),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(n,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(n,"keydown",l,{priority:"highest",useCapture:!0}),this.listenTo(n,"keyup",l,{priority:"highest",useCapture:!0}),this._documents.has(s)||(this.listenTo(s,"mouseup",l,{priority:"highest",useCapture:!0}),this.listenTo(s,"selectionchange",(u,f)=>{this.document.isComposing&&!w.isAndroid||(this._handleSelectionChange(f,s),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(s))}stopObserving(n){this.stopListening(n)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(n,s){if(!this.isEnabled)return;const l=s.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(l.anchorNode))return;this.mutationObserver.flush();const u=this.domConverter.domSelectionToView(l);if(u.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(u)||!this.domConverter.isDomSelectionCorrect(l))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(u))this.view.forceRender();else{const f={oldSelection:this.selection,newSelection:u,domSelection:l};this.document.fire("selectionChange",f),this._fireSelectionChangeDoneDebounced(f)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class JG extends qu{constructor(n){super(n),this.domEventType=["compositionstart","compositionupdate","compositionend"];const s=this.document;s.on("compositionstart",()=>{s.isComposing=!0},{priority:"low"}),s.on("compositionend",()=>{s.isComposing=!1},{priority:"low"})}onDomEvent(n){this.fire(n.type,n,{data:n.data})}}class XL{constructor(n,s={}){this._files=s.cacheFiles?ZL(n):null,this._native=n}get files(){return this._files||(this._files=ZL(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,s){this._native.setData(n,s)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}setDragImage(n,s,l){this._native.setDragImage(n,s,l)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function ZL(A){const n=Array.from(A.files||[]),s=Array.from(A.items||[]);return n.length?n:s.filter(l=>l.kind==="file").map(l=>l.getAsFile())}class tW extends qu{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(n){const s=n.getTargetRanges(),l=this.view,u=l.document;let f=null,b=null,_=[];if(n.dataTransfer&&(f=new XL(n.dataTransfer)),n.data!==null?b=n.data:f&&(b=f.getData("text/plain")),u.selection.isFake)_=Array.from(u.selection.getRanges());else if(s.length)_=s.map(E=>{const T=l.domConverter.domPositionToView(E.startContainer,E.startOffset),D=l.domConverter.domPositionToView(E.endContainer,E.endOffset);return T?l.createRange(T,D):D?l.createRange(D):void 0}).filter(E=>!!E);else if(w.isAndroid){const E=n.target.ownerDocument.defaultView.getSelection();_=Array.from(l.domConverter.domSelectionToView(E).getRanges())}if(w.isAndroid&&n.inputType=="insertCompositionText"&&b&&b.endsWith(`
`))this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:[l.createRange(_[0].end)]});else if(n.inputType=="insertText"&&b&&b.includes(`
`)){const E=b.split(/\n{1,2}/g);let T=_;for(let D=0;D<E.length;D++){const U=E[D];U!=""&&(this.fire(n.type,n,{data:U,dataTransfer:f,targetRanges:T,inputType:n.inputType,isComposing:n.isComposing}),T=[u.selection.getFirstRange()]),D+1<E.length&&(this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:T}),T=[u.selection.getFirstRange()])}}else this.fire(n.type,n,{data:b,dataTransfer:f,targetRanges:_,inputType:n.inputType,isComposing:n.isComposing})}}class eW extends md{constructor(n){super(n),this.document.on("keydown",(s,l)=>{if(this.isEnabled&&((u=l.keyCode)==qt.arrowright||u==qt.arrowleft||u==qt.arrowup||u==qt.arrowdown)){const f=new Zg(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(f,l),f.stop.called&&s.stop()}var u})}observe(){}stopObserving(){}}class nW extends md{constructor(n){super(n);const s=this.document;s.on("keydown",(l,u)=>{if(!this.isEnabled||u.keyCode!=qt.tab||u.ctrlKey)return;const f=new Zg(s,"tab",s.selection.getFirstRange());s.fire(f,u),f.stop.called&&l.stop()})}observe(){}stopObserving(){}}const Yu=function(A){return we(A,5)};class iW extends ae(){constructor(n){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new z0(n),this.domConverter=new K0(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new wG(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new xL(this.document),this.addObserver(YL),this.addObserver($0),this.addObserver(ZG),this.addObserver(BG),this.addObserver(RG),this.addObserver(JG),this.addObserver(eW),this.addObserver(tW),this.addObserver(nW),this.document.on("arrowKey",mG,{priority:"low"}),uG(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),w.isiOS&&this.listenTo(this.document,"blur",(s,l)=>{this.domConverter.mapDomToView(l.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(n,s="main"){const l=this.document.getRoot(s);l._name=n.tagName.toLowerCase();const u={};for(const{name:b,value:_}of Array.from(n.attributes))u[b]=_,b==="class"?this._writer.addClass(_.split(" "),l):this._writer.setAttribute(b,_,l);this._initialDomRootAttributes.set(n,u);const f=()=>{this._writer.setAttribute("contenteditable",(!l.isReadOnly).toString(),l),l.isReadOnly?this._writer.addClass("ck-read-only",l):this._writer.removeClass("ck-read-only",l)};f(),this.domRoots.set(s,n),this.domConverter.bindElements(n,l),this._renderer.markToSync("children",l),this._renderer.markToSync("attributes",l),this._renderer.domDocuments.add(n.ownerDocument),l.on("change:children",(b,_)=>this._renderer.markToSync("children",_)),l.on("change:attributes",(b,_)=>this._renderer.markToSync("attributes",_)),l.on("change:text",(b,_)=>this._renderer.markToSync("text",_)),l.on("change:isReadOnly",()=>this.change(f)),l.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const b of this._observers.values())b.observe(n,s)}detachDomRoot(n){const s=this.domRoots.get(n);Array.from(s.attributes).forEach(({name:u})=>s.removeAttribute(u));const l=this._initialDomRootAttributes.get(s);for(const u in l)s.setAttribute(u,l[u]);this.domRoots.delete(n),this.domConverter.unbindDomElement(s);for(const u of this._observers.values())u.stopObserving(s)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let s=this._observers.get(n);if(s)return s;s=new n(this),this._observers.set(n,s);for(const[l,u]of this.domRoots)s.observe(u,l);return s.enable(),s}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection({alignToTop:n,forceScroll:s,viewportOffset:l=20,ancestorOffset:u=20}={}){const f=this.document.selection.getFirstRange();if(!f)return;const b=Yu({alignToTop:n,forceScroll:s,viewportOffset:l,ancestorOffset:u});typeof l=="number"&&(l={top:l,bottom:l,left:l,right:l});const _={target:this.domConverter.viewRangeToDom(f),viewportOffset:l,ancestorOffset:u,alignToTop:n,forceScroll:s};this.fire("scrollToTheSelection",_,b),function({target:E,viewportOffset:T=0,ancestorOffset:D=0,alignToTop:U,forceScroll:H}){const $=ct(E);let tt=$,it=null;for(T=function(At){return typeof At=="number"?{top:At,bottom:At,left:At,right:At}:At}(T);tt;){let At;At=Ct(tt==$?E:it),m({parent:At,getRect:()=>Ot(E,tt),alignToTop:U,ancestorOffset:D,forceScroll:H});const bt=Ot(E,tt);if(zg({window:tt,rect:bt,viewportOffset:T,alignToTop:U,forceScroll:H}),tt.parent!=tt){if(it=tt.frameElement,tt=tt.parent,!it)return}else tt=null}}(_)}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new K("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const s=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),s}catch(s){K.rethrowUnexpectedError(s,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver($0).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,s){return de._createAt(n,s)}createPositionAfter(n){return de._createAfter(n)}createPositionBefore(n){return de._createBefore(n)}createRange(n,s){return new qe(n,s)}createRangeOn(n){return qe._createOn(n)}createRangeIn(n){return qe._createIn(n)}createSelection(...n){return new gd(...n)}_disableRendering(n){this._renderingDisabled=n,n==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Xu{is(){throw new Error("is() method is abstract")}}class Lf extends Xu{constructor(n){super(),this.parent=null,this._attrs=eo(n)}get document(){return null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))===null)throw new K("model-node-not-found-in-parent",this);return n}get startOffset(){let n;if(!this.parent)return null;if((n=this.parent.getChildStartOffset(this))===null)throw new K("model-node-not-found-in-parent",this);return n}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const n=[];let s=this;for(;s.parent;)n.unshift(s.startOffset),s=s.parent;return n}getAncestors(n={}){const s=[];let l=n.includeSelf?this:this.parent;for(;l;)s[n.parentFirst?"push":"unshift"](l),l=l.parent;return s}getCommonAncestor(n,s={}){const l=this.getAncestors(s),u=n.getAncestors(s);let f=0;for(;l[f]==u[f]&&l[f];)f++;return f===0?null:l[f-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const s=this.getPath(),l=n.getPath(),u=xn(s,l);switch(u){case"prefix":return!0;case"extension":return!1;default:return s[u]<l[u]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((s,l)=>(s[l[0]]=l[1],s),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,s){this._attrs.set(n,s)}_setAttributesTo(n){this._attrs=eo(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}}Lf.prototype.is=function(A){return A==="node"||A==="model:node"};class Hw{constructor(n){this._nodes=[],n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,s)=>n+s.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const s=this._nodes.indexOf(n);return s==-1?null:s}getNodeStartOffset(n){const s=this.getNodeIndex(n);return s===null?null:this._nodes.slice(0,s).reduce((l,u)=>l+u.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const s=this._nodes[n];if(!s)throw new K("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(s)}offsetToIndex(n){let s=0;for(const l of this._nodes){if(n>=s&&n<s+l.offsetSize)return this.getNodeIndex(l);s+=l.offsetSize}if(s!=n)throw new K("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,s){for(const l of s)if(!(l instanceof Lf))throw new K("model-nodelist-insertnodes-not-node",this);this._nodes=function(l,u,f,b){if(Math.max(u.length,l.length)>1e4)return l.slice(0,f).concat(u).concat(l.slice(f+b,l.length));{const _=Array.from(l);return _.splice(f,b,...u),_}}(this._nodes,Array.from(s),n,0)}_removeNodes(n,s=1){return this._nodes.splice(n,s)}toJSON(){return this._nodes.map(n=>n.toJSON())}}class yi extends Lf{constructor(n,s){super(s),this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new yi(this.data,this.getAttributes())}static fromJSON(n){return new yi(n.data,n.attributes)}}yi.prototype.is=function(A){return A==="$text"||A==="model:$text"||A==="text"||A==="model:text"||A==="node"||A==="model:node"};class Tc extends Xu{constructor(n,s,l){if(super(),this.textNode=n,s<0||s>n.offsetSize)throw new K("model-textproxy-wrong-offsetintext",this);if(l<0||s+l>n.offsetSize)throw new K("model-textproxy-wrong-length",this);this.data=n.data.substring(s,s+l),this.offsetInText=s}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const s=[];let l=n.includeSelf?this:this.parent;for(;l;)s[n.parentFirst?"push":"unshift"](l),l=l.parent;return s}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Tc.prototype.is=function(A){return A==="$textProxy"||A==="model:$textProxy"||A==="textProxy"||A==="model:textProxy"};class gi extends Lf{constructor(n,s,l){super(s),this._children=new Hw,this.name=n,l&&this._insertChild(0,l)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let s=this;for(const l of n)s=s.getChild(s.offsetToIndex(l));return s}findAncestor(n,s={}){let l=s.includeSelf?this:this.parent;for(;l;){if(l.name===n)return l;l=l.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const s of this._children)n.children.push(s.toJSON())}return n}_clone(n=!1){const s=n?Array.from(this._children).map(l=>l._clone(!0)):void 0;return new gi(this.name,this.getAttributes(),s)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,s){const l=function(u){return typeof u=="string"?[new yi(u)]:(ti(u)||(u=[u]),Array.from(u).map(f=>typeof f=="string"?new yi(f):f instanceof Tc?new yi(f.data,f.getAttributes()):f))}(s);for(const u of l)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(n,l)}_removeChildren(n,s=1){const l=this._children._removeNodes(n,s);for(const u of l)u.parent=null;return l}static fromJSON(n){let s;if(n.children){s=[];for(const l of n.children)l.name?s.push(gi.fromJSON(l)):s.push(yi.fromJSON(l))}return new gi(n.name,n.attributes,s)}}gi.prototype.is=function(A,n){return n?n===this.name&&(A==="element"||A==="model:element"):A==="element"||A==="model:element"||A==="node"||A==="model:node"};class bd{constructor(n){if(!n||!n.boundaries&&!n.startPosition)throw new K("model-tree-walker-no-start-position",null);const s=n.direction||"forward";if(s!="forward"&&s!="backward")throw new K("model-tree-walker-unknown-direction",n,{direction:s});this.direction=s,this.boundaries=n.boundaries||null,n.startPosition?this._position=n.startPosition.clone():this._position=Jt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let s,l,u,f;do u=this.position,f=this._visitedParent,{done:s,value:l}=this.next();while(!s&&n(l));s||(this._position=u,this._visitedParent=f)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,s=this.position.clone(),l=this._visitedParent;if(l.parent===null&&s.offset===l.maxOffset)return{done:!0,value:void 0};if(l===this._boundaryEndParent&&s.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const u=zw(s,l),f=u||JL(s,l,u);if(f instanceof gi){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(s))return{done:!0,value:void 0};s.offset++}else s.path.push(0),this._visitedParent=f;return this._position=s,Pf("elementStart",f,n,s,1)}if(f instanceof yi){let b;if(this.singleCharacters)b=1;else{let T=f.endOffset;this._boundaryEndParent==l&&this.boundaries.end.offset<T&&(T=this.boundaries.end.offset),b=T-s.offset}const _=s.offset-f.startOffset,E=new Tc(f,_,b);return s.offset+=b,this._position=s,Pf("text",E,n,s,b)}return s.path.pop(),s.offset++,this._position=s,this._visitedParent=l.parent,this.ignoreElementEnd?this._next():Pf("elementEnd",l,n,s)}_previous(){const n=this.position,s=this.position.clone(),l=this._visitedParent;if(l.parent===null&&s.offset===0)return{done:!0,value:void 0};if(l==this._boundaryStartParent&&s.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const u=s.parent,f=zw(s,u),b=f||tP(s,u,f);if(b instanceof gi)return s.offset--,this.shallow?(this._position=s,Pf("elementStart",b,n,s,1)):(s.path.push(b.maxOffset),this._position=s,this._visitedParent=b,this.ignoreElementEnd?this._previous():Pf("elementEnd",b,n,s));if(b instanceof yi){let _;if(this.singleCharacters)_=1;else{let D=b.startOffset;this._boundaryStartParent==l&&this.boundaries.start.offset>D&&(D=this.boundaries.start.offset),_=s.offset-D}const E=s.offset-b.startOffset,T=new Tc(b,E-_,_);return s.offset-=_,this._position=s,Pf("text",T,n,s,_)}return s.path.pop(),this._position=s,this._visitedParent=l.parent,Pf("elementStart",l,n,s,1)}}function Pf(A,n,s,l,u){return{done:!1,value:{type:A,item:n,previousPosition:s,nextPosition:l,length:u}}}class Jt extends Xu{constructor(n,s,l="toNone"){if(super(),!n.is("element")&&!n.is("documentFragment"))throw new K("model-position-root-invalid",n);if(!(s instanceof Array)||s.length===0)throw new K("model-position-path-incorrect-format",n,{path:s});n.is("rootElement")?s=s.slice():(s=[...n.getPath(),...s],n=n.root),this.root=n,this.path=s,this.stickiness=l}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let s=0;s<this.path.length-1;s++)if(n=n.getChild(n.offsetToIndex(this.path[s])),!n)throw new K("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new K("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return zw(this,this.parent)}get nodeAfter(){const n=this.parent;return JL(this,n,zw(this,n))}get nodeBefore(){const n=this.parent;return tP(this,n,zw(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const s=xn(this.path,n.path);switch(s){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[s]<n.path[s]?"before":"after"}}getLastMatchingPosition(n,s={}){s.startPosition=this;const l=new bd(s);return l.skip(n),l.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const s=this.parent;return s.is("element")?s.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const s=xn(this.path,n.path),l=typeof s=="string"?Math.min(this.path.length,n.path.length):s;return this.path.slice(0,l)}getCommonAncestor(n){const s=this.getAncestors(),l=n.getAncestors();let u=0;for(;s[u]==l[u]&&s[u];)u++;return u===0?null:s[u-1]}getShiftedBy(n){const s=this.clone(),l=s.offset+n;return s.offset=l<0?0:l,s}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const s=Math.min(this.path.length,n.path.length);for(let l=0;l<s;l++){const u=this.path[l]-n.path[l];if(u<-1||u>1)return!1;if(u===1)return eP(n,this,l);if(u===-1)return eP(this,n,l)}return this.path.length===n.path.length||(this.path.length>n.path.length?KB(this.path,s):KB(n.path,s))}hasSameParentAs(n){return this.root!==n.root?!1:xn(this.getParentPath(),n.getParentPath())=="same"}getTransformedByOperation(n){let s;switch(n.type){case"insert":s=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":s=this._getTransformedByMoveOperation(n);break;case"split":s=this._getTransformedBySplitOperation(n);break;case"merge":s=this._getTransformedByMergeOperation(n);break;default:s=Jt._createAt(this)}return s}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const s=n.movedRange;return s.containsPosition(this)||s.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const s=n.movedRange;let l;return s.containsPosition(this)||s.start.isEqual(this)?(l=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(l=l._getTransformedByDeletion(n.deletionPosition,1))):l=this.isEqual(n.deletionPosition)?Jt._createAt(n.deletionPosition):this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),l}_getTransformedByDeletion(n,s){const l=Jt._createAt(this);if(this.root!=n.root)return l;if(xn(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+s>this.offset)return null;l.offset-=s}}else if(xn(n.getParentPath(),this.getParentPath())=="prefix"){const u=n.path.length-1;if(n.offset<=this.path[u]){if(n.offset+s>this.path[u])return null;l.path[u]-=s}}return l}_getTransformedByInsertion(n,s){const l=Jt._createAt(this);if(this.root!=n.root)return l;if(xn(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(l.offset+=s);else if(xn(n.getParentPath(),this.getParentPath())=="prefix"){const u=n.path.length-1;n.offset<=this.path[u]&&(l.path[u]+=s)}return l}_getTransformedByMove(n,s,l){if(s=s._getTransformedByDeletion(n,l),n.isEqual(s))return Jt._createAt(this);const u=this._getTransformedByDeletion(n,l);return u===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(l).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,s):u._getTransformedByInsertion(s,l)}_getCombined(n,s){const l=n.path.length-1,u=Jt._createAt(s);return u.stickiness=this.stickiness,u.offset=u.offset+this.path[l]-n.offset,u.path=[...u.path,...this.path.slice(l+1)],u}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,s,l="toNone"){if(n instanceof Jt)return new Jt(n.root,n.path,n.stickiness);{const u=n;if(s=="end")s=u.maxOffset;else{if(s=="before")return this._createBefore(u,l);if(s=="after")return this._createAfter(u,l);if(s!==0&&!s)throw new K("model-createpositionat-offset-required",[this,n])}if(!u.is("element")&&!u.is("documentFragment"))throw new K("model-position-parent-incorrect",[this,n]);const f=u.getPath();return f.push(s),new this(u.root,f,l)}}static _createAfter(n,s){if(!n.parent)throw new K("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,s)}static _createBefore(n,s){if(!n.parent)throw new K("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,s)}static fromJSON(n,s){if(n.root==="$graveyard"){const l=new Jt(s.graveyard,n.path);return l.stickiness=n.stickiness,l}if(!s.getRoot(n.root))throw new K("model-position-fromjson-no-root",s,{rootName:n.root});return new Jt(s.getRoot(n.root),n.path,n.stickiness)}}function zw(A,n){const s=n.getChild(n.offsetToIndex(A.offset));return s&&s.is("$text")&&s.startOffset<A.offset?s:null}function JL(A,n,s){return s!==null?null:n.getChild(n.offsetToIndex(A.offset))}function tP(A,n,s){return s!==null?null:n.getChild(n.offsetToIndex(A.offset)-1)}function eP(A,n,s){return s+1!==A.path.length&&!!KB(n.path,s+1)&&!!function(l,u){let f=l.parent,b=l.path.length-1,_=0;for(;b>=u;){if(l.path[b]+_!==f.maxOffset)return!1;_=1,b--,f=f.parent}return!0}(A,s+1)}function KB(A,n){for(;n<A.length;){if(A[n]!==0)return!1;n++}return!0}Jt.prototype.is=function(A){return A==="position"||A==="model:position"};class zt extends Xu{constructor(n,s){super(),this.start=Jt._createAt(n),this.end=s?Jt._createAt(s):Jt._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new bd({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return xn(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,s=!1){n.isCollapsed&&(s=!1);const l=this.containsPosition(n.start)||s&&this.start.isEqual(n.start),u=this.containsPosition(n.end)||s&&this.end.isEqual(n.end);return l&&u}containsItem(n){const s=Jt._createBefore(n);return this.containsPosition(s)||this.start.isEqual(s)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const s=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&s.push(new zt(this.start,n.start)),this.containsPosition(n.end)&&s.push(new zt(n.end,this.end))):s.push(new zt(this.start,this.end)),s}getIntersection(n){if(this.isIntersecting(n)){let s=this.start,l=this.end;return this.containsPosition(n.start)&&(s=n.start),this.containsPosition(n.end)&&(l=n.end),new zt(s,l)}return null}getJoined(n,s=!1){let l=this.isIntersecting(n);if(l||(l=this.start.isBefore(n.start)?s?this.end.isTouching(n.start):this.end.isEqual(n.start):s?n.end.isTouching(this.start):n.end.isEqual(this.start)),!l)return null;let u=this.start,f=this.end;return n.start.isBefore(u)&&(u=n.start),n.end.isAfter(f)&&(f=n.end),new zt(u,f)}getMinimalFlatRanges(){const n=[],s=this.start.getCommonPath(this.end).length,l=Jt._createAt(this.start);let u=l.parent;for(;l.path.length>s+1;){const f=u.maxOffset-l.offset;f!==0&&n.push(new zt(l,l.getShiftedBy(f))),l.path=l.path.slice(0,-1),l.offset++,u=u.parent}for(;l.path.length<=this.end.path.length;){const f=this.end.path[l.path.length-1],b=f-l.offset;b!==0&&n.push(new zt(l,l.getShiftedBy(b))),l.offset=f,l.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new bd(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const s=new bd(n);for(const l of s)yield l.item}*getPositions(n={}){n.boundaries=this;const s=new bd(n);yield s.position;for(const l of s)yield l.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new zt(this.start,this.end)]}getTransformedByOperations(n){const s=[new zt(this.start,this.end)];for(const l of n)for(let u=0;u<s.length;u++){const f=s[u].getTransformedByOperation(l);s.splice(u,1,...f),u+=f.length-1}for(let l=0;l<s.length;l++){const u=s[l];for(let f=l+1;f<s.length;f++){const b=s[f];(u.containsRange(b)||b.containsRange(u)||u.isEqual(b))&&s.splice(f,1)}}return s}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,s=this.end.nodeBefore;return n&&n.is("element")&&n===s?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,s=!1){return this._getTransformedByInsertion(n.position,n.howMany,s)}_getTransformedByMoveOperation(n,s=!1){const l=n.sourcePosition,u=n.howMany,f=n.targetPosition;return this._getTransformedByMove(l,f,u,s)}_getTransformedBySplitOperation(n){const s=this.start._getTransformedBySplitOperation(n);let l=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(l=this.end.getShiftedBy(1)),s.root!=l.root&&(l=this.end.getShiftedBy(-1)),new zt(s,l)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new zt(this.start);let s=this.start._getTransformedByMergeOperation(n),l=this.end._getTransformedByMergeOperation(n);return s.root!=l.root&&(l=this.end.getShiftedBy(-1)),s.isAfter(l)?(n.sourcePosition.isBefore(n.targetPosition)?(s=Jt._createAt(l),s.offset=0):(n.deletionPosition.isEqual(s)||(l=n.deletionPosition),s=n.targetPosition),new zt(s,l)):new zt(s,l)}_getTransformedByInsertion(n,s,l=!1){if(l&&this.containsPosition(n))return[new zt(this.start,n),new zt(n.getShiftedBy(s),this.end._getTransformedByInsertion(n,s))];{const u=new zt(this.start,this.end);return u.start=u.start._getTransformedByInsertion(n,s),u.end=u.end._getTransformedByInsertion(n,s),[u]}}_getTransformedByMove(n,s,l,u=!1){if(this.isCollapsed){const U=this.start._getTransformedByMove(n,s,l);return[new zt(U)]}const f=zt._createFromPositionAndShift(n,l),b=s._getTransformedByDeletion(n,l);if(this.containsPosition(s)&&!u&&(f.containsPosition(this.start)||f.containsPosition(this.end))){const U=this.start._getTransformedByMove(n,s,l),H=this.end._getTransformedByMove(n,s,l);return[new zt(U,H)]}let _;const E=this.getDifference(f);let T=null;const D=this.getIntersection(f);if(E.length==1?T=new zt(E[0].start._getTransformedByDeletion(n,l),E[0].end._getTransformedByDeletion(n,l)):E.length==2&&(T=new zt(this.start,this.end._getTransformedByDeletion(n,l))),_=T?T._getTransformedByInsertion(b,l,D!==null||u):[],D){const U=new zt(D.start._getCombined(f.start,b),D.end._getCombined(f.start,b));_.length==2?_.splice(1,0,U):_.push(U)}return _}_getTransformedByDeletion(n,s){let l=this.start._getTransformedByDeletion(n,s),u=this.end._getTransformedByDeletion(n,s);return l==null&&u==null?null:(l==null&&(l=n),u==null&&(u=n),new zt(l,u))}static _createFromPositionAndShift(n,s){const l=n,u=n.getShiftedBy(s);return s>0?new this(l,u):new this(u,l)}static _createIn(n){return new this(Jt._createAt(n,0),Jt._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(Jt._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new K("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const s=n[0];n.sort((f,b)=>f.start.isAfter(b.start)?1:-1);const l=n.indexOf(s),u=new this(s.start,s.end);if(l>0)for(let f=l-1;n[f].end.isEqual(u.start);f++)u.start=Jt._createAt(n[f].start);for(let f=l+1;f<n.length&&n[f].start.isEqual(u.end);f++)u.end=Jt._createAt(n[f].end);return u}static fromJSON(n,s){return new this(Jt.fromJSON(n.start,s),Jt.fromJSON(n.end,s))}}zt.prototype.is=function(A){return A==="range"||A==="model:range"};class nP extends Dt(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(n,s)=>{if(s.viewPosition)return;const l=this._modelToViewMapping.get(s.modelPosition.parent);if(!l)throw new K("mapping-model-position-view-parent-not-found",this,{modelPosition:s.modelPosition});s.viewPosition=this.findPositionIn(l,s.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(n,s)=>{if(s.modelPosition)return;const l=this.findMappedViewAncestor(s.viewPosition),u=this._viewToModelMapping.get(l),f=this._toModelOffset(s.viewPosition.parent,s.viewPosition.offset,l);s.modelPosition=Jt._createAt(u,f)},{priority:"low"})}bindElements(n,s){this._modelToViewMapping.set(n,s),this._viewToModelMapping.set(s,n)}unbindViewElement(n,s={}){const l=this.toModelElement(n);if(this._elementToMarkerNames.has(n))for(const u of this._elementToMarkerNames.get(n))this._unboundMarkerNames.add(u);s.defer?this._deferredBindingRemovals.set(n,n.root):(this._viewToModelMapping.delete(n),this._modelToViewMapping.get(l)==n&&this._modelToViewMapping.delete(l))}unbindModelElement(n){const s=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(s)==n&&this._viewToModelMapping.delete(s)}bindElementToMarker(n,s){const l=this._markerNameToElements.get(s)||new Set;l.add(n);const u=this._elementToMarkerNames.get(n)||new Set;u.add(s),this._markerNameToElements.set(s,l),this._elementToMarkerNames.set(n,u)}unbindElementFromMarkerName(n,s){const l=this._markerNameToElements.get(s);l&&(l.delete(n),l.size==0&&this._markerNameToElements.delete(s));const u=this._elementToMarkerNames.get(n);u&&(u.delete(s),u.size==0&&this._elementToMarkerNames.delete(n))}flushUnboundMarkerNames(){const n=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),n}flushDeferredBindings(){for(const[n,s]of this._deferredBindingRemovals)n.root==s&&this.unbindViewElement(n);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(n){return this._viewToModelMapping.get(n)}toViewElement(n){return this._modelToViewMapping.get(n)}toModelRange(n){return new zt(this.toModelPosition(n.start),this.toModelPosition(n.end))}toViewRange(n){return new qe(this.toViewPosition(n.start),this.toViewPosition(n.end))}toModelPosition(n){const s={viewPosition:n,mapper:this};return this.fire("viewToModelPosition",s),s.modelPosition}toViewPosition(n,s={}){const l={modelPosition:n,mapper:this,isPhantom:s.isPhantom};return this.fire("modelToViewPosition",l),l.viewPosition}markerNameToElements(n){const s=this._markerNameToElements.get(n);if(!s)return null;const l=new Set;for(const u of s)if(u.is("attributeElement"))for(const f of u.getElementsWithSameId())l.add(f);else l.add(u);return l}registerViewToModelLength(n,s){this._viewToModelLengthCallbacks.set(n,s)}findMappedViewAncestor(n){let s=n.parent;for(;!this._viewToModelMapping.has(s);)s=s.parent;return s}_toModelOffset(n,s,l){if(l!=n)return this._toModelOffset(n.parent,n.index,l)+this._toModelOffset(n,s,n);if(n.is("$text"))return s;let u=0;for(let f=0;f<s;f++)u+=this.getModelLength(n.getChild(f));return u}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name))return this._viewToModelLengthCallbacks.get(n.name)(n);if(this._viewToModelMapping.has(n))return 1;if(n.is("$text"))return n.data.length;if(n.is("uiElement"))return 0;{let s=0;for(const l of n.getChildren())s+=this.getModelLength(l);return s}}findPositionIn(n,s){let l,u=0,f=0,b=0;if(n.is("$text"))return new de(n,s);for(;f<s;)l=n.getChild(b),u=this.getModelLength(l),f+=u,b++;return f==s?this._moveViewPositionToTextNode(new de(n,b)):this.findPositionIn(l,s-(f-u))}_moveViewPositionToTextNode(n){const s=n.nodeBefore,l=n.nodeAfter;return s instanceof ci?new de(s,s.data.length):l instanceof ci?new de(l,0):n}}class sW{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,s){s=q0(s),n instanceof Tc&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(s,!0)}consume(n,s){return s=q0(s),n instanceof Tc&&(n=this._getSymbolForTextProxy(n)),!!this.test(n,s)&&(this._consumable.get(n).set(s,!1),!0)}test(n,s){s=q0(s),n instanceof Tc&&(n=this._getSymbolForTextProxy(n));const l=this._consumable.get(n);if(l===void 0)return null;const u=l.get(s);return u===void 0?null:u}revert(n,s){s=q0(s),n instanceof Tc&&(n=this._getSymbolForTextProxy(n));const l=this.test(n,s);return l===!1?(this._consumable.get(n).set(s,!0),!0):l!==!0&&null}verifyAllConsumed(n){const s=[];for(const[l,u]of this._consumable)for(const[f,b]of u){const _=f.split(":")[0];b&&n==_&&s.push({event:f,item:l.name||l.description})}if(s.length)throw new K("conversion-model-consumable-not-consumed",null,{items:s})}_getSymbolForTextProxy(n){let s=null;const l=this._textProxyRegistry.get(n.startOffset);if(l){const u=l.get(n.endOffset);u&&(s=u.get(n.parent))}return s||(s=this._addSymbolForTextProxy(n)),s}_addSymbolForTextProxy(n){const s=n.startOffset,l=n.endOffset,u=n.parent,f=Symbol("$textProxy:"+n.data);let b,_;return b=this._textProxyRegistry.get(s),b||(b=new Map,this._textProxyRegistry.set(s,b)),_=b.get(l),_||(_=new Map,b.set(l,_)),_.set(u,f),f}}function q0(A){const n=A.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?A:n.length>1?n[0]+":"+n[1]:n[0]}var rW=Object.defineProperty,oW=Object.defineProperties,aW=Object.getOwnPropertyDescriptors,iP=Object.getOwnPropertySymbols,lW=Object.prototype.hasOwnProperty,cW=Object.prototype.propertyIsEnumerable,sP=(A,n,s)=>n in A?rW(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,GB=(A,n)=>{for(var s in n||(n={}))lW.call(n,s)&&sP(A,s,n[s]);if(iP)for(var s of iP(n))cW.call(n,s)&&sP(A,s,n[s]);return A},rP=(A,n)=>oW(A,aW(n));class oP extends Dt(){constructor(n){super(),this._conversionApi=GB({dispatcher:this},n),this._firedEventsMap=new WeakMap}convertChanges(n,s,l){const u=this._createConversionApi(l,n.getRefreshedItems());for(const b of n.getMarkersToRemove())this._convertMarkerRemove(b.name,b.range,u);const f=this._reduceChanges(n.getChanges());for(const b of f)b.type==="insert"?this._convertInsert(zt._createFromPositionAndShift(b.position,b.length),u):b.type==="reinsert"?this._convertReinsert(zt._createFromPositionAndShift(b.position,b.length),u):b.type==="remove"?this._convertRemove(b.position,b.length,b.name,u):this._convertAttribute(b.range,b.attributeKey,b.attributeOldValue,b.attributeNewValue,u);for(const b of u.mapper.flushUnboundMarkerNames()){const _=s.get(b).getRange();this._convertMarkerRemove(b,_,u),this._convertMarkerAdd(b,_,u)}for(const b of n.getMarkersToAdd())this._convertMarkerAdd(b.name,b.range,u);u.mapper.flushDeferredBindings(),u.consumable.verifyAllConsumed("insert")}convert(n,s,l,u={}){const f=this._createConversionApi(l,void 0,u);this._convertInsert(n,f);for(const[b,_]of s)this._convertMarkerAdd(b,_,f);f.consumable.verifyAllConsumed("insert")}convertSelection(n,s,l){const u=this._createConversionApi(l);this.fire("cleanSelection",{selection:n},u);const f=n.getFirstPosition().root;if(!u.mapper.toViewElement(f))return;const b=Array.from(s.getMarkersAtPosition(n.getFirstPosition()));if(this._addConsumablesForSelection(u.consumable,n,b),this.fire("selection",{selection:n},u),n.isCollapsed){for(const _ of b)if(u.consumable.test(n,"addMarker:"+_.name)){const E=_.getRange();if(!dW(n.getFirstPosition(),_,u.mapper))continue;const T={item:n,markerName:_.name,markerRange:E};this.fire(`addMarker:${_.name}`,T,u)}for(const _ of n.getAttributeKeys())if(u.consumable.test(n,"attribute:"+_)){const E={item:n,range:n.getFirstRange(),attributeKey:_,attributeOldValue:null,attributeNewValue:n.getAttribute(_)};this.fire(`attribute:${_}:$text`,E,u)}}}_convertInsert(n,s,l={}){l.doNotAddConsumables||this._addConsumablesForInsert(s.consumable,Array.from(n));for(const u of Array.from(n.getWalker({shallow:!0})).map(aP))this._testAndFire("insert",u,s)}_convertRemove(n,s,l,u){this.fire(`remove:${l}`,{position:n,length:s},u)}_convertAttribute(n,s,l,u,f){this._addConsumablesForRange(f.consumable,n,`attribute:${s}`);for(const b of n){const _={item:b.item,range:zt._createFromPositionAndShift(b.previousPosition,b.length),attributeKey:s,attributeOldValue:l,attributeNewValue:u};this._testAndFire(`attribute:${s}`,_,f)}}_convertReinsert(n,s){const l=Array.from(n.getWalker({shallow:!0}));this._addConsumablesForInsert(s.consumable,l);for(const u of l.map(aP))this._testAndFire("insert",rP(GB({},u),{reconversion:!0}),s)}_convertMarkerAdd(n,s,l){if(s.root.rootName=="$graveyard")return;const u=`addMarker:${n}`;if(l.consumable.add(s,u),this.fire(u,{markerName:n,markerRange:s},l),l.consumable.consume(s,u)){this._addConsumablesForRange(l.consumable,s,u);for(const f of s.getItems()){if(!l.consumable.test(f,u))continue;const b={item:f,range:zt._createOn(f),markerName:n,markerRange:s};this.fire(u,b,l)}}}_convertMarkerRemove(n,s,l){s.root.rootName!="$graveyard"&&this.fire(`removeMarker:${n}`,{markerName:n,markerRange:s},l)}_reduceChanges(n){const s={changes:n};return this.fire("reduceChanges",s),s.changes}_addConsumablesForInsert(n,s){for(const l of s){const u=l.item;if(n.test(u,"insert")===null){n.add(u,"insert");for(const f of u.getAttributeKeys())n.add(u,"attribute:"+f)}}return n}_addConsumablesForRange(n,s,l){for(const u of s.getItems())n.add(u,l);return n}_addConsumablesForSelection(n,s,l){n.add(s,"selection");for(const u of l)n.add(s,"addMarker:"+u.name);for(const u of s.getAttributeKeys())n.add(s,"attribute:"+u);return n}_testAndFire(n,s,l){const u=function(E,T){const D=T.item.is("element")?T.item.name:"$text";return`${E}:${D}`}(n,s),f=s.item.is("$textProxy")?l.consumable._getSymbolForTextProxy(s.item):s.item,b=this._firedEventsMap.get(l),_=b.get(f);if(_){if(_.has(u))return;_.add(u)}else b.set(f,new Set([u]));this.fire(u,s,l)}_testAndFireAddAttributes(n,s){const l={item:n,range:zt._createOn(n)};for(const u of l.item.getAttributeKeys())l.attributeKey=u,l.attributeOldValue=null,l.attributeNewValue=l.item.getAttribute(u),this._testAndFire(`attribute:${u}`,l,s)}_createConversionApi(n,s=new Set,l={}){const u=rP(GB({},this._conversionApi),{consumable:new sW,writer:n,options:l,convertItem:f=>this._convertInsert(zt._createOn(f),u),convertChildren:f=>this._convertInsert(zt._createIn(f),u,{doNotAddConsumables:!0}),convertAttributes:f=>this._testAndFireAddAttributes(f,u),canReuseView:f=>!s.has(u.mapper.toModelElement(f))});return this._firedEventsMap.set(u,new Map),u}}function dW(A,n,s){const l=n.getRange(),u=Array.from(A.getAncestors());return u.shift(),u.reverse(),!u.some(f=>{if(l.containsItem(f))return!!s.toViewElement(f).getCustomProperty("addHighlight")})}function aP(A){return{item:A.item,range:zt._createFromPositionAndShift(A.previousPosition,A.length)}}class il extends Dt(Xu){constructor(...n){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const s of this._ranges){let l=!1;for(const u of n._ranges)if(s.isEqual(u)){l=!0;break}if(!l)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new zt(n.start,n.end)}getFirstRange(){let n=null;for(const s of this._ranges)n&&!s.start.isBefore(n.start)||(n=s);return n?new zt(n.start,n.end):null}getLastRange(){let n=null;for(const s of this._ranges)n&&!s.end.isAfter(n.end)||(n=s);return n?new zt(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[s,l,u]=n;if(typeof l=="object"&&(u=l,l=void 0),s===null)this._setRanges([]);else if(s instanceof il)this._setRanges(s.getRanges(),s.isBackward);else if(s&&typeof s.getRanges=="function")this._setRanges(s.getRanges(),s.isBackward);else if(s instanceof zt)this._setRanges([s],!!u&&!!u.backward);else if(s instanceof Jt)this._setRanges([new zt(s)]);else if(s instanceof Lf){const f=!!u&&!!u.backward;let b;if(l=="in")b=zt._createIn(s);else if(l=="on")b=zt._createOn(s);else{if(l===void 0)throw new K("model-selection-setto-required-second-parameter",[this,s]);b=new zt(Jt._createAt(s,l))}this._setRanges([b],f)}else{if(!ti(s))throw new K("model-selection-setto-not-selectable",[this,s]);this._setRanges(s,u&&!!u.backward)}}_setRanges(n,s=!1){const l=Array.from(n),u=l.some(f=>{if(!(f instanceof zt))throw new K("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(b=>!b.isEqual(f))});(l.length!==this._ranges.length||u)&&(this._replaceAllRanges(l),this._lastRangeBackward=!!s,this.fire("change:range",{directChange:!0}))}setFocus(n,s){if(this.anchor===null)throw new K("model-selection-setfocus-no-ranges",[this,n]);const l=Jt._createAt(n,s);if(l.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.length&&this._popRange(),l.compareWith(u)=="before"?(this._pushRange(new zt(l,u)),this._lastRangeBackward=!0):(this._pushRange(new zt(u,l)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,s){this.getAttribute(n)!==s&&(this._attrs.set(n,s),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const s of this.getRanges()){const l=cP(s.start,n);uW(l,s)&&(yield l);for(const f of s.getWalker()){const b=f.item;f.type=="elementEnd"&&AW(b,n,s)&&(yield b)}const u=cP(s.end,n);hW(u,s)&&(yield u)}}containsEntireContent(n=this.anchor.root){const s=Jt._createAt(n,0),l=Jt._createAt(n,"end");return s.isTouching(this.getFirstPosition())&&l.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new zt(n.start,n.end))}_checkRange(n){for(let s=0;s<this._ranges.length;s++)if(n.isIntersecting(this._ranges[s]))throw new K("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[s]})}_replaceAllRanges(n){this._removeAllRanges();for(const s of n)this._pushRange(s)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function lP(A,n){return!n.has(A)&&(n.add(A),A.root.document.model.schema.isBlock(A)&&!!A.parent)}function AW(A,n,s){return lP(A,n)&&WB(A,s)}function cP(A,n){const s=A.parent.root.document.model.schema,l=A.parent.getAncestors({parentFirst:!0,includeSelf:!0});let u=!1;const f=l.find(b=>!u&&(u=s.isLimit(b),!u&&lP(b,n)));return l.forEach(b=>n.add(b)),f}function WB(A,n){const s=function(l){const u=l.root.document.model.schema;let f=l.parent;for(;f;){if(u.isBlock(f))return f;f=f.parent}}(A);return s?!n.containsRange(zt._createOn(s),!0):!0}function uW(A,n){return!!A&&(!(!n.isCollapsed&&!A.isEmpty)||!n.start.isTouching(Jt._createAt(A,A.maxOffset))&&WB(A,n))}function hW(A,n){return!!A&&(!(!n.isCollapsed&&!A.isEmpty)||!n.end.isTouching(Jt._createAt(A,0))&&WB(A,n))}il.prototype.is=function(A){return A==="selection"||A==="model:selection"};class Ic extends Dt(zt){constructor(n,s){super(n,s),fW.call(this)}detach(){this.stopListening()}toRange(){return new zt(this.start,this.end)}static fromRange(n){return new Ic(n.start,n.end)}}function fW(){this.listenTo(this.root.document.model,"applyOperation",(A,n)=>{const s=n[0];s.isDocumentOperation&&pW.call(this,s)},{priority:"low"})}function pW(A){const n=this.getTransformedByOperation(A),s=zt._createFromRanges(n),l=!s.isEqual(this),u=function(b,_){switch(_.type){case"insert":return b.containsPosition(_.position);case"move":case"remove":case"reinsert":case"merge":return b.containsPosition(_.sourcePosition)||b.start.isEqual(_.sourcePosition)||b.containsPosition(_.targetPosition);case"split":return b.containsPosition(_.splitPosition)||b.containsPosition(_.insertionPosition)}return!1}(this,A);let f=null;if(l){s.root.rootName=="$graveyard"&&(f=A.type=="remove"?A.sourcePosition:A.deletionPosition);const b=this.toRange();this.start=s.start,this.end=s.end,this.fire("change:range",b,{deletionPosition:f})}else u&&this.fire("change:content",this.toRange(),{deletionPosition:f})}Ic.prototype.is=function(A){return A==="liveRange"||A==="model:liveRange"||A=="range"||A==="model:range"};const Y0="selection:";class Dc extends Dt(Xu){constructor(n){super(),this._selection=new gW(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,s){this._selection.setFocus(n,s)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,s){this._selection.setAttribute(n,s)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return Y0+n}static _isStoreAttributeKey(n){return n.startsWith(Y0)}}Dc.prototype.is=function(A){return A==="selection"||A=="model:selection"||A=="documentSelection"||A=="model:documentSelection"};class gW extends il{constructor(n){super(),this.markers=new Hs({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(s,l)=>{const u=l[0];u.isDocumentOperation&&u.type!="marker"&&u.type!="rename"&&u.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(s,l,u,f)=>{this._updateMarker(l,f)}),this.listenTo(this._document,"change",(s,l)=>{(function(u,f){const b=u.document.differ;for(const _ of b.getChanges()){if(_.type!="insert")continue;const E=_.position.parent;_.length===E.maxOffset&&u.enqueueChange(f,T=>{const D=Array.from(E.getAttributeKeys()).filter(U=>U.startsWith(Y0));for(const U of D)T.removeAttribute(U,E)})}})(this._model,l)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,s){super.setFocus(n,s),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,s){if(this._setAttribute(n,s)){const l=[n];this.fire("change:attribute",{attributeKeys:l,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const s=[n];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}overrideGravity(){const n=V();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new K("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const s=this._prepareRange(n);s&&this._ranges.push(s)}_validateSelectionRanges(n){for(const s of n)if(!this._document._validateSelectionRange(s))throw new K("document-selection-wrong-position",this,{range:s})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const s=Ic.fromRange(n);return s.on("change:range",(l,u,f)=>{if(this._hasChangedRange=!0,s.root==this._document.graveyard){this._selectionRestorePosition=f.deletionPosition;const b=this._ranges.indexOf(s);this._ranges.splice(b,1),s.detach()}}),s}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let s=!1;for(const u of this._model.markers){const f=u.name.split(":",1)[0];if(!this._observedMarkers.has(f))continue;const b=u.getRange();for(const _ of this.getRanges())b.containsRange(_,!_.isCollapsed)&&n.push(u)}const l=Array.from(this.markers);for(const u of n)this.markers.has(u)||(this.markers.add(u),s=!0);for(const u of Array.from(this.markers))n.includes(u)||(this.markers.remove(u),s=!0);s&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}_updateMarker(n,s){const l=n.name.split(":",1)[0];if(!this._observedMarkers.has(l))return;let u=!1;const f=Array.from(this.markers),b=this.markers.has(n);if(s){let _=!1;for(const E of this.getRanges())if(s.containsRange(E,!E.isCollapsed)){_=!0;break}_&&!b?(this.markers.add(n),u=!0):!_&&b&&(this.markers.remove(n),u=!0)}else b&&(this.markers.remove(n),u=!0);u&&this.fire("change:marker",{oldMarkers:f,directChange:!1})}_updateAttributes(n){const s=eo(this._getSurroundingAttributes()),l=eo(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[f,b]of this._attributePriority)b=="low"&&(this._attrs.delete(f),this._attributePriority.delete(f));this._setAttributesTo(s);const u=[];for(const[f,b]of this.getAttributes())l.has(f)&&l.get(f)===b||u.push(f);for(const[f]of l)this.hasAttribute(f)||u.push(f);u.length>0&&this.fire("change:attribute",{attributeKeys:u,directChange:!1})}_setAttribute(n,s,l=!0){const u=l?"normal":"low";return u=="low"&&this._attributePriority.get(n)=="normal"?!1:super.getAttribute(n)!==s&&(this._attrs.set(n,s),this._attributePriority.set(n,u),!0)}_removeAttribute(n,s=!0){const l=s?"normal":"low";return(l!="low"||this._attributePriority.get(n)!="normal")&&(this._attributePriority.set(n,l),!!super.hasAttribute(n)&&(this._attrs.delete(n),!0))}_setAttributesTo(n){const s=new Set;for(const[l,u]of this.getAttributes())n.get(l)!==u&&this._removeAttribute(l,!1);for(const[l,u]of n)this._setAttribute(l,u,!1)&&s.add(l);return s}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const s of n.getAttributeKeys())s.startsWith(Y0)&&(yield[s.substr(10),n.getAttribute(s)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),s=this._model.schema;if(n.root.rootName=="$graveyard")return null;let l=null;if(this.isCollapsed){const u=n.textNode?n.textNode:n.nodeBefore,f=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(l=jw(u,s)),l||(l=jw(f,s)),!this.isGravityOverridden&&!l){let b=u;for(;b&&!l;)b=b.previousSibling,l=jw(b,s)}if(!l){let b=f;for(;b&&!l;)b=b.nextSibling,l=jw(b,s)}l||(l=this.getStoredAttributes())}else{const u=this.getFirstRange();for(const f of u){if(f.item.is("element")&&s.isObject(f.item)){l=jw(f.item,s);break}if(f.type=="text"){l=f.item.getAttributes();break}}}return l}_fixGraveyardSelection(n){const s=this._model.schema.getNearestSelectionRange(n);s&&this._pushRange(s)}}function jw(A,n){if(!A)return null;if(A instanceof Tc||A instanceof yi)return A.getAttributes();if(!n.isInline(A))return null;if(!n.isObject(A))return[];const s=[];for(const[l,u]of A.getAttributes())n.checkAttribute("$text",l)&&n.getAttributeProperties(l).copyFromObject!==!1&&s.push([l,u]);return s}class dP{constructor(n){this._dispatchers=n}add(n){for(const s of this._dispatchers)n(s);return this}}class mW extends dP{elementToElement(n){return this.add(function(s){const l=hP(s.model),u=Vw(s.view,"container");return l.attributes.length&&(l.children=!0),f=>{f.on(`insert:${l.name}`,function(b,_=wW){return(E,T,D)=>{if(!_(T.item,D.consumable,{preflight:!0}))return;const U=b(T.item,D,T);if(!U)return;_(T.item,D.consumable);const H=D.mapper.toViewPosition(T.range.start);D.mapper.bindElements(T.item,U),D.writer.insert(H,U),D.convertAttributes(T.item),bP(U,T.item.getChildren(),D,{reconversion:T.reconversion})}}(u,mP(l)),{priority:s.converterPriority||"normal"}),(l.children||l.attributes.length)&&f.on("reduceChanges",gP(l),{priority:"low"})}}(n))}elementToStructure(n){return this.add(function(s){const l=hP(s.model),u=Vw(s.view,"container");return l.children=!0,f=>{if(f._conversionApi.schema.checkChild(l.name,"$text"))throw new K("conversion-element-to-structure-disallowed-text",f,{elementName:l.name});var b,_;f.on(`insert:${l.name}`,(b=u,_=mP(l),(E,T,D)=>{if(!_(T.item,D.consumable,{preflight:!0}))return;const U=new Map;D.writer._registerSlotFactory(function(tt,it,At){return(bt,It)=>{const Wt=bt.createContainerElement("$slot");let he=null;if(It==="children")he=Array.from(tt.getChildren());else{if(typeof It!="function")throw new K("conversion-slot-mode-unknown",At.dispatcher,{modeOrFilter:It});he=Array.from(tt.getChildren()).filter(Ve=>It(Ve))}return it.set(Wt,he),Wt}}(T.item,U,D));const H=b(T.item,D,T);if(D.writer._clearSlotFactory(),!H)return;(function(tt,it,At){const bt=Array.from(it.values()).flat(),It=new Set(bt);if(It.size!=bt.length)throw new K("conversion-slot-filter-overlap",At.dispatcher,{element:tt});if(It.size!=tt.childCount)throw new K("conversion-slot-filter-incomplete",At.dispatcher,{element:tt})})(T.item,U,D),_(T.item,D.consumable);const $=D.mapper.toViewPosition(T.range.start);D.mapper.bindElements(T.item,H),D.writer.insert($,H),D.convertAttributes(T.item),function(tt,it,At,bt){At.mapper.on("modelToViewPosition",he,{priority:"highest"});let It=null,Wt=null;for([It,Wt]of it)bP(tt,Wt,At,bt),At.writer.move(At.writer.createRangeIn(It),At.writer.createPositionBefore(It)),At.writer.remove(It);function he(Ve,bi){const Pn=bi.modelPosition.nodeAfter,Ar=Wt.indexOf(Pn);Ar<0||(bi.viewPosition=bi.mapper.findPositionIn(It,Ar))}At.mapper.off("modelToViewPosition",he)}(H,U,D,{reconversion:T.reconversion})}),{priority:s.converterPriority||"normal"}),f.on("reduceChanges",gP(l),{priority:"low"})}}(n))}attributeToElement(n){return this.add(function(s){s=Yu(s);let l=s.model;typeof l=="string"&&(l={key:l});let u=`attribute:${l.key}`;if(l.name&&(u+=":"+l.name),l.values)for(const b of l.values)s.view[b]=Vw(s.view[b],"attribute");else s.view=Vw(s.view,"attribute");const f=fP(s);return b=>{b.on(u,function(_){return(E,T,D)=>{if(!D.consumable.test(T.item,E.name))return;const U=_(T.attributeOldValue,D,T),H=_(T.attributeNewValue,D,T);if(!U&&!H)return;D.consumable.consume(T.item,E.name);const $=D.writer,tt=$.document.selection;if(T.item instanceof il||T.item instanceof Dc)$.wrap(tt.getFirstRange(),H);else{let it=D.mapper.toViewRange(T.range);T.attributeOldValue!==null&&U&&(it=$.unwrap(it,U)),T.attributeNewValue!==null&&H&&$.wrap(it,H)}}}(f),{priority:s.converterPriority||"normal"})}}(n))}attributeToAttribute(n){return this.add(function(s){s=Yu(s);let l=s.model;typeof l=="string"&&(l={key:l});let u=`attribute:${l.key}`;if(l.name&&(u+=":"+l.name),l.values)for(const b of l.values)s.view[b]=pP(s.view[b]);else s.view=pP(s.view);const f=fP(s);return b=>{var _;b.on(u,(_=f,(E,T,D)=>{if(!D.consumable.test(T.item,E.name))return;const U=_(T.attributeOldValue,D,T),H=_(T.attributeNewValue,D,T);if(!U&&!H)return;D.consumable.consume(T.item,E.name);const $=D.mapper.toViewElement(T.item),tt=D.writer;if(!$)throw new K("conversion-attribute-to-attribute-on-text",D.dispatcher,T);if(T.attributeOldValue!==null&&U)if(U.key=="class"){const it=Dn(U.value);for(const At of it)tt.removeClass(At,$)}else if(U.key=="style"){const it=Object.keys(U.value);for(const At of it)tt.removeStyle(At,$)}else tt.removeAttribute(U.key,$);if(T.attributeNewValue!==null&&H)if(H.key=="class"){const it=Dn(H.value);for(const At of it)tt.addClass(At,$)}else if(H.key=="style"){const it=Object.keys(H.value);for(const At of it)tt.setStyle(At,H.value[At],$)}else tt.setAttribute(H.key,H.value,$)}),{priority:s.converterPriority||"normal"})}}(n))}markerToElement(n){return this.add(function(s){const l=Vw(s.view,"ui");return u=>{var f;u.on(`addMarker:${s.model}`,(f=l,(b,_,E)=>{_.isOpening=!0;const T=f(_,E);_.isOpening=!1;const D=f(_,E);if(!T||!D)return;const U=_.markerRange;if(U.isCollapsed&&!E.consumable.consume(U,b.name))return;for(const tt of U)if(!E.consumable.consume(tt.item,b.name))return;const H=E.mapper,$=E.writer;$.insert(H.toViewPosition(U.start),T),E.mapper.bindElementToMarker(T,_.markerName),U.isCollapsed||($.insert(H.toViewPosition(U.end),D),E.mapper.bindElementToMarker(D,_.markerName)),b.stop()}),{priority:s.converterPriority||"normal"}),u.on(`removeMarker:${s.model}`,(b,_,E)=>{const T=E.mapper.markerNameToElements(_.markerName);if(T){for(const D of T)E.mapper.unbindElementFromMarkerName(D,_.markerName),E.writer.clear(E.writer.createRangeOn(D),D);E.writer.clearClonedElementsGroup(_.markerName),b.stop()}},{priority:s.converterPriority||"normal"})}}(n))}markerToHighlight(n){return this.add(function(s){return l=>{var u;l.on(`addMarker:${s.model}`,(u=s.view,(f,b,_)=>{if(!b.item||!(b.item instanceof il||b.item instanceof Dc||b.item.is("$textProxy")))return;const E=$B(u,b,_);if(!E||!_.consumable.consume(b.item,f.name))return;const T=_.writer,D=AP(T,E),U=T.document.selection;if(b.item instanceof il||b.item instanceof Dc)T.wrap(U.getFirstRange(),D);else{const H=_.mapper.toViewRange(b.range),$=T.wrap(H,D);for(const tt of $.getItems())if(tt.is("attributeElement")&&tt.isSimilar(D)){_.mapper.bindElementToMarker(tt,b.markerName);break}}}),{priority:s.converterPriority||"normal"}),l.on(`addMarker:${s.model}`,function(f){return(b,_,E)=>{if(!_.item||!(_.item instanceof gi))return;const T=$B(f,_,E);if(!T||!E.consumable.test(_.item,b.name))return;const D=E.mapper.toViewElement(_.item);if(D&&D.getCustomProperty("addHighlight")){E.consumable.consume(_.item,b.name);for(const U of zt._createIn(_.item))E.consumable.consume(U.item,b.name);D.getCustomProperty("addHighlight")(D,T,E.writer),E.mapper.bindElementToMarker(D,_.markerName)}}}(s.view),{priority:s.converterPriority||"normal"}),l.on(`removeMarker:${s.model}`,function(f){return(b,_,E)=>{if(_.markerRange.isCollapsed)return;const T=$B(f,_,E);if(!T)return;const D=AP(E.writer,T),U=E.mapper.markerNameToElements(_.markerName);if(U){for(const H of U)E.mapper.unbindElementFromMarkerName(H,_.markerName),H.is("attributeElement")?E.writer.unwrap(E.writer.createRangeOn(H),D):H.getCustomProperty("removeHighlight")(H,T.id,E.writer);E.writer.clearClonedElementsGroup(_.markerName),b.stop()}}}(s.view),{priority:s.converterPriority||"normal"})}}(n))}markerToData(n){return this.add(function(s){s=Yu(s);const l=s.model;let u=s.view;return u||(u=f=>({group:l,name:f.substr(s.model.length+1)})),f=>{var b;f.on(`addMarker:${l}`,(b=u,(_,E,T)=>{const D=b(E.markerName,T);if(!D)return;const U=E.markerRange;T.consumable.consume(U,_.name)&&(uP(U,!1,T,E,D),uP(U,!0,T,E,D),_.stop())}),{priority:s.converterPriority||"normal"}),f.on(`removeMarker:${l}`,function(_){return(E,T,D)=>{const U=_(T.markerName,D);if(!U)return;const H=D.mapper.markerNameToElements(T.markerName);if(H){for(const tt of H)D.mapper.unbindElementFromMarkerName(tt,T.markerName),tt.is("containerElement")?($(`data-${U.group}-start-before`,tt),$(`data-${U.group}-start-after`,tt),$(`data-${U.group}-end-before`,tt),$(`data-${U.group}-end-after`,tt)):D.writer.clear(D.writer.createRangeOn(tt),tt);D.writer.clearClonedElementsGroup(T.markerName),E.stop()}function $(tt,it){if(it.hasAttribute(tt)){const At=new Set(it.getAttribute(tt).split(","));At.delete(U.name),At.size==0?D.writer.removeAttribute(tt,it):D.writer.setAttribute(tt,Array.from(At).join(","),it)}}}}(u),{priority:s.converterPriority||"normal"})}}(n))}}function AP(A,n){const s=A.createAttributeElement("span",n.attributes);return n.classes&&s._addClass(n.classes),typeof n.priority=="number"&&(s._priority=n.priority),s._id=n.id,s}function uP(A,n,s,l,u){const f=n?A.start:A.end,b=f.nodeAfter&&f.nodeAfter.is("element")?f.nodeAfter:null,_=f.nodeBefore&&f.nodeBefore.is("element")?f.nodeBefore:null;if(b||_){let E,T;n&&b||!n&&!_?(E=b,T=!0):(E=_,T=!1);const D=s.mapper.toViewElement(E);if(D)return void function(U,H,$,tt,it,At){const bt=`data-${At.group}-${H?"start":"end"}-${$?"before":"after"}`,It=U.hasAttribute(bt)?U.getAttribute(bt).split(","):[];It.unshift(At.name),tt.writer.setAttribute(bt,It.join(","),U),tt.mapper.bindElementToMarker(U,it.markerName)}(D,n,T,s,l,u)}(function(E,T,D,U,H){const $=`${H.group}-${T?"start":"end"}`,tt=H.name?{name:H.name}:null,it=D.writer.createUIElement($,tt);D.writer.insert(E,it),D.mapper.bindElementToMarker(it,U.markerName)})(s.mapper.toViewPosition(f),n,s,l,u)}function hP(A){return typeof A=="string"&&(A={name:A}),A.attributes?Array.isArray(A.attributes)||(A.attributes=[A.attributes]):A.attributes=[],A.children=!!A.children,A}function Vw(A,n){return typeof A=="function"?A:(s,l)=>function(u,f,b){typeof u=="string"&&(u={name:u});let _;const E=f.writer,T=Object.assign({},u.attributes);if(b=="container")_=E.createContainerElement(u.name,T);else if(b=="attribute"){const D={priority:u.priority||Df.DEFAULT_PRIORITY};_=E.createAttributeElement(u.name,T,D)}else _=E.createUIElement(u.name,T);if(u.styles){const D=Object.keys(u.styles);for(const U of D)E.setStyle(U,u.styles[U],_)}if(u.classes){const D=u.classes;if(typeof D=="string")E.addClass(D,_);else for(const U of D)E.addClass(U,_)}return _}(A,l,n)}function fP(A){return A.model.values?(n,s,l)=>{const u=A.view[n];return u?u(n,s,l):null}:A.view}function pP(A){return typeof A=="string"?n=>({key:A,value:n}):typeof A=="object"?A.value?()=>A:n=>({key:A.key,value:n}):A}function $B(A,n,s){const l=typeof A=="function"?A(n,s):A;return l?(l.priority||(l.priority=10),l.id||(l.id=n.markerName),l):null}function gP(A){const n=function(s){return(l,u)=>{if(!l.is("element",s.name))return!1;if(u.type=="attribute"){if(s.attributes.includes(u.attributeKey))return!0}else if(s.children)return!0;return!1}}(A);return(s,l)=>{const u=[];l.reconvertedElements||(l.reconvertedElements=new Set);for(const f of l.changes){const b=f.type=="attribute"?f.range.start.nodeAfter:f.position.parent;if(b&&n(b,f)){if(!l.reconvertedElements.has(b)){l.reconvertedElements.add(b);const _=Jt._createBefore(b);let E=u.length;for(let T=u.length-1;T>=0;T--){const D=u[T],U=(D.type=="attribute"?D.range.start:D.position).compareWith(_);if(U=="before"||D.type=="remove"&&U=="same")break;E=T}u.splice(E,0,{type:"remove",name:b.name,position:_,length:1},{type:"reinsert",name:b.name,position:_,length:1})}}else u.push(f)}l.changes=u}}function mP(A){return(n,s,l={})=>{const u=["insert"];for(const f of A.attributes)n.hasAttribute(f)&&u.push(`attribute:${f}`);return!!u.every(f=>s.test(n,f))&&(l.preflight||u.forEach(f=>s.consume(n,f)),!0)}}function bP(A,n,s,l){for(const u of n)bW(A.root,u,s,l)||s.convertItem(u)}function bW(A,n,s,l){const{writer:u,mapper:f}=s;if(!l.reconversion)return!1;const b=f.toViewElement(n);return!(!b||b.root==A)&&!!s.canReuseView(b)&&(u.move(u.createRangeOn(b),f.toViewPosition(Jt._createBefore(n))),!0)}function wW(A,n,{preflight:s}={}){return s?n.test(A,"insert"):n.consume(A,"insert")}function wP(A){const{schema:n,document:s}=A.model;for(const l of s.getRoots())if(l.isEmpty&&!n.checkChild(l,"$text")&&n.checkChild(l,"paragraph"))return A.insertElement("paragraph",l),!0;return!1}function vP(A,n,s){const l=s.createContext(A);return!!s.checkChild(l,"paragraph")&&!!s.checkChild(l.push("paragraph"),n)}function _P(A,n){const s=n.createElement("paragraph");return n.insert(s,A),n.createPositionAt(s,0)}var vW=Object.defineProperty,_W=Object.defineProperties,kW=Object.getOwnPropertyDescriptors,kP=Object.getOwnPropertySymbols,yW=Object.prototype.hasOwnProperty,CW=Object.prototype.propertyIsEnumerable,yP=(A,n,s)=>n in A?vW(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s;class EW extends dP{elementToElement(n){return this.add(CP(n))}elementToAttribute(n){return this.add(function(s){s=Yu(s),EP(s);const l=xP(s,!1),u=qB(s.view),f=u?`element:${u}`:"element";return b=>{b.on(f,l,{priority:s.converterPriority||"low"})}}(n))}attributeToAttribute(n){return this.add(function(s){s=Yu(s);let l=null;(typeof s.view=="string"||s.view.key)&&(l=function(f){typeof f.view=="string"&&(f.view={key:f.view});const b=f.view.key;let _;return b=="class"||b=="style"?_={[b=="class"?"classes":"styles"]:f.view.value}:_={attributes:{[b]:f.view.value===void 0?/[\s\S]*/:f.view.value}},f.view.name&&(_.name=f.view.name),f.view=_,b}(s)),EP(s,l);const u=xP(s,!0);return f=>{f.on("element",u,{priority:s.converterPriority||"low"})}}(n))}elementToMarker(n){return this.add(function(s){const l=function(b){return(_,E)=>{const T=typeof b=="string"?b:b(_,E);return E.writer.createElement("$marker",{"data-name":T})}}(s.model);return CP((u=((b,_)=>{for(var E in _||(_={}))yW.call(_,E)&&yP(b,E,_[E]);if(kP)for(var E of kP(_))CW.call(_,E)&&yP(b,E,_[E]);return b})({},s),f={model:l},_W(u,kW(f))));var u,f}(n))}dataToMarker(n){return this.add(function(s){s=Yu(s),s.model||(s.model=b=>b?s.view+":"+b:s.view);const l={view:s.view,model:s.model},u=YB(BP(l,"start")),f=YB(BP(l,"end"));return b=>{b.on(`element:${s.view}-start`,u,{priority:s.converterPriority||"normal"}),b.on(`element:${s.view}-end`,f,{priority:s.converterPriority||"normal"});const _=W.low,E=W.highest,T=W.get(s.converterPriority)/E;b.on("element",function(D){return(U,H,$)=>{const tt=`data-${D.view}`;function it(At,bt){for(const It of bt){const Wt=D.model(It,$),he=$.writer.createElement("$marker",{"data-name":Wt});$.writer.insert(he,At),H.modelCursor.isEqual(At)?H.modelCursor=H.modelCursor.getShiftedBy(1):H.modelCursor=H.modelCursor._getTransformedByInsertion(At,1),H.modelRange=H.modelRange._getTransformedByInsertion(At,1)[0]}}($.consumable.test(H.viewItem,{attributes:tt+"-end-after"})||$.consumable.test(H.viewItem,{attributes:tt+"-start-after"})||$.consumable.test(H.viewItem,{attributes:tt+"-end-before"})||$.consumable.test(H.viewItem,{attributes:tt+"-start-before"}))&&(H.modelRange||Object.assign(H,$.convertChildren(H.viewItem,H.modelCursor)),$.consumable.consume(H.viewItem,{attributes:tt+"-end-after"})&&it(H.modelRange.end,H.viewItem.getAttribute(tt+"-end-after").split(",")),$.consumable.consume(H.viewItem,{attributes:tt+"-start-after"})&&it(H.modelRange.end,H.viewItem.getAttribute(tt+"-start-after").split(",")),$.consumable.consume(H.viewItem,{attributes:tt+"-end-before"})&&it(H.modelRange.start,H.viewItem.getAttribute(tt+"-end-before").split(",")),$.consumable.consume(H.viewItem,{attributes:tt+"-start-before"})&&it(H.modelRange.start,H.viewItem.getAttribute(tt+"-start-before").split(",")))}}(l),{priority:_+T})}}(n))}}function CP(A){const n=YB(A=Yu(A)),s=qB(A.view),l=s?`element:${s}`:"element";return u=>{u.on(l,n,{priority:A.converterPriority||"normal"})}}function qB(A){return typeof A=="string"?A:typeof A=="object"&&typeof A.name=="string"?A.name:null}function YB(A){const n=new ko(A.view);return(s,l,u)=>{const f=n.match(l.viewItem);if(!f)return;const b=f.match;if(b.name=!0,!u.consumable.test(l.viewItem,b))return;const _=function(E,T,D){return E instanceof Function?E(T,D):D.writer.createElement(E)}(A.model,l.viewItem,u);_&&u.safeInsert(_,l.modelCursor)&&(u.consumable.consume(l.viewItem,b),u.convertChildren(l.viewItem,_),u.updateConversionResult(_,l))}}function EP(A,n=null){const s=n===null||(f=>f.getAttribute(n)),l=typeof A.model!="object"?A.model:A.model.key,u=typeof A.model!="object"||A.model.value===void 0?s:A.model.value;A.model={key:l,value:u}}function xP(A,n){const s=new ko(A.view);return(l,u,f)=>{if(!u.modelRange&&n)return;const b=s.match(u.viewItem);if(!b||(function(D,U){const H=typeof D=="function"?D(U):D;return typeof H=="object"&&!qB(H)?!1:!H.classes&&!H.attributes&&!H.styles}(A.view,u.viewItem)?b.match.name=!0:delete b.match.name,!f.consumable.test(u.viewItem,b.match)))return;const _=A.model.key,E=typeof A.model.value=="function"?A.model.value(u.viewItem,f):A.model.value;if(E===null)return;u.modelRange||Object.assign(u,f.convertChildren(u.viewItem,u.modelCursor)),function(D,U,H,$){let tt=!1;for(const it of Array.from(D.getItems({shallow:H})))$.schema.checkAttribute(it,U.key)&&(tt=!0,it.hasAttribute(U.key)||$.writer.setAttribute(U.key,U.value,it));return tt}(u.modelRange,{key:_,value:E},n,f)&&(f.consumable.test(u.viewItem,{name:!0})&&(b.match.name=!0),f.consumable.consume(u.viewItem,b.match))}}function BP(A,n){return{view:`${A.view}-${n}`,model:(s,l)=>{const u=s.getAttribute("name"),f=A.model(u,l);return l.writer.createElement("$marker",{"data-name":f})}}}function xW(A){A.document.registerPostFixer(n=>function(s,l){const u=l.document.selection,f=l.schema,b=[];let _=!1;for(const E of u.getRanges()){const T=SP(E,f);T&&!T.isEqual(E)?(b.push(T),_=!0):b.push(E)}return _&&s.setSelection(function(E){const T=[...E],D=new Set;let U=1;for(;U<T.length;){const H=T[U],$=T.slice(0,U);for(const[tt,it]of $.entries())if(!D.has(tt)){if(H.isEqual(it))D.add(tt);else if(H.isIntersecting(it)){D.add(tt),D.add(U);const At=H.getJoined(it);T.push(At)}}U++}return T.filter((H,$)=>!D.has($))}(b),{backward:u.isBackward}),!1}(n,A))}function SP(A,n){return A.isCollapsed?function(s,l){const u=s.start,f=l.getNearestSelectionRange(u);if(!f){const _=u.getAncestors().reverse().find(E=>l.isObject(E));return _?zt._createOn(_):null}if(!f.isCollapsed)return f;const b=f.start;return u.isEqual(b)?null:new zt(b)}(A,n):function(s,l){const{start:u,end:f}=s,b=l.checkChild(u,"$text"),_=l.checkChild(f,"$text"),E=l.getLimitElement(u),T=l.getLimitElement(f);if(E===T){if(b&&_)return null;if(function(H,$,tt){const it=H.nodeAfter&&!tt.isLimit(H.nodeAfter)||tt.checkChild(H,"$text"),At=$.nodeBefore&&!tt.isLimit($.nodeBefore)||tt.checkChild($,"$text");return it||At}(u,f,l)){const H=u.nodeAfter&&l.isSelectable(u.nodeAfter)?null:l.getNearestSelectionRange(u,"forward"),$=f.nodeBefore&&l.isSelectable(f.nodeBefore)?null:l.getNearestSelectionRange(f,"backward"),tt=H?H.start:u,it=$?$.end:f;return new zt(tt,it)}}const D=E&&!E.is("rootElement"),U=T&&!T.is("rootElement");if(D||U){const H=u.nodeAfter&&f.nodeBefore&&u.nodeAfter.parent===f.nodeBefore.parent,$=D&&(!H||!IP(u.nodeAfter,l)),tt=U&&(!H||!IP(f.nodeBefore,l));let it=u,At=f;return $&&(it=Jt._createBefore(TP(E,l))),tt&&(At=Jt._createAfter(TP(T,l))),new zt(it,At)}return null}(A,n)}function TP(A,n){let s=A,l=s;for(;n.isLimit(l)&&l.parent;)s=l,l=l.parent;return s}function IP(A,n){return A&&n.isSelectable(A)}class BW extends ae(){constructor(n,s){super(),this.model=n,this.view=new iW(s),this.mapper=new nP,this.downcastDispatcher=new oP({mapper:this.mapper,schema:n.schema});const l=this.model.document,u=l.selection,f=this.model.markers;var b,_,E;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(l,"change",()=>{this.view.change(T=>{this.downcastDispatcher.convertChanges(l.differ,f,T),this.downcastDispatcher.convertSelection(u,f,T)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(T,D){return(U,H)=>{const $=H.newSelection,tt=[];for(const At of $.getRanges())tt.push(D.toModelRange(At));const it=T.createSelection(tt,{backward:$.isBackward});it.isEqual(T.document.selection)||T.change(At=>{At.setSelection(it)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(b=this.mapper,_=this.model.schema,E=this.view,(T,D)=>{if(!E.document.isComposing||w.isAndroid)for(let U=0;U<D.targetRanges.length;U++){const H=D.targetRanges[U],$=b.toModelRange(H),tt=SP($,_);tt&&!tt.isEqual($)&&(D.targetRanges[U]=b.toViewRange(tt))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(T,D,U)=>{if(!U.consumable.consume(D.item,T.name))return;const H=U.writer,$=U.mapper.toViewPosition(D.range.start),tt=H.createText(D.item.data);H.insert($,tt)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(T,D,U)=>{U.convertAttributes(D.item),D.reconversion||!D.item.is("element")||D.item.isEmpty||U.convertChildren(D.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(T,D,U)=>{const H=U.mapper.toViewPosition(D.position),$=D.position.getShiftedBy(D.length),tt=U.mapper.toViewPosition($,{isPhantom:!0}),it=U.writer.createRange(H,tt),At=U.writer.remove(it.getTrimmed());for(const bt of U.writer.createRangeIn(At).getItems())U.mapper.unbindViewElement(bt,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(T,D,U)=>{const H=U.writer,$=H.document.selection;for(const tt of $.getRanges())tt.isCollapsed&&tt.end.parent.isAttached()&&U.writer.mergeAttributes(tt.start);H.setSelection(null)}),this.downcastDispatcher.on("selection",(T,D,U)=>{const H=D.selection;if(H.isCollapsed||!U.consumable.consume(H,"selection"))return;const $=[];for(const tt of H.getRanges())$.push(U.mapper.toViewRange(tt));U.writer.setSelection($,{backward:H.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(T,D,U)=>{const H=D.selection;if(!H.isCollapsed||!U.consumable.consume(H,"selection"))return;const $=U.writer,tt=H.getFirstPosition(),it=U.mapper.toViewPosition(tt),At=$.breakAttributes(it);$.setSelection(At)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(T=>{if(T.rootName=="$graveyard")return null;const D=new CL(this.view.document,T.name);return D.rootName=T.rootName,this.mapper.bindElements(T,D),D})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(n){const s=typeof n=="string"?n:n.name,l=this.model.markers.get(s);if(!l)throw new K("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:s});this.model.change(()=>{this.model.markers._refresh(l)})}reconvertItem(n){this.model.change(()=>{this.model.document.differ._refreshItem(n)})}}class Kw{constructor(){this._consumables=new Map}add(n,s){let l;n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):(this._consumables.has(n)?l=this._consumables.get(n):(l=new SW(n),this._consumables.set(n,l)),l.add(s))}test(n,s){const l=this._consumables.get(n);return l===void 0?null:n.is("$text")||n.is("documentFragment")?l:l.test(s)}consume(n,s){return!!this.test(n,s)&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(s),!0)}revert(n,s){const l=this._consumables.get(n);l!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):l.revert(s))}static consumablesFromElement(n){const s={element:n,name:!0,attributes:[],classes:[],styles:[]},l=n.getAttributeKeys();for(const b of l)b!="style"&&b!="class"&&s.attributes.push(b);const u=n.getClassNames();for(const b of u)s.classes.push(b);const f=n.getStyleNames();for(const b of f)s.styles.push(b);return s}static createFrom(n,s){if(s||(s=new Kw),n.is("$text"))return s.add(n),s;n.is("element")&&s.add(n,Kw.consumablesFromElement(n)),n.is("documentFragment")&&s.add(n);for(const l of n.getChildren())s=Kw.createFrom(l,s);return s}}const X0=["attributes","classes","styles"];class SW{constructor(n){this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const s of X0)s in n&&this._add(s,n[s])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const s of X0)if(s in n){const l=this._test(s,n[s]);if(l!==!0)return l}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const s of X0)s in n&&this._consume(s,n[s])}revert(n){n.name&&(this._canConsumeName=!0);for(const s of X0)s in n&&this._revert(s,n[s])}_add(n,s){const l=_i(s)?s:[s],u=this._consumables[n];for(const f of l){if(n==="attributes"&&(f==="class"||f==="style"))throw new K("viewconsumable-invalid-attribute",this);if(u.set(f,!0),n==="styles")for(const b of this.element.document.stylesProcessor.getRelatedStyles(f))u.set(b,!0)}}_test(n,s){const l=_i(s)?s:[s],u=this._consumables[n];for(const f of l)if(n!=="attributes"||f!=="class"&&f!=="style"){const b=u.get(f);if(b===void 0)return null;if(!b)return!1}else{const b=f=="class"?"classes":"styles",_=this._test(b,[...this._consumables[b].keys()]);if(_!==!0)return _}return!0}_consume(n,s){const l=_i(s)?s:[s],u=this._consumables[n];for(const f of l)if(n!=="attributes"||f!=="class"&&f!=="style"){if(u.set(f,!1),n=="styles")for(const b of this.element.document.stylesProcessor.getRelatedStyles(f))u.set(b,!1)}else{const b=f=="class"?"classes":"styles";this._consume(b,[...this._consumables[b].keys()])}}_revert(n,s){const l=_i(s)?s:[s],u=this._consumables[n];for(const f of l)if(n!=="attributes"||f!=="class"&&f!=="style")u.get(f)===!1&&u.set(f,!0);else{const b=f=="class"?"classes":"styles";this._revert(b,[...this._consumables[b].keys()])}}}class TW extends ae(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(n,s)=>{s[0]=new Ff(s[0])},{priority:"highest"}),this.on("checkChild",(n,s)=>{s[0]=new Ff(s[0]),s[1]=this.getDefinition(s[1])},{priority:"highest"})}register(n,s){if(this._sourceDefinitions[n])throw new K("schema-cannot-register-item-twice",this,{itemName:n});this._sourceDefinitions[n]=[Object.assign({},s)],this._clearCache()}extend(n,s){if(!this._sourceDefinitions[n])throw new K("schema-cannot-extend-missing-item",this,{itemName:n});this._sourceDefinitions[n].push(Object.assign({},s)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let s;return s=typeof n=="string"?n:"is"in n&&(n.is("$text")||n.is("$textProxy"))?"$text":n.name,this.getDefinitions()[s]}isRegistered(n){return!!this.getDefinition(n)}isBlock(n){const s=this.getDefinition(n);return!(!s||!s.isBlock)}isLimit(n){const s=this.getDefinition(n);return!!s&&!(!s.isLimit&&!s.isObject)}isObject(n){const s=this.getDefinition(n);return!!s&&!!(s.isObject||s.isLimit&&s.isSelectable&&s.isContent)}isInline(n){const s=this.getDefinition(n);return!(!s||!s.isInline)}isSelectable(n){const s=this.getDefinition(n);return!!s&&!(!s.isSelectable&&!s.isObject)}isContent(n){const s=this.getDefinition(n);return!!s&&!(!s.isContent&&!s.isObject)}checkChild(n,s){return!!s&&this._checkContextMatch(s,n)}checkAttribute(n,s){const l=this.getDefinition(n.last);return!!l&&l.allowAttributes.includes(s)}checkMerge(n,s){if(n instanceof Jt){const l=n.nodeBefore,u=n.nodeAfter;if(!(l instanceof gi))throw new K("schema-check-merge-no-element-before",this);if(!(u instanceof gi))throw new K("schema-check-merge-no-element-after",this);return this.checkMerge(l,u)}for(const l of s.getChildren())if(!this.checkChild(n,l))return!1;return!0}addChildCheck(n){this.on("checkChild",(s,[l,u])=>{if(!u)return;const f=n(l,u);typeof f=="boolean"&&(s.stop(),s.return=f)},{priority:"high"})}addAttributeCheck(n){this.on("checkAttribute",(s,[l,u])=>{const f=n(l,u);typeof f=="boolean"&&(s.stop(),s.return=f)},{priority:"high"})}setAttributeProperties(n,s){this._attributeProperties[n]=Object.assign(this.getAttributeProperties(n),s)}getAttributeProperties(n){return this._attributeProperties[n]||{}}getLimitElement(n){let s;for(n instanceof Jt?s=n.parent:s=(n instanceof zt?[n]:Array.from(n.getRanges())).reduce((l,u)=>{const f=u.getCommonAncestor();return l?l.getCommonAncestor(f,{includeSelf:!0}):f},null);!this.isLimit(s)&&s.parent;)s=s.parent;return s}checkAttributeInSelection(n,s){if(n.isCollapsed){const l=[...n.getFirstPosition().getAncestors(),new yi("",n.getAttributes())];return this.checkAttribute(l,s)}{const l=n.getRanges();for(const u of l)for(const f of u)if(this.checkAttribute(f.item,s))return!0}return!1}*getValidRanges(n,s){n=function*(l){for(const u of l)yield*u.getMinimalFlatRanges()}(n);for(const l of n)yield*this._getValidRangesForRange(l,s)}getNearestSelectionRange(n,s="both"){if(n.root.rootName=="$graveyard")return null;if(this.checkChild(n,"$text"))return new zt(n);let l,u;const f=n.getAncestors().reverse().find(b=>this.isLimit(b))||n.root;s!="both"&&s!="backward"||(l=new bd({boundaries:zt._createIn(f),startPosition:n,direction:"backward"})),s!="both"&&s!="forward"||(u=new bd({boundaries:zt._createIn(f),startPosition:n}));for(const b of function*(_,E){let T=!1;for(;!T;){if(T=!0,_){const D=_.next();D.done||(T=!1,yield{walker:_,value:D.value})}if(E){const D=E.next();D.done||(T=!1,yield{walker:E,value:D.value})}}}(l,u)){const _=b.walker==l?"elementEnd":"elementStart",E=b.value;if(E.type==_&&this.isObject(E.item))return zt._createOn(E.item);if(this.checkChild(E.nextPosition,"$text"))return new zt(E.nextPosition)}return null}findAllowedParent(n,s){let l=n.parent;for(;l;){if(this.checkChild(l,s))return l;if(this.isLimit(l))return null;l=l.parent}return null}setAllowedAttributes(n,s,l){const u=l.model;for(const[f,b]of Object.entries(s))u.schema.checkAttribute(n,f)&&l.setAttribute(f,b,n)}removeDisallowedAttributes(n,s){for(const l of n)if(l.is("$text"))DP(this,l,s);else{const u=zt._createIn(l).getPositions();for(const f of u)DP(this,f.nodeBefore||f.parent,s)}}getAttributesWithProperty(n,s,l){const u={};for(const[f,b]of n.getAttributes()){const _=this.getAttributeProperties(f);_[s]!==void 0&&(l!==void 0&&l!==_[s]||(u[f]=b))}return u}createContext(n){return new Ff(n)}_clearCache(){this._compiledDefinitions=null}_compile(){const n={},s=this._sourceDefinitions,l=Object.keys(s);for(const u of l)n[u]=IW(s[u],u);for(const u of l)DW(n,u);for(const u of l)MW(n,u);for(const u of l)LW(n,u);for(const u of l)PW(n,u),FW(n,u);for(const u of l)OW(n,u),NW(n,u),RW(n,u);this._compiledDefinitions=n}_checkContextMatch(n,s,l=s.length-1){const u=s.getItem(l);if(n.allowIn.includes(u.name)){if(l==0)return!0;{const f=this.getDefinition(u);return this._checkContextMatch(f,s,l-1)}}return!1}*_getValidRangesForRange(n,s){let l=n.start,u=n.start;for(const f of n.getItems({shallow:!0}))f.is("element")&&(yield*this._getValidRangesForRange(zt._createIn(f),s)),this.checkAttribute(f,s)||(l.isEqual(u)||(yield new zt(l,u)),l=Jt._createAfter(f)),u=Jt._createAfter(f);l.isEqual(u)||(yield new zt(l,u))}}class Ff{constructor(n){if(n instanceof Ff)return n;let s;s=typeof n=="string"?[n]:Array.isArray(n)?n:n.getAncestors({includeSelf:!0}),this._items=s.map(QW)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const s=new Ff([n]);return s._items=[...this._items,...s._items],s}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function IW(A,n){const s={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(l,u){for(const f of l){const b=Object.keys(f).filter(_=>_.startsWith("is"));for(const _ of b)u[_]=!!f[_]}}(A,s),Of(A,s,"allowIn"),Of(A,s,"allowContentOf"),Of(A,s,"allowWhere"),Of(A,s,"allowAttributes"),Of(A,s,"allowAttributesOf"),Of(A,s,"allowChildren"),Of(A,s,"inheritTypesFrom"),function(l,u){for(const f of l){const b=f.inheritAllFrom;b&&(u.allowContentOf.push(b),u.allowWhere.push(b),u.allowAttributesOf.push(b),u.inheritTypesFrom.push(b))}}(A,s),s}function DW(A,n){const s=A[n];for(const l of s.allowChildren){const u=A[l];u&&u.allowIn.push(n)}s.allowChildren.length=0}function MW(A,n){for(const s of A[n].allowContentOf)A[s]&&UW(A,s).forEach(l=>{l.allowIn.push(n)});delete A[n].allowContentOf}function LW(A,n){for(const s of A[n].allowWhere){const l=A[s];if(l){const u=l.allowIn;A[n].allowIn.push(...u)}}delete A[n].allowWhere}function PW(A,n){for(const s of A[n].allowAttributesOf){const l=A[s];if(l){const u=l.allowAttributes;A[n].allowAttributes.push(...u)}}delete A[n].allowAttributesOf}function FW(A,n){const s=A[n];for(const l of s.inheritTypesFrom){const u=A[l];if(u){const f=Object.keys(u).filter(b=>b.startsWith("is"));for(const b of f)b in s||(s[b]=u[b])}}delete s.inheritTypesFrom}function OW(A,n){const s=A[n],l=s.allowIn.filter(u=>A[u]);s.allowIn=Array.from(new Set(l))}function NW(A,n){const s=A[n];for(const l of s.allowIn)A[l].allowChildren.push(n)}function RW(A,n){const s=A[n];s.allowAttributes=Array.from(new Set(s.allowAttributes))}function Of(A,n,s){for(const l of A){const u=l[s];typeof u=="string"?n[s].push(u):Array.isArray(u)&&n[s].push(...u)}}function UW(A,n){const s=A[n];return(l=A,Object.keys(l).map(u=>l[u])).filter(u=>u.allowIn.includes(s.name));var l}function QW(A){return typeof A=="string"||A.is("documentFragment")?{name:typeof A=="string"?A:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:A.is("element")?A.name:"$text",*getAttributeKeys(){yield*A.getAttributeKeys()},getAttribute:n=>A.getAttribute(n)}}function DP(A,n,s){for(const l of n.getAttributeKeys())A.checkAttribute(n,l)||s.removeAttribute(l,n)}var HW=Object.defineProperty,zW=Object.defineProperties,jW=Object.getOwnPropertyDescriptors,MP=Object.getOwnPropertySymbols,VW=Object.prototype.hasOwnProperty,KW=Object.prototype.propertyIsEnumerable,LP=(A,n,s)=>n in A?HW(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s;class GW extends Dt(){constructor(n){var s;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(s=((l,u)=>{for(var f in u||(u={}))VW.call(u,f)&&LP(l,f,u[f]);if(MP)for(var f of MP(u))KW.call(u,f)&&LP(l,f,u[f]);return l})({},n),zW(s,jW({consumable:null,writer:null,store:null,convertItem:(l,u)=>this._convertItem(l,u),convertChildren:(l,u)=>this._convertChildren(l,u),safeInsert:(l,u)=>this._safeInsert(l,u),updateConversionResult:(l,u)=>this._updateConversionResult(l,u),splitToAllowedParent:(l,u)=>this._splitToAllowedParent(l,u),getSplitParts:l=>this._getSplitParts(l),keepEmptyElement:l=>this._keepEmptyElement(l)})))}convert(n,s,l=["$root"]){this.fire("viewCleanup",n),this._modelCursor=function(b,_){let E;for(const T of new Ff(b)){const D={};for(const H of T.getAttributeKeys())D[H]=T.getAttribute(H);const U=_.createElement(T.name,D);E&&_.insert(U,E),E=Jt._createAt(U,0)}return E}(l,s),this.conversionApi.writer=s,this.conversionApi.consumable=Kw.createFrom(n),this.conversionApi.store={};const{modelRange:u}=this._convertItem(n,this._modelCursor),f=s.createDocumentFragment();if(u){this._removeEmptyElements();for(const b of Array.from(this._modelCursor.parent.getChildren()))s.append(b,f);f.markers=function(b,_){const E=new Set,T=new Map,D=zt._createIn(b).getItems();for(const U of D)U.is("element","$marker")&&E.add(U);for(const U of E){const H=U.getAttribute("data-name"),$=_.createPositionBefore(U);T.has(H)?T.get(H).end=$.clone():T.set(H,new zt($.clone())),_.remove(U)}return T}(f,s)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,f}_convertItem(n,s){const l={viewItem:n,modelCursor:s,modelRange:null};if(n.is("element")?this.fire(`element:${n.name}`,l,this.conversionApi):n.is("$text")?this.fire("text",l,this.conversionApi):this.fire("documentFragment",l,this.conversionApi),l.modelRange&&!(l.modelRange instanceof zt))throw new K("view-conversion-dispatcher-incorrect-result",this);return{modelRange:l.modelRange,modelCursor:l.modelCursor}}_convertChildren(n,s){let l=s.is("position")?s:Jt._createAt(s,0);const u=new zt(l);for(const f of Array.from(n.getChildren())){const b=this._convertItem(f,l);b.modelRange instanceof zt&&(u.end=b.modelRange.end,l=b.modelCursor)}return{modelRange:u,modelCursor:l}}_safeInsert(n,s){const l=this._splitToAllowedParent(n,s);return!!l&&(this.conversionApi.writer.insert(n,l.position),!0)}_updateConversionResult(n,s){const l=this._getSplitParts(n),u=this.conversionApi.writer;s.modelRange||(s.modelRange=u.createRange(u.createPositionBefore(n),u.createPositionAfter(l[l.length-1])));const f=this._cursorParents.get(n);s.modelCursor=f?u.createPositionAt(f,0):s.modelRange.end}_splitToAllowedParent(n,s){const{schema:l,writer:u}=this.conversionApi;let f=l.findAllowedParent(s,n);if(f){if(f===s.parent)return{position:s};this._modelCursor.parent.getAncestors().includes(f)&&(f=null)}if(!f)return vP(s,n,l)?{position:_P(s,u)}:null;const b=this.conversionApi.writer.split(s,f),_=[];for(const T of b.range.getWalker())if(T.type=="elementEnd")_.push(T.item);else{const D=_.pop(),U=T.item;this._registerSplitPair(D,U)}const E=b.range.end.parent;return this._cursorParents.set(n,E),{position:b.position,cursorParent:E}}_registerSplitPair(n,s){this._splitParts.has(n)||this._splitParts.set(n,[n]);const l=this._splitParts.get(n);this._splitParts.set(s,l),l.push(s)}_getSplitParts(n){let s;return s=this._splitParts.has(n)?this._splitParts.get(n):[n],s}_keepEmptyElement(n){this._emptyElementsToKeep.add(n)}_removeEmptyElements(){let n=!1;for(const s of this._splitParts.keys())s.isEmpty&&!this._emptyElementsToKeep.has(s)&&(this.conversionApi.writer.remove(s),this._splitParts.delete(s),n=!0);n&&this._removeEmptyElements()}}class WW{getHtml(n){const s=document.implementation.createHTMLDocument("").createElement("div");return s.appendChild(n),s.innerHTML}}class $W{constructor(n){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new K0(n,{renderingMode:"data"}),this.htmlWriter=new WW}toData(n){const s=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(s)}toView(n){const s=this._toDom(n);return this.domConverter.domToView(s,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){n.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(n=`<body>${n}</body>`);const s=this.domParser.parseFromString(n,"text/html"),l=s.createDocumentFragment(),u=s.body.childNodes;for(;u.length>0;)l.appendChild(u[0]);return l}}class qW extends Dt(){constructor(n,s){super(),this.model=n,this.mapper=new nP,this.downcastDispatcher=new oP({mapper:this.mapper,schema:n.schema}),this.downcastDispatcher.on("insert:$text",(l,u,f)=>{if(!f.consumable.consume(u.item,l.name))return;const b=f.writer,_=f.mapper.toViewPosition(u.range.start),E=b.createText(u.item.data);b.insert(_,E)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(l,u,f)=>{f.convertAttributes(u.item),u.reconversion||!u.item.is("element")||u.item.isEmpty||f.convertChildren(u.item)},{priority:"lowest"}),this.upcastDispatcher=new GW({schema:n.schema}),this.viewDocument=new z0(s),this.stylesProcessor=s,this.htmlProcessor=new $W(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new xL(this.viewDocument),this.upcastDispatcher.on("text",(l,u,{schema:f,consumable:b,writer:_})=>{let E=u.modelCursor;if(!b.test(u.viewItem))return;if(!f.checkChild(E,"$text")){if(!vP(E,"$text",f)||u.viewItem.data.trim().length==0)return;const D=E.nodeBefore;E=_P(E,_),D&&D.is("element","$marker")&&(_.move(_.createRangeOn(D),E),E=_.createPositionAfter(D))}b.consume(u.viewItem);const T=_.createText(u.viewItem.data);_.insert(T,E),u.modelRange=_.createRange(E,E.getShiftedBy(T.offsetSize)),u.modelCursor=u.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(l,u,f)=>{if(!u.modelRange&&f.consumable.consume(u.viewItem,{name:!0})){const{modelRange:b,modelCursor:_}=f.convertChildren(u.viewItem,u.modelCursor);u.modelRange=b,u.modelCursor=_}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(l,u,f)=>{if(!u.modelRange&&f.consumable.consume(u.viewItem,{name:!0})){const{modelRange:b,modelCursor:_}=f.convertChildren(u.viewItem,u.modelCursor);u.modelRange=b,u.modelCursor=_}},{priority:"lowest"}),ae().prototype.decorate.call(this,"init"),ae().prototype.decorate.call(this,"set"),ae().prototype.decorate.call(this,"get"),ae().prototype.decorate.call(this,"toView"),ae().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},wP)},{priority:"lowest"})}get(n={}){const{rootName:s="main",trim:l="empty"}=n;if(!this._checkIfRootsExists([s]))throw new K("datacontroller-get-non-existent-root",this);const u=this.model.document.getRoot(s);return u.isAttached()||J("datacontroller-get-detached-root",this),l!=="empty"||this.model.hasContent(u,{ignoreWhitespaces:!0})?this.stringify(u,n):""}stringify(n,s={}){const l=this.toView(n,s);return this.processor.toData(l)}toView(n,s={}){const l=this.viewDocument,u=this._viewWriter;this.mapper.clearBindings();const f=zt._createIn(n),b=new Mf(l);this.mapper.bindElements(n,b);const _=n.is("documentFragment")?n.markers:function(E){const T=[],D=E.root.document;if(!D)return new Map;const U=zt._createIn(E);for(const H of D.model.markers){const $=H.getRange(),tt=$.isCollapsed,it=$.start.isEqual(U.start)||$.end.isEqual(U.end);if(tt&&it)T.push([H.name,$]);else{const At=U.getIntersection($);At&&T.push([H.name,At])}}return T.sort(([H,$],[tt,it])=>{if($.end.compareWith(it.start)!=="after")return 1;if($.start.compareWith(it.end)!=="before")return-1;switch($.start.compareWith(it.start)){case"before":return 1;case"after":return-1;default:switch($.end.compareWith(it.end)){case"before":return 1;case"after":return-1;default:return tt.localeCompare(H)}}}),new Map(T)}(n);return this.downcastDispatcher.convert(f,_,u,s),b}init(n){if(this.model.document.version)throw new K("datacontroller-init-document-not-empty",this);let s={};if(typeof n=="string"?s.main=n:s=n,!this._checkIfRootsExists(Object.keys(s)))throw new K("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},l=>{for(const u of Object.keys(s)){const f=this.model.document.getRoot(u);l.insert(this.parse(s[u],f),f,0)}}),Promise.resolve()}set(n,s={}){let l={};if(typeof n=="string"?l.main=n:l=n,!this._checkIfRootsExists(Object.keys(l)))throw new K("datacontroller-set-non-existent-root",this);this.model.enqueueChange(s.batchType||{},u=>{u.setSelection(null),u.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const f of Object.keys(l)){const b=this.model.document.getRoot(f);u.remove(u.createRangeIn(b)),u.insert(this.parse(l[f],b),b,0)}})}parse(n,s="$root"){const l=this.processor.toView(n);return this.toModel(l,s)}toModel(n,s="$root"){return this.model.change(l=>this.upcastDispatcher.convert(n,l,s))}addStyleProcessorRules(n){n(this.stylesProcessor)}registerRawContentMatcher(n){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(n),this.htmlProcessor.registerRawContentMatcher(n)}destroy(){this.stopListening()}_checkIfRootsExists(n){for(const s of n)if(!this.model.document.getRoot(s))return!1;return!0}}class YW{constructor(n,s){this._helpers=new Map,this._downcast=Dn(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Dn(s),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,s){const l=this._downcast.includes(s);if(!this._upcast.includes(s)&&!l)throw new K("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[s],isDowncast:l})}for(n){if(!this._helpers.has(n))throw new K("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:s,view:l}of XB(n))this.for("upcast").elementToElement({model:s,view:l,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:s,view:l}of XB(n))this.for("upcast").elementToAttribute({view:l,model:s,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:s,view:l}of XB(n))this.for("upcast").attributeToAttribute({view:l,model:s})}_createConversionHelpers({name:n,dispatchers:s,isDowncast:l}){if(this._helpers.has(n))throw new K("conversion-group-exists",this);const u=l?new mW(s):new EW(s);this._helpers.set(n,u)}}function*XB(A){if(A.model.values)for(const n of A.model.values){const s={key:A.model.key,value:n},l=A.view[n],u=A.upcastAlso?A.upcastAlso[n]:void 0;yield*PP(s,l,u)}else yield*PP(A.model,A.view,A.upcastAlso)}function*PP(A,n,s){if(yield{model:A,view:n},s)for(const l of Dn(s))yield{model:A,view:l}}class sl{constructor(n){this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,s){return new this(n.baseVersion)}}function ZB(A,n){const s=OP(n),l=s.reduce((b,_)=>b+_.offsetSize,0),u=A.parent;$w(A);const f=A.index;return u._insertChild(f,s),Ww(u,f+s.length),Ww(u,f),new zt(A,A.getShiftedBy(l))}function FP(A){if(!A.isFlat)throw new K("operation-utils-remove-range-not-flat",this);const n=A.start.parent;$w(A.start),$w(A.end);const s=n._removeChildren(A.start.index,A.end.index-A.start.index);return Ww(n,A.start.index),s}function Gw(A,n){if(!A.isFlat)throw new K("operation-utils-move-range-not-flat",this);const s=FP(A);return ZB(n=n._getTransformedByDeletion(A.start,A.end.offset-A.start.offset),s)}function OP(A){const n=[];(function s(l){if(typeof l=="string")n.push(new yi(l));else if(l instanceof Tc)n.push(new yi(l.data,l.getAttributes()));else if(l instanceof Lf)n.push(l);else if(ti(l))for(const u of l)s(u)})(A);for(let s=1;s<n.length;s++){const l=n[s],u=n[s-1];l instanceof yi&&u instanceof yi&&NP(l,u)&&(n.splice(s-1,2,new yi(u.data+l.data,u.getAttributes())),s--)}return n}function Ww(A,n){const s=A.getChild(n-1),l=A.getChild(n);if(s&&l&&s.is("$text")&&l.is("$text")&&NP(s,l)){const u=new yi(s.data+l.data,s.getAttributes());A._removeChildren(n-1,2),A._insertChild(n-1,u)}}function $w(A){const n=A.textNode,s=A.parent;if(n){const l=A.offset-n.startOffset,u=n.index;s._removeChildren(u,1);const f=new yi(n.data.substr(0,l),n.getAttributes()),b=new yi(n.data.substr(l),n.getAttributes());s._insertChild(u,[f,b])}}function NP(A,n){const s=A.getAttributes(),l=n.getAttributes();for(const u of s){if(u[1]!==n.getAttribute(u[0]))return!1;l.next()}return l.next().done}class Jn extends sl{constructor(n,s,l,u){super(u),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=s,this.targetPosition=l.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[zt._createFromPositionAndShift(this.sourcePosition,this.howMany),zt._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Jn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Jn(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,s=this.targetPosition.parent,l=this.sourcePosition.offset,u=this.targetPosition.offset;if(l+this.howMany>n.maxOffset)throw new K("move-operation-nodes-do-not-exist",this);if(n===s&&l<u&&u<l+this.howMany)throw new K("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&xn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const f=this.sourcePosition.path.length-1;if(this.targetPosition.path[f]>=l&&this.targetPosition.path[f]<l+this.howMany)throw new K("move-operation-node-into-itself",this)}}_execute(){Gw(zt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,s){const l=Jt.fromJSON(n.sourcePosition,s),u=Jt.fromJSON(n.targetPosition,s);return new this(l,n.howMany,u,n.baseVersion)}}class Ir extends sl{constructor(n,s,l){super(l),this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new Hw(OP(s)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const n=new Hw([...this.nodes].map(l=>l._clone(!0))),s=new Ir(this.position,n,this.baseVersion);return s.shouldReceiveAttributes=this.shouldReceiveAttributes,s}getReversed(){const n=this.position.root.document.graveyard,s=new Jt(n,[0]);return new Jn(this.position,this.nodes.maxOffset,s,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new K("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new Hw([...n].map(s=>s._clone(!0))),ZB(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,s){const l=[];for(const f of n.nodes)f.name?l.push(gi.fromJSON(f)):l.push(yi.fromJSON(f));const u=new Ir(Jt.fromJSON(n.position,s),l,n.baseVersion);return u.shouldReceiveAttributes=n.shouldReceiveAttributes,u}}class Ci extends sl{constructor(n,s,l,u,f){super(f),this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=s,this.insertionPosition=l,this.graveyardPosition=u?u.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new Jt(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new zt(this.splitPosition,n)}get affectedSelectable(){const n=[zt._createFromPositionAndShift(this.splitPosition,0),zt._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&n.push(zt._createFromPositionAndShift(this.graveyardPosition,0)),n}clone(){return new Ci(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,s=new Jt(n,[0]);return new gs(this.moveTargetPosition,this.howMany,this.splitPosition,s,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,s=this.splitPosition.offset;if(!n||n.maxOffset<s)throw new K("split-operation-position-invalid",this);if(!n.parent)throw new K("split-operation-split-in-root",this);if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new K("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new K("split-operation-graveyard-position-invalid",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)Gw(zt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const s=n._clone();ZB(this.insertionPosition,s)}Gw(new zt(Jt._createAt(n,this.splitPosition.offset),Jt._createAt(n,n.maxOffset)),this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const s=n.path.slice(0,-1);return s[s.length-1]++,new Jt(n.root,s,"toPrevious")}static fromJSON(n,s){const l=Jt.fromJSON(n.splitPosition,s),u=Jt.fromJSON(n.insertionPosition,s),f=n.graveyardPosition?Jt.fromJSON(n.graveyardPosition,s):null;return new this(l,n.howMany,u,f,n.baseVersion)}}class gs extends sl{constructor(n,s,l,u,f){super(f),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=s,this.targetPosition=l.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=u.clone()}get type(){return"merge"}get deletionPosition(){return new Jt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new zt(this.sourcePosition,n)}get affectedSelectable(){const n=this.sourcePosition.parent;return[zt._createOn(n),zt._createFromPositionAndShift(this.targetPosition,0),zt._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new gs(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),s=this.sourcePosition.path.slice(0,-1),l=new Jt(this.sourcePosition.root,s)._getTransformedByMergeOperation(this);return new Ci(n,this.howMany,l,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,s=this.targetPosition.parent;if(!n.parent)throw new K("merge-operation-source-position-invalid",this);if(!s.parent)throw new K("merge-operation-target-position-invalid",this);if(this.howMany!=n.maxOffset)throw new K("merge-operation-how-many-invalid",this)}_execute(){const n=this.sourcePosition.parent;Gw(zt._createIn(n),this.targetPosition),Gw(zt._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,s){const l=Jt.fromJSON(n.sourcePosition,s),u=Jt.fromJSON(n.targetPosition,s),f=Jt.fromJSON(n.graveyardPosition,s);return new this(l,n.howMany,u,f,n.baseVersion)}}class ka extends sl{constructor(n,s,l,u,f,b){super(b),this.name=n,this.oldRange=s?s.clone():null,this.newRange=l?l.clone():null,this.affectsData=f,this._markers=u}get type(){return"marker"}get affectedSelectable(){const n=[];return this.oldRange&&n.push(this.oldRange.clone()),this.newRange&&(this.oldRange?n.push(...this.newRange.getDifference(this.oldRange)):n.push(this.newRange.clone())),n}clone(){return new ka(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ka(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,s){return new ka(n.name,n.oldRange?zt.fromJSON(n.oldRange,s):null,n.newRange?zt.fromJSON(n.newRange,s):null,s.model.markers,n.affectsData,n.baseVersion)}}const RP=function(A,n){return qL(A,n)};class xs extends sl{constructor(n,s,l,u,f){super(f),this.range=n.clone(),this.key=s,this.oldValue=l===void 0?null:l,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new xs(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new xs(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new K("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!RP(n.getAttribute(this.key),this.oldValue))throw new K("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new K("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){RP(this.oldValue,this.newValue)||function(n,s,l){$w(n.start),$w(n.end);for(const u of n.getItems({shallow:!0})){const f=u.is("$textProxy")?u.textNode:u;l!==null?f._setAttribute(s,l):f._removeAttribute(s),Ww(f.parent,f.index)}Ww(n.end.parent,n.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,s){return new xs(zt.fromJSON(n.range,s),n.key,n.oldValue,n.newValue,n.baseVersion)}}class dr extends sl{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new dr(this.baseVersion)}getReversed(){return new dr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class ya extends sl{constructor(n,s,l,u){super(u),this.position=n,this.position.stickiness="toNext",this.oldName=s,this.newName=l}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new ya(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ya(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(!(n instanceof gi))throw new K("rename-operation-wrong-position",this);if(n.name!==this.oldName)throw new K("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,s){return new ya(Jt.fromJSON(n.position,s),n.oldName,n.newName,n.baseVersion)}}class yA extends sl{constructor(n,s,l,u,f){super(f),this.root=n,this.key=s,this.oldValue=l===void 0?null:l,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new yA(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new yA(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new K("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new K("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new K("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,s){if(!s.getRoot(n.root))throw new K("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new yA(s.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class wd extends sl{constructor(n,s,l,u,f){super(f),this.rootName=n,this.elementName=s,this.isAdd=l,this._document=u,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new wd(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new wd(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const n=super.toJSON();return delete n._document,n}static get className(){return"RootOperation"}static fromJSON(n,s){return new wd(n.rootName,n.elementName,n.isAdd,s,n.baseVersion)}}const Kl={};Kl[xs.className]=xs,Kl[Ir.className]=Ir,Kl[ka.className]=ka,Kl[Jn.className]=Jn,Kl[dr.className]=dr,Kl[sl.className]=sl,Kl[ya.className]=ya,Kl[yA.className]=yA,Kl[wd.className]=wd,Kl[Ci.className]=Ci,Kl[gs.className]=gs;class XW{static fromJSON(n,s){return Kl[n.__className].fromJSON(n,s)}}const JB=new Map;function Un(A,n,s){let l=JB.get(A);l||(l=new Map,JB.set(A,l)),l.set(n,s)}function ZW(A){return[A]}function UP(A,n,s={}){const l=function(u,f){const b=JB.get(u);return b&&b.has(f)?b.get(f):ZW}(A.constructor,n.constructor);try{return l(A=A.clone(),n,s)}catch(u){throw u}}function JW(A,n,s){A=A.slice(),n=n.slice();const l=new t8(s.document,s.useRelations,s.forceWeakRemove);l.setOriginalOperations(A),l.setOriginalOperations(n);const u=l.originalOperations;if(A.length==0||n.length==0)return{operationsA:A,operationsB:n,originalOperations:u};const f=new WeakMap;for(const E of A)f.set(E,0);const b={nextBaseVersionA:A[A.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:A.length,originalOperationsBCount:n.length};let _=0;for(;_<A.length;){const E=A[_],T=f.get(E);if(T==n.length){_++;continue}const D=n[T],U=UP(E,D,l.getContext(E,D,!0)),H=UP(D,E,l.getContext(D,E,!1));l.updateRelation(E,D),l.setOriginalOperations(U,E),l.setOriginalOperations(H,D);for(const $ of U)f.set($,T+H.length);A.splice(_,1,...U),n.splice(T,1,...H)}return QP(A,b.nextBaseVersionB),QP(n,b.nextBaseVersionA),{operationsA:A,operationsB:n,originalOperations:u}}class t8{constructor(n,s,l=!1){this.originalOperations=new Map,this._history=n.history,this._useRelations=s,this._forceWeakRemove=!!l,this._relations=new Map}setOriginalOperations(n,s=null){const l=s?this.originalOperations.get(s):null;for(const u of n)this.originalOperations.set(u,l||u)}updateRelation(n,s){if(n instanceof Jn)s instanceof gs?n.targetPosition.isEqual(s.sourcePosition)||s.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,s,"insertAtSource"):n.targetPosition.isEqual(s.deletionPosition)?this._setRelation(n,s,"insertBetween"):n.targetPosition.isAfter(s.sourcePosition)&&this._setRelation(n,s,"moveTargetAfter"):s instanceof Jn&&(n.targetPosition.isEqual(s.sourcePosition)||n.targetPosition.isBefore(s.sourcePosition)?this._setRelation(n,s,"insertBefore"):this._setRelation(n,s,"insertAfter"));else if(n instanceof Ci){if(s instanceof gs)n.splitPosition.isBefore(s.sourcePosition)&&this._setRelation(n,s,"splitBefore");else if(s instanceof Jn)if(n.splitPosition.isEqual(s.sourcePosition)||n.splitPosition.isBefore(s.sourcePosition))this._setRelation(n,s,"splitBefore");else{const l=zt._createFromPositionAndShift(s.sourcePosition,s.howMany);if(n.splitPosition.hasSameParentAs(s.sourcePosition)&&l.containsPosition(n.splitPosition)){const u=l.end.offset-n.splitPosition.offset,f=n.splitPosition.offset-l.start.offset;this._setRelation(n,s,{howMany:u,offset:f})}}}else if(n instanceof gs)s instanceof gs?(n.targetPosition.isEqual(s.sourcePosition)||this._setRelation(n,s,"mergeTargetNotMoved"),n.sourcePosition.isEqual(s.targetPosition)&&this._setRelation(n,s,"mergeSourceNotMoved"),n.sourcePosition.isEqual(s.sourcePosition)&&this._setRelation(n,s,"mergeSameElement")):s instanceof Ci&&n.sourcePosition.isEqual(s.splitPosition)&&this._setRelation(n,s,"splitAtSource");else if(n instanceof ka){const l=n.newRange;if(!l)return;if(s instanceof Jn){const u=zt._createFromPositionAndShift(s.sourcePosition,s.howMany),f=u.containsPosition(l.start)||u.start.isEqual(l.start),b=u.containsPosition(l.end)||u.end.isEqual(l.end);!f&&!b||u.containsRange(l)||this._setRelation(n,s,{side:f?"left":"right",path:f?l.start.path.slice():l.end.path.slice()})}else if(s instanceof gs){const u=l.start.isEqual(s.targetPosition),f=l.start.isEqual(s.deletionPosition),b=l.end.isEqual(s.deletionPosition),_=l.end.isEqual(s.sourcePosition);(u||f||b||_)&&this._setRelation(n,s,{wasInLeftElement:u,wasStartBeforeMergedElement:f,wasEndBeforeMergedElement:b,wasInRightElement:_})}}}getContext(n,s,l){return{aIsStrong:l,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(s),abRelation:this._useRelations?this._getRelation(n,s):null,baRelation:this._useRelations?this._getRelation(s,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const s=this.originalOperations.get(n);return s.wasUndone||this._history.isUndoneOperation(s)}_getRelation(n,s){const l=this.originalOperations.get(s),u=this._history.getUndoneOperation(l);if(!u)return null;const f=this.originalOperations.get(n),b=this._relations.get(f);return b&&b.get(u)||null}_setRelation(n,s,l){const u=this.originalOperations.get(n),f=this.originalOperations.get(s);let b=this._relations.get(u);b||(b=new Map,this._relations.set(u,b)),b.set(f,l)}}function QP(A,n){for(const s of A)s.baseVersion=n++}function HP(A,n,s){const l=A.nodes.getNode(0).getAttribute(n);if(l==s)return null;const u=new zt(A.position,A.position.getShiftedBy(A.howMany));return new xs(u,n,l,s,0)}function zP(A,n){return A.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function em(A,n){const s=[];for(let l=0;l<A.length;l++){const u=A[l],f=new Jn(u.start,u.end.offset-u.start.offset,n,0);s.push(f);for(let b=l+1;b<A.length;b++)A[b]=A[b]._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)[0];n=n._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)}return s}Un(xs,xs,(A,n,s)=>{if(A.key===n.key&&A.range.start.hasSameParentAs(n.range.start)){const l=A.range.getDifference(n.range).map(f=>new xs(f,A.key,A.oldValue,A.newValue,0)),u=A.range.getIntersection(n.range);return u&&s.aIsStrong&&l.push(new xs(u,n.key,n.newValue,A.newValue,0)),l.length==0?[new dr(0)]:l}return[A]}),Un(xs,Ir,(A,n)=>{if(A.range.start.hasSameParentAs(n.position)&&A.range.containsPosition(n.position)){const s=A.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(l=>new xs(l,A.key,A.oldValue,A.newValue,A.baseVersion));if(n.shouldReceiveAttributes){const l=HP(n,A.key,A.oldValue);l&&s.unshift(l)}return s}return A.range=A.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[A]}),Un(xs,gs,(A,n)=>{const s=[];A.range.start.hasSameParentAs(n.deletionPosition)&&(A.range.containsPosition(n.deletionPosition)||A.range.start.isEqual(n.deletionPosition))&&s.push(zt._createFromPositionAndShift(n.graveyardPosition,1));const l=A.range._getTransformedByMergeOperation(n);return l.isCollapsed||s.push(l),s.map(u=>new xs(u,A.key,A.oldValue,A.newValue,A.baseVersion))}),Un(xs,Jn,(A,n)=>function(l,u){const f=zt._createFromPositionAndShift(u.sourcePosition,u.howMany);let b=null,_=[];f.containsRange(l,!0)?b=l:l.start.hasSameParentAs(f.start)?(_=l.getDifference(f),b=l.getIntersection(f)):_=[l];const E=[];for(let T of _){T=T._getTransformedByDeletion(u.sourcePosition,u.howMany);const D=u.getMovedRangeStart(),U=T.start.hasSameParentAs(D),H=T._getTransformedByInsertion(D,u.howMany,U);E.push(...H)}return b&&E.push(b._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany,!1)[0]),E}(A.range,n).map(l=>new xs(l,A.key,A.oldValue,A.newValue,A.baseVersion))),Un(xs,Ci,(A,n)=>{if(A.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||A.range.end.offset++,[A];if(A.range.start.hasSameParentAs(n.splitPosition)&&A.range.containsPosition(n.splitPosition)){const s=A.clone();return s.range=new zt(n.moveTargetPosition.clone(),A.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),A.range.end=n.splitPosition.clone(),A.range.end.stickiness="toPrevious",[A,s]}return A.range=A.range._getTransformedBySplitOperation(n),[A]}),Un(Ir,xs,(A,n)=>{const s=[A];if(A.shouldReceiveAttributes&&A.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(A.position)){const l=HP(A,n.key,n.newValue);l&&s.push(l)}return s}),Un(Ir,Ir,(A,n,s)=>(A.position.isEqual(n.position)&&s.aIsStrong||(A.position=A.position._getTransformedByInsertOperation(n)),[A])),Un(Ir,Jn,(A,n)=>(A.position=A.position._getTransformedByMoveOperation(n),[A])),Un(Ir,Ci,(A,n)=>(A.position=A.position._getTransformedBySplitOperation(n),[A])),Un(Ir,gs,(A,n)=>(A.position=A.position._getTransformedByMergeOperation(n),[A])),Un(ka,Ir,(A,n)=>(A.oldRange&&(A.oldRange=A.oldRange._getTransformedByInsertOperation(n)[0]),A.newRange&&(A.newRange=A.newRange._getTransformedByInsertOperation(n)[0]),[A])),Un(ka,ka,(A,n,s)=>{if(A.name==n.name){if(!s.aIsStrong)return[new dr(0)];A.oldRange=n.newRange?n.newRange.clone():null}return[A]}),Un(ka,gs,(A,n)=>(A.oldRange&&(A.oldRange=A.oldRange._getTransformedByMergeOperation(n)),A.newRange&&(A.newRange=A.newRange._getTransformedByMergeOperation(n)),[A])),Un(ka,Jn,(A,n,s)=>{if(A.oldRange&&(A.oldRange=zt._createFromRanges(A.oldRange._getTransformedByMoveOperation(n))),A.newRange){if(s.abRelation){const l=zt._createFromRanges(A.newRange._getTransformedByMoveOperation(n));if(s.abRelation.side=="left"&&n.targetPosition.isEqual(A.newRange.start))return A.newRange.end=l.end,A.newRange.start.path=s.abRelation.path,[A];if(s.abRelation.side=="right"&&n.targetPosition.isEqual(A.newRange.end))return A.newRange.start=l.start,A.newRange.end.path=s.abRelation.path,[A]}A.newRange=zt._createFromRanges(A.newRange._getTransformedByMoveOperation(n))}return[A]}),Un(ka,Ci,(A,n,s)=>{if(A.oldRange&&(A.oldRange=A.oldRange._getTransformedBySplitOperation(n)),A.newRange){if(s.abRelation){const l=A.newRange._getTransformedBySplitOperation(n);return A.newRange.start.isEqual(n.splitPosition)&&s.abRelation.wasStartBeforeMergedElement?A.newRange.start=Jt._createAt(n.insertionPosition):A.newRange.start.isEqual(n.splitPosition)&&!s.abRelation.wasInLeftElement&&(A.newRange.start=Jt._createAt(n.moveTargetPosition)),A.newRange.end.isEqual(n.splitPosition)&&s.abRelation.wasInRightElement?A.newRange.end=Jt._createAt(n.moveTargetPosition):A.newRange.end.isEqual(n.splitPosition)&&s.abRelation.wasEndBeforeMergedElement?A.newRange.end=Jt._createAt(n.insertionPosition):A.newRange.end=l.end,[A]}A.newRange=A.newRange._getTransformedBySplitOperation(n)}return[A]}),Un(gs,Ir,(A,n)=>(A.sourcePosition.hasSameParentAs(n.position)&&(A.howMany+=n.howMany),A.sourcePosition=A.sourcePosition._getTransformedByInsertOperation(n),A.targetPosition=A.targetPosition._getTransformedByInsertOperation(n),[A])),Un(gs,gs,(A,n,s)=>{if(A.sourcePosition.isEqual(n.sourcePosition)&&A.targetPosition.isEqual(n.targetPosition)){if(s.bWasUndone){const l=n.graveyardPosition.path.slice();return l.push(0),A.sourcePosition=new Jt(n.graveyardPosition.root,l),A.howMany=0,[A]}return[new dr(0)]}if(A.sourcePosition.isEqual(n.sourcePosition)&&!A.targetPosition.isEqual(n.targetPosition)&&!s.bWasUndone&&s.abRelation!="splitAtSource"){const l=A.targetPosition.root.rootName=="$graveyard",u=n.targetPosition.root.rootName=="$graveyard";if(u&&!l||!(l&&!u)&&s.aIsStrong){const f=n.targetPosition._getTransformedByMergeOperation(n),b=A.targetPosition._getTransformedByMergeOperation(n);return[new Jn(f,A.howMany,b,0)]}return[new dr(0)]}return A.sourcePosition.hasSameParentAs(n.targetPosition)&&(A.howMany+=n.howMany),A.sourcePosition=A.sourcePosition._getTransformedByMergeOperation(n),A.targetPosition=A.targetPosition._getTransformedByMergeOperation(n),A.graveyardPosition.isEqual(n.graveyardPosition)&&s.aIsStrong||(A.graveyardPosition=A.graveyardPosition._getTransformedByMergeOperation(n)),[A]}),Un(gs,Jn,(A,n,s)=>{const l=zt._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!s.bWasUndone&&!s.forceWeakRemove&&A.deletionPosition.hasSameParentAs(n.sourcePosition)&&l.containsPosition(A.sourcePosition)?[new dr(0)]:(A.sourcePosition.hasSameParentAs(n.targetPosition)&&(A.howMany+=n.howMany),A.sourcePosition.hasSameParentAs(n.sourcePosition)&&(A.howMany-=n.howMany),A.sourcePosition=A.sourcePosition._getTransformedByMoveOperation(n),A.targetPosition=A.targetPosition._getTransformedByMoveOperation(n),A.graveyardPosition.isEqual(n.targetPosition)||(A.graveyardPosition=A.graveyardPosition._getTransformedByMoveOperation(n)),[A])}),Un(gs,Ci,(A,n,s)=>{if(n.graveyardPosition&&(A.graveyardPosition=A.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),A.deletionPosition.isEqual(n.graveyardPosition)&&(A.howMany=n.howMany)),A.targetPosition.isEqual(n.splitPosition)){const l=n.howMany!=0,u=n.graveyardPosition&&A.deletionPosition.isEqual(n.graveyardPosition);if(l||u||s.abRelation=="mergeTargetNotMoved")return A.sourcePosition=A.sourcePosition._getTransformedBySplitOperation(n),[A]}if(A.sourcePosition.isEqual(n.splitPosition)){if(s.abRelation=="mergeSourceNotMoved")return A.howMany=0,A.targetPosition=A.targetPosition._getTransformedBySplitOperation(n),[A];if(s.abRelation=="mergeSameElement"||A.sourcePosition.offset>0)return A.sourcePosition=n.moveTargetPosition.clone(),A.targetPosition=A.targetPosition._getTransformedBySplitOperation(n),[A]}return A.sourcePosition.hasSameParentAs(n.splitPosition)&&(A.howMany=n.splitPosition.offset),A.sourcePosition=A.sourcePosition._getTransformedBySplitOperation(n),A.targetPosition=A.targetPosition._getTransformedBySplitOperation(n),[A]}),Un(Jn,Ir,(A,n)=>{const s=zt._createFromPositionAndShift(A.sourcePosition,A.howMany)._getTransformedByInsertOperation(n,!1)[0];return A.sourcePosition=s.start,A.howMany=s.end.offset-s.start.offset,A.targetPosition.isEqual(n.position)||(A.targetPosition=A.targetPosition._getTransformedByInsertOperation(n)),[A]}),Un(Jn,Jn,(A,n,s)=>{const l=zt._createFromPositionAndShift(A.sourcePosition,A.howMany),u=zt._createFromPositionAndShift(n.sourcePosition,n.howMany);let f,b=s.aIsStrong,_=!s.aIsStrong;if(s.abRelation=="insertBefore"||s.baRelation=="insertAfter"?_=!0:s.abRelation!="insertAfter"&&s.baRelation!="insertBefore"||(_=!1),f=A.targetPosition.isEqual(n.targetPosition)&&_?A.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):A.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),zP(A,n)&&zP(n,A))return[n.getReversed()];if(l.containsPosition(n.targetPosition)&&l.containsRange(u,!0))return l.start=l.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),l.end=l.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),em([l],f);if(u.containsPosition(A.targetPosition)&&u.containsRange(l,!0))return l.start=l.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),l.end=l.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),em([l],f);const E=xn(A.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(E=="prefix"||E=="extension")return l.start=l.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),l.end=l.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),em([l],f);A.type!="remove"||n.type=="remove"||s.aWasUndone||s.forceWeakRemove?A.type=="remove"||n.type!="remove"||s.bWasUndone||s.forceWeakRemove||(b=!1):b=!0;const T=[],D=l.getDifference(u);for(const H of D){H.start=H.start._getTransformedByDeletion(n.sourcePosition,n.howMany),H.end=H.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const $=xn(H.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",tt=H._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,$);T.push(...tt)}const U=l.getIntersection(u);return U!==null&&b&&(U.start=U.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),U.end=U.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),T.length===0?T.push(U):T.length==1?u.start.isBefore(l.start)||u.start.isEqual(l.start)?T.unshift(U):T.push(U):T.splice(1,0,U)),T.length===0?[new dr(A.baseVersion)]:em(T,f)}),Un(Jn,Ci,(A,n,s)=>{let l=A.targetPosition.clone();A.targetPosition.isEqual(n.insertionPosition)&&n.graveyardPosition&&s.abRelation!="moveTargetAfter"||(l=A.targetPosition._getTransformedBySplitOperation(n));const u=zt._createFromPositionAndShift(A.sourcePosition,A.howMany);if(u.end.isEqual(n.insertionPosition))return n.graveyardPosition||A.howMany++,A.targetPosition=l,[A];if(u.start.hasSameParentAs(n.splitPosition)&&u.containsPosition(n.splitPosition)){let b=new zt(n.splitPosition,u.end);return b=b._getTransformedBySplitOperation(n),em([new zt(u.start,n.splitPosition),b],l)}A.targetPosition.isEqual(n.splitPosition)&&s.abRelation=="insertAtSource"&&(l=n.moveTargetPosition),A.targetPosition.isEqual(n.insertionPosition)&&s.abRelation=="insertBetween"&&(l=A.targetPosition);const f=[u._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const b=u.start.isEqual(n.graveyardPosition)||u.containsPosition(n.graveyardPosition);A.howMany>1&&b&&!s.aWasUndone&&f.push(zt._createFromPositionAndShift(n.insertionPosition,1))}return em(f,l)}),Un(Jn,gs,(A,n,s)=>{const l=zt._createFromPositionAndShift(A.sourcePosition,A.howMany);if(n.deletionPosition.hasSameParentAs(A.sourcePosition)&&l.containsPosition(n.sourcePosition)){if(A.type!="remove"||s.forceWeakRemove){if(A.howMany==1)return s.bWasUndone?(A.sourcePosition=n.graveyardPosition.clone(),A.targetPosition=A.targetPosition._getTransformedByMergeOperation(n),[A]):[new dr(0)]}else if(!s.aWasUndone){const f=[];let b=n.graveyardPosition.clone(),_=n.targetPosition._getTransformedByMergeOperation(n);A.howMany>1&&(f.push(new Jn(A.sourcePosition,A.howMany-1,A.targetPosition,0)),b=b._getTransformedByMove(A.sourcePosition,A.targetPosition,A.howMany-1),_=_._getTransformedByMove(A.sourcePosition,A.targetPosition,A.howMany-1));const E=n.deletionPosition._getCombined(A.sourcePosition,A.targetPosition),T=new Jn(b,1,E,0),D=T.getMovedRangeStart().path.slice();D.push(0);const U=new Jt(T.targetPosition.root,D);_=_._getTransformedByMove(b,E,1);const H=new Jn(_,n.howMany,U,0);return f.push(T),f.push(H),f}}const u=zt._createFromPositionAndShift(A.sourcePosition,A.howMany)._getTransformedByMergeOperation(n);return A.sourcePosition=u.start,A.howMany=u.end.offset-u.start.offset,A.targetPosition=A.targetPosition._getTransformedByMergeOperation(n),[A]}),Un(ya,Ir,(A,n)=>(A.position=A.position._getTransformedByInsertOperation(n),[A])),Un(ya,gs,(A,n)=>A.position.isEqual(n.deletionPosition)?(A.position=n.graveyardPosition.clone(),A.position.stickiness="toNext",[A]):(A.position=A.position._getTransformedByMergeOperation(n),[A])),Un(ya,Jn,(A,n)=>(A.position=A.position._getTransformedByMoveOperation(n),[A])),Un(ya,ya,(A,n,s)=>{if(A.position.isEqual(n.position)){if(!s.aIsStrong)return[new dr(0)];A.oldName=n.newName}return[A]}),Un(ya,Ci,(A,n)=>{if(xn(A.position.path,n.splitPosition.getParentPath())=="same"&&!n.graveyardPosition){const s=new ya(A.position.getShiftedBy(1),A.oldName,A.newName,0);return[A,s]}return A.position=A.position._getTransformedBySplitOperation(n),[A]}),Un(yA,yA,(A,n,s)=>{if(A.root===n.root&&A.key===n.key){if(!s.aIsStrong||A.newValue===n.newValue)return[new dr(0)];A.oldValue=n.newValue}return[A]}),Un(wd,wd,(A,n)=>A.rootName===n.rootName&&A.isAdd===n.isAdd?[new dr(0)]:[A]),Un(Ci,Ir,(A,n)=>(A.splitPosition.hasSameParentAs(n.position)&&A.splitPosition.offset<n.position.offset&&(A.howMany+=n.howMany),A.splitPosition=A.splitPosition._getTransformedByInsertOperation(n),A.insertionPosition=A.insertionPosition._getTransformedByInsertOperation(n),[A])),Un(Ci,gs,(A,n,s)=>{if(!A.graveyardPosition&&!s.bWasUndone&&A.splitPosition.hasSameParentAs(n.sourcePosition)){const l=n.graveyardPosition.path.slice();l.push(0);const u=new Jt(n.graveyardPosition.root,l),f=Ci.getInsertionPosition(new Jt(n.graveyardPosition.root,l)),b=new Ci(u,0,f,null,0);return A.splitPosition=A.splitPosition._getTransformedByMergeOperation(n),A.insertionPosition=Ci.getInsertionPosition(A.splitPosition),A.graveyardPosition=b.insertionPosition.clone(),A.graveyardPosition.stickiness="toNext",[b,A]}return A.splitPosition.hasSameParentAs(n.deletionPosition)&&!A.splitPosition.isAfter(n.deletionPosition)&&A.howMany--,A.splitPosition.hasSameParentAs(n.targetPosition)&&(A.howMany+=n.howMany),A.splitPosition=A.splitPosition._getTransformedByMergeOperation(n),A.insertionPosition=Ci.getInsertionPosition(A.splitPosition),A.graveyardPosition&&(A.graveyardPosition=A.graveyardPosition._getTransformedByMergeOperation(n)),[A]}),Un(Ci,Jn,(A,n,s)=>{const l=zt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(A.graveyardPosition){const f=l.start.isEqual(A.graveyardPosition)||l.containsPosition(A.graveyardPosition);if(!s.bWasUndone&&f){const b=A.splitPosition._getTransformedByMoveOperation(n),_=A.graveyardPosition._getTransformedByMoveOperation(n),E=_.path.slice();E.push(0);const T=new Jt(_.root,E);return[new Jn(b,A.howMany,T,0)]}A.graveyardPosition=A.graveyardPosition._getTransformedByMoveOperation(n)}const u=A.splitPosition.isEqual(n.targetPosition);if(u&&(s.baRelation=="insertAtSource"||s.abRelation=="splitBefore"))return A.howMany+=n.howMany,A.splitPosition=A.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),A.insertionPosition=Ci.getInsertionPosition(A.splitPosition),[A];if(u&&s.abRelation&&s.abRelation.howMany){const{howMany:f,offset:b}=s.abRelation;return A.howMany+=f,A.splitPosition=A.splitPosition.getShiftedBy(b),[A]}if(A.splitPosition.hasSameParentAs(n.sourcePosition)&&l.containsPosition(A.splitPosition)){const f=n.howMany-(A.splitPosition.offset-n.sourcePosition.offset);return A.howMany-=f,A.splitPosition.hasSameParentAs(n.targetPosition)&&A.splitPosition.offset<n.targetPosition.offset&&(A.howMany+=n.howMany),A.splitPosition=n.sourcePosition.clone(),A.insertionPosition=Ci.getInsertionPosition(A.splitPosition),[A]}return n.sourcePosition.isEqual(n.targetPosition)||(A.splitPosition.hasSameParentAs(n.sourcePosition)&&A.splitPosition.offset<=n.sourcePosition.offset&&(A.howMany-=n.howMany),A.splitPosition.hasSameParentAs(n.targetPosition)&&A.splitPosition.offset<n.targetPosition.offset&&(A.howMany+=n.howMany)),A.splitPosition.stickiness="toNone",A.splitPosition=A.splitPosition._getTransformedByMoveOperation(n),A.splitPosition.stickiness="toNext",A.graveyardPosition?A.insertionPosition=A.insertionPosition._getTransformedByMoveOperation(n):A.insertionPosition=Ci.getInsertionPosition(A.splitPosition),[A]}),Un(Ci,Ci,(A,n,s)=>{if(A.splitPosition.isEqual(n.splitPosition)){if(!A.graveyardPosition&&!n.graveyardPosition)return[new dr(0)];if(A.graveyardPosition&&n.graveyardPosition&&A.graveyardPosition.isEqual(n.graveyardPosition))return[new dr(0)];if(s.abRelation=="splitBefore")return A.howMany=0,A.graveyardPosition=A.graveyardPosition._getTransformedBySplitOperation(n),[A]}if(A.graveyardPosition&&n.graveyardPosition&&A.graveyardPosition.isEqual(n.graveyardPosition)){const l=A.splitPosition.root.rootName=="$graveyard",u=n.splitPosition.root.rootName=="$graveyard";if(u&&!l||!(l&&!u)&&s.aIsStrong){const f=[];return n.howMany&&f.push(new Jn(n.moveTargetPosition,n.howMany,n.splitPosition,0)),A.howMany&&f.push(new Jn(A.splitPosition,A.howMany,A.moveTargetPosition,0)),f}return[new dr(0)]}if(A.graveyardPosition&&(A.graveyardPosition=A.graveyardPosition._getTransformedBySplitOperation(n)),A.splitPosition.isEqual(n.insertionPosition)&&s.abRelation=="splitBefore")return A.howMany++,[A];if(n.splitPosition.isEqual(A.insertionPosition)&&s.baRelation=="splitBefore"){const l=n.insertionPosition.path.slice();l.push(0);const u=new Jt(n.insertionPosition.root,l);return[A,new Jn(A.insertionPosition,1,u,0)]}return A.splitPosition.hasSameParentAs(n.splitPosition)&&A.splitPosition.offset<n.splitPosition.offset&&(A.howMany-=n.howMany),A.splitPosition=A.splitPosition._getTransformedBySplitOperation(n),A.insertionPosition=Ci.getInsertionPosition(A.splitPosition),[A]});class no extends Dt(Jt){constructor(n,s,l="toNone"){if(super(n,s,l),!this.root.is("rootElement"))throw new K("model-liveposition-root-not-rootelement",n);e8.call(this)}detach(){this.stopListening()}toPosition(){return new Jt(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,s){return new this(n.root,n.path.slice(),s||n.stickiness)}}function e8(){this.listenTo(this.root.document.model,"applyOperation",(A,n)=>{const s=n[0];s.isDocumentOperation&&n8.call(this,s)},{priority:"low"})}function n8(A){const n=this.getTransformedByOperation(A);if(!this.isEqual(n)){const s=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",s)}}no.prototype.is=function(A){return A==="livePosition"||A==="model:livePosition"||A=="position"||A==="model:position"};class nm{constructor(n={}){typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},J("batch-constructor-deprecated-string-type"));const{isUndoable:s=!0,isLocal:l=!0,isUndo:u=!1,isTyping:f=!1}=n;this.operations=[],this.isUndoable=s,this.isLocal=l,this.isUndo=u,this.isTyping=f}get type(){return J("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}var i8=Object.defineProperty,s8=Object.defineProperties,r8=Object.getOwnPropertyDescriptors,jP=Object.getOwnPropertySymbols,o8=Object.prototype.hasOwnProperty,a8=Object.prototype.propertyIsEnumerable,VP=(A,n,s)=>n in A?i8(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,KP=(A,n)=>{for(var s in n||(n={}))o8.call(n,s)&&VP(A,s,n[s]);if(jP)for(var s of jP(n))a8.call(n,s)&&VP(A,s,n[s]);return A};class l8{constructor(n){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(n){const s=n;switch(s.type){case"insert":if(this._isInInsertedElement(s.position.parent))return;this._markInsert(s.position.parent,s.position.offset,s.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const l of s.range.getItems({shallow:!0}))this._isInInsertedElement(l.parent)||this._markAttribute(l);break;case"remove":case"move":case"reinsert":{if(s.sourcePosition.isEqual(s.targetPosition)||s.sourcePosition.getShiftedBy(s.howMany).isEqual(s.targetPosition))return;const l=this._isInInsertedElement(s.sourcePosition.parent),u=this._isInInsertedElement(s.targetPosition.parent);l||this._markRemove(s.sourcePosition.parent,s.sourcePosition.offset,s.howMany),u||this._markInsert(s.targetPosition.parent,s.getMovedRangeStart().offset,s.howMany);break}case"rename":{if(this._isInInsertedElement(s.position.parent))return;this._markRemove(s.position.parent,s.position.offset,1),this._markInsert(s.position.parent,s.position.offset,1);const l=zt._createFromPositionAndShift(s.position,1);for(const u of this._markerCollection.getMarkersIntersectingRange(l)){const f=u.getData();this.bufferMarkerChange(u.name,f,f)}break}case"split":{const l=s.splitPosition.parent;this._isInInsertedElement(l)||this._markRemove(l,s.splitPosition.offset,s.howMany),this._isInInsertedElement(s.insertionPosition.parent)||this._markInsert(s.insertionPosition.parent,s.insertionPosition.offset,1),s.graveyardPosition&&this._markRemove(s.graveyardPosition.parent,s.graveyardPosition.offset,1);break}case"merge":{const l=s.sourcePosition.parent;this._isInInsertedElement(l.parent)||this._markRemove(l.parent,l.startOffset,1);const u=s.graveyardPosition.parent;this._markInsert(u,s.graveyardPosition.offset,1);const f=s.targetPosition.parent;this._isInInsertedElement(f)||this._markInsert(f,s.targetPosition.offset,l.maxOffset);break}case"detachRoot":case"addRoot":{const l=s.affectedSelectable;if(!l._isLoaded||l.isAttached()==s.isAdd)return;this._bufferRootStateChange(s.rootName,s.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!s.root._isLoaded)return;const l=s.root.rootName;this._bufferRootAttributeChange(l,s.key,s.oldValue,s.newValue);break}}this._cachedChanges=null}bufferMarkerChange(n,s,l){s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null),l.range&&l.range.root.is("rootElement")&&!l.range.root._isLoaded&&(l.range=null);let u=this._changedMarkers.get(n);u?u.newMarkerData=l:(u={newMarkerData:l,oldMarkerData:s},this._changedMarkers.set(n,u)),u.oldMarkerData.range==null&&l.range==null&&this._changedMarkers.delete(n)}getMarkersToRemove(){const n=[];for(const[s,l]of this._changedMarkers)l.oldMarkerData.range!=null&&n.push({name:s,range:l.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[s,l]of this._changedMarkers)l.newMarkerData.range!=null&&n.push({name:s,range:l.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,s])=>({name:n,data:{oldRange:s.oldMarkerData.range,newRange:s.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:s}of this._changedMarkers.values()){if(n.affectsData!==s.affectsData)return!0;if(n.affectsData){const l=n.range&&!s.range,u=!n.range&&s.range,f=n.range&&s.range&&!n.range.isEqual(s.range);if(l||u||f)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let s=[];for(const l of this._changesInElement.keys()){const u=this._changesInElement.get(l).sort((D,U)=>D.offset===U.offset?D.type!=U.type?D.type=="remove"?-1:1:0:D.offset<U.offset?-1:1),f=this._elementSnapshots.get(l),b=GP(l.getChildren()),_=c8(f.length,u);let E=0,T=0;for(const D of _)if(D==="i")s.push(this._getInsertDiff(l,E,b[E])),E++;else if(D==="r")s.push(this._getRemoveDiff(l,E,f[T])),T++;else if(D==="a"){const U=b[E].attributes,H=f[T].attributes;let $;if(b[E].name=="$text")$=new zt(Jt._createAt(l,E),Jt._createAt(l,E+1));else{const tt=l.offsetToIndex(E);$=new zt(Jt._createAt(l,E),Jt._createAt(l.getChild(tt),0))}s.push(...this._getAttributesDiff($,H,U)),E++,T++}else E++,T++}s.sort((l,u)=>l.position.root!=u.position.root?l.position.root.rootName<u.position.root.rootName?-1:1:l.position.isEqual(u.position)?l.changeCount-u.changeCount:l.position.isBefore(u.position)?-1:1);for(let l=1,u=0;l<s.length;l++){const f=s[u],b=s[l],_=f.type=="remove"&&b.type=="remove"&&f.name=="$text"&&b.name=="$text"&&f.position.isEqual(b.position),E=f.type=="insert"&&b.type=="insert"&&f.name=="$text"&&b.name=="$text"&&f.position.parent==b.position.parent&&f.position.offset+f.length==b.position.offset,T=f.type=="attribute"&&b.type=="attribute"&&f.position.parent==b.position.parent&&f.range.isFlat&&b.range.isFlat&&f.position.offset+f.length==b.position.offset&&f.attributeKey==b.attributeKey&&f.attributeOldValue==b.attributeOldValue&&f.attributeNewValue==b.attributeNewValue;_||E||T?(f.length++,T&&(f.range.end=f.range.end.getShiftedBy(1)),s[l]=null):u=l}s=s.filter(l=>l);for(const l of s)delete l.changeCount,l.type=="attribute"&&(delete l.position,delete l.length);return this._changeCount=0,this._cachedChangesWithGraveyard=s,this._cachedChanges=s.filter(d8),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(n=>{const s=KP({},n);return s.state!==void 0&&delete s.attributes,s})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(n,s){if(!this._changedRoots.has(n))return void this._changedRoots.set(n,{name:n,state:s?"attached":"detached"});const l=this._changedRoots.get(n);l.state!==void 0?(delete l.state,l.attributes===void 0&&this._changedRoots.delete(n)):l.state=s?"attached":"detached"}_bufferRootAttributeChange(n,s,l,u){const f=this._changedRoots.get(n)||{name:n},b=f.attributes||{};if(b[s]){const _=b[s];u===_.oldValue?delete b[s]:_.newValue=u}else b[s]={oldValue:l,newValue:u};Object.entries(b).length===0?(delete f.attributes,f.state===void 0&&this._changedRoots.delete(n)):(f.attributes=b,this._changedRoots.set(n,f))}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n);const s=zt._createOn(n);for(const l of this._markerCollection.getMarkersIntersectingRange(s)){const u=l.getData();this.bufferMarkerChange(l.name,u,u)}this._cachedChanges=null}_bufferRootLoad(n){if(n.isAttached()){this._bufferRootStateChange(n.rootName,!0),this._markInsert(n,0,n.maxOffset);for(const l of n.getAttributeKeys())this._bufferRootAttributeChange(n.rootName,l,null,n.getAttribute(l));for(const l of this._markerCollection)if(l.getRange().root==n){const u=l.getData();this.bufferMarkerChange(l.name,(s=KP({},u),s8(s,r8({range:null}))),u)}var s}}_markInsert(n,s,l){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const u={type:"insert",offset:s,howMany:l,count:this._changeCount++};this._markChange(n,u)}_markRemove(n,s,l){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const u={type:"remove",offset:s,howMany:l,count:this._changeCount++};this._markChange(n,u),this._removeAllNestedChanges(n,s,l)}_markAttribute(n){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const s={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,s)}_markChange(n,s){this._makeSnapshot(n);const l=this._getChangesForElement(n);this._handleChange(s,l),l.push(s);for(let u=0;u<l.length;u++)l[u].howMany<1&&(l.splice(u,1),u--)}_getChangesForElement(n){let s;return this._changesInElement.has(n)?s=this._changesInElement.get(n):(s=[],this._changesInElement.set(n,s)),s}_makeSnapshot(n){this._elementSnapshots.has(n)||this._elementSnapshots.set(n,GP(n.getChildren()))}_handleChange(n,s){n.nodesToHandle=n.howMany;for(const l of s){const u=n.offset+n.howMany,f=l.offset+l.howMany;if(n.type=="insert"&&(l.type=="insert"&&(n.offset<=l.offset?l.offset+=n.howMany:n.offset<f&&(l.howMany+=n.nodesToHandle,n.nodesToHandle=0)),l.type=="remove"&&n.offset<l.offset&&(l.offset+=n.howMany),l.type=="attribute")){if(n.offset<=l.offset)l.offset+=n.howMany;else if(n.offset<f){const b=l.howMany;l.howMany=n.offset-l.offset,s.unshift({type:"attribute",offset:u,howMany:b-l.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(l.type=="insert"){if(u<=l.offset)l.offset-=n.howMany;else if(u<=f)if(n.offset<l.offset){const b=u-l.offset;l.offset=n.offset,l.howMany-=b,n.nodesToHandle-=b}else l.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=l.offset)n.nodesToHandle-=l.howMany,l.howMany=0;else if(n.offset<f){const b=f-n.offset;l.howMany-=b,n.nodesToHandle-=b}}if(l.type=="remove"&&(u<=l.offset?l.offset-=n.howMany:n.offset<l.offset&&(n.nodesToHandle+=l.howMany,l.howMany=0)),l.type=="attribute"){if(u<=l.offset)l.offset-=n.howMany;else if(n.offset<l.offset){const b=u-l.offset;l.offset=n.offset,l.howMany-=b}else if(n.offset<f)if(u<=f){const b=l.howMany;l.howMany=n.offset-l.offset;const _=b-l.howMany-n.nodesToHandle;s.unshift({type:"attribute",offset:n.offset,howMany:_,count:this._changeCount++})}else l.howMany-=f-n.offset}}if(n.type=="attribute"){if(l.type=="insert")if(n.offset<l.offset&&u>l.offset){if(u>f){const b={type:"attribute",offset:f,howMany:u-f,count:this._changeCount++};this._handleChange(b,s),s.push(b)}n.nodesToHandle=l.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=l.offset&&n.offset<f&&(u>f?(n.nodesToHandle=u-f,n.offset=f):n.nodesToHandle=0);if(l.type=="remove"&&n.offset<l.offset&&u>l.offset){const b={type:"attribute",offset:l.offset,howMany:u-l.offset,count:this._changeCount++};this._handleChange(b,s),s.push(b),n.nodesToHandle=l.offset-n.offset,n.howMany=n.nodesToHandle}l.type=="attribute"&&(n.offset>=l.offset&&u<=f?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=l.offset&&u>=f&&(l.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,s,l){return{type:"insert",position:Jt._createAt(n,s),name:l.name,attributes:new Map(l.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(n,s,l){return{type:"remove",position:Jt._createAt(n,s),name:l.name,attributes:new Map(l.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(n,s,l){const u=[];l=new Map(l);for(const[f,b]of s){const _=l.has(f)?l.get(f):null;_!==b&&u.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:f,attributeOldValue:b,attributeNewValue:_,changeCount:this._changeCount++}),l.delete(f)}for(const[f,b]of l)u.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:f,attributeOldValue:null,attributeNewValue:b,changeCount:this._changeCount++});return u}_isInInsertedElement(n){const s=n.parent;if(!s)return!1;const l=this._changesInElement.get(s),u=n.startOffset;if(l){for(const f of l)if(f.type=="insert"&&u>=f.offset&&u<f.offset+f.howMany)return!0}return this._isInInsertedElement(s)}_removeAllNestedChanges(n,s,l){const u=new zt(Jt._createAt(n,s),Jt._createAt(n,s+l));for(const f of u.getItems({shallow:!0}))f.is("element")&&(this._elementSnapshots.delete(f),this._changesInElement.delete(f),this._removeAllNestedChanges(f,0,f.maxOffset))}}function GP(A){const n=[];for(const s of A)if(s.is("$text"))for(let l=0;l<s.data.length;l++)n.push({name:"$text",attributes:new Map(s.getAttributes())});else n.push({name:s.name,attributes:new Map(s.getAttributes())});return n}function c8(A,n){const s=[];let l=0,u=0;for(const f of n){if(f.offset>l){for(let b=0;b<f.offset-l;b++)s.push("e");u+=f.offset-l}if(f.type=="insert"){for(let b=0;b<f.howMany;b++)s.push("i");l=f.offset+f.howMany}else if(f.type=="remove"){for(let b=0;b<f.howMany;b++)s.push("r");l=f.offset,u+=f.howMany}else s.push(..."a".repeat(f.howMany).split("")),l=f.offset+f.howMany,u+=f.howMany}if(u<A)for(let f=0;f<A-u-l;f++)s.push("e");return s}function d8(A){const n="position"in A&&A.position.root.rootName=="$graveyard",s="range"in A&&A.range.root.rootName=="$graveyard";return!n&&!s}class A8{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new K("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,s=this.version){if(!this._operations.length)return[];const l=this._operations[0];n===void 0&&(n=l.baseVersion);let u=s-1;for(const[_,E]of this._gaps)n>_&&n<E&&(n=E),u>_&&u<E&&(u=_-1);if(u<l.baseVersion||n>this.lastOperation.baseVersion)return[];let f=this._baseVersionToOperationIndex.get(n);f===void 0&&(f=0);let b=this._baseVersionToOperationIndex.get(u);return b===void 0&&(b=this._operations.length-1),this._operations.slice(f,b+1)}getOperation(n){const s=this._baseVersionToOperationIndex.get(n);if(s!==void 0)return this._operations[s]}setOperationAsUndone(n,s){this._undoPairs.set(s,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Z0 extends gi{constructor(n,s,l="main"){super(s),this._isAttached=!0,this._isLoaded=!0,this._document=n,this.rootName=l}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Z0.prototype.is=function(A,n){return n?n===this.name&&(A==="rootElement"||A==="model:rootElement"||A==="element"||A==="model:element"):A==="rootElement"||A==="model:rootElement"||A==="element"||A==="model:element"||A==="node"||A==="model:node"};var u8=Object.defineProperty,h8=Object.defineProperties,f8=Object.getOwnPropertyDescriptors,WP=Object.getOwnPropertySymbols,p8=Object.prototype.hasOwnProperty,g8=Object.prototype.propertyIsEnumerable,$P=(A,n,s)=>n in A?u8(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,qP=(A,n)=>{for(var s in n||(n={}))p8.call(n,s)&&$P(A,s,n[s]);if(WP)for(var s of WP(n))g8.call(n,s)&&$P(A,s,n[s]);return A},YP=(A,n)=>h8(A,f8(n));const XP="$graveyard";class m8 extends Dt(){constructor(n){super(),this.model=n,this.history=new A8,this.selection=new Dc(this),this.roots=new Hs({idProperty:"rootName"}),this.differ=new l8(n.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",XP),this.listenTo(n,"applyOperation",(s,l)=>{const u=l[0];u.isDocumentOperation&&this.differ.bufferOperation(u)},{priority:"high"}),this.listenTo(n,"applyOperation",(s,l)=>{const u=l[0];u.isDocumentOperation&&this.history.addOperation(u)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",(s,l,u,f,b)=>{const _=YP(qP({},l.getData()),{range:f});this.differ.bufferMarkerChange(l.name,b,_),u===null&&l.on("change",(E,T)=>{const D=l.getData();this.differ.bufferMarkerChange(l.name,YP(qP({},D),{range:T}),D)})}),this.registerPostFixer(s=>{let l=!1;for(const u of this.roots)u.isAttached()||u.isEmpty||(s.remove(s.createRangeIn(u)),l=!0);for(const u of this.model.markers)u.getRange().root.isAttached()||(s.removeMarker(u),l=!0);return l})}get version(){return this.history.version}set version(n){this.history.version=n}get graveyard(){return this.getRoot(XP)}createRoot(n="$root",s="main"){if(this.roots.get(s))throw new K("model-document-createroot-name-exists",this,{name:s});const l=new Z0(this,n,s);return this.roots.add(l),l}destroy(){this.selection.destroy(),this.stopListening()}getRoot(n="main"){return this.roots.get(n)}getRootNames(n=!1){return this.getRoots(n).map(s=>s.rootName)}getRoots(n=!1){return Array.from(this.roots).filter(s=>s!=this.graveyard&&(n||s.isAttached())&&s._isLoaded)}registerPostFixer(n){this._postFixers.add(n)}toJSON(){const n=Mw(this);return n.selection="[engine.model.DocumentSelection]",n.model="[engine.model.Model]",n}_handleChangeBlock(n){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(n),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const n=this.getRoots();return n.length?n[0]:this.graveyard}_getDefaultRange(){const n=this._getDefaultRoot(),s=this.model,l=s.schema,u=s.createPositionFromPath(n,[0]);return l.getNearestSelectionRange(u)||s.createRange(u)}_validateSelectionRange(n){return ZP(n.start)&&ZP(n.end)}_callPostFixers(n){let s=!1;do for(const l of this._postFixers)if(this.selection.refresh(),s=l(n),s)break;while(s)}}function ZP(A){const n=A.textNode;if(n){const s=n.data,l=A.offset-n.startOffset;return!yf(s,l)&&!Cf(s,l)}return!0}var b8=Object.defineProperty,w8=Object.defineProperties,v8=Object.getOwnPropertyDescriptors,JP=Object.getOwnPropertySymbols,_8=Object.prototype.hasOwnProperty,k8=Object.prototype.propertyIsEnumerable,tF=(A,n,s)=>n in A?b8(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s;class y8 extends Dt(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(n){const s=n instanceof im?n.name:n;return this._markers.has(s)}get(n){return this._markers.get(n)||null}_set(n,s,l=!1,u=!1){const f=n instanceof im?n.name:n;if(f.includes(","))throw new K("markercollection-incorrect-marker-name",this);const b=this._markers.get(f);if(b){const D=b.getData(),U=b.getRange();let H=!1;return U.isEqual(s)||(b._attachLiveRange(Ic.fromRange(s)),H=!0),l!=b.managedUsingOperations&&(b._managedUsingOperations=l,H=!0),typeof u=="boolean"&&u!=b.affectsData&&(b._affectsData=u,H=!0),H&&this.fire(`update:${f}`,b,U,s,D),b}const _=Ic.fromRange(s),E=new im(f,_,l,u);var T;return this._markers.set(f,E),this.fire(`update:${f}`,E,null,s,(T=((D,U)=>{for(var H in U||(U={}))_8.call(U,H)&&tF(D,H,U[H]);if(JP)for(var H of JP(U))k8.call(U,H)&&tF(D,H,U[H]);return D})({},E.getData()),w8(T,v8({range:null})))),E}_remove(n){const s=n instanceof im?n.name:n,l=this._markers.get(s);return!!l&&(this._markers.delete(s),this.fire(`update:${s}`,l,l.getRange(),null,l.getData()),this._destroyMarker(l),!0)}_refresh(n){const s=n instanceof im?n.name:n,l=this._markers.get(s);if(!l)throw new K("markercollection-refresh-marker-not-exists",this);const u=l.getRange();this.fire(`update:${s}`,l,u,u,l.getData())}*getMarkersAtPosition(n){for(const s of this)s.getRange().containsPosition(n)&&(yield s)}*getMarkersIntersectingRange(n){for(const s of this)s.getRange().getIntersection(n)!==null&&(yield s)}destroy(){for(const n of this._markers.values())this._destroyMarker(n);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const s of this._markers.values())s.name.startsWith(n+":")&&(yield s)}_destroyMarker(n){n.stopListening(),n._detachLiveRange()}}class im extends Dt(Xu){constructor(n,s,l,u){super(),this.name=n,this._liveRange=this._attachLiveRange(s),this._managedUsingOperations=l,this._affectsData=u}get managedUsingOperations(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}im.prototype.is=function(A){return A==="marker"||A==="model:marker"};class C8 extends sl{constructor(n,s){super(null),this.sourcePosition=n.clone(),this.howMany=s}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n}_validate(){if(this.sourcePosition.root.document)throw new K("detach-operation-on-document-node",this)}_execute(){FP(zt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class CA extends Xu{constructor(n){super(),this.markers=new Map,this._children=new Hw,n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let s=this;for(const l of n)s=s.getChild(s.offsetToIndex(l));return s}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const s of this._children)n.push(s.toJSON());return n}static fromJSON(n){const s=[];for(const l of n)l.name?s.push(gi.fromJSON(l)):s.push(yi.fromJSON(l));return new CA(s)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,s){const l=function(u){return typeof u=="string"?[new yi(u)]:(ti(u)||(u=[u]),Array.from(u).map(f=>typeof f=="string"?new yi(f):f instanceof Tc?new yi(f.data,f.getAttributes()):f))}(s);for(const u of l)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(n,l)}_removeChildren(n,s=1){const l=this._children._removeNodes(n,s);for(const u of l)u.parent=null;return l}}CA.prototype.is=function(A){return A==="documentFragment"||A==="model:documentFragment"};class E8{constructor(n,s){this.model=n,this.batch=s}createText(n,s){return new yi(n,s)}createElement(n,s){return new gi(n,s)}createDocumentFragment(){return new CA}cloneElement(n,s=!0){return n._clone(s)}insert(n,s,l=0){if(this._assertWriterUsedCorrectly(),n instanceof yi&&n.data=="")return;const u=Jt._createAt(s,l);if(n.parent){if(iF(n.root,u.root))return void this.move(zt._createOn(n),u);if(n.root.document)throw new K("model-writer-insert-forbidden-move",this);this.remove(n)}const f=u.root.document?u.root.document.version:null,b=new Ir(u,n,f);if(n instanceof yi&&(b.shouldReceiveAttributes=!0),this.batch.addOperation(b),this.model.applyOperation(b),n instanceof CA)for(const[_,E]of n.markers){const T=Jt._createAt(E.root,0),D={range:new zt(E.start._getCombined(T,u),E.end._getCombined(T,u)),usingOperation:!0,affectsData:!0};this.model.markers.has(_)?this.updateMarker(_,D):this.addMarker(_,D)}}insertText(n,s,l,u){s instanceof CA||s instanceof gi||s instanceof Jt?this.insert(this.createText(n),s,l):this.insert(this.createText(n,s),l,u)}insertElement(n,s,l,u){s instanceof CA||s instanceof gi||s instanceof Jt?this.insert(this.createElement(n),s,l):this.insert(this.createElement(n,s),l,u)}append(n,s){this.insert(n,s,"end")}appendText(n,s,l){s instanceof CA||s instanceof gi?this.insert(this.createText(n),s,"end"):this.insert(this.createText(n,s),l,"end")}appendElement(n,s,l){s instanceof CA||s instanceof gi?this.insert(this.createElement(n),s,"end"):this.insert(this.createElement(n,s),l,"end")}setAttribute(n,s,l){if(this._assertWriterUsedCorrectly(),l instanceof zt){const u=l.getMinimalFlatRanges();for(const f of u)eF(this,n,s,f)}else nF(this,n,s,l)}setAttributes(n,s){for(const[l,u]of eo(n))this.setAttribute(l,u,s)}removeAttribute(n,s){if(this._assertWriterUsedCorrectly(),s instanceof zt){const l=s.getMinimalFlatRanges();for(const u of l)eF(this,n,null,u)}else nF(this,n,null,s)}clearAttributes(n){this._assertWriterUsedCorrectly();const s=l=>{for(const u of l.getAttributeKeys())this.removeAttribute(u,l)};if(n instanceof zt)for(const l of n.getItems())s(l);else s(n)}move(n,s,l){if(this._assertWriterUsedCorrectly(),!(n instanceof zt))throw new K("writer-move-invalid-range",this);if(!n.isFlat)throw new K("writer-move-range-not-flat",this);const u=Jt._createAt(s,l);if(u.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!iF(n.root,u.root))throw new K("writer-move-different-document",this);const f=n.root.document?n.root.document.version:null,b=new Jn(n.start,n.end.offset-n.start.offset,u,f);this.batch.addOperation(b),this.model.applyOperation(b)}remove(n){this._assertWriterUsedCorrectly();const s=(n instanceof zt?n:zt._createOn(n)).getMinimalFlatRanges().reverse();for(const l of s)this._addOperationForAffectedMarkers("move",l),x8(l.start,l.end.offset-l.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const s=n.nodeBefore,l=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(s instanceof gi))throw new K("writer-merge-no-element-before",this);if(!(l instanceof gi))throw new K("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,s,l){return this.model.createPositionFromPath(n,s,l)}createPositionAt(n,s){return this.model.createPositionAt(n,s)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,s){return this.model.createRange(n,s)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const s=n.nodeBefore,l=n.nodeAfter;this.move(zt._createIn(l),Jt._createAt(s,"end")),this.remove(l)}_merge(n){const s=Jt._createAt(n.nodeBefore,"end"),l=Jt._createAt(n.nodeAfter,0),u=n.root.document.graveyard,f=new Jt(u,[0]),b=n.root.document.version,_=new gs(l,n.nodeAfter.maxOffset,s,f,b);this.batch.addOperation(_),this.model.applyOperation(_)}rename(n,s){if(this._assertWriterUsedCorrectly(),!(n instanceof gi))throw new K("writer-rename-not-element-instance",this);const l=n.root.document?n.root.document.version:null,u=new ya(Jt._createBefore(n),n.name,s,l);this.batch.addOperation(u),this.model.applyOperation(u)}split(n,s){this._assertWriterUsedCorrectly();let l,u,f=n.parent;if(!f.parent)throw new K("writer-split-element-no-parent",this);if(s||(s=f.parent),!n.parent.getAncestors({includeSelf:!0}).includes(s))throw new K("writer-split-invalid-limit-element",this);do{const b=f.root.document?f.root.document.version:null,_=f.maxOffset-n.offset,E=Ci.getInsertionPosition(n),T=new Ci(n,_,E,null,b);this.batch.addOperation(T),this.model.applyOperation(T),l||u||(l=f,u=n.parent.nextSibling),f=(n=this.createPositionAfter(n.parent)).parent}while(f!==s);return{position:n,range:new zt(Jt._createAt(l,"end"),Jt._createAt(u,0))}}wrap(n,s){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new K("writer-wrap-range-not-flat",this);const l=s instanceof gi?s:new gi(s);if(l.childCount>0)throw new K("writer-wrap-element-not-empty",this);if(l.parent!==null)throw new K("writer-wrap-element-attached",this);this.insert(l,n.start);const u=new zt(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(u,Jt._createAt(l,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new K("writer-unwrap-element-no-parent",this);this.move(zt._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,s){if(this._assertWriterUsedCorrectly(),!s||typeof s.usingOperation!="boolean")throw new K("writer-addmarker-no-usingoperation",this);const l=s.usingOperation,u=s.range,f=s.affectsData!==void 0&&s.affectsData;if(this.model.markers.has(n))throw new K("writer-addmarker-marker-exists",this);if(!u)throw new K("writer-addmarker-no-range",this);return l?(qw(this,n,null,u,f),this.model.markers.get(n)):this.model.markers._set(n,u,l,f)}updateMarker(n,s){this._assertWriterUsedCorrectly();const l=typeof n=="string"?n:n.name,u=this.model.markers.get(l);if(!u)throw new K("writer-updatemarker-marker-not-exists",this);if(!s)return J("writer-updatemarker-reconvert-using-editingcontroller",{markerName:l}),void this.model.markers._refresh(u);const f=typeof s.usingOperation=="boolean",b=typeof s.affectsData=="boolean",_=b?s.affectsData:u.affectsData;if(!f&&!s.range&&!b)throw new K("writer-updatemarker-wrong-options",this);const E=u.getRange(),T=s.range?s.range:E;f&&s.usingOperation!==u.managedUsingOperations?s.usingOperation?qw(this,l,null,T,_):(qw(this,l,E,null,_),this.model.markers._set(l,T,void 0,_)):u.managedUsingOperations?qw(this,l,E,T,_):this.model.markers._set(l,T,void 0,_)}removeMarker(n){this._assertWriterUsedCorrectly();const s=typeof n=="string"?n:n.name;if(!this.model.markers.has(s))throw new K("writer-removemarker-no-marker",this);const l=this.model.markers.get(s);if(!l.managedUsingOperations)return void this.model.markers._remove(s);qw(this,s,l.getRange(),null,l.affectsData)}addRoot(n,s="$root"){this._assertWriterUsedCorrectly();const l=this.model.document.getRoot(n);if(l&&l.isAttached())throw new K("writer-addroot-root-exists",this);const u=this.model.document,f=new wd(n,s,!0,u,u.version);return this.batch.addOperation(f),this.model.applyOperation(f),this.model.document.getRoot(n)}detachRoot(n){this._assertWriterUsedCorrectly();const s=typeof n=="string"?this.model.document.getRoot(n):n;if(!s||!s.isAttached())throw new K("writer-detachroot-no-root",this);for(const f of this.model.markers)f.getRange().root===s&&this.removeMarker(f);for(const f of s.getAttributeKeys())this.removeAttribute(f,s);this.remove(this.createRangeIn(s));const l=this.model.document,u=new wd(s.rootName,s.name,!1,l,l.version);this.batch.addOperation(u),this.model.applyOperation(u)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,s){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,s)}setSelectionAttribute(n,s){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,s);else for(const[l,u]of eo(n))this._setSelectionAttribute(l,u)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const s of n)this._removeSelectionAttribute(s)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,s){const l=this.model.document.selection;if(l.isCollapsed&&l.anchor.parent.isEmpty){const u=Dc._getStoreAttributeKey(n);this.setAttribute(u,s,l.anchor.parent)}l._setAttribute(n,s)}_removeSelectionAttribute(n){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const l=Dc._getStoreAttributeKey(n);this.removeAttribute(l,s.anchor.parent)}s._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new K("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,s){for(const l of this.model.markers){if(!l.managedUsingOperations)continue;const u=l.getRange();let f=!1;if(n==="move"){const b=s;f=b.containsPosition(u.start)||b.start.isEqual(u.start)||b.containsPosition(u.end)||b.end.isEqual(u.end)}else{const b=s,_=b.nodeBefore,E=b.nodeAfter,T=u.start.parent==_&&u.start.isAtEnd,D=u.end.parent==E&&u.end.offset==0,U=u.end.nodeAfter==E,H=u.start.nodeAfter==E;f=T||D||U||H}f&&this.updateMarker(l.name,{range:u})}}}function eF(A,n,s,l){const u=A.model,f=u.document;let b,_,E,T=l.start;for(const U of l.getWalker({shallow:!0}))E=U.item.getAttribute(n),b&&_!=E&&(_!=s&&D(),T=b),b=U.nextPosition,_=E;function D(){const U=new zt(T,b),H=U.root.document?f.version:null,$=new xs(U,n,_,s,H);A.batch.addOperation($),u.applyOperation($)}b instanceof Jt&&b!=T&&_!=s&&D()}function nF(A,n,s,l){const u=A.model,f=u.document,b=l.getAttribute(n);let _,E;if(b!=s){if(l.root===l){const T=l.document?f.version:null;E=new yA(l,n,b,s,T)}else{_=new zt(Jt._createBefore(l),A.createPositionAfter(l));const T=_.root.document?f.version:null;E=new xs(_,n,b,s,T)}A.batch.addOperation(E),u.applyOperation(E)}}function qw(A,n,s,l,u){const f=A.model,b=f.document,_=new ka(n,s,l,f.markers,!!u,b.version);A.batch.addOperation(_),f.applyOperation(_)}function x8(A,n,s,l){let u;if(A.root.document){const f=l.document,b=new Jt(f.graveyard,[0]);u=new Jn(A,n,b,f.version)}else u=new C8(A,n);s.addOperation(u),l.applyOperation(u)}function iF(A,n){return A===n||A instanceof Z0&&n instanceof Z0}function B8(A,n,s={}){if(n.isCollapsed)return;const l=n.getFirstRange();if(l.root.rootName=="$graveyard")return;const u=A.schema;A.change(f=>{if(!s.doNotResetEntireContent&&function(T,D){const U=T.getLimitElement(D);if(!D.containsEntireContent(U))return!1;const H=D.getFirstRange();return H.start.parent==H.end.parent?!1:T.checkChild(U,"paragraph")}(u,n))return void function(T,D){const U=T.model.schema.getLimitElement(D);T.remove(T.createRangeIn(U)),oF(T,T.createPositionAt(U,0),D)}(f,n);const b={};if(!s.doNotAutoparagraph){const T=n.getSelectedElement();T&&Object.assign(b,u.getAttributesWithProperty(T,"copyOnReplace",!0))}const[_,E]=function(T){const D=T.root.document.model,U=T.start;let H=T.end;if(D.hasContent(T,{ignoreMarkers:!0})){const $=function(tt){const it=tt.parent,At=it.root.document.model.schema,bt=it.getAncestors({parentFirst:!0,includeSelf:!0});for(const It of bt){if(At.isLimit(It))return null;if(At.isBlock(It))return It}}(H);if($&&H.isTouching(D.createPositionAt($,0))){const tt=D.createSelection(T);D.modifySelection(tt,{direction:"backward"});const it=tt.getLastPosition(),At=D.createRange(it,H);D.hasContent(At,{ignoreMarkers:!0})||(H=it)}}return[no.fromPosition(U,"toPrevious"),no.fromPosition(H,"toNext")]}(l);_.isTouching(E)||f.remove(f.createRange(_,E)),s.leaveUnmerged||(function(T,D,U){const H=T.model;if(!t1(T.model.schema,D,U))return;const[$,tt]=function(it,At){const bt=it.getAncestors(),It=At.getAncestors();let Wt=0;for(;bt[Wt]&&bt[Wt]==It[Wt];)Wt++;return[bt[Wt],It[Wt]]}(D,U);!$||!tt||(!H.hasContent($,{ignoreMarkers:!0})&&H.hasContent(tt,{ignoreMarkers:!0})?rF(T,D,U,$.parent):sF(T,D,U,$.parent))}(f,_,E),u.removeDisallowedAttributes(_.parent.getChildren(),f)),aF(f,n,_),!s.doNotAutoparagraph&&function(T,D){const U=T.checkChild(D,"$text"),H=T.checkChild(D,"paragraph");return!U&&H}(u,_)&&oF(f,_,n,b),_.detach(),E.detach()})}function sF(A,n,s,l){const u=n.parent,f=s.parent;if(u!=l&&f!=l){for(n=A.createPositionAfter(u),(s=A.createPositionBefore(f)).isEqual(n)||A.insert(f,n),A.merge(n);s.parent.isEmpty;){const b=s.parent;s=A.createPositionBefore(b),A.remove(b)}t1(A.model.schema,n,s)&&sF(A,n,s,l)}}function rF(A,n,s,l){const u=n.parent,f=s.parent;if(u!=l&&f!=l){for(n=A.createPositionAfter(u),(s=A.createPositionBefore(f)).isEqual(n)||A.insert(u,s);n.parent.isEmpty;){const b=n.parent;n=A.createPositionBefore(b),A.remove(b)}s=A.createPositionBefore(f),function(b,_){const E=_.nodeBefore,T=_.nodeAfter;E.name!=T.name&&b.rename(E,T.name),b.clearAttributes(E),b.setAttributes(Object.fromEntries(T.getAttributes()),E),b.merge(_)}(A,s),t1(A.model.schema,n,s)&&rF(A,n,s,l)}}function t1(A,n,s){const l=n.parent,u=s.parent;return l!=u&&!A.isLimit(l)&&!A.isLimit(u)&&function(f,b,_){const E=new zt(f,b);for(const T of E.getWalker())if(_.isLimit(T.item))return!1;return!0}(n,s,A)}function oF(A,n,s,l={}){const u=A.createElement("paragraph");A.model.schema.setAllowedAttributes(u,l,A),A.insert(u,n),aF(A,s,A.createPositionAt(u,0))}function aF(A,n,s){n instanceof Dc?A.setSelection(s):n.setTo(s)}function lF(A,n){const s=[];Array.from(A.getItems({direction:"backward"})).map(l=>n.createRangeOn(l)).filter(l=>(l.start.isAfter(A.start)||l.start.isEqual(A.start))&&(l.end.isBefore(A.end)||l.end.isEqual(A.end))).forEach(l=>{s.push(l.start.parent),n.remove(l)}),s.forEach(l=>{let u=l;for(;u.parent&&u.isEmpty;){const f=n.createRangeOn(u);u=u.parent,n.remove(f)}})}class S8{constructor(n,s,l){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=n,this.writer=s,this.position=l,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=s.createDocumentFragment(),this._documentFragmentPosition=s.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const s of Array.from(n))this._handleNode(s);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const s=this.writer.createPositionAfter(this._lastNode),l=this.writer.createPositionAfter(n);if(l.isAfter(s)){if(this._lastNode=n,this.position.parent!=n||!this.position.isAtEnd)throw new K("insertcontent-invalid-insertion-position",this);this.position=l,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?zt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new zt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(this.schema.isObject(n))return void this._handleObject(n);let s=this._checkAndAutoParagraphToAllowedPosition(n);s||(s=this._checkAndSplitToAllowedPosition(n),s)?(this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n):this._handleDisallowedNode(n)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=no.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleObject(n){this._checkAndSplitToAllowedPosition(n)?this._appendToFragment(n):this._tryAutoparagraphing(n)}_handleDisallowedNode(n){n.is("element")?this.handleNodes(n.getChildren()):this._tryAutoparagraphing(n)}_appendToFragment(n){if(!this.schema.checkChild(this.position,n))throw new K("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=no.fromPosition(n,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(n)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=no.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof gi)||!this._canMergeLeft(n))return;const s=no._createBefore(n);s.stickiness="toNext";const l=no.fromPosition(this.position,"toNext");this._affectedStart.isEqual(s)&&(this._affectedStart.detach(),this._affectedStart=no._createAt(s.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=no._createAt(s.nodeBefore,"end","toNext")),this.position=l.toPosition(),l.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof gi)||!this._canMergeRight(n))return;const s=no._createAfter(n);if(s.stickiness="toNext",!this.position.isEqual(s))throw new K("insertcontent-invalid-insertion-position",this);this.position=Jt._createAt(s.nodeBefore,"end");const l=no.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=no._createAt(s.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=s.nodeBefore,this._lastNode=s.nodeBefore),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=no._createAt(s.nodeBefore,0,"toPrevious")),this.position=l.toPosition(),l.detach(),this._filterAttributesOf.push(this.position.parent),s.detach()}_canMergeLeft(n){const s=n.previousSibling;return s instanceof gi&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(s,n)}_canMergeRight(n){const s=n.nextSibling;return s instanceof gi&&this.canMergeWith.has(s)&&this.model.schema.checkMerge(n,s)}_tryAutoparagraphing(n){const s=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,s)&&this.schema.checkChild(s,n)&&(s._appendChild(n),this._handleNode(s))}_checkAndAutoParagraphToAllowedPosition(n){if(this.schema.checkChild(this.position.parent,n))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",n))return!1;this._insertPartialFragment();const s=this.writer.createElement("paragraph");return this.writer.insert(s,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=s,this.position=this.writer.createPositionAt(s,0),!0}_checkAndSplitToAllowedPosition(n){const s=this._getAllowedIn(this.position.parent,n);if(!s)return!1;for(s!=this.position.parent&&this._insertPartialFragment();s!=this.position.parent;)if(this.position.isAtStart){const l=this.position.parent;this.position=this.writer.createPositionBefore(l),l.isEmpty&&l.parent===s&&this.writer.remove(l)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const l=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=l,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(n,s){return this.schema.checkChild(n,s)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,s)}}function cF(A,n,s="auto"){const l=A.getSelectedElement();if(l&&n.schema.isObject(l)&&!n.schema.isInline(l))return s=="before"||s=="after"?n.createRange(n.createPositionAt(l,s)):n.createRangeOn(l);const u=ai(A.getSelectedBlocks());if(!u)return n.createRange(A.focus);if(u.isEmpty)return n.createRange(n.createPositionAt(u,0));const f=n.createPositionAfter(u);return A.focus.isTouching(f)?n.createRange(f):n.createRange(n.createPositionBefore(u))}function T8(A,n,s,l={}){if(!A.schema.isObject(n))throw new K("insertobject-element-not-an-object",A,{object:n});const u=s||A.document.selection;let f=u;l.findOptimalPosition&&A.schema.isBlock(n)&&(f=A.createSelection(cF(u,A,l.findOptimalPosition)));const b=ai(u.getSelectedBlocks()),_={};return b&&Object.assign(_,A.schema.getAttributesWithProperty(b,"copyOnReplace",!0)),A.change(E=>{f.isCollapsed||A.deleteContent(f,{doNotAutoparagraph:!0});let T=n;const D=f.anchor.parent;!A.schema.checkChild(D,n)&&A.schema.checkChild(D,"paragraph")&&A.schema.checkChild("paragraph",n)&&(T=E.createElement("paragraph"),E.insert(n,T)),A.schema.setAllowedAttributes(T,_,E);const U=A.insertContent(T,f);return U.isCollapsed||l.setSelection&&function(H,$,tt,it){const At=H.model;if(tt=="on")return void H.setSelection($,"on");if(tt!="after")throw new K("insertobject-invalid-place-parameter-value",At);let bt=$.nextSibling;if(At.schema.isInline($))return void H.setSelection($,"after");!(bt&&At.schema.checkChild(bt,"$text"))&&At.schema.checkChild($.parent,"paragraph")&&(bt=H.createElement("paragraph"),At.schema.setAllowedAttributes(bt,it,H),At.insertContent(bt,H.createPositionAfter($))),bt&&H.setSelection(bt,0)}(E,n,l.setSelection,_),U})}const I8=' ,.?!:;"-()';function D8(A,n){const{isForward:s,walker:l,unit:u,schema:f,treatEmojiAsSingleUnit:b}=A,{type:_,item:E,nextPosition:T}=n;if(_=="text")return A.unit==="word"?function(D,U){let H=D.position.textNode;for(H||(H=U?D.position.nodeAfter:D.position.nodeBefore);H&&H.is("$text");){const $=D.position.offset-H.startOffset;if(P8(H,$,U))H=U?D.position.nodeAfter:D.position.nodeBefore;else{if(L8(H.data,$,U))break;D.next()}}return D.position}(l,s):function(D,U,H){const $=D.position.textNode;if($){const tt=$.data;let it=D.position.offset-$.startOffset;for(;yf(tt,it)||U=="character"&&Cf(tt,it)||H&&xf(tt,it);)D.next(),it=D.position.offset-$.startOffset}return D.position}(l,u,b);if(_==(s?"elementStart":"elementEnd")){if(f.isSelectable(E))return Jt._createAt(E,s?"after":"before");if(f.checkChild(T,"$text"))return T}else{if(f.isLimit(E))return void l.skip(()=>!0);if(f.checkChild(T,"$text"))return T}}function M8(A,n){const s=A.root,l=Jt._createAt(s,n?"end":0);return n?new zt(A,l):new zt(l,A)}function L8(A,n,s){const l=n+(s?0:-1);return I8.includes(A.charAt(l))}function P8(A,n,s){return n===(s?A.offsetSize:0)}class F8 extends ae(){constructor(){super(),this.markers=new y8,this.document=new m8(this),this.schema=new TW,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,s)=>{s[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((n,s)=>{if(s.name==="$marker")return!0}),xW(this),this.document.registerPostFixer(wP),this.on("insertContent",(n,[s,l])=>{n.return=function(u,f,b){return u.change(_=>{const E=b||u.document.selection;E.isCollapsed||u.deleteContent(E,{doNotAutoparagraph:!0});const T=new S8(u,_,E.anchor),D=[];let U;if(f.is("documentFragment")){if(f.markers.size){const tt=[];for(const[it,At]of f.markers){const{start:bt,end:It}=At,Wt=bt.isEqual(It);tt.push({position:bt,name:it,isCollapsed:Wt},{position:It,name:it,isCollapsed:Wt})}tt.sort(({position:it},{position:At})=>it.isBefore(At)?1:-1);for(const{position:it,name:At,isCollapsed:bt}of tt){let It=null,Wt=null;const he=it.parent===f&&it.isAtStart,Ve=it.parent===f&&it.isAtEnd;he||Ve?bt&&(Wt=he?"start":"end"):(It=_.createElement("$marker"),_.insert(It,it)),D.push({name:At,element:It,collapsed:Wt})}}U=f.getChildren()}else U=[f];T.handleNodes(U);let H=T.getSelectionRange();if(f.is("documentFragment")&&D.length){const tt=H?Ic.fromRange(H):null,it={};for(let At=D.length-1;At>=0;At--){const{name:bt,element:It,collapsed:Wt}=D[At],he=!it[bt];if(he&&(it[bt]=[]),It){const Ve=_.createPositionAt(It,"before");it[bt].push(Ve),_.remove(It)}else{const Ve=T.getAffectedRange();if(!Ve){Wt&&it[bt].push(T.position);continue}Wt?it[bt].push(Ve[Wt]):it[bt].push(he?Ve.start:Ve.end)}}for(const[At,[bt,It]]of Object.entries(it))bt&&It&&bt.root===It.root&&_.addMarker(At,{usingOperation:!0,affectsData:!0,range:new zt(bt,It)});tt&&(H=tt.toRange(),tt.detach())}H&&(E instanceof Dc?_.setSelection(H):E.setTo(H));const $=T.getAffectedRange()||u.createRange(E.anchor);return T.destroy(),$})}(this,s,l)}),this.on("insertObject",(n,[s,l,u])=>{n.return=T8(this,s,l,u)}),this.on("canEditAt",n=>{const s=!this.document.isReadOnly;n.return=s,s||n.stop()})}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new nm,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(s){K.rethrowUnexpectedError(s,this)}}enqueueChange(n,s){try{n?typeof n=="function"?(s=n,n=new nm):n instanceof nm||(n=new nm(n)):n=new nm,this._pendingChanges.push({batch:n,callback:s}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(l){K.rethrowUnexpectedError(l,this)}}applyOperation(n){n._execute()}insertContent(n,s,l,...u){const f=e1(s,l);return this.fire("insertContent",[n,f,l,...u])}insertObject(n,s,l,u,...f){const b=e1(s,l);return this.fire("insertObject",[n,b,u,u,...f])}deleteContent(n,s){B8(this,n,s)}modifySelection(n,s){(function(l,u,f={}){const b=l.schema,_=f.direction!="backward",E=f.unit?f.unit:"character",T=!!f.treatEmojiAsSingleUnit,D=u.focus,U=new bd({boundaries:M8(D,_),singleCharacters:!0,direction:_?"forward":"backward"}),H={walker:U,schema:b,isForward:_,unit:E,treatEmojiAsSingleUnit:T};let $;for(;$=U.next();){if($.done)return;const tt=D8(H,$.value);if(tt)return void(u instanceof Dc?l.change(it=>{it.setSelectionFocus(tt)}):u.setFocus(tt))}})(this,n,s)}getSelectedContent(n){return function(s,l){return s.change(u=>{const f=u.createDocumentFragment(),b=l.getFirstRange();if(!b||b.isCollapsed)return f;const _=b.start.root,E=b.start.getCommonPath(b.end),T=_.getNodeByPath(E);let D;D=b.start.parent==b.end.parent?b:u.createRange(u.createPositionAt(T,b.start.path[E.length]),u.createPositionAt(T,b.end.path[E.length]+1));const U=D.end.offset-D.start.offset;for(const H of D.getItems({shallow:!0}))H.is("$textProxy")?u.appendText(H.data,H.getAttributes(),f):u.append(u.cloneElement(H,!0),f);if(D!=b){const H=b._getTransformedByMove(D.start,u.createPositionAt(f,0),U)[0],$=u.createRange(u.createPositionAt(f,0),H.start);lF(u.createRange(H.end,u.createPositionAt(f,"end")),u),lF($,u)}return f})}(this,n)}hasContent(n,s={}){const l=n instanceof zt?n:zt._createIn(n);if(l.isCollapsed)return!1;const{ignoreWhitespaces:u=!1,ignoreMarkers:f=!1}=s;if(!f){for(const b of this.markers.getMarkersIntersectingRange(l))if(b.affectsData)return!0}for(const b of l.getItems())if(this.schema.isContent(b)&&(!b.is("$textProxy")||!u||b.data.search(/\S/)!==-1))return!0;return!1}canEditAt(n){const s=e1(n);return this.fire("canEditAt",[s])}createPositionFromPath(n,s,l){return new Jt(n,s,l)}createPositionAt(n,s){return Jt._createAt(n,s)}createPositionAfter(n){return Jt._createAfter(n)}createPositionBefore(n){return Jt._createBefore(n)}createRange(n,s){return new zt(n,s)}createRangeIn(n){return zt._createIn(n)}createRangeOn(n){return zt._createOn(n)}createSelection(...n){return new il(...n)}createBatch(n){return new nm(n)}createOperationFromJSON(n){return XW.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const s=this._pendingChanges[0].batch;this._currentWriter=new E8(this,s);const l=this._pendingChanges[0].callback(this._currentWriter);n.push(l),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}}function e1(A,n){if(A)return A instanceof il||A instanceof Dc?A:A instanceof Lf?n||n===0?new il(A,n):A.is("rootElement")?new il(A,"in"):new il(A,"on"):new il(A)}class O8 extends qu{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(n){this.fire(n.type,n)}}class n1 extends qu{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(n){this.fire(n.type,n)}}class Nf{constructor(n){this.document=n}createDocumentFragment(n){return new Mf(this.document,n)}createElement(n,s,l){return new el(this.document,n,s,l)}createText(n){return new ci(this.document,n)}clone(n,s=!1){return n._clone(s)}appendChild(n,s){return s._appendChild(n)}insertChild(n,s,l){return l._insertChild(n,s)}removeChildren(n,s,l){return l._removeChildren(n,s)}remove(n){const s=n.parent;return s?this.removeChildren(s.getChildIndex(n),1,s):[]}replace(n,s){const l=n.parent;if(l){const u=l.getChildIndex(n);return this.removeChildren(u,1,l),this.insertChild(u,s,l),!0}return!1}unwrapElement(n){const s=n.parent;if(s){const l=s.getChildIndex(n);this.remove(n),this.insertChild(l,n.getChildren(),s)}}rename(n,s){const l=new el(this.document,n,s.getAttributes(),s.getChildren());return this.replace(s,l)?l:null}setAttribute(n,s,l){l._setAttribute(n,s)}removeAttribute(n,s){s._removeAttribute(n)}addClass(n,s){s._addClass(n)}removeClass(n,s){s._removeClass(n)}setStyle(n,s,l){Xs(n)&&l===void 0?s._setStyle(n):l._setStyle(n,s)}removeStyle(n,s){s._removeStyle(n)}setCustomProperty(n,s,l){l._setCustomProperty(n,s)}removeCustomProperty(n,s){return s._removeCustomProperty(n)}createPositionAt(n,s){return de._createAt(n,s)}createPositionAfter(n){return de._createAfter(n)}createPositionBefore(n){return de._createBefore(n)}createRange(n,s){return new qe(n,s)}createRangeOn(n){return qe._createOn(n)}createRangeIn(n){return qe._createIn(n)}createSelection(...n){return new gd(...n)}}class N8{constructor(){this._commands=new Map}add(n,s){this._commands.set(n,s)}get(n){return this._commands.get(n)}execute(n,...s){const l=this.get(n);if(!l)throw new K("commandcollection-command-not-found",this,{commandName:n});return l.execute(...s)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}class R8 extends ae(){constructor(n={}){super();const s=this.constructor,l=n.language||s.defaultConfig&&s.defaultConfig.language;this._context=n.context||new Jo({language:l}),this._context._addEditor(this,!n.context);const u=Array.from(s.builtinPlugins||[]);this.config=new Fe(n,s.defaultConfig),this.config.define("plugins",u),this.config.define(this._context._getEditorConfig()),this.plugins=new Sr(this,u,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new N8,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new F8,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const f=new cG;this.data=new qW(this.model,f),this.editing=new BW(this.model,f),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new YW([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new qg(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(n){throw new K("editor-isreadonly-has-no-setter")}enableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new K("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)||(this._readOnlyLocks.add(n),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new K("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)&&(this._readOnlyLocks.delete(n),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const n=this.config,s=n.get("plugins"),l=n.get("removePlugins")||[],u=n.get("extraPlugins")||[],f=n.get("substitutePlugins")||[];return this.plugins.init(s.concat(u),l,f)}destroy(){let n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(s=>this.once("ready",s))),n.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(n,...s){try{return this.commands.execute(n,...s)}catch(l){K.rethrowUnexpectedError(l,this)}}focus(){this.editing.view.focus()}static create(...n){throw new Error("This is an abstract method.")}}function J0(A){return class extends A{setData(n){this.data.set(n)}getData(n){return this.data.get(n)}}}{const A=J0(Object);J0.setData=A.prototype.setData,J0.getData=A.prototype.getData}function i1(A){return class extends A{updateSourceElement(n=this.data.get()){if(!this.sourceElement)throw new K("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),l=this.sourceElement instanceof HTMLTextAreaElement;Hg(this.sourceElement,s||l?n:"")}}}i1.updateSourceElement=i1(Object).prototype.updateSourceElement;class dF extends tl{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Hs({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(n){if(typeof n!="string")throw new K("pendingactions-add-invalid-message",this);const s=new(ae());return s.set("message",n),this._actions.add(s),this.hasAny=!0,s}remove(n){this._actions.remove(n),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Bs={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var AF=o(5542),U8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(AF.Z,U8),AF.Z.locals;const{threeVerticalDots:uF}=Bs,Q8={alignLeft:Bs.alignLeft,bold:Bs.bold,importExport:Bs.importExport,paragraph:Bs.paragraph,plus:Bs.plus,text:Bs.text,threeVerticalDots:Bs.threeVerticalDots};class s1 extends on{constructor(n,s){super(n);const l=this.bindTemplate,u=this.t;this.options=s||{},this.set("ariaLabel",u("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new to,this.keystrokes=new Kn,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new H8(n),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const f=n.uiLanguageDirection==="rtl";this._focusCycler=new Br({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[f?"arrowright":"arrowleft","arrowup"],focusNext:[f?"arrowleft":"arrowright","arrowdown"]}});const b=["ck","ck-toolbar",l.to("class"),l.if("isCompact","ck-toolbar_compact")];var _;this.options.shouldGroupWhenFull&&this.options.isFloating&&b.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:b,role:"toolbar","aria-label":l.to("ariaLabel"),style:{maxWidth:l.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(_=this,_.bindTemplate.to(E=>{E.target===_.element&&E.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new j8(this):new z8(this)}render(){super.render(),this.focusTracker.add(this.element);for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(n,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,s,l){this.items.addMany(this._buildItemsFromConfig(n,s,l))}_buildItemsFromConfig(n,s,l){const u=Hi(n),f=l||u.removeItems;return this._cleanItemsConfiguration(u.items,s,f).map(b=>Pt(b)?this._createNestedToolbarDropdown(b,s,f):b==="|"?new Zo:b==="-"?new _a:s.create(b)).filter(b=>!!b)}_cleanItemsConfiguration(n,s,l){const u=n.filter((f,b,_)=>f==="|"||l.indexOf(f)===-1&&(f==="-"?!this.options.shouldGroupWhenFull||(J("toolbarview-line-break-ignored-when-grouping-items",_),!1):!(!Pt(f)&&!s.has(f))||(J("toolbarview-item-unavailable",{item:f}),!1)));return this._cleanSeparatorsAndLineBreaks(u)}_cleanSeparatorsAndLineBreaks(n){const s=b=>b!=="-"&&b!=="|",l=n.length,u=n.findIndex(s);if(u===-1)return[];const f=l-n.slice().reverse().findIndex(s);return n.slice(u,f).filter((b,_,E)=>s(b)?!0:!(_>0&&E[_-1]===b))}_createNestedToolbarDropdown(n,s,l){let{label:u,icon:f,items:b,tooltip:_=!0,withText:E=!1}=n;if(b=this._cleanItemsConfiguration(b,s,l),!b.length)return null;const T=Zu(this.locale);return u||J("toolbarview-nested-toolbar-dropdown-missing-label",n),T.class="ck-toolbar__nested-toolbar-dropdown",T.buttonView.set({label:u,tooltip:_,withText:!!E}),f!==!1?T.buttonView.icon=Q8[f]||f||uF:T.buttonView.withText=!0,o1(T,()=>T.toolbarView._buildItemsFromConfig(b,s,l)),T}}class H8 extends on{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class z8{constructor(n){const s=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(l=>l),n.focusables.bindTo(n.items).using(l=>l),n.extendTemplate({attributes:{class:[s.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class j8{constructor(n){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),n.itemsView.children.bindTo(this.ungroupedItems).using(s=>s),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),n.children.on("change",this._updateFocusCycleableItems.bind(this)),n.items.on("change",(s,l)=>{const u=l.index,f=Array.from(l.added);for(const b of l.removed)u>=this.ungroupedItems.length?this.groupedItems.remove(b):this.ungroupedItems.remove(b);for(let b=u;b<u+f.length;b++){const _=f[b-u];b>this.ungroupedItems.length?this.groupedItems.add(_,b-this.ungroupedItems.length):this.ungroupedItems.add(_,b)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Vl(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const n=this.groupedItems.length;let s;for(;this._areItemsOverflowing;)this._groupLastItem(),s=!0;if(!s&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,s=this.viewLocale.uiLanguageDirection,l=new _n(n.lastChild),u=new _n(n);if(!this.cachedPadding){const f=Ce.window.getComputedStyle(n),b=s==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(f[b])}return s==="ltr"?l.right>u.right-this.cachedPadding:l.left<u.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new jl(this.viewElement,s=>{n&&n===s.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=s.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Zo),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,s=n.t,l=Zu(n);return l.class="ck-toolbar__grouped-dropdown",l.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",o1(l,this.groupedItems),l.buttonView.set({label:s("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:uF}),l}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var hF=o(1046),V8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(hF.Z,V8),hF.Z.locals;class K8 extends on{constructor(n){super(n);const s=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new to,this.keystrokes=new Kn,this._focusCycler=new Br({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:s.to("role"),"aria-label":s.to("ariaLabel")},children:this.items})}render(){super.render();for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,s)=>{this.focusTracker.add(s.element)}),this.items.on("remove",(n,s)=>{this.focusTracker.remove(s.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class fF extends on{constructor(n){super(n);const s=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",s.if("isVisible","ck-hidden",l=>!l)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class G8 extends on{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var pF=o(7686),W8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(pF.Z,W8),pF.Z.locals;class r1 extends on{constructor(n){super(n);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Kn,this.focusTracker=new to,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",l=>!l),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(n,s)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),s())}),this.keystrokes.set("arrowleft",(n,s)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),s())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const n=new xt;return n.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),n.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),n.delegate("execute").to(this),n}_createArrowView(){const n=new xt,s=n.bindTemplate;return n.icon=Xi,n.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":s.to("isOn"),"aria-haspopup":!0,"aria-expanded":s.to("isOn",l=>String(l))}}),n.bind("isEnabled").to(this),n.bind("label").to(this),n.bind("tooltip").to(this),n.delegate("execute").to(this,"open"),n}}var gF=o(7339),$8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(gF.Z,$8),gF.Z.locals;var mF=o(3949),q8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(mF.Z,q8),mF.Z.locals;function Zu(A,n=Xo){const s=new n(A),l=new pn(A),u=new Wn(A,s,l);return s.bind("isEnabled").to(u),s instanceof r1?s.arrowView.bind("isOn").to(u,"isOpen"):s.bind("isOn").to(u,"isOpen"),function(f){(function(b){b.on("render",()=>{c({emitter:b,activator:()=>b.isOpen,callback:()=>{b.isOpen=!1},contextElements:()=>[b.element,...b.focusTracker._elements]})})})(f),function(b){b.on("execute",_=>{_.source instanceof ce||(b.isOpen=!1)})}(f),function(b){b.focusTracker.on("change:isFocused",(_,E,T)=>{b.isOpen&&!T&&(b.isOpen=!1)})}(f),function(b){b.keystrokes.set("arrowdown",(_,E)=>{b.isOpen&&(b.panelView.focus(),E())}),b.keystrokes.set("arrowup",(_,E)=>{b.isOpen&&(b.panelView.focusLast(),E())})}(f),function(b){b.on("change:isOpen",(_,E,T)=>{if(T)return;const D=b.panelView.element;D&&D.contains(Ce.document.activeElement)&&b.buttonView.focus()})}(f),function(b){b.on("change:isOpen",(_,E,T)=>{T&&b.panelView.focus()},{priority:"low"})}(f)}(u),u}function o1(A,n,s={}){A.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),A.isOpen?bF(A,n,s):A.once("change:isOpen",()=>bF(A,n,s),{priority:"highest"}),s.enableActiveItemFocusOnDropdownOpen&&_F(A,()=>A.toolbarView.items.find(l=>l.isOn))}function bF(A,n,s){const l=A.locale,u=l.t,f=A.toolbarView=new s1(l),b=typeof n=="function"?n():n;f.ariaLabel=s.ariaLabel||u("Dropdown toolbar"),s.maxWidth&&(f.maxWidth=s.maxWidth),s.class&&(f.class=s.class),s.isCompact&&(f.isCompact=s.isCompact),s.isVertical&&(f.isVertical=!0),b instanceof Za?f.items.bindTo(b).using(_=>_):f.items.addMany(b),A.panelView.children.add(f),f.items.delegate("execute").to(A)}function wF(A,n,s={}){A.isOpen?vF(A,n,s):A.once("change:isOpen",()=>vF(A,n,s),{priority:"highest"}),_F(A,()=>A.listView.items.find(l=>l instanceof fF&&l.children.first.isOn))}function vF(A,n,s){const l=A.locale,u=A.listView=new K8(l),f=typeof n=="function"?n():n;u.ariaLabel=s.ariaLabel,u.role=s.role,u.items.bindTo(f).using(b=>{if(b.type==="separator")return new G8(l);if(b.type==="button"||b.type==="switchbutton"){const _=new fF(l);let E;return E=b.type==="button"?new xt(l):new ce(l),E.bind(...Object.keys(b.model)).to(b.model),E.delegate("execute").to(_),_.children.add(E),_}return null}),A.panelView.children.add(u),u.items.delegate("execute").to(A)}function _F(A,n){A.on("change:isOpen",()=>{if(!A.isOpen)return;const s=n();s&&(typeof s.focus=="function"?s.focus():J("ui-dropdown-focus-child-on-open-child-missing-focus",{view:s}))},{priority:W.low-10})}function a1(A,n,s){const l=new Gn(A.locale);return l.set({id:n,ariaDescribedById:s}),l.bind("isReadOnly").to(A,"isEnabled",u=>!u),l.bind("hasError").to(A,"errorText",u=>!!u),l.on("input",()=>{A.errorText=null}),A.bind("isEmpty","isFocused","placeholder").to(l),l}const Yw=(A,n=0,s=1)=>A>s?s:A<n?n:A,io=(A,n=0,s=Math.pow(10,n))=>Math.round(s*A)/s,l1=A=>(A[0]==="#"&&(A=A.substring(1)),A.length<6?{r:parseInt(A[0]+A[0],16),g:parseInt(A[1]+A[1],16),b:parseInt(A[2]+A[2],16),a:A.length===4?io(parseInt(A[3]+A[3],16)/255,2):1}:{r:parseInt(A.substring(0,2),16),g:parseInt(A.substring(2,4),16),b:parseInt(A.substring(4,6),16),a:A.length===8?io(parseInt(A.substring(6,8),16)/255,2):1}),Y8=({h:A,s:n,v:s,a:l})=>{const u=(200-n)*s/100;return{h:io(A),s:io(u>0&&u<200?n*s/100/(u<=100?u:200-u)*100:0),l:io(u/2),a:io(l,2)}},c1=A=>{const{h:n,s,l}=Y8(A);return`hsl(${n}, ${s}%, ${l}%)`},X8=({h:A,s:n,v:s,a:l})=>{A=A/360*6,n/=100,s/=100;const u=Math.floor(A),f=s*(1-n),b=s*(1-(A-u)*n),_=s*(1-(1-A+u)*n),E=u%6;return{r:io(255*[s,b,f,f,_,s][E]),g:io(255*[_,s,s,b,f,f][E]),b:io(255*[f,f,_,s,s,b][E]),a:io(l,2)}},ty=A=>{const n=A.toString(16);return n.length<2?"0"+n:n},Z8=({r:A,g:n,b:s,a:l})=>{const u=l<1?ty(io(255*l)):"";return"#"+ty(A)+ty(n)+ty(s)+u},J8=({r:A,g:n,b:s,a:l})=>{const u=Math.max(A,n,s),f=u-Math.min(A,n,s),b=f?u===A?(n-s)/f:u===n?2+(s-A)/f:4+(A-n)/f:0;return{h:io(60*(b<0?b+6:b)),s:io(u?f/u*100:0),v:io(u/255*100),a:l}},kF=(A,n)=>{if(A===n)return!0;for(const s in A)if(A[s]!==n[s])return!1;return!0},yF={},CF=A=>{let n=yF[A];return n||(n=document.createElement("template"),n.innerHTML=A,yF[A]=n),n},d1=(A,n,s)=>{A.dispatchEvent(new CustomEvent(n,{bubbles:!0,detail:s}))};let sm=!1;const A1=A=>"touches"in A,EF=(A,n)=>{const s=A1(n)?n.touches[0]:n,l=A.el.getBoundingClientRect();d1(A.el,"move",A.getMove({x:Yw((s.pageX-(l.left+window.pageXOffset))/l.width),y:Yw((s.pageY-(l.top+window.pageYOffset))/l.height)}))};class xF{constructor(n,s,l,u){const f=CF(`<div role="slider" tabindex="0" part="${s}" ${l}><div part="${s}-pointer"></div></div>`);n.appendChild(f.content.cloneNode(!0));const b=n.querySelector(`[part=${s}]`);b.addEventListener("mousedown",this),b.addEventListener("touchstart",this),b.addEventListener("keydown",this),this.el=b,this.xy=u,this.nodes=[b.firstChild,b]}set dragging(n){const s=n?document.addEventListener:document.removeEventListener;s(sm?"touchmove":"mousemove",this),s(sm?"touchend":"mouseup",this)}handleEvent(n){switch(n.type){case"mousedown":case"touchstart":if(n.preventDefault(),!(s=>!(sm&&!A1(s)||(sm||(sm=A1(s)),0)))(n)||!sm&&n.button!=0)return;this.el.focus(),EF(this,n),this.dragging=!0;break;case"mousemove":case"touchmove":n.preventDefault(),EF(this,n);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((s,l)=>{const u=l.keyCode;u>40||s.xy&&u<37||u<33||(l.preventDefault(),d1(s.el,"move",s.getMove({x:u===39?.01:u===37?-.01:u===34?.05:u===33?-.05:u===35?1:u===36?-1:0,y:u===40?.01:u===38?-.01:0},!0)))})(this,n)}}style(n){n.forEach((s,l)=>{for(const u in s)this.nodes[l].style.setProperty(u,s[u])})}}class t$ extends xF{constructor(n){super(n,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:n}){this.h=n,this.style([{left:n/360*100+"%",color:c1({h:n,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${io(n)}`)}getMove(n,s){return{h:s?Yw(this.h+360*n.x,0,360):360*n.x}}}class e$ extends xF{constructor(n){super(n,"saturation",'aria-label="Color"',!0)}update(n){this.hsva=n,this.style([{top:100-n.v+"%",left:`${n.s}%`,color:c1(n)},{"background-color":c1({h:n.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${io(n.s)}%, Brightness ${io(n.v)}%`)}getMove(n,s){return{s:s?Yw(this.hsva.s+100*n.x,0,100):100*n.x,v:s?Yw(this.hsva.v-100*n.y,0,100):Math.round(100-100*n.y)}}}const ey=Symbol("same"),u1=Symbol("color"),BF=Symbol("hsva"),h1=Symbol("update"),SF=Symbol("parts"),TF=Symbol("css"),IF=Symbol("sliders");class n$ extends HTMLElement{static get observedAttributes(){return["color"]}get[TF](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[IF](){return[e$,t$]}get color(){return this[u1]}set color(n){if(!this[ey](n)){const s=this.colorModel.toHsva(n);this[h1](s),this[u1]=n}}constructor(){super();const n=CF(`<style>${this[TF].join("")}</style>`),s=this.attachShadow({mode:"open"});s.appendChild(n.content.cloneNode(!0)),s.addEventListener("move",this),this[SF]=this[IF].map(l=>new l(s))}connectedCallback(){if(this.hasOwnProperty("color")){const n=this.color;delete this.color,this.color=n}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(n,s,l){const u=this.colorModel.fromAttr(l);this[ey](u)||(this.color=u)}handleEvent(n){const s=this[BF],l={...s,...n.detail};let u;this[h1](l),kF(l,s)||this[ey](u=this.colorModel.fromHsva(l))||(this[u1]=u,d1(this,"color-changed",{value:u}))}[ey](n){return this.color&&this.colorModel.equal(n,this.color)}[h1](n){this[BF]=n,this[SF].forEach(s=>s.update(n))}}const i$={defaultColor:"#000",toHsva:A=>J8(l1(A)),fromHsva:({h:A,s:n,v:s})=>Z8(X8({h:A,s:n,v:s,a:1})),equal:(A,n)=>A.toLowerCase()===n.toLowerCase()||kF(l1(A),l1(n)),fromAttr:A=>A};class s$ extends n${get colorModel(){return i$}}customElements.define("hex-color-picker",class extends s${});var DF=o(3398),r$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(DF.Z,r$),DF.Z.locals;var MF=o(4157),o$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(MF.Z,o$),MF.Z.locals;class a${constructor(n){this._components=new Map,this.editor=n}*names(){for(const n of this._components.values())yield n.originalName}add(n,s){this._components.set(f1(n),{callback:s,originalName:n})}create(n){if(!this.has(n))throw new K("componentfactory-item-missing",this,{name:n});return this._components.get(f1(n)).callback(this.editor.locale)}has(n){return this._components.has(f1(n))}}function f1(A){return String(A).toLowerCase()}var LF=o(8793),l$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(LF.Z,l$),LF.Z.locals;var c$=Object.defineProperty,PF=Object.getOwnPropertySymbols,d$=Object.prototype.hasOwnProperty,A$=Object.prototype.propertyIsEnumerable,FF=(A,n,s)=>n in A?c$(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,$n=(A,n)=>{for(var s in n||(n={}))d$.call(n,s)&&FF(A,s,n[s]);if(PF)for(var s of PF(n))A$.call(n,s)&&FF(A,s,n[s]);return A};const OF=Hu("px"),NF=Ce.document.body,p1=class extends on{constructor(A){super(A);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",s=>`ck-balloon-panel_${s}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",OF),left:n.to("left",OF)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(A){this.show();const n=p1.defaultPositions,s=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:NF,fitInViewport:!0},A),l=p1._getOptimalPosition(s),u=parseInt(l.left),f=parseInt(l.top),b=l.name,_=l.config||{},{withArrow:E=!0}=_;this.top=f,this.left=u,this.position=b,this.withArrow=E}pin(A){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(A):this._stopPinning()},this._startPinning(A),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(A){this.attachTo(A);const n=g1(A.target),s=A.limiter?g1(A.limiter):NF;this.listenTo(Ce.document,"scroll",(l,u)=>{const f=u.target,b=n&&f.contains(n),_=s&&f.contains(s);!b&&!_&&n&&s||this.attachTo(A)},{useCapture:!0}),this.listenTo(Ce.window,"resize",()=>{this.attachTo(A)})}_stopPinning(){this.stopListening(Ce.document,"scroll"),this.stopListening(Ce.window,"resize")}};let Ca=p1;function g1(A){return ze(A)?A:Xa(A)?A.commonAncestorContainer:typeof A=="function"?g1(A()):null}function RF(A={}){const{sideOffset:n=Ca.arrowSideOffset,heightOffset:s=Ca.arrowHeightOffset,stickyVerticalOffset:l=Ca.stickyVerticalOffset,config:u}=A;return{northWestArrowSouthWest:(_,E)=>$n({top:f(_,E),left:_.left-n,name:"arrow_sw"},u&&{config:u}),northWestArrowSouthMiddleWest:(_,E)=>$n({top:f(_,E),left:_.left-.25*E.width-n,name:"arrow_smw"},u&&{config:u}),northWestArrowSouth:(_,E)=>$n({top:f(_,E),left:_.left-E.width/2,name:"arrow_s"},u&&{config:u}),northWestArrowSouthMiddleEast:(_,E)=>$n({top:f(_,E),left:_.left-.75*E.width+n,name:"arrow_sme"},u&&{config:u}),northWestArrowSouthEast:(_,E)=>$n({top:f(_,E),left:_.left-E.width+n,name:"arrow_se"},u&&{config:u}),northArrowSouthWest:(_,E)=>$n({top:f(_,E),left:_.left+_.width/2-n,name:"arrow_sw"},u&&{config:u}),northArrowSouthMiddleWest:(_,E)=>$n({top:f(_,E),left:_.left+_.width/2-.25*E.width-n,name:"arrow_smw"},u&&{config:u}),northArrowSouth:(_,E)=>$n({top:f(_,E),left:_.left+_.width/2-E.width/2,name:"arrow_s"},u&&{config:u}),northArrowSouthMiddleEast:(_,E)=>$n({top:f(_,E),left:_.left+_.width/2-.75*E.width+n,name:"arrow_sme"},u&&{config:u}),northArrowSouthEast:(_,E)=>$n({top:f(_,E),left:_.left+_.width/2-E.width+n,name:"arrow_se"},u&&{config:u}),northEastArrowSouthWest:(_,E)=>$n({top:f(_,E),left:_.right-n,name:"arrow_sw"},u&&{config:u}),northEastArrowSouthMiddleWest:(_,E)=>$n({top:f(_,E),left:_.right-.25*E.width-n,name:"arrow_smw"},u&&{config:u}),northEastArrowSouth:(_,E)=>$n({top:f(_,E),left:_.right-E.width/2,name:"arrow_s"},u&&{config:u}),northEastArrowSouthMiddleEast:(_,E)=>$n({top:f(_,E),left:_.right-.75*E.width+n,name:"arrow_sme"},u&&{config:u}),northEastArrowSouthEast:(_,E)=>$n({top:f(_,E),left:_.right-E.width+n,name:"arrow_se"},u&&{config:u}),southWestArrowNorthWest:_=>$n({top:b(_),left:_.left-n,name:"arrow_nw"},u&&{config:u}),southWestArrowNorthMiddleWest:(_,E)=>$n({top:b(_),left:_.left-.25*E.width-n,name:"arrow_nmw"},u&&{config:u}),southWestArrowNorth:(_,E)=>$n({top:b(_),left:_.left-E.width/2,name:"arrow_n"},u&&{config:u}),southWestArrowNorthMiddleEast:(_,E)=>$n({top:b(_),left:_.left-.75*E.width+n,name:"arrow_nme"},u&&{config:u}),southWestArrowNorthEast:(_,E)=>$n({top:b(_),left:_.left-E.width+n,name:"arrow_ne"},u&&{config:u}),southArrowNorthWest:_=>$n({top:b(_),left:_.left+_.width/2-n,name:"arrow_nw"},u&&{config:u}),southArrowNorthMiddleWest:(_,E)=>$n({top:b(_),left:_.left+_.width/2-.25*E.width-n,name:"arrow_nmw"},u&&{config:u}),southArrowNorth:(_,E)=>$n({top:b(_),left:_.left+_.width/2-E.width/2,name:"arrow_n"},u&&{config:u}),southArrowNorthMiddleEast:(_,E)=>$n({top:b(_),left:_.left+_.width/2-.75*E.width+n,name:"arrow_nme"},u&&{config:u}),southArrowNorthEast:(_,E)=>$n({top:b(_),left:_.left+_.width/2-E.width+n,name:"arrow_ne"},u&&{config:u}),southEastArrowNorthWest:_=>$n({top:b(_),left:_.right-n,name:"arrow_nw"},u&&{config:u}),southEastArrowNorthMiddleWest:(_,E)=>$n({top:b(_),left:_.right-.25*E.width-n,name:"arrow_nmw"},u&&{config:u}),southEastArrowNorth:(_,E)=>$n({top:b(_),left:_.right-E.width/2,name:"arrow_n"},u&&{config:u}),southEastArrowNorthMiddleEast:(_,E)=>$n({top:b(_),left:_.right-.75*E.width+n,name:"arrow_nme"},u&&{config:u}),southEastArrowNorthEast:(_,E)=>$n({top:b(_),left:_.right-E.width+n,name:"arrow_ne"},u&&{config:u}),westArrowEast:(_,E)=>$n({top:_.top+_.height/2-E.height/2,left:_.left-E.width-s,name:"arrow_e"},u&&{config:u}),eastArrowWest:(_,E)=>$n({top:_.top+_.height/2-E.height/2,left:_.right+s,name:"arrow_w"},u&&{config:u}),viewportStickyNorth:(_,E,T)=>_.getIntersection(T)?{top:T.top+l,left:_.left+_.width/2-E.width/2,name:"arrowless",config:$n({withArrow:!1},u)}:null};function f(_,E){return _.top-E.height-s}function b(_){return _.bottom+s}}Ca.arrowSideOffset=25,Ca.arrowHeightOffset=10,Ca.stickyVerticalOffset=20,Ca._getOptimalPosition=mA,Ca.defaultPositions=RF();var UF=o(3332),u$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(UF.Z,u$),UF.Z.locals;const QF="ck-tooltip",Ea=class extends Vn(){constructor(A){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Ea._editors.add(A),Ea._instance)return Ea._instance;Ea._instance=this,this.tooltipTextView=new on(A.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ca(A.locale),this.balloonPanelView.class=QF,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Qw(this._pinTooltip,600),this.listenTo(Ce.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ce.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ce.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ce.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ce.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(A){const n=A.ui.view&&A.ui.view.body;Ea._editors.delete(A),this.stopListening(A.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),Ea._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ea._instance=null)}static getPositioningFunctions(A){const n=Ea.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[A]}_onEnterOrFocus(A,{target:n}){const s=m1(n);var l;s&&s!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(s,{text:(l=s).dataset.ckeTooltipText,position:l.dataset.ckeTooltipPosition||"s",cssClass:l.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(A,{target:n,relatedTarget:s}){if(A.name==="mouseleave"){if(!ze(n)||this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const l=m1(n),u=m1(s);l&&l!==u&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(A,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(A,{text:n,position:s,cssClass:l}){const u=ai(Ea._editors.values()).ui.view.body;u.has(this.balloonPanelView)||u.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:A,positions:Ea.getPositioningFunctions(s)}),this._resizeObserver=new jl(A,()=>{Vl(A)||this._unpinTooltip()}),this.balloonPanelView.class=[QF,l].filter(f=>f).join(" ");for(const f of Ea._editors)this.listenTo(f.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=A,this._currentTooltipPosition=s}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const A of Ea._editors)this.stopListening(A.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Vl(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ea.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let ny=Ea;function m1(A){return ze(A)?A.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}ny.defaultBalloonPositions=RF({heightOffset:5,sideOffset:13}),ny._editors=new Set,ny._instance=null;const b1=function(A,n,s){var l=!0,u=!0;if(typeof A!="function")throw new TypeError("Expected a function");return Pt(s)&&(l="leading"in s?!!s.leading:l,u="trailing"in s?!!s.trailing:u),Qw(A,n,{leading:l,maxWait:n,trailing:u})};var h$=Object.defineProperty,HF=Object.getOwnPropertySymbols,f$=Object.prototype.hasOwnProperty,p$=Object.prototype.propertyIsEnumerable,zF=(A,n,s)=>n in A?h$(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,g$=(A,n)=>{for(var s in n||(n={}))f$.call(n,s)&&zF(A,s,n[s]);if(HF)for(var s of HF(n))p$.call(n,s)&&zF(A,s,n[s]);return A};const m$=50,b$=350,w$="Powered by",iy={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class v$ extends Vn(){constructor(n){super(),this.editor=n,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=b1(this._showBalloon.bind(this),50,{leading:!0}),n.on("ready",this._handleEditorReady.bind(this))}destroy(){const n=this._balloonView;n&&(n.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const n=this.editor;(n.config.get("ui.poweredBy.forceVisible")||function(s){function l($){return $.length>=40&&$.length<=255?"VALID":"INVALID"}if(!s)return"INVALID";let u="";try{u=atob(s)}catch{return"INVALID"}const f=u.split("-"),b=f[0],_=f[1];if(!_)return l(s);try{atob(_)}catch{try{if(atob(b),!atob(b).length)return l(s)}catch{return l(s)}}if(b.length<40||b.length>255)return"INVALID";let E="";try{atob(b),E=atob(_)}catch{return"INVALID"}if(E.length!==8)return"INVALID";const T=Number(E.substring(0,4)),D=Number(E.substring(4,6))-1,U=Number(E.substring(6,8)),H=new Date(T,D,U);return H<mt||isNaN(Number(H))?"INVALID":"VALID"}(n.config.get("licenseKey"))!=="VALID")&&n.ui.view&&(n.ui.focusTracker.on("change:isFocused",(s,l,u)=>{this._updateLastFocusedEditableElement(),u?this._showBalloon():this._hideBalloon()}),n.ui.focusTracker.on("change:focusedElement",(s,l,u)=>{this._updateLastFocusedEditableElement(),u&&this._showBalloon()}),n.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const n=this.editor,s=this._balloonView=new Ca,l=VF(n),u=new _$(n.locale,l.label);s.content.add(u),s.set({class:"ck-powered-by-balloon"}),n.ui.view.body.add(s),n.ui.focusTracker.add(s.element),this._balloonView=s}_showBalloon(){if(!this._lastFocusedEditableElement)return;const n=function(s,l){const u=VF(s),f=u.side==="right"?function(b,_){return jF(b,_,(E,T)=>E.left+E.width-T.width-_.horizontalOffset)}(l,u):function(b,_){return jF(b,_,E=>E.left+_.horizontalOffset)}(l,u);return{target:l,positions:[f]}}(this.editor,this._lastFocusedEditableElement);n&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(n))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const n=this.editor,s=n.ui.focusTracker.isFocused,l=n.ui.focusTracker.focusedElement;if(!s||!l)return void(this._lastFocusedEditableElement=null);const u=Array.from(n.ui.getEditableElementsNames()).map(f=>n.ui.getEditableElement(f));u.includes(l)?this._lastFocusedEditableElement=l:this._lastFocusedEditableElement=u[0]}}class _$ extends on{constructor(n,s){super(n);const l=new q,u=this.bindTemplate;l.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),l.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...s?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[s]}]:[],l],on:{dragstart:u.to(f=>f.preventDefault())}}]})}}function jF(A,n,s){return(l,u)=>{const f=l.getVisible();if(!f||l.width<b$||l.height<m$)return iy;let b;b=n.position==="inside"?l.bottom-u.height:l.bottom-u.height/2,b-=n.verticalOffset;const _=s(l,u);if(n.position==="inside"){const E=u.clone().moveTo(_,b);if(E.getIntersectionArea(f)<E.getArea())return iy}else{const E=bf(A);if(E){const T=new _n(E),D=f.bottom+u.height/2>T.bottom,U=n.side==="left"?l.left<T.left:l.right>T.right;if(D||U)return iy}}return{top:b,left:_,name:`position_${n.position}-side_${n.side}`,config:{withArrow:!1}}}}function VF(A){const n=A.config.get("ui.poweredBy"),s=n&&n.position||"border";return g$({position:s,label:w$,verticalOffset:s==="inside"?5:0,horizontalOffset:5,side:A.locale.contentLanguageDirection==="ltr"?"right":"left"},n)}var k$=Object.defineProperty,KF=Object.getOwnPropertySymbols,y$=Object.prototype.hasOwnProperty,C$=Object.prototype.propertyIsEnumerable,GF=(A,n,s)=>n in A?k$(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s;class E$ extends ae(){constructor(n){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const s=n.editing.view;this.editor=n,this.componentFactory=new a$(n),this.focusTracker=new to,this.tooltipManager=new ny(n),this.poweredBy=new v$(n),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(s.document,"layoutChanged",this.update.bind(this)),this.listenTo(s,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const n of this._editableElementsMap.values())n.ckeditorInstance=null,this.editor.keystrokes.stopListening(n);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(n,s){this._editableElementsMap.set(n,s),s.ckeditorInstance||(s.ckeditorInstance=this.editor),this.focusTracker.add(s);const l=()=>{this.editor.editing.view.getDomRoot(n)||this.editor.keystrokes.listenTo(s)};this.isReady?l():this.once("ready",l)}removeEditableElement(n){const s=this._editableElementsMap.get(n);s&&(this._editableElementsMap.delete(n),this.editor.keystrokes.stopListening(s),this.focusTracker.remove(s),s.ckeditorInstance=null)}getEditableElement(n="main"){return this._editableElementsMap.get(n)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(n,s={}){n.isRendered?(this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)):n.once("render",()=>{this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)}),this._focusableToolbarDefinitions.push({toolbarView:n,options:s})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const n=this.editor,s=n.config.get("ui.viewportOffset");if(s)return s;const l=n.config.get("toolbar.viewportTopOffset");return l?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:l}):{top:0}}_initFocusTracking(){const n=this.editor,s=n.editing.view;let l,u;n.keystrokes.set("Alt+F10",(f,b)=>{const _=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(_)&&!Array.from(s.domRoots.values()).includes(_)&&(l=_);const E=this._getCurrentFocusedToolbarDefinition();E&&u||(u=this._getFocusableCandidateToolbarDefinitions());for(let T=0;T<u.length;T++){const D=u.shift();if(u.push(D),D!==E&&this._focusFocusableCandidateToolbar(D)){E&&E.options.afterBlur&&E.options.afterBlur();break}}b()}),n.keystrokes.set("Esc",(f,b)=>{const _=this._getCurrentFocusedToolbarDefinition();_&&(l?(l.focus(),l=null):n.editing.view.focus(),_.options.afterBlur&&_.options.afterBlur(),b())})}_getFocusableCandidateToolbarDefinitions(){const n=[];for(const s of this._focusableToolbarDefinitions){const{toolbarView:l,options:u}=s;(Vl(l.element)||u.beforeFocus)&&n.push(s)}return n.sort((s,l)=>WF(s)-WF(l)),n}_getCurrentFocusedToolbarDefinition(){for(const n of this._focusableToolbarDefinitions)if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n;return null}_focusFocusableCandidateToolbar(n){const{toolbarView:s,options:{beforeFocus:l}}=n;return l&&l(),!!Vl(s.element)&&(s.focus(),!0)}_handleScrollToTheSelection(n,s){const l=((u,f)=>{for(var b in f||(f={}))y$.call(f,b)&&GF(u,b,f[b]);if(KF)for(var b of KF(f))C$.call(f,b)&&GF(u,b,f[b]);return u})({top:0,bottom:0,left:0,right:0},this.viewportOffset);s.viewportOffset.top+=l.top,s.viewportOffset.bottom+=l.bottom,s.viewportOffset.left+=l.left,s.viewportOffset.right+=l.right}}function WF(A){const{toolbarView:n,options:s}=A;let l=10;return Vl(n.element)&&l--,s.isContextual&&l--,l}var $F=o(9688),x$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()($F.Z,x$),$F.Z.locals;class B$ extends on{constructor(n){super(n),this.body=new yB(n)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class S$ extends B${constructor(n){super(n),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const n=this.t,s=new je;return s.text=n("Rich Text Editor"),s.extendTemplate({attributes:{class:"ck-voice-label"}}),s}}class T$ extends on{constructor(n,s,l){super(n),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=l,this._hasExternalElement=!!this._editableElement,this._editingView=s}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const n=this._editingView;function s(l){n.change(u=>{const f=n.document.getRoot(l.name);u.addClass(l.isFocused?"ck-focused":"ck-blurred",f),u.removeClass(l.isFocused?"ck-blurred":"ck-focused",f)})}n.isRenderingInProgress?function l(u){n.once("change:isRenderingInProgress",(f,b,_)=>{_?l(u):s(u)})}(this):s(this)}}class I$ extends T${constructor(n,s,l,u={}){super(n,s,l);const f=n.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=u.label||(()=>f("Editor editing area: %0",this.name))}render(){super.render();const n=this._editingView;n.change(s=>{const l=n.document.getRoot(this.name);s.setAttribute("aria-label",this._generateLabel(this),l)})}}var qF=o(8847),D$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(qF.Z,D$),qF.Z.locals;class w1 extends tl{static get pluginName(){return"Notification"}init(){this.on("show:warning",(n,s)=>{window.alert(s.message)},{priority:"lowest"})}showSuccess(n,s={}){this._showNotification({message:n,type:"success",namespace:s.namespace,title:s.title})}showInfo(n,s={}){this._showNotification({message:n,type:"info",namespace:s.namespace,title:s.title})}showWarning(n,s={}){this._showNotification({message:n,type:"warning",namespace:s.namespace,title:s.title})}_showNotification(n){const s=n.namespace?`show:${n.type}:${n.namespace}`:`show:${n.type}`;this.fire(s,{message:n.message,type:n.type,title:n.title||""})}}class YF extends ae(){constructor(n,s){super(),s&&zL(this,s),n&&this.set(n)}}var XF=o(4650),M$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(XF.Z,M$),XF.Z.locals;var ZF=o(7676),L$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(ZF.Z,L$),ZF.Z.locals;const sy=Hu("px");class ry extends Zt{constructor(n){super(n),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const s=this.editor.editing.view,l=s.document.selection.editableElement;return l?s.domConverter.mapViewToDom(l.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(n){return Array.from(this._viewToStack.keys()).includes(n)}add(n){if(this._view||this._createPanelView(),this.hasView(n.view))throw new K("contextualballoon-add-view-exist",[this,n]);const s=n.stackId||"main";if(!this._idToStack.has(s))return this._idToStack.set(s,new Map([[n.view,n]])),this._viewToStack.set(n.view,this._idToStack.get(s)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!n.singleViewMode||this.showStack(s));const l=this._idToStack.get(s);n.singleViewMode&&this.showStack(s),l.set(n.view,n),this._viewToStack.set(n.view,l),l===this._visibleStack&&this._showView(n)}remove(n){if(!this.hasView(n))throw new K("contextualballoon-remove-view-not-exist",[this,n]);const s=this._viewToStack.get(n);this._singleViewMode&&this.visibleView===n&&(this._singleViewMode=!1),this.visibleView===n&&(s.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(s.values())[s.size-2])),s.size===1?(this._idToStack.delete(this._getStackId(s)),this._numberOfStacks=this._idToStack.size):s.delete(n),this._viewToStack.delete(n)}updatePosition(n){n&&(this._visibleStack.get(this.visibleView).position=n),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(n){this.visibleStack=n;const s=this._idToStack.get(n);if(!s)throw new K("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==s&&this._showView(Array.from(s.values()).pop())}_createPanelView(){this._view=new Ca(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(n){return Array.from(this._idToStack.entries()).find(s=>s[1]===n)[0]}_showNextStack(){const n=Array.from(this._idToStack.values());let s=n.indexOf(this._visibleStack)+1;n[s]||(s=0),this.showStack(this._getStackId(n[s]))}_showPrevStack(){const n=Array.from(this._idToStack.values());let s=n.indexOf(this._visibleStack)-1;n[s]||(s=n.length-1),this.showStack(this._getStackId(n[s]))}_createRotatorView(){const n=new P$(this.editor.locale),s=this.editor.locale.t;return this.view.content.add(n),n.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(l,u)=>!u&&l>1),n.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),n.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(l,u)=>{if(u<2)return"";const f=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return s("%0 of %1",[f,u])}),n.buttonNextView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),n.buttonPrevView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),n}_createFakePanelsView(){const n=new F$(this.editor.locale,this.view);return n.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(s,l)=>!l&&s>=2?Math.min(s-1,2):0),n.listenTo(this.view,"change:top",()=>n.updatePosition()),n.listenTo(this.view,"change:left",()=>n.updatePosition()),this.editor.ui.view.body.add(n),n}_showView({view:n,balloonClassName:s="",withArrow:l=!0,singleViewMode:u=!1}){this.view.class=s,this.view.withArrow=l,this._rotatorView.showView(n),this.visibleView=n,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),u&&(this._singleViewMode=!0)}_getBalloonPosition(){let n=Array.from(this._visibleStack.values()).pop().position;return n&&(n.limiter||(n=Object.assign({},n,{limiter:this.positionLimiter})),n=Object.assign({},n,{viewportOffsetConfig:this.editor.ui.viewportOffset})),n}}class P$ extends on{constructor(n){super(n);const s=n.t,l=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new to,this.buttonPrevView=this._createButtonView(s("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(s("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",l.to("isNavigationVisible",u=>u?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:l.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(n){this.hideView(),this.content.add(n)}hideView(){this.content.clear()}_createButtonView(n,s){const l=new xt(this.locale);return l.set({label:n,icon:s,tooltip:!0}),l}}class F$ extends on{constructor(n,s){super(n);const l=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=s,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",l.to("numberOfPanels",u=>u?"":"ck-hidden")],style:{top:l.to("top",sy),left:l.to("left",sy),width:l.to("width",sy),height:l.to("height",sy)}},children:this.content}),this.on("change:numberOfPanels",(u,f,b,_)=>{b>_?this._addPanels(b-_):this._removePanels(_-b),this.updatePosition()})}_addPanels(n){for(;n--;){const s=new on;s.setTemplate({tag:"div"}),this.content.add(s),this.registerChild(s)}}_removePanels(n){for(;n--;){const s=this.content.last;this.content.remove(s),this.deregisterChild(s),s.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:n,left:s}=this._balloonPanelView,{width:l,height:u}=new _n(this._balloonPanelView.element);Object.assign(this,{top:n,left:s,width:l,height:u})}}}var JF=o(5868),O$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(JF.Z,O$),JF.Z.locals;const rm=Hu("px");class N$ extends on{constructor(n){super(n);const s=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new va({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:s.to("isSticky",l=>l?"block":"none"),height:s.to("isSticky",l=>l?rm(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new va({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",s.if("isSticky","ck-sticky-panel__content_sticky"),s.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:s.to("isSticky",l=>l?rm(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:s.to("_stickyTopOffset",l=>l&&rm(l)),bottom:s.to("_stickyBottomOffset",l=>l&&rm(l)),marginLeft:s.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Ce.document,"scroll",(n,s)=>{this.checkIfShouldBeSticky(s.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(n){if(!this.limiterElement||!this.isActive)return void this._unstick();const s=function(f){const b=[];let _=bf(f);for(;_&&_!==Ce.document.body;)b.push(_),_=bf(_);return b.push(Ce.document),b}(this.limiterElement);if(n&&!s.includes(n))return;const l=function(f,b=0){const _=f.map(T=>{if(T instanceof Document){const D=new _n(Ce.window);return D.top+=b,D.height-=b,D}return new _n(T)});let E=_[0];for(const T of _.slice(1))E&&(E=E.getIntersection(T));return E}(s,this.viewportTopOffset),u=new _n(this.limiterElement);if(l&&u.top<l.top){const f=u.getIntersection(l);if(f){const b=l.top;if(b+this._contentPanelRect.height+this.limiterBottomOffset>f.bottom){const _=Math.max(u.bottom-l.bottom,0)+this.limiterBottomOffset;u.bottom-_>u.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(_):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<u.height?this._stickToTopOfAncestors(b):this._unstick()}else this._unstick()}else this._unstick()}_stickToTopOfAncestors(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=n,this._stickyBottomOffset=null,this._marginLeft=rm(-Ce.window.scrollX)}_stickToBottomOfLimiter(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=n,this._marginLeft=rm(-Ce.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new _n(this._contentPanel)}}var t2=o(9695),R$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(t2.Z,R$),t2.Z.locals;class U$ extends E${constructor(n,s){super(n),this.view=s,this._toolbarConfig=Hi(n.config.get("toolbar")),this._elementReplacer=new rs,this.listenTo(n.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(n){const s=this.editor,l=this.view,u=s.editing.view,f=l.editable,b=u.document.getRoot();f.name=b.rootName,l.render();const _=f.element;this.setEditableElement(f.name,_),l.editable.bind("isFocused").to(this.focusTracker),u.attachDomRoot(_),n&&this._elementReplacer.replace(n,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const n=this.view,s=this.editor.editing.view;this._elementReplacer.restore(),s.detachDomRoot(n.editable.name),n.destroy()}_initToolbar(){const n=this.view;n.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),n.stickyPanel.limiterElement=n.element,n.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:s})=>s||0),n.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n.toolbar)}_initPlaceholder(){const n=this.editor,s=n.editing.view,l=s.document.getRoot(),u=n.sourceElement;let f;const b=n.config.get("placeholder");b&&(f=typeof b=="string"?b:b[this.view.editable.name]),!f&&u&&u.tagName.toLowerCase()==="textarea"&&(f=u.getAttribute("placeholder")),f&&(l.placeholder=f),P0({view:s,element:l,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(n,s,l){const u=this.view.stickyPanel;if(u.isSticky){const f=new _n(u.element).height;s.viewportOffset.top+=f}else{const f=()=>{this.editor.editing.view.scrollToTheSelection(l)};this.listenTo(u,"change:isSticky",f),setTimeout(()=>{this.stopListening(u,"change:isSticky",f)},20)}}}var e2=o(3143),Q$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(e2.Z,Q$),e2.Z.locals;class H$ extends S${constructor(n,s,l={}){super(n),this.stickyPanel=new N$(n),this.toolbar=new s1(n,{shouldGroupWhenFull:l.shouldToolbarGroupWhenFull}),this.editable=new I$(n,s)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class n2{constructor(n){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof n.crashNumberLimit=="number"?n.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof n.minimumNonErrorTimePeriod=="number"?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=s=>{const l="error"in s?s.error:s.reason;l instanceof Error&&this._handleError(l,s)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,s){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(s)}off(n,s){this._listeners[n]=this._listeners[n].filter(l=>l!==s)}_fire(n,...s){const l=this._listeners[n]||[];for(const u of l)u.apply(this,[null,...s])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,s){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:s instanceof ErrorEvent?s.filename:void 0,lineno:s instanceof ErrorEvent?s.lineno:void 0,colno:s instanceof ErrorEvent?s.colno:void 0,date:this._now()});const l=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:l}),l?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&n.context!==void 0&&n.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function v1(A,n=new Set){const s=[A],l=new Set;let u=0;for(;s.length>u;){const f=s[u++];if(!l.has(f)&&z$(f)&&!n.has(f))if(l.add(f),Symbol.iterator in f)try{for(const b of f)s.push(b)}catch{}else for(const b in f)b!=="defaultValue"&&s.push(f[b])}return l}function z$(A){const n=Object.prototype.toString.call(A),s=typeof A;return!(s==="number"||s==="boolean"||s==="string"||s==="symbol"||s==="function"||n==="[object Date]"||n==="[object RegExp]"||n==="[object Module]"||A==null||A._watchdogExcluded||A instanceof EventTarget||A instanceof Event)}function i2(A,n,s=new Set){if(A===n&&typeof(l=A)=="object"&&l!==null)return!0;var l;const u=v1(A,s),f=v1(n,s);for(const b of u)if(f.has(b))return!0;return!1}var j$=Object.defineProperty,V$=Object.defineProperties,K$=Object.getOwnPropertyDescriptors,oy=Object.getOwnPropertySymbols,s2=Object.prototype.hasOwnProperty,r2=Object.prototype.propertyIsEnumerable,o2=(A,n,s)=>n in A?j$(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,_1=(A,n)=>{for(var s in n||(n={}))s2.call(n,s)&&o2(A,s,n[s]);if(oy)for(var s of oy(n))r2.call(n,s)&&o2(A,s,n[s]);return A};class a2 extends n2{constructor(n,s={}){super(s),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=b1(this._save.bind(this),typeof s.saveInterval=="number"?s.saveInterval:5e3),n&&(this._creator=(l,u)=>n.create(l,u)),this._destructor=l=>l.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},s=[],l=this._config.rootsAttributes||{},u={};for(const[E,T]of Object.entries(this._data.roots))T.isLoaded?(n[E]="",u[E]=l[E]||{}):s.push(E);const f=(b=_1({},this._config),_={extraPlugins:this._config.extraPlugins||[],lazyRoots:s,rootsAttributes:u,_watchdogInitialData:this._data},V$(b,K$(_)));var b,_;return delete f.initialData,f.extraPlugins.push(G$),this._initUsingData?this.create(n,f,f.context):ze(this._elementOrData)?this.create(this._elementOrData,f,f.context):this.create(this._editables,f,f.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,s=this._config,l){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(s)||{},this._config.context=l,this._creator(n,this._config))).then(u=>{this._editor=u,u.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=u.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(s){console.error(s,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,s=n.model.document.roots.filter(_=>_.isAttached()&&_.rootName!="$graveyard"),{plugins:l}=n,u=l.has("CommentsRepository")&&l.get("CommentsRepository"),f=l.has("TrackChanges")&&l.get("TrackChanges"),b={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};s.forEach(_=>{b.roots[_.rootName]={content:JSON.stringify(Array.from(_.getChildren())),attributes:JSON.stringify(Array.from(_.getAttributes())),isLoaded:_._isLoaded}});for(const _ of n.model.markers)_._affectsData&&(b.markers[_.name]={rangeJSON:_.getRange().toJSON(),usingOperation:_._managedUsingOperations,affectsData:_._affectsData});return u&&(b.commentThreads=JSON.stringify(u.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),f&&(b.suggestions=JSON.stringify(f.getSuggestions({toJSON:!0,skipNotAttached:!0}))),b}_getEditables(){const n={};for(const s of this.editor.model.document.getRootNames()){const l=this.editor.ui.getEditableElement(s);l&&(n[s]=l)}return n}_isErrorComingFromThisItem(n){return i2(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return ue(n,(s,l)=>ze(s)||l==="context"?s:void 0)}}class G${constructor(n){this.editor=n,this._data=n.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",n=>{n.stop(),this.editor.model.enqueueChange({isUndoable:!1},s=>{this._restoreCollaborationData(),this._restoreEditorData(s)}),this.editor.data.fire("ready")},{priority:999})}_createNode(n,s){if("name"in s){const l=n.createElement(s.name,s.attributes);if(s.children)for(const u of s.children)l._appendChild(this._createNode(n,u));return l}return n.createText(s.data,s.attributes)}_restoreEditorData(n){const s=this.editor;Object.entries(this._data.roots).forEach(([l,{content:u,attributes:f}])=>{const b=JSON.parse(u),_=JSON.parse(f),E=s.model.document.getRoot(l);for(const[T,D]of _)n.setAttribute(T,D,E);for(const T of b){const D=this._createNode(n,T);n.insert(D,E,"end")}}),Object.entries(this._data.markers).forEach(([l,u])=>{const{document:f}=s.model,b=u,{rangeJSON:{start:_,end:E}}=b,T=((tt,it)=>{var At={};for(var bt in tt)s2.call(tt,bt)&&it.indexOf(bt)<0&&(At[bt]=tt[bt]);if(tt!=null&&oy)for(var bt of oy(tt))it.indexOf(bt)<0&&r2.call(tt,bt)&&(At[bt]=tt[bt]);return At})(b,["rangeJSON"]),D=f.getRoot(_.root),U=n.createPositionFromPath(D,_.path,_.stickiness),H=n.createPositionFromPath(D,E.path,E.stickiness),$=n.createRange(U,H);n.addMarker(l,_1({range:$},T))})}_restoreCollaborationData(){const n=JSON.parse(this._data.commentThreads),s=JSON.parse(this._data.suggestions);n.forEach(l=>{const u=this.editor.config.get("collaboration.channelId"),f=this.editor.plugins.get("CommentsRepository");f.hasCommentThread(l.threadId)&&f.getCommentThread(l.threadId).remove(),f.addCommentThread(_1({channelId:u},l))}),s.forEach(l=>{const u=this.editor.plugins.get("TrackChangesEditing");u.hasSuggestion(l.id)?u.getSuggestion(l.id).attributes=l.attributes:u.addSuggestionData(l)})}}const Xw=Symbol("MainQueueId");class W${constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(n){this._onEmptyCallbacks.push(n)}enqueue(n,s){const l=n===Xw;this._activeActions++,this._queues.get(n)||this._queues.set(n,Promise.resolve());const u=(l?Promise.all(this._queues.values()):Promise.all([this._queues.get(Xw),this._queues.get(n)])).then(s),f=u.catch(()=>{});return this._queues.set(n,f),u.finally(()=>{this._activeActions--,this._queues.get(n)===f&&this._activeActions===0&&this._onEmptyCallbacks.forEach(b=>b())})}}function l2(A){return Array.isArray(A)?A:[A]}class ay extends J0(i1(R8)){constructor(n,s={}){if(!ly(n)&&s.initialData!==void 0)throw new K("editor-create-initial-data",null);super(s),this.config.get("initialData")===void 0&&this.config.set("initialData",function(f){return ly(f)?(b=f,b instanceof HTMLTextAreaElement?b.value:b.innerHTML):f;var b}(n)),ly(n)&&(this.sourceElement=n),this.model.document.createRoot();const l=!this.config.get("toolbar.shouldNotGroupWhenFull"),u=new H$(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:l});this.ui=new U$(this,u),function(f){if(!Ki(f.updateSourceElement))throw new K("attachtoform-missing-elementapi-interface",f);const b=f.sourceElement;if(function(_){return!!_&&_.tagName.toLowerCase()==="textarea"}(b)&&b.form){let _;const E=b.form,T=()=>f.updateSourceElement();Ki(E.submit)&&(_=E.submit,E.submit=()=>{T(),_.apply(E)}),E.addEventListener("submit",T),f.on("destroy",()=>{E.removeEventListener("submit",T),_&&(E.submit=_)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(n,s={}){return new Promise(l=>{const u=new this(n,s);l(u.initPlugins().then(()=>u.ui.init(ly(n)?n:null)).then(()=>u.data.init(u.config.get("initialData"))).then(()=>u.fire("ready")).then(()=>u))})}}function ly(A){return ze(A)}ay.Context=Jo,ay.EditorWatchdog=a2,ay.ContextWatchdog=class extends n2{constructor(A,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new W$,this._watchdogConfig=n,this._creator=s=>A.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(A){this._creator=A}setDestructor(A){this._destructor=A}get context(){return this._context}create(A={}){return this._actionQueues.enqueue(Xw,()=>(this._contextConfig=A,this._create()))}getItem(A){return this._getWatchdog(A)._item}getItemState(A){return this._getWatchdog(A).state}add(A){const n=l2(A);return Promise.all(n.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let l;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return l=new a2(null,this._watchdogConfig),l.setCreator(s.creator),l._setExcludedProperties(this._contextProps),s.destructor&&l.setDestructor(s.destructor),this._watchdogs.set(s.id,l),l.on("error",(u,{error:f,causesRestart:b})=>{this._fire("itemError",{itemId:s.id,error:f}),b&&this._actionQueues.enqueue(s.id,()=>new Promise(_=>{const E=()=>{l.off("restart",E),this._fire("itemRestart",{itemId:s.id}),_()};l.on("restart",E)}))}),l.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(A){const n=l2(A);return Promise.all(n.map(s=>this._actionQueues.enqueue(s,()=>{const l=this._getWatchdog(s);return this._watchdogs.delete(s),l.destroy()})))}destroy(){return this._actionQueues.enqueue(Xw,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Xw,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(A=>{console.error("An error happened during destroying the context or items.",A)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(A=>(this._context=A,this._contextProps=v1(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const A=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(A))})}_getWatchdog(A){const n=this._watchdogs.get(A);if(!n)throw new Error(`Item with the given id was not registered: ${A}.`);return n}_isErrorComingFromThisItem(A){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(A))return!1;return i2(this._context,A.context)}};class k1 extends qu{constructor(n){super(n),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const s=this.document;function l(u){return(f,b)=>{b.preventDefault();const _=b.dropRange?[b.dropRange]:null,E=new R(s,u);s.fire(E,{dataTransfer:b.dataTransfer,method:f.name,targetRanges:_,target:b.target,domEvent:b.domEvent}),E.stop.called&&b.stopPropagation()}}this.listenTo(s,"paste",l("clipboardInput"),{priority:"low"}),this.listenTo(s,"drop",l("clipboardInput"),{priority:"low"}),this.listenTo(s,"dragover",l("dragging"),{priority:"low"})}onDomEvent(n){const s="clipboardData"in n?n.clipboardData:n.dataTransfer,l=n.type=="drop"||n.type=="paste",u={dataTransfer:new XL(s,{cacheFiles:l})};n.type!="drop"&&n.type!="dragover"||(u.dropRange=function(f,b){const _=b.target.ownerDocument,E=b.clientX,T=b.clientY;let D;return _.caretRangeFromPoint&&_.caretRangeFromPoint(E,T)?D=_.caretRangeFromPoint(E,T):b.rangeParent&&(D=_.createRange(),D.setStart(b.rangeParent,b.rangeOffset),D.collapse(!0)),D?f.domConverter.domRangeToView(D):null}(this.view,n)),this.fire(n.type,n,u)}}const c2=["figcaption","li"];function d2(A){let n="";if(A.is("$text")||A.is("$textProxy"))n=A.data;else if(A.is("element","img")&&A.hasAttribute("alt"))n=A.getAttribute("alt");else if(A.is("element","br"))n=`
`;else{let s=null;for(const l of A.getChildren()){const u=d2(l);s&&(s.is("containerElement")||l.is("containerElement"))&&(c2.includes(s.name)||c2.includes(l.name)?n+=`
`:n+=`

`),n+=u,s=l}}return n}class vd extends Zt{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(k1),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const n=this.editor,s=n.model,l=n.editing.view,u=l.document;this.listenTo(u,"clipboardInput",(f,b)=>{b.method!="paste"||n.model.canEditAt(n.model.document.selection)||f.stop()},{priority:"highest"}),this.listenTo(u,"clipboardInput",(f,b)=>{const _=b.dataTransfer;let E;if(b.content)E=b.content;else{let U="";_.getData("text/html")?U=function(H){return H.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,($,tt)=>tt.length==1?" ":tt).replace(/<!--[\s\S]*?-->/g,"")}(_.getData("text/html")):_.getData("text/plain")&&(((T=(T=_.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||T.includes("<br>"))&&(T=`<p>${T}</p>`),U=T),E=this.editor.data.htmlProcessor.toView(U)}var T;const D=new R(this,"inputTransformation");this.fire(D,{content:E,dataTransfer:_,targetRanges:b.targetRanges,method:b.method}),D.stop.called&&f.stop(),l.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(f,b)=>{if(b.content.isEmpty)return;const _=this.editor.data.toModel(b.content,"$clipboardHolder");_.childCount!=0&&(f.stop(),s.change(()=>{this.fire("contentInsertion",{content:_,method:b.method,dataTransfer:b.dataTransfer,targetRanges:b.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(f,b)=>{b.resultRange=s.insertContent(b.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,s=n.model.document,l=n.editing.view.document,u=(f,b)=>{const _=b.dataTransfer;b.preventDefault();const E=n.data.toView(n.model.getSelectedContent(s.selection));l.fire("clipboardOutput",{dataTransfer:_,content:E,method:f.name})};this.listenTo(l,"copy",u,{priority:"low"}),this.listenTo(l,"cut",(f,b)=>{n.model.canEditAt(n.model.document.selection)?u(f,b):b.preventDefault()},{priority:"low"}),this.listenTo(l,"clipboardOutput",(f,b)=>{b.content.isEmpty||(b.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(b.content)),b.dataTransfer.setData("text/plain",d2(b.content))),b.method=="cut"&&n.model.deleteContent(s.selection)},{priority:"low"})}}class A2{constructor(n,s=20){this._batch=null,this.model=n,this._size=0,this.limit=s,this._isLocked=!1,this._changeCallback=(l,u)=>{u.isLocal&&u.isUndoable&&u!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){this.isLocked&&!n||(this._batch=null,this._size=0)}}class $$ extends an{constructor(n,s){super(n),this._buffer=new A2(n.model,s),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(n={}){const s=this.editor.model,l=s.document,u=n.text||"",f=u.length;let b=l.selection;if(n.selection?b=n.selection:n.range&&(b=s.createSelection(n.range)),!s.canEditAt(b))return;const _=n.resultRange;s.enqueueChange(this._buffer.batch,E=>{this._buffer.lock(),s.deleteContent(b),u&&s.insertContent(E.createText(u,l.selection.getAttributes()),b),_?E.setSelection(_):b.is("documentSelection")||E.setSelection(b),this._buffer.unlock(),this._buffer.input(f)})}}const u2=["insertText","insertReplacementText"];class q$ extends md{constructor(n){super(n),this.focusObserver=n.getObserver($0),w.isAndroid&&u2.push("insertCompositionText");const s=n.document;s.on("beforeinput",(l,u)=>{if(!this.isEnabled)return;const{data:f,targetRanges:b,inputType:_,domEvent:E}=u;if(!u2.includes(_))return;this.focusObserver.flush();const T=new R(s,"insertText");s.fire(T,new tm(n,E,{text:f,selection:n.createSelection(b)})),T.stop.called&&l.stop()}),s.on("compositionend",(l,{data:u,domEvent:f})=>{this.isEnabled&&!w.isAndroid&&u&&s.fire("insertText",new tm(n,f,{text:u,selection:s.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class h2 extends Zt{static get pluginName(){return"Input"}init(){const n=this.editor,s=n.model,l=n.editing.view,u=s.document.selection;l.addObserver(q$);const f=new $$(n,n.config.get("typing.undoStep")||20);n.commands.add("insertText",f),n.commands.add("input",f),this.listenTo(l.document,"insertText",(b,_)=>{l.document.isComposing||_.preventDefault();const{text:E,selection:T,resultRange:D}=_,U=Array.from(T.getRanges()).map(tt=>n.editing.mapper.toModelRange(tt));let H=E;if(w.isAndroid){const tt=Array.from(U[0].getItems()).reduce((it,At)=>it+(At.is("$textProxy")?At.data:""),"");tt&&(tt.length<=H.length?H.startsWith(tt)&&(H=H.substring(tt.length),U[0].start=U[0].start.getShiftedBy(tt.length)):tt.startsWith(H)&&(U[0].start=U[0].start.getShiftedBy(H.length),H=""))}const $={text:H,selection:s.createSelection(U)};D&&($.resultRange=n.editing.mapper.toModelRange(D)),n.execute("insertText",$),l.scrollToTheSelection()}),w.isAndroid?this.listenTo(l.document,"keydown",(b,_)=>{!u.isCollapsed&&_.keyCode==229&&l.document.isComposing&&f2(s,f)}):this.listenTo(l.document,"compositionstart",()=>{u.isCollapsed||f2(s,f)})}}function f2(A,n){if(!n.isEnabled)return;const s=n.buffer;s.lock(),A.enqueueChange(s.batch,()=>{A.deleteContent(A.document.selection)}),s.unlock()}class p2 extends an{constructor(n,s){super(n),this.direction=s,this._buffer=new A2(n.model,n.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(n={}){const s=this.editor.model,l=s.document;s.enqueueChange(this._buffer.batch,u=>{this._buffer.lock();const f=u.createSelection(n.selection||l.selection);if(!s.canEditAt(f))return;const b=n.sequence||1,_=f.isCollapsed;if(f.isCollapsed&&s.modifySelection(f,{direction:this.direction,unit:n.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(b))return void this._replaceEntireContentWithParagraph(u);if(this._shouldReplaceFirstBlockWithParagraph(f,b))return void this.editor.execute("paragraph",{selection:f});if(f.isCollapsed)return;let E=0;f.getFirstRange().getMinimalFlatRanges().forEach(T=>{E+=vs(T.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),s.deleteContent(f,{doNotResetEntireContent:_,direction:this.direction}),this._buffer.input(E),u.setSelection(f),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(n){if(n>1)return!1;const s=this.editor.model,l=s.document.selection,u=s.schema.getLimitElement(l);if(!(l.isCollapsed&&l.containsEntireContent(u))||!s.schema.checkChild(u,"paragraph"))return!1;const f=u.getChild(0);return!f||!f.is("element","paragraph")}_replaceEntireContentWithParagraph(n){const s=this.editor.model,l=s.document.selection,u=s.schema.getLimitElement(l),f=n.createElement("paragraph");n.remove(n.createRangeIn(u)),n.insert(f,u),n.setSelection(f,0)}_shouldReplaceFirstBlockWithParagraph(n,s){const l=this.editor.model;if(s>1||this.direction!="backward"||!n.isCollapsed)return!1;const u=n.getFirstPosition(),f=l.schema.getLimitElement(u),b=f.getChild(0);return u.parent==b&&!!n.containsEntireContent(b)&&!!l.schema.checkChild(f,"paragraph")&&b.name!="paragraph"}}const g2="word",Ju="selection",om="backward",Zw="forward",m2={deleteContent:{unit:Ju,direction:om},deleteContentBackward:{unit:"codePoint",direction:om},deleteWordBackward:{unit:g2,direction:om},deleteHardLineBackward:{unit:Ju,direction:om},deleteSoftLineBackward:{unit:Ju,direction:om},deleteContentForward:{unit:"character",direction:Zw},deleteWordForward:{unit:g2,direction:Zw},deleteHardLineForward:{unit:Ju,direction:Zw},deleteSoftLineForward:{unit:Ju,direction:Zw}};class Y$ extends md{constructor(n){super(n);const s=n.document;let l=0;s.on("keydown",()=>{l++}),s.on("keyup",()=>{l=0}),s.on("beforeinput",(u,f)=>{if(!this.isEnabled)return;const{targetRanges:b,domEvent:_,inputType:E}=f,T=m2[E];if(!T)return;const D={direction:T.direction,unit:T.unit,sequence:l};D.unit==Ju&&(D.selectionToRemove=n.createSelection(b[0])),E==="deleteContentBackward"&&(w.isAndroid&&(D.sequence=1),function(H){if(H.length!=1||H[0].isCollapsed)return!1;const $=H[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let tt=0;for(const{nextPosition:it}of $){if(it.parent.is("$text")){const At=it.parent.data,bt=it.offset;if(yf(At,bt)||Cf(At,bt)||xf(At,bt))continue;tt++}else tt++;if(tt>1)return!0}return!1}(b)&&(D.unit=Ju,D.selectionToRemove=n.createSelection(b)));const U=new Zg(s,"delete",b[0]);s.fire(U,new tm(n,_,D)),U.stop.called&&u.stop()}),w.isBlink&&function(u){const f=u.view,b=f.document;let _=null,E=!1;function T(U){return U==qt.backspace||U==qt.delete}function D(U){return U==qt.backspace?om:Zw}b.on("keydown",(U,{keyCode:H})=>{_=H,E=!1}),b.on("keyup",(U,{keyCode:H,domEvent:$})=>{const tt=b.selection,it=u.isEnabled&&H==_&&T(H)&&!tt.isCollapsed&&!E;if(_=null,it){const At=tt.getFirstRange(),bt=new Zg(b,"delete",At),It={unit:Ju,direction:D(H),selectionToRemove:tt};b.fire(bt,new tm(f,$,It))}}),b.on("beforeinput",(U,{inputType:H})=>{const $=m2[H];T(_)&&$&&$.direction==D(_)&&(E=!0)},{priority:"high"}),b.on("beforeinput",(U,{inputType:H,data:$})=>{_==qt.delete&&H=="insertText"&&$==""&&U.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class EA extends Zt{static get pluginName(){return"Delete"}init(){const n=this.editor,s=n.editing.view,l=s.document,u=n.model.document;s.addObserver(Y$),this._undoOnBackspace=!1;const f=new p2(n,"forward");n.commands.add("deleteForward",f),n.commands.add("forwardDelete",f),n.commands.add("delete",new p2(n,"backward")),this.listenTo(l,"delete",(b,_)=>{l.isComposing||_.preventDefault();const{direction:E,sequence:T,selectionToRemove:D,unit:U}=_,H=E==="forward"?"deleteForward":"delete",$={sequence:T};if(U=="selection"){const tt=Array.from(D.getRanges()).map(it=>n.editing.mapper.toModelRange(it));$.selection=n.model.createSelection(tt)}else $.unit=U;n.execute(H,$),s.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(l,"delete",(b,_)=>{this._undoOnBackspace&&_.direction=="backward"&&_.sequence==1&&_.unit=="codePoint"&&(this._undoOnBackspace=!1,n.execute("undo"),_.preventDefault(),b.stop())},{context:"$capture"}),this.listenTo(u,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class X$ extends Zt{static get requires(){return[h2,EA]}static get pluginName(){return"Typing"}}function b2(A,n){let s=A.start;return{text:Array.from(A.getWalker({ignoreElementEnd:!1})).reduce((l,{item:u})=>u.is("$text")||u.is("$textProxy")?l+u.data:(s=n.createPositionAfter(u),""),""),range:n.createRange(s,A.end)}}class w2 extends ae(){constructor(n,s){super(),this.model=n,this.testCallback=s,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(n.document.selection),this.stopListening(n.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(s,{directChange:l})=>{l&&(n.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(n,"change:data",(s,l)=>{!l.isUndo&&l.isLocal&&this._evaluateTextBeforeSelection("data",{batch:l})})}_evaluateTextBeforeSelection(n,s={}){const l=this.model,u=l.document.selection,f=l.createRange(l.createPositionAt(u.focus.parent,0),u.focus),{text:b,range:_}=b2(f,l),E=this.testCallback(b);if(!E&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!E,E){const T=Object.assign(s,{text:b,range:_});typeof E=="object"&&Object.assign(T,E),this.fire(`matched:${n}`,T)}}}class v2 extends Zt{constructor(n){super(n),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const n=this.editor,s=n.model,l=n.editing.view,u=n.locale,f=s.document.selection;this.listenTo(l.document,"arrowKey",(b,_)=>{if(!f.isCollapsed||_.shiftKey||_.altKey||_.ctrlKey)return;const E=_.keyCode==qt.arrowright,T=_.keyCode==qt.arrowleft;if(!E&&!T)return;const D=u.contentLanguageDirection;let U=!1;U=D==="ltr"&&E||D==="rtl"&&T?this._handleForwardMovement(_):this._handleBackwardMovement(_),U===!0&&b.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(f,"change:range",(b,_)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!_.directChange&&dy(f.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(n){this.attributes.add(n)}_handleForwardMovement(n){const s=this.attributes,l=this.editor.model.document.selection,u=l.getFirstPosition();return!this._isGravityOverridden&&(!u.isAtStart||!y1(l,s))&&!!dy(u,s)&&(cy(n),this._overrideGravity(),!0)}_handleBackwardMovement(n){const s=this.attributes,l=this.editor.model,u=l.document.selection,f=u.getFirstPosition();return this._isGravityOverridden?(cy(n),this._restoreGravity(),C1(l,s,f),!0):f.isAtStart?!!y1(u,s)&&(cy(n),C1(l,s,f),!0):!!function(b,_){const E=b.getShiftedBy(-1);return dy(E,_)}(f,s)&&(f.isAtEnd&&!y1(u,s)&&dy(f,s)?(cy(n),C1(l,s,f),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(n=>n.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(n=>{n.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function y1(A,n){for(const s of n)if(A.hasAttribute(s))return!0;return!1}function C1(A,n,s){const l=s.nodeBefore;A.change(u=>{if(l){const f=[],b=A.schema.isObject(l)&&A.schema.isInline(l);for(const[_,E]of l.getAttributes())!A.schema.checkAttribute("$text",_)||b&&A.schema.getAttributeProperties(_).copyFromObject===!1||f.push([_,E]);u.setSelectionAttribute(f)}else u.removeSelectionAttribute(n)})}function cy(A){A.preventDefault()}function dy(A,n){const{nodeBefore:s,nodeAfter:l}=A;for(const u of n){const f=s?s.getAttribute(u):void 0;if((l?l.getAttribute(u):void 0)!==f)return!0}return!1}var _2=/[\\^$.*+?()[\]{}|]/g,Z$=RegExp(_2.source);const J$=function(A){return(A=BB(A))&&Z$.test(A)?A.replace(_2,"\\$&"):A},k2={copyright:{from:"(c)",to:"Â©"},registeredTrademark:{from:"(r)",to:"Â®"},trademark:{from:"(tm)",to:"â¢"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"Â½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"â",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"â",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"Â¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"Â¾",null]},lessThanOrEqual:{from:"<=",to:"â¤"},greaterThanOrEqual:{from:">=",to:"â¥"},notEqual:{from:"!=",to:"â "},arrowLeft:{from:"<-",to:"â"},arrowRight:{from:"->",to:"â"},horizontalEllipsis:{from:"...",to:"â¦"},enDash:{from:/(^| )(--)( )$/,to:[null,"â",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"â",null]},quotesPrimary:{from:am('"'),to:[null,"â",null,"â"]},quotesSecondary:{from:am("'"),to:[null,"â",null,"â"]},quotesPrimaryEnGb:{from:am("'"),to:[null,"â",null,"â"]},quotesSecondaryEnGb:{from:am('"'),to:[null,"â",null,"â"]},quotesPrimaryPl:{from:am('"'),to:[null,"â",null,"â"]},quotesSecondaryPl:{from:am("'"),to:[null,"â",null,"â"]}},y2={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},t7=["symbols","mathematical","typography","quotes"];function e7(A){return typeof A=="string"?new RegExp(`(${J$(A)})$`):A}function n7(A){return typeof A=="string"?()=>[A]:A instanceof Array?()=>A:A}function i7(A){return(A.textNode?A.textNode:A.nodeAfter).getAttributes()}function am(A){return new RegExp(`(^|\\s)(${A})([^${A}]*)(${A})$`)}function lm(A,n,s,l){return l.createRange(C2(A,n,s,!0,l),C2(A,n,s,!1,l))}function C2(A,n,s,l,u){let f=A.textNode||(l?A.nodeBefore:A.nodeAfter),b=null;for(;f&&f.getAttribute(n)==s;)b=f,f=l?f.previousSibling:f.nextSibling;return b?u.createPositionAt(b,l?"before":"after"):A}function*E2(A,n){for(const s of n)s&&A.getAttributeProperties(s[0]).copyOnEnter&&(yield s)}class s7 extends an{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const s=this.editor.model,l=s.document.selection,u=s.schema,f=l.isCollapsed,b=l.getFirstRange(),_=b.start.parent,E=b.end.parent;if(u.isLimit(_)||u.isLimit(E))return f||_!=E||s.deleteContent(l),!1;if(f){const T=E2(n.model.schema,l.getAttributes());return x2(n,b.start),n.setSelectionAttribute(T),!0}{const T=!(b.start.isAtStart&&b.end.isAtEnd),D=_==E;if(s.deleteContent(l,{leaveUnmerged:T}),T){if(D)return x2(n,l.focus),!0;n.setSelection(E,0)}}return!1}}function x2(A,n){A.split(n),A.setSelection(n.parent.nextSibling,0)}const r7={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class B2 extends md{constructor(n){super(n);const s=this.document;let l=!1;s.on("keydown",(u,f)=>{l=f.shiftKey}),s.on("beforeinput",(u,f)=>{if(!this.isEnabled)return;let b=f.inputType;w.isSafari&&l&&b=="insertParagraph"&&(b="insertLineBreak");const _=f.domEvent,E=r7[b];if(!E)return;const T=new Zg(s,"enter",f.targetRanges[0]);s.fire(T,new tm(n,_,{isSoft:E.isSoft})),T.stop.called&&u.stop()})}observe(){}stopObserving(){}}class Ay extends Zt{static get pluginName(){return"Enter"}init(){const n=this.editor,s=n.editing.view,l=s.document;s.addObserver(B2),n.commands.add("enter",new s7(n)),this.listenTo(l,"enter",(u,f)=>{l.isComposing||f.preventDefault(),f.isSoft||(n.execute("enter"),s.scrollToTheSelection())},{priority:"low"})}}class o7 extends an{execute(){const n=this.editor.model,s=n.document;n.change(l=>{(function(u,f,b){const _=b.isCollapsed,E=b.getFirstRange(),T=E.start.parent,D=E.end.parent,U=T==D;if(_){const H=E2(u.schema,b.getAttributes());S2(u,f,E.end),f.removeSelectionAttribute(b.getAttributeKeys()),f.setSelectionAttribute(H)}else{const H=!(E.start.isAtStart&&E.end.isAtEnd);u.deleteContent(b,{leaveUnmerged:H}),U?S2(u,f,b.focus):H&&f.setSelection(D,0)}})(n,l,s.selection),this.fire("afterExecute",{writer:l})})}refresh(){const n=this.editor.model,s=n.document;this.isEnabled=function(l,u){if(u.rangeCount>1)return!1;const f=u.anchor;if(!f||!l.checkChild(f,"softBreak"))return!1;const b=u.getFirstRange(),_=b.start.parent,E=b.end.parent;return!((E1(_,l)||E1(E,l))&&_!==E)}(n.schema,s.selection)}}function S2(A,n,s){const l=n.createElement("softBreak");A.insertContent(l,s),n.setSelection(l,"after")}function E1(A,n){return!A.is("rootElement")&&(n.isLimit(A)||E1(A.parent,n))}class a7 extends Zt{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,s=n.model.schema,l=n.conversion,u=n.editing.view,f=u.document;s.register("softBreak",{allowWhere:"$text",isInline:!0}),l.for("upcast").elementToElement({model:"softBreak",view:"br"}),l.for("downcast").elementToElement({model:"softBreak",view:(b,{writer:_})=>_.createEmptyElement("br")}),u.addObserver(B2),n.commands.add("shiftEnter",new o7(n)),this.listenTo(f,"enter",(b,_)=>{f.isComposing||_.preventDefault(),_.isSoft&&(n.execute("shiftEnter"),u.scrollToTheSelection())},{priority:"low"})}}class l7 extends Dt(){constructor(){super(...arguments),this._stack=[]}add(n,s){const l=this._stack,u=l[0];this._insertDescriptor(n);const f=l[0];u===f||x1(u,f)||this.fire("change:top",{oldDescriptor:u,newDescriptor:f,writer:s})}remove(n,s){const l=this._stack,u=l[0];this._removeDescriptor(n);const f=l[0];u===f||x1(u,f)||this.fire("change:top",{oldDescriptor:u,newDescriptor:f,writer:s})}_insertDescriptor(n){const s=this._stack,l=s.findIndex(f=>f.id===n.id);if(x1(n,s[l]))return;l>-1&&s.splice(l,1);let u=0;for(;s[u]&&c7(s[u],n);)u++;s.splice(u,0,n)}_removeDescriptor(n){const s=this._stack,l=s.findIndex(u=>u.id===n);l>-1&&s.splice(l,1)}}function x1(A,n){return A&&n&&A.priority==n.priority&&uy(A.classes)==uy(n.classes)}function c7(A,n){return A.priority>n.priority||!(A.priority<n.priority)&&uy(A.classes)>uy(n.classes)}function uy(A){return Array.isArray(A)?A.sort().join(","):A}const d7='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',A7="ck-widget",T2="ck-widget_selected";function As(A){return!!A.is("element")&&!!A.getCustomProperty("widget")}function B1(A,n,s={}){if(!A.is("containerElement"))throw new K("widget-to-widget-wrong-element-type",null,{element:A});return n.setAttribute("contenteditable","false",A),n.addClass(A7,A),n.setCustomProperty("widget",!0,A),A.getFillerOffset=f7,n.setCustomProperty("widgetLabel",[],A),s.label&&function(l,u){l.getCustomProperty("widgetLabel").push(u)}(A,s.label),s.hasSelectionHandle&&function(l,u){const f=u.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(b){const _=this.toDomElement(b),E=new q;return E.set("content",d7),E.render(),_.appendChild(E.element),_});u.insert(u.createPositionAt(l,0),f),u.addClass(["ck-widget_with-selection-handle"],l)}(A,n),I2(A,n),A}function u7(A,n,s){if(n.classes&&s.addClass(Dn(n.classes),A),n.attributes)for(const l in n.attributes)s.setAttribute(l,n.attributes[l],A)}function h7(A,n,s){if(n.classes&&s.removeClass(Dn(n.classes),A),n.attributes)for(const l in n.attributes)s.removeAttribute(l,A)}function I2(A,n,s=u7,l=h7){const u=new l7;u.on("change:top",(f,b)=>{b.oldDescriptor&&l(A,b.oldDescriptor,b.writer),b.newDescriptor&&s(A,b.newDescriptor,b.writer)}),n.setCustomProperty("addHighlight",(f,b,_)=>u.add(b,_),A),n.setCustomProperty("removeHighlight",(f,b,_)=>u.remove(b,_),A)}function D2(A,n,s={}){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],A),n.setAttribute("role","textbox",A),s.label&&n.setAttribute("aria-label",s.label,A),n.setAttribute("contenteditable",A.isReadOnly?"false":"true",A),A.on("change:isReadOnly",(l,u,f)=>{n.setAttribute("contenteditable",f?"false":"true",A)}),A.on("change:isFocused",(l,u,f)=>{f?n.addClass("ck-editor__nested-editable_focused",A):n.removeClass("ck-editor__nested-editable_focused",A)}),I2(A,n),A}function M2(A,n){const s=A.getSelectedElement();if(s){const l=th(A);if(l)return n.createRange(n.createPositionAt(s,l))}return cF(A,n)}function f7(){return null}const xA="widget-type-around";function Rf(A,n,s){return!!A&&As(A)&&!s.isInline(n)}function th(A){return A.getAttribute(xA)}var L2=o(4921),p7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(L2.Z,p7),L2.Z.locals;const P2=["before","after"],g7=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,F2="ck-widget__type-around_disabled";class m7 extends Zt{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Ay,EA]}init(){const n=this.editor,s=n.editing.view;this.on("change:isEnabled",(l,u,f)=>{s.change(b=>{for(const _ of s.document.roots)f?b.removeClass(F2,_):b.addClass(F2,_)}),f||n.model.change(b=>{b.removeSelectionAttribute(xA)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(n,s){const l=this.editor,u=l.editing.view,f=l.model.schema.getAttributesWithProperty(n,"copyOnReplace",!0);l.execute("insertParagraph",{position:l.model.createPositionAt(n,s),attributes:f}),u.focus(),u.scrollToTheSelection()}_listenToIfEnabled(n,s,l,u){this.listenTo(n,s,(...f)=>{this.isEnabled&&l(...f)},u)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,s=th(n);if(!s)return!1;const l=n.getSelectedElement();return this._insertParagraph(l,s),!0}_enableTypeAroundUIInjection(){const n=this.editor,s=n.model.schema,l=n.locale.t,u={before:l("Insert paragraph before block"),after:l("Insert paragraph after block")};n.editing.downcastDispatcher.on("insert",(f,b,_)=>{const E=_.mapper.toViewElement(b.item);E&&Rf(E,b.item,s)&&(function(T,D,U){const H=T.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function($){const tt=this.toDomElement($);return function(it,At){for(const bt of P2){const It=new va({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${bt}`],title:At[bt],"aria-hidden":"true"},children:[it.ownerDocument.importNode(g7,!0)]});it.appendChild(It.render())}}(tt,D),function(it){const At=new va({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});it.appendChild(At.render())}(tt),tt});T.insert(T.createPositionAt(U,"end"),H)}(_.writer,u,E),E.getCustomProperty("widgetLabel").push(()=>this.isEnabled?l("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const n=this.editor,s=n.model,l=s.document.selection,u=s.schema,f=n.editing.view;function b(_){return`ck-widget_type-around_show-fake-caret_${_}`}this._listenToIfEnabled(f.document,"arrowKey",(_,E)=>{this._handleArrowKeyPress(_,E)},{context:[As,"$text"],priority:"high"}),this._listenToIfEnabled(l,"change:range",(_,E)=>{E.directChange&&n.model.change(T=>{T.removeSelectionAttribute(xA)})}),this._listenToIfEnabled(s.document,"change:data",()=>{const _=l.getSelectedElement();_&&Rf(n.editing.mapper.toViewElement(_),_,u)||n.model.change(E=>{E.removeSelectionAttribute(xA)})}),this._listenToIfEnabled(n.editing.downcastDispatcher,"selection",(_,E,T)=>{const D=T.writer;if(this._currentFakeCaretModelElement){const tt=T.mapper.toViewElement(this._currentFakeCaretModelElement);tt&&(D.removeClass(P2.map(b),tt),this._currentFakeCaretModelElement=null)}const U=E.selection.getSelectedElement();if(!U)return;const H=T.mapper.toViewElement(U);if(!Rf(H,U,u))return;const $=th(E.selection);$&&(D.addClass(b($),H),this._currentFakeCaretModelElement=U)}),this._listenToIfEnabled(n.ui.focusTracker,"change:isFocused",(_,E,T)=>{T||n.model.change(D=>{D.removeSelectionAttribute(xA)})})}_handleArrowKeyPress(n,s){const l=this.editor,u=l.model,f=u.document.selection,b=u.schema,_=l.editing.view,E=function(U,H){const $=ds(U,H);return $==="down"||$==="right"}(s.keyCode,l.locale.contentLanguageDirection),T=_.document.selection.getSelectedElement();let D;Rf(T,l.editing.mapper.toModelElement(T),b)?D=this._handleArrowKeyPressOnSelectedWidget(E):f.isCollapsed?D=this._handleArrowKeyPressWhenSelectionNextToAWidget(E):s.shiftKey||(D=this._handleArrowKeyPressWhenNonCollapsedSelection(E)),D&&(s.preventDefault(),n.stop())}_handleArrowKeyPressOnSelectedWidget(n){const s=this.editor.model,l=th(s.document.selection);return s.change(u=>l?l!==(n?"after":"before")?(u.removeSelectionAttribute(xA),!0):!1:(u.setSelectionAttribute(xA,n?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(n){const s=this.editor,l=s.model,u=l.schema,f=s.plugins.get("Widget"),b=f._getObjectElementNextToSelection(n);return!!Rf(s.editing.mapper.toViewElement(b),b,u)&&(l.change(_=>{f._setSelectionOverElement(b),_.setSelectionAttribute(xA,n?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(n){const s=this.editor,l=s.model,u=l.schema,f=s.editing.mapper,b=l.document.selection,_=n?b.getLastPosition().nodeBefore:b.getFirstPosition().nodeAfter;return!!Rf(f.toViewElement(_),_,u)&&(l.change(E=>{E.setSelection(_,"on"),E.setSelectionAttribute(xA,n?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const n=this.editor,s=n.editing.view;this._listenToIfEnabled(s.document,"mousedown",(l,u)=>{const f=u.domTarget.closest(".ck-widget__type-around__button");if(!f)return;const b=function(T){return T.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(f),_=function(T,D){const U=T.closest(".ck-widget");return D.mapDomToView(U)}(f,s.domConverter),E=n.editing.mapper.toModelElement(_);this._insertParagraph(E,b),u.preventDefault(),l.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const n=this.editor,s=n.model.document.selection,l=n.editing.view;this._listenToIfEnabled(l.document,"enter",(u,f)=>{if(u.eventPhase!="atTarget")return;const b=s.getSelectedElement(),_=n.editing.mapper.toViewElement(b),E=n.model.schema;let T;this._insertParagraphAccordingToFakeCaretPosition()?T=!0:Rf(_,b,E)&&(this._insertParagraph(b,f.isSoft?"before":"after"),T=!0),T&&(f.preventDefault(),u.stop())},{context:As})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(s,l)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(l.selection=n.selection)},{priority:"high"}),w.isAndroid?this._listenToIfEnabled(n,"keydown",(s,l)=>{l.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const n=this.editor,s=n.editing.view,l=n.model,u=l.schema;this._listenToIfEnabled(s.document,"delete",(f,b)=>{if(f.eventPhase!="atTarget")return;const _=th(l.document.selection);if(!_)return;const E=b.direction,T=l.document.selection.getSelectedElement(),D=E=="forward";if(_==="before"===D)n.execute("delete",{selection:l.createSelection(T,"on")});else{const U=u.getNearestSelectionRange(l.createPositionAt(T,_),E);if(U)if(U.isCollapsed){const H=l.createSelection(U.start);if(l.modifySelection(H,{direction:E}),H.focus.isEqual(U.start)){const $=function(tt,it){let At=it;for(const bt of it.getAncestors({parentFirst:!0})){if(bt.childCount>1||tt.isLimit(bt))break;At=bt}return At}(u,U.start.parent);l.deleteContent(l.createSelection($,"on"),{doNotAutoparagraph:!0})}else l.change($=>{$.setSelection(U),n.execute(D?"deleteForward":"delete")})}else l.change(H=>{H.setSelection(U),n.execute(D?"deleteForward":"delete")})}b.preventDefault(),f.stop()},{context:As})}_enableInsertContentIntegration(){const n=this.editor,s=this.editor.model,l=s.document.selection;this._listenToIfEnabled(n.model,"insertContent",(u,[f,b])=>{if(b&&!b.is("documentSelection"))return;const _=th(l);return _?(u.stop(),s.change(E=>{const T=l.getSelectedElement(),D=s.createPositionAt(T,_),U=E.createSelection(D),H=s.insertContent(f,U);return E.setSelection(U),H})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const n=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"insertObject",(l,u)=>{const[,f,b={}]=u;if(f&&!f.is("documentSelection"))return;const _=th(s);_&&(b.findOptimalPosition=_,u[3]=b)},{priority:"high"})}_enableDeleteContentIntegration(){const n=this.editor,s=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"deleteContent",(l,[u])=>{u&&!u.is("documentSelection")||th(s)&&l.stop()},{priority:"high"})}}function b7(A){const n=A.model;return(s,l)=>{const u=l.keyCode==qt.arrowup,f=l.keyCode==qt.arrowdown,b=l.shiftKey,_=n.document.selection;if(!u&&!f)return;const E=f;if(b&&function(D,U){return!D.isCollapsed&&D.isBackward==U}(_,E))return;const T=function(D,U,H){const $=D.model;if(H){const tt=U.isCollapsed?U.focus:U.getLastPosition(),it=O2($,tt,"forward");if(!it)return null;const At=$.createRange(tt,it),bt=N2($.schema,At,"backward");return bt?$.createRange(tt,bt):null}{const tt=U.isCollapsed?U.focus:U.getFirstPosition(),it=O2($,tt,"backward");if(!it)return null;const At=$.createRange(it,tt),bt=N2($.schema,At,"forward");return bt?$.createRange(bt,tt):null}}(A,_,E);if(T){if(T.isCollapsed&&(_.isCollapsed||b))return;(T.isCollapsed||function(D,U,H){const $=D.model,tt=D.view.domConverter;if(H){const Wt=$.createSelection(U.start);$.modifySelection(Wt),Wt.focus.isAtEnd||U.start.isEqual(Wt.focus)||(U=$.createRange(Wt.focus,U.end))}const it=D.mapper.toViewRange(U),At=tt.viewRangeToDom(it),bt=_n.getDomRangeRects(At);let It;for(const Wt of bt)if(It!==void 0){if(Math.round(Wt.top)>=It)return!1;It=Math.max(It,Math.round(Wt.bottom))}else It=Math.round(Wt.bottom);return!0}(A,T,E))&&(n.change(D=>{const U=E?T.end:T.start;if(b){const H=n.createSelection(_.anchor);H.setFocus(U),D.setSelection(H)}else D.setSelection(U)}),s.stop(),l.preventDefault(),l.stopPropagation())}}}function O2(A,n,s){const l=A.schema,u=A.createRangeIn(n.root),f=s=="forward"?"elementStart":"elementEnd";for(const{previousPosition:b,item:_,type:E}of u.getWalker({startPosition:n,direction:s})){if(l.isLimit(_)&&!l.isInline(_))return b;if(E==f&&l.isBlock(_))return null}return null}function N2(A,n,s){const l=s=="backward"?n.end:n.start;if(A.checkChild(l,"$text"))return l;for(const{nextPosition:u}of n.getWalker({direction:s}))if(A.checkChild(u,"$text"))return u;return null}var R2=o(3488),w7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(R2.Z,w7),R2.Z.locals;class Jw extends Zt{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[m7,EA]}init(){const n=this.editor,s=n.editing.view,l=s.document;this.editor.editing.downcastDispatcher.on("selection",(u,f,b)=>{const _=b.writer,E=f.selection;if(E.isCollapsed)return;const T=E.getSelectedElement();if(!T)return;const D=n.editing.mapper.toViewElement(T);var U;As(D)&&b.consumable.consume(E,"selection")&&_.setSelection(_.createRangeOn(D),{fake:!0,label:(U=D,U.getCustomProperty("widgetLabel").reduce((H,$)=>typeof $=="function"?H?H+". "+$():$():H?H+". "+$:$,""))})}),this.editor.editing.downcastDispatcher.on("selection",(u,f,b)=>{this._clearPreviouslySelectedWidgets(b.writer);const _=b.writer,E=_.document.selection;let T=null;for(const D of E.getRanges())for(const U of D){const H=U.item;As(H)&&!v7(H,T)&&(_.addClass(T2,H),this._previouslySelected.add(H),T=H)}},{priority:"low"}),s.addObserver(n1),this.listenTo(l,"mousedown",(...u)=>this._onMousedown(...u)),this.listenTo(l,"arrowKey",(...u)=>{this._handleSelectionChangeOnArrowKeyPress(...u)},{context:[As,"$text"]}),this.listenTo(l,"arrowKey",(...u)=>{this._preventDefaultOnArrowKeyPress(...u)},{context:"$root"}),this.listenTo(l,"arrowKey",b7(this.editor.editing),{context:"$text"}),this.listenTo(l,"delete",(u,f)=>{this._handleDelete(f.direction=="forward")&&(f.preventDefault(),u.stop())},{context:"$root"})}_onMousedown(n,s){const l=this.editor,u=l.editing.view,f=u.document;let b=s.target;if(function(E){let T=E;for(;T;){if(T.is("editableElement")&&!T.is("rootElement"))return!0;if(As(T))return!1;T=T.parent}return!1}(b)){if((w.isSafari||w.isGecko)&&s.domEvent.detail>=3){const E=l.editing.mapper,T=b.is("attributeElement")?b.findAncestor(U=>!U.is("attributeElement")):b,D=E.toModelElement(T);s.preventDefault(),this.editor.model.change(U=>{U.setSelection(D,"in")})}return}if(!As(b)&&(b=b.findAncestor(As),!b))return;w.isAndroid&&s.preventDefault(),f.isFocused||u.focus();const _=l.editing.mapper.toModelElement(b);this._setSelectionOverElement(_)}_handleSelectionChangeOnArrowKeyPress(n,s){const l=s.keyCode,u=this.editor.model,f=u.schema,b=u.document.selection,_=b.getSelectedElement(),E=ds(l,this.editor.locale.contentLanguageDirection),T=E=="down"||E=="right",D=E=="up"||E=="down";if(_&&f.isObject(_)){const H=T?b.getLastPosition():b.getFirstPosition(),$=f.getNearestSelectionRange(H,T?"forward":"backward");return void($&&(u.change(tt=>{tt.setSelection($)}),s.preventDefault(),n.stop()))}if(!b.isCollapsed&&!s.shiftKey){const H=b.getFirstPosition(),$=b.getLastPosition(),tt=H.nodeAfter,it=$.nodeBefore;return void((tt&&f.isObject(tt)||it&&f.isObject(it))&&(u.change(At=>{At.setSelection(T?$:H)}),s.preventDefault(),n.stop()))}if(!b.isCollapsed)return;const U=this._getObjectElementNextToSelection(T);if(U&&f.isObject(U)){if(f.isInline(U)&&D)return;this._setSelectionOverElement(U),s.preventDefault(),n.stop()}}_preventDefaultOnArrowKeyPress(n,s){const l=this.editor.model,u=l.schema,f=l.document.selection.getSelectedElement();f&&u.isObject(f)&&(s.preventDefault(),n.stop())}_handleDelete(n){const s=this.editor.model.document.selection;if(!this.editor.model.canEditAt(s)||!s.isCollapsed)return;const l=this._getObjectElementNextToSelection(n);return l?(this.editor.model.change(u=>{let f=s.anchor.parent;for(;f.isEmpty;){const b=f;f=b.parent,u.remove(b)}this._setSelectionOverElement(l)}),!0):void 0}_setSelectionOverElement(n){this.editor.model.change(s=>{s.setSelection(s.createRangeOn(n))})}_getObjectElementNextToSelection(n){const s=this.editor.model,l=s.schema,u=s.document.selection,f=s.createSelection(u);if(s.modifySelection(f,{direction:n?"forward":"backward"}),f.isEqual(u))return null;const b=n?f.focus.nodeBefore:f.focus.nodeAfter;return b&&l.isObject(b)?b:null}_clearPreviouslySelectedWidgets(n){for(const s of this._previouslySelected)n.removeClass(T2,s);this._previouslySelected.clear()}}function v7(A,n){return!!n&&Array.from(A.getAncestors()).includes(n)}class hy extends Zt{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[ry]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;if(n.plugins.has("BalloonToolbar")){const s=n.plugins.get("BalloonToolbar");this.listenTo(s,"show",l=>{(function(u){const f=u.getSelectedElement();return!(!f||!As(f))})(n.editing.view.document.selection)&&l.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const n of this._toolbarDefinitions.values())n.view.destroy()}register(n,{ariaLabel:s,items:l,getRelatedElement:u,balloonClassName:f="ck-toolbar-container"}){if(!l.length)return void J("widget-toolbar-no-items",{toolbarId:n});const b=this.editor,_=b.t,E=new s1(b.locale);if(E.ariaLabel=s||_("Widget toolbar"),this._toolbarDefinitions.has(n))throw new K("widget-toolbar-duplicated",this,{toolbarId:n});const T={view:E,getRelatedElement:u,balloonClassName:f,itemsConfig:l,initialized:!1};b.ui.addToolbar(E,{isContextual:!0,beforeFocus:()=>{const D=u(b.editing.view.document.selection);D&&this._showToolbar(T,D)},afterBlur:()=>{this._hideToolbar(T)}}),this._toolbarDefinitions.set(n,T)}_updateToolbarsVisibility(){let n=0,s=null,l=null;for(const u of this._toolbarDefinitions.values()){const f=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&f)if(this.editor.ui.focusTracker.isFocused){const b=f.getAncestors().length;b>n&&(n=b,s=f,l=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}l&&this._showToolbar(l,s)}_hideToolbar(n){this._balloon.remove(n.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(n,s){this._isToolbarVisible(n)?U2(this.editor,s):this._isToolbarInBalloon(n)||(n.initialized||(n.initialized=!0,n.view.fillFromConfig(n.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:n.view,position:Q2(this.editor,s),balloonClassName:n.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const l of this._toolbarDefinitions.values())if(this._isToolbarVisible(l)){const u=l.getRelatedElement(this.editor.editing.view.document.selection);U2(this.editor,u)}}))}_isToolbarVisible(n){return this._balloon.visibleView===n.view}_isToolbarInBalloon(n){return this._balloon.hasView(n.view)}}function U2(A,n){const s=A.plugins.get("ContextualBalloon"),l=Q2(A,n);s.updatePosition(l)}function Q2(A,n){const s=A.editing.view,l=Ca.defaultPositions;return{target:s.domConverter.mapViewToDom(n),positions:[l.northArrowSouth,l.northArrowSouthWest,l.northArrowSouthEast,l.southArrowNorth,l.southArrowNorthWest,l.southArrowNorthEast,l.viewportStickyNorth]}}var H2=o(8506),_7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(H2.Z,_7),H2.Z.locals;var z2=o(903),k7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(z2.Z,k7),z2.Z.locals;class y7 extends Zt{static get pluginName(){return"DragDrop"}static get requires(){return[vd,Jw]}init(){const n=this.editor,s=n.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=b1(l=>this._updateDropMarker(l),40),this._removeDropMarkerDelayed=kf(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=kf(()=>this._clearDraggableAttributes(),40),n.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(s.addObserver(k1),s.addObserver(n1),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(n,"change:isReadOnly",(l,u,f)=>{f?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(l,u,f)=>{f||this._finalizeDragging(!1)}),w.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const n=this.editor,s=n.model,l=s.document,u=n.editing.view,f=u.document;this.listenTo(f,"dragstart",(b,_)=>{const E=l.selection;if(_.target&&_.target.is("editableElement"))return void _.preventDefault();const T=_.target?K2(_.target):null;if(T){const $=n.editing.mapper.toModelElement(T);this._draggedRange=Ic.fromRange(s.createRangeOn($)),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!f.selection.isCollapsed){const $=f.selection.getSelectedElement();$&&As($)||(this._draggedRange=Ic.fromRange(E.getFirstRange()))}if(!this._draggedRange)return void _.preventDefault();this._draggingUid=V();const D=this.isEnabled&&n.model.canEditAt(this._draggedRange);_.dataTransfer.effectAllowed=D?"copyMove":"copy",_.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const U=s.createSelection(this._draggedRange.toRange()),H=n.data.toView(s.getSelectedContent(U));f.fire("clipboardOutput",{dataTransfer:_.dataTransfer,content:H,method:"dragstart"}),D||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(f,"dragend",(b,_)=>{this._finalizeDragging(!_.dataTransfer.isCanceled&&_.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(f,"dragenter",()=>{this.isEnabled&&u.focus()}),this.listenTo(f,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(f,"dragging",(b,_)=>{if(!this.isEnabled)return void(_.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const E=j2(n,_.targetRanges,_.target);n.model.canEditAt(E)?(this._draggedRange||(_.dataTransfer.dropEffect="copy"),w.isGecko||(_.dataTransfer.effectAllowed=="copy"?_.dataTransfer.dropEffect="copy":["all","copyMove"].includes(_.dataTransfer.effectAllowed)&&(_.dataTransfer.dropEffect="move")),E&&this._updateDropMarkerThrottled(E)):_.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const n=this.editor,s=n.editing.view.document;this.listenTo(s,"clipboardInput",(l,u)=>{if(u.method!="drop")return;const f=j2(n,u.targetRanges,u.target);if(this._removeDropMarker(),!f||!n.model.canEditAt(f))return this._finalizeDragging(!1),void l.stop();if(this._draggedRange&&this._draggingUid!=u.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),V2(u.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(f,!0))return this._finalizeDragging(!1),void l.stop();u.targetRanges=[n.editing.mapper.toViewRange(f)]},{priority:"high"})}_setupContentInsertionIntegration(){const n=this.editor.plugins.get(vd);n.on("contentInsertion",(s,l)=>{if(!this.isEnabled||l.method!=="drop")return;const u=l.targetRanges.map(f=>this.editor.editing.mapper.toModelRange(f));this.editor.model.change(f=>f.setSelection(u))},{priority:"high"}),n.on("contentInsertion",(s,l)=>{if(!this.isEnabled||l.method!=="drop")return;const u=V2(l.dataTransfer)=="move",f=!l.resultRange||!l.resultRange.isCollapsed;this._finalizeDragging(f&&u)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const n=this.editor,s=n.editing.view,l=s.document;this.listenTo(l,"mousedown",(u,f)=>{if(w.isAndroid||!f)return;this._clearDraggableAttributesDelayed.cancel();let b=K2(f.target);if(w.isBlink&&!b&&!l.selection.isCollapsed){const _=l.selection.getSelectedElement();if(!_||!As(_)){const E=l.selection.editableElement;E&&!E.isReadOnly&&(b=E)}}b&&(s.change(_=>{_.setAttribute("draggable","true",b)}),this._draggableElement=n.editing.mapper.toModelElement(b))}),this.listenTo(l,"mouseup",()=>{w.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const n=this.editor.editing;n.view.change(s=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&s.removeAttribute("draggable",n.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const n=this.editor;n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(s,{writer:l})=>{if(n.model.schema.checkChild(s.markerRange.start,"$text"))return l.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(u){const f=this.toDomElement(u);return f.append("â ",u.createElement("span"),"â "),f})}})}_updateDropMarker(n){const s=this.editor,l=s.model.markers;s.model.change(u=>{l.has("drop-target")?l.get("drop-target").getRange().isEqual(n)||u.updateMarker("drop-target",{range:n}):u.addMarker("drop-target",{range:n,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const n=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),n.markers.has("drop-target")&&n.change(s=>{s.removeMarker("drop-target")})}_finalizeDragging(n){const s=this.editor,l=s.model;this._removeDropMarker(),this._clearDraggableAttributes(),s.plugins.has("WidgetToolbarRepository")&&s.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(n&&this.isEnabled&&l.deleteContent(l.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function j2(A,n,s){const l=A.model,u=A.editing.mapper;let f=null;const b=n?n[0].start:null;if(s.is("uiElement")&&(s=s.parent),f=function(T,D){const U=T.model,H=T.editing.mapper;if(As(D))return U.createRangeOn(H.toModelElement(D));if(!D.is("editableElement")){const $=D.findAncestor(tt=>As(tt)||tt.is("editableElement"));if(As($))return U.createRangeOn(H.toModelElement($))}return null}(A,s),f)return f;const _=function(T,D){const U=T.editing.mapper,H=T.editing.view,$=U.toModelElement(D);if($)return $;const tt=H.createPositionBefore(D),it=U.findMappedViewAncestor(tt);return U.toModelElement(it)}(A,s),E=b?u.toModelPosition(b):null;return E?(f=function(T,D,U){const H=T.model;if(!H.schema.checkChild(U,"$block"))return null;const $=H.createPositionAt(U,0),tt=D.path.slice(0,$.path.length),it=H.createPositionFromPath(D.root,tt),At=it.nodeAfter;return At&&H.schema.isObject(At)?H.createRangeOn(At):null}(A,E,_),f||(f=l.schema.getNearestSelectionRange(E,w.isGecko?"forward":"backward"),f||function(T,D){const U=T.model;let H=D;for(;H;){if(U.schema.isObject(H))return U.createRangeOn(H);H=H.parent}return null}(A,E.parent))):function(T,D){const U=T.model,H=U.schema,$=U.createPositionAt(D,0);return H.getNearestSelectionRange($,"forward")}(A,_)}function V2(A){return w.isGecko?A.dropEffect:["all","copyMove"].includes(A.effectAllowed)?"move":"copy"}function K2(A){if(A.is("editableElement"))return null;if(A.hasClass("ck-widget__selection-handle"))return A.findAncestor(As);if(As(A))return A;const n=A.findAncestor(s=>As(s)||s.is("editableElement"));return As(n)?n:null}class C7 extends Zt{static get pluginName(){return"PastePlainText"}static get requires(){return[vd]}init(){const n=this.editor,s=n.model,l=n.editing.view,u=l.document,f=s.document.selection;let b=!1;l.addObserver(k1),this.listenTo(u,"keydown",(_,E)=>{b=E.shiftKey}),n.plugins.get(vd).on("contentInsertion",(_,E)=>{(b||function(T,D){if(T.childCount>1)return!1;const U=T.getChild(0);return D.isObject(U)?!1:Array.from(U.getAttributeKeys()).length==0}(E.content,s.schema))&&s.change(T=>{const D=Array.from(f.getAttributes()).filter(([H])=>s.schema.getAttributeProperties(H).isFormatting);f.isCollapsed||s.deleteContent(f,{doNotAutoparagraph:!0}),D.push(...f.getAttributes());const U=T.createRangeIn(E.content);for(const H of U.getItems())H.is("$textProxy")&&T.setAttributes(D,H)})})}}class G2 extends Zt{static get pluginName(){return"Clipboard"}static get requires(){return[vd,y7,C7]}}class E7 extends an{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,s=n.document.selection;let l=n.schema.getLimitElement(s);if(s.containsEntireContent(l)||!W2(n.schema,l))do if(l=l.parent,!l)return;while(!W2(n.schema,l));n.change(u=>{u.setSelection(l,"in")})}}function W2(A,n){return A.isLimit(n)&&(A.checkChild(n,"$text")||A.checkChild(n,"paragraph"))}const x7=ls("Ctrl+A");class B7 extends Zt{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,s=n.editing.view.document;n.commands.add("selectAll",new E7(n)),this.listenTo(s,"keydown",(l,u)=>{tn(u)===x7&&(n.execute("selectAll"),u.preventDefault())})}}class S7 extends Zt{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",s=>{const l=n.commands.get("selectAll"),u=new xt(s),f=s.t;return u.set({label:f("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),u.bind("isEnabled").to(l,"isEnabled"),this.listenTo(u,"execute",()=>{n.execute("selectAll"),n.editing.view.focus()}),u})}}class T7 extends Zt{static get requires(){return[B7,S7]}static get pluginName(){return"SelectAll"}}var I7=Object.defineProperty,$2=Object.getOwnPropertySymbols,D7=Object.prototype.hasOwnProperty,M7=Object.prototype.propertyIsEnumerable,q2=(A,n,s)=>n in A?I7(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s;class Y2 extends an{constructor(n){super(n),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(n.data,"set",(s,l)=>{l[1]=((f,b)=>{for(var _ in b||(b={}))D7.call(b,_)&&q2(f,_,b[_]);if($2)for(var _ of $2(b))M7.call(b,_)&&q2(f,_,b[_]);return f})({},l[1]);const u=l[1];u.batchType||(u.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(n.data,"set",(s,l)=>{l[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(n){const s=this.editor.model.document.selection,l={ranges:s.hasOwnRange?Array.from(s.getRanges()):[],isBackward:s.isBackward};this._stack.push({batch:n,selection:l}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(n,s,l){const u=this.editor.model,f=u.document,b=[],_=n.map(T=>T.getTransformedByOperations(l)),E=_.flat();for(const T of _){const D=T.filter(U=>U.root!=f.graveyard).filter(U=>!P7(U,E));D.length&&(L7(D),b.push(D[0]))}b.length&&u.change(T=>{T.setSelection(b,{backward:s})})}_undo(n,s){const l=this.editor.model,u=l.document;this._createdBatches.add(s);const f=n.operations.slice().filter(b=>b.isDocumentOperation);f.reverse();for(const b of f){const _=b.baseVersion+1,E=Array.from(u.history.getOperations(_)),T=JW([b.getReversed()],E,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let D of T){const U=D.affectedSelectable;U&&!l.canEditAt(U)&&(D=new dr(D.baseVersion)),s.addOperation(D),l.applyOperation(D),u.history.setOperationAsUndone(b,D)}}}}function L7(A){A.sort((n,s)=>n.start.isBefore(s.start)?-1:1);for(let n=1;n<A.length;n++){const s=A[n-1].getJoined(A[n],!0);s&&(n--,A.splice(n,2,s))}}function P7(A,n){return n.some(s=>s!==A&&s.containsRange(A,!0))}class F7 extends Y2{execute(n=null){const s=n?this._stack.findIndex(f=>f.batch==n):this._stack.length-1,l=this._stack.splice(s,1)[0],u=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(u,()=>{this._undo(l.batch,u);const f=this.editor.model.document.history.getOperations(l.batch.baseVersion);this._restoreSelection(l.selection.ranges,l.selection.isBackward,f)}),this.fire("revert",l.batch,u),this.refresh()}}class O7 extends Y2{execute(){const n=this._stack.pop(),s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{const l=n.batch.operations[n.batch.operations.length-1].baseVersion+1,u=this.editor.model.document.history.getOperations(l);this._restoreSelection(n.selection.ranges,n.selection.isBackward,u),this._undo(n.batch,s)}),this.refresh()}}class N7 extends Zt{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const n=this.editor;this._undoCommand=new F7(n),this._redoCommand=new O7(n),n.commands.add("undo",this._undoCommand),n.commands.add("redo",this._redoCommand),this.listenTo(n.model,"applyOperation",(s,l)=>{const u=l[0];if(!u.isDocumentOperation)return;const f=u.batch,b=this._redoCommand.createdBatches.has(f),_=this._undoCommand.createdBatches.has(f);this._batchRegistry.has(f)||(this._batchRegistry.add(f),f.isUndoable&&(b?this._undoCommand.addBatch(f):_||(this._undoCommand.addBatch(f),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,l,u)=>{this._redoCommand.addBatch(u)}),n.keystrokes.set("CTRL+Z","undo"),n.keystrokes.set("CTRL+Y","redo"),n.keystrokes.set("CTRL+SHIFT+Z","redo")}}const X2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Z2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class R7 extends Zt{static get pluginName(){return"UndoUI"}init(){const n=this.editor,s=n.locale,l=n.t,u=s.uiLanguageDirection=="ltr"?X2:Z2,f=s.uiLanguageDirection=="ltr"?Z2:X2;this._addButton("undo",l("Undo"),"CTRL+Z",u),this._addButton("redo",l("Redo"),"CTRL+Y",f)}_addButton(n,s,l,u){const f=this.editor;f.ui.componentFactory.add(n,b=>{const _=f.commands.get(n),E=new xt(b);return E.set({label:s,icon:u,keystroke:l,tooltip:!0}),E.bind("isEnabled").to(_,"isEnabled"),this.listenTo(E,"execute",()=>{f.execute(n),f.editing.view.focus()}),E})}}class J2 extends Zt{static get requires(){return[N7,R7]}static get pluginName(){return"Undo"}}class U7 extends ae(){constructor(){super();const n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=s=>{this.loaded=s.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const s=this._reader;return this.total=n.size,new Promise((l,u)=>{s.onload=()=>{const f=s.result;this._data=f,l(f)},s.onerror=()=>{u("error")},s.onabort=()=>{u("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}class Mc extends Zt{constructor(){super(...arguments),this.loaders=new Hs,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[dF]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,s)=>s?n/s*100:0)}getLoader(n){return this._loadersMap.get(n)||null}createLoader(n){if(!this.createUploadAdapter)return J("filerepository-no-upload-adapter"),null;const s=new tO(Promise.resolve(n),this.createUploadAdapter);return this.loaders.add(s),this._loadersMap.set(n,s),n instanceof Promise&&s.file.then(l=>{this._loadersMap.set(l,s)}).catch(()=>{}),s.on("change:uploaded",()=>{let l=0;for(const u of this.loaders)l+=u.uploaded;this.uploaded=l}),s.on("change:uploadTotal",()=>{let l=0;for(const u of this.loaders)u.uploadTotal&&(l+=u.uploadTotal);this.uploadTotal=l}),s}destroyLoader(n){const s=n instanceof tO?n:this.getLoader(n);s._destroy(),this.loaders.remove(s),this._loadersMap.forEach((l,u)=>{l===s&&this._loadersMap.delete(u)})}_updatePendingAction(){const n=this.editor.plugins.get(dF);if(this.loaders.length){if(!this._pendingAction){const s=this.editor.t,l=u=>`${s("Upload in progress")} ${parseInt(u)}%.`;this._pendingAction=n.add(l(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",l)}}else n.remove(this._pendingAction),this._pendingAction=null}}class tO extends ae(){constructor(n,s){super(),this.id=V(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=s(this),this._reader=new U7,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(l,u)=>u?l/u*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(n=>this._filePromiseWrapper?n:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new K("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(n=>this._reader.read(n)).then(n=>{if(this.status!=="reading")throw this.status;return this.status="idle",n}).catch(n=>{throw n==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:n)})}upload(){if(this.status!="idle")throw new K("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(n=>(this.uploadResponse=n,this.status="idle",n)).catch(n=>{throw this.status==="aborted"?"aborted":(this.status="error",n)})}abort(){const n=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?n=="reading"?this._reader.abort():n=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(n){const s={};return s.promise=new Promise((l,u)=>{s.rejecter=u,s.isFulfilled=!1,n.then(f=>{s.isFulfilled=!0,l(f)}).catch(f=>{s.isFulfilled=!0,u(f)})}),s}}class Q7 extends on{constructor(n){super(n),this.buttonView=new xt(n),this._fileInputView=new H7(n),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class H7 extends on{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const s=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:s.to("acceptedType"),multiple:s.to("allowMultipleFiles")},on:{change:s.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const eO="ckCsrfToken",nO="abcdefghijklmnopqrstuvwxyz0123456789";function z7(){let A=function(l){l=l.toLowerCase();const u=document.cookie.split(";");for(const f of u){const b=f.split("=");if(decodeURIComponent(b[0].trim().toLowerCase())===l)return decodeURIComponent(b[1])}return null}(eO);var n,s;return A&&A.length==40||(A=function(l){let u="";const f=new Uint8Array(l);window.crypto.getRandomValues(f);for(let b=0;b<f.length;b++){const _=nO.charAt(f[b]%nO.length);u+=Math.random()>.5?_.toUpperCase():_}return u}(40),n=eO,s=A,document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(s)+";path=/"),A}class j7{constructor(n,s,l){this.loader=n,this.url=s,this.t=l}upload(){return this.loader.file.then(n=>new Promise((s,l)=>{this._initRequest(),this._initListeners(s,l,n),this._sendRequest(n)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const n=this.xhr=new XMLHttpRequest;n.open("POST",this.url,!0),n.responseType="json"}_initListeners(n,s,l){const u=this.xhr,f=this.loader,b=(0,this.t)("Cannot upload file:")+` ${l.name}.`;u.addEventListener("error",()=>s(b)),u.addEventListener("abort",()=>s()),u.addEventListener("load",()=>{const _=u.response;if(!_||!_.uploaded)return s(_&&_.error&&_.error.message?_.error.message:b);n({default:_.url})}),u.upload&&u.upload.addEventListener("progress",_=>{_.lengthComputable&&(f.uploadTotal=_.total,f.uploaded=_.loaded)})}_sendRequest(n){const s=new FormData;s.append("upload",n),s.append("ckCsrfToken",z7()),this.xhr.send(s)}}function eh(A,n,s,l){let u,f=null;typeof l=="function"?u=l:(f=A.commands.get(l),u=()=>{A.execute(l)}),A.model.document.on("change:data",(b,_)=>{if(f&&!f.isEnabled||!n.isEnabled)return;const E=ai(A.model.document.selection.getRanges());if(!E.isCollapsed||_.isUndo||!_.isLocal)return;const T=Array.from(A.model.document.differ.getChanges()),D=T[0];if(T.length!=1||D.type!=="insert"||D.name!="$text"||D.length!=1)return;const U=D.position.parent;if(U.is("element","codeBlock")||U.is("element","listItem")&&typeof l!="function"&&!["numberedList","bulletedList","todoList"].includes(l)||f&&f.value===!0)return;const H=U.getChild(0),$=A.model.createRangeOn(H);if(!$.containsRange(E)&&!E.end.isEqual($.end))return;const tt=s.exec(H.data.substr(0,E.end.offset));tt&&A.model.enqueueChange(it=>{const At=it.createPositionAt(U,0),bt=it.createPositionAt(U,tt[0].length),It=new Ic(At,bt);if(u({match:tt})!==!1){it.remove(It);const Wt=A.model.document.selection.getFirstRange(),he=it.createRangeIn(U);!U.isEmpty||he.isEqual(Wt)||he.containsRange(Wt,!0)||it.remove(U)}It.detach(),A.model.enqueueChange(()=>{A.plugins.get("Delete").requestUndoOnBackspace()})})})}function cm(A,n,s,l){let u,f;s instanceof RegExp?u=s:f=s,f=f||(b=>{let _;const E=[],T=[];for(;(_=u.exec(b))!==null&&!(_&&_.length<4);){let{index:D,1:U,2:H,3:$}=_;const tt=U+H+$;D+=_[0].length-tt.length;const it=[D,D+U.length],At=[D+U.length+H.length,D+U.length+H.length+$.length];E.push(it),E.push(At),T.push([D+U.length,D+U.length+H.length])}return{remove:E,format:T}}),A.model.document.on("change:data",(b,_)=>{if(_.isUndo||!_.isLocal||!n.isEnabled)return;const E=A.model,T=E.document.selection;if(!T.isCollapsed)return;const D=Array.from(E.document.differ.getChanges()),U=D[0];if(D.length!=1||U.type!=="insert"||U.name!="$text"||U.length!=1)return;const H=T.focus,$=H.parent,{text:tt,range:it}=function(Wt,he){let Ve=Wt.start;return{text:Array.from(Wt.getItems()).reduce((Pn,Ar)=>!Ar.is("$text")&&!Ar.is("$textProxy")||Ar.getAttribute("code")?(Ve=he.createPositionAfter(Ar),""):Pn+Ar.data,""),range:he.createRange(Ve,Wt.end)}}(E.createRange(E.createPositionAt($,0),H),E),At=f(tt),bt=iO(it.start,At.format,E),It=iO(it.start,At.remove,E);bt.length&&It.length&&E.enqueueChange(Wt=>{if(l(Wt,bt)!==!1){for(const he of It.reverse())Wt.remove(he);E.enqueueChange(()=>{A.plugins.get("Delete").requestUndoOnBackspace()})}})})}function iO(A,n,s){return n.filter(l=>l[0]!==void 0&&l[1]!==void 0).map(l=>s.createRange(A.getShiftedBy(l[0]),A.getShiftedBy(l[1])))}function fy(A,n){return(s,l)=>{if(!A.commands.get(n).isEnabled)return!1;const u=A.model.schema.getValidRanges(l,n);for(const f of u)s.setAttribute(n,!0,f);s.removeSelectionAttribute(n)}}class sO extends an{constructor(n,s){super(n),this.attributeKey=s}refresh(){const n=this.editor.model,s=n.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=n.schema.checkAttributeInSelection(s.selection,this.attributeKey)}execute(n={}){const s=this.editor.model,l=s.document.selection,u=n.forceValue===void 0?!this.value:n.forceValue;s.change(f=>{if(l.isCollapsed)u?f.setSelectionAttribute(this.attributeKey,!0):f.removeSelectionAttribute(this.attributeKey);else{const b=s.schema.getValidRanges(l.getRanges(),this.attributeKey);for(const _ of b)u?f.setAttribute(this.attributeKey,u,_):f.removeAttribute(this.attributeKey,_)}})}_getValueFromFirstAllowedNode(){const n=this.editor.model,s=n.schema,l=n.document.selection;if(l.isCollapsed)return l.hasAttribute(this.attributeKey);for(const u of l.getRanges())for(const f of u.getItems())if(s.checkAttribute(f,this.attributeKey))return f.hasAttribute(this.attributeKey);return!1}}const dm="bold";class V7 extends Zt{static get pluginName(){return"BoldEditing"}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:dm}),n.model.schema.setAttributeProperties(dm,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:dm,view:"strong",upcastAlso:["b",s=>{const l=s.getStyle("font-weight");return l&&(l=="bold"||Number(l)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(dm,new sO(n,dm)),n.keystrokes.set("CTRL+B",dm)}}const S1="bold";class K7 extends Zt{static get pluginName(){return"BoldUI"}init(){const n=this.editor,s=n.t;n.ui.componentFactory.add(S1,l=>{const u=n.commands.get(S1),f=new xt(l);return f.set({label:s("Bold"),icon:Bs.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(f,"execute",()=>{n.execute(S1),n.editing.view.focus()}),f})}}var rO=o(8603),G7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(rO.Z,G7),rO.Z.locals;const Am="italic";class W7 extends Zt{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:Am}),n.model.schema.setAttributeProperties(Am,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Am,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(Am,new sO(n,Am)),n.keystrokes.set("CTRL+I",Am)}}const T1="italic";class $7 extends Zt{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,s=n.t;n.ui.componentFactory.add(T1,l=>{const u=n.commands.get(T1),f=new xt(l);return f.set({label:s("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(f,"execute",()=>{n.execute(T1),n.editing.view.focus()}),f})}}class q7 extends an{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const s=this.editor.model,l=s.schema,u=s.document.selection,f=Array.from(u.getSelectedBlocks()),b=n.forceValue===void 0?!this.value:n.forceValue;s.change(_=>{if(b){const E=f.filter(T=>py(T)||aO(l,T));this._applyQuote(_,E)}else this._removeQuote(_,f.filter(py))})}_getValue(){const n=ai(this.editor.model.document.selection.getSelectedBlocks());return!(!n||!py(n))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,s=this.editor.model.schema,l=ai(n.getSelectedBlocks());return!!l&&aO(s,l)}_removeQuote(n,s){oO(n,s).reverse().forEach(l=>{if(l.start.isAtStart&&l.end.isAtEnd)return void n.unwrap(l.start.parent);if(l.start.isAtStart){const f=n.createPositionBefore(l.start.parent);return void n.move(l,f)}l.end.isAtEnd||n.split(l.end);const u=n.createPositionAfter(l.end.parent);n.move(l,u)})}_applyQuote(n,s){const l=[];oO(n,s).reverse().forEach(u=>{let f=py(u.start);f||(f=n.createElement("blockQuote"),n.wrap(u,f)),l.push(f)}),l.reverse().reduce((u,f)=>u.nextSibling==f?(n.merge(n.createPositionAfter(u)),u):f)}}function py(A){return A.parent.name=="blockQuote"?A.parent:null}function oO(A,n){let s,l=0;const u=[];for(;l<n.length;){const f=n[l],b=n[l+1];s||(s=A.createPositionBefore(f)),b&&f.nextSibling==b||(u.push(A.createRange(s,A.createPositionAfter(f))),s=null),l++}return u}function aO(A,n){const s=A.checkChild(n.parent,"blockQuote"),l=A.checkChild(["$root","blockQuote"],n);return s&&l}class Y7 extends Zt{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Ay,EA]}init(){const n=this.editor,s=n.model.schema;n.commands.add("blockQuote",new q7(n)),s.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(b=>{const _=n.model.document.differ.getChanges();for(const E of _)if(E.type=="insert"){const T=E.position.nodeAfter;if(!T)continue;if(T.is("element","blockQuote")&&T.isEmpty)return b.remove(T),!0;if(T.is("element","blockQuote")&&!s.checkChild(E.position,T))return b.unwrap(T),!0;if(T.is("element")){const D=b.createRangeIn(T);for(const U of D.getItems())if(U.is("element","blockQuote")&&!s.checkChild(b.createPositionBefore(U),U))return b.unwrap(U),!0}}else if(E.type=="remove"){const T=E.position.parent;if(T.is("element","blockQuote")&&T.isEmpty)return b.remove(T),!0}return!1});const l=this.editor.editing.view.document,u=n.model.document.selection,f=n.commands.get("blockQuote");this.listenTo(l,"enter",(b,_)=>{!u.isCollapsed||!f.value||u.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),_.preventDefault(),b.stop())},{context:"blockquote"}),this.listenTo(l,"delete",(b,_)=>{if(_.direction!="backward"||!u.isCollapsed||!f.value)return;const E=u.getLastPosition().parent;E.isEmpty&&!E.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),_.preventDefault(),b.stop())},{context:"blockquote"})}}var lO=o(3062),X7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(lO.Z,X7),lO.Z.locals;class Z7 extends Zt{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,s=n.t;n.ui.componentFactory.add("blockQuote",l=>{const u=n.commands.get("blockQuote"),f=new xt(l);return f.set({label:s("Block quote"),icon:Bs.quote,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(u,"value","isEnabled"),this.listenTo(f,"execute",()=>{n.execute("blockQuote"),n.editing.view.focus()}),f})}}class J7 extends Zt{static get pluginName(){return"CKBoxUI"}afterInit(){const n=this.editor,s=n.commands.get("ckbox");if(!s)return;const l=n.t;n.ui.componentFactory.add("ckbox",u=>{const f=new xt(u);return f.set({label:l("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),f.bind("isOn","isEnabled").to(s,"value","isEnabled"),f.on("execute",()=>{n.execute("ckbox")}),f})}}function cO(A){const n=[];let s=0;for(const u in A){const f=parseInt(u,10);isNaN(f)||(f>s&&(s=f),n.push(`${A[u]} ${u}w`))}const l=[{srcset:n.join(","),sizes:`(max-width: ${s}px) 100vw, ${s}px`,type:"image/webp"}];return{imageFallbackUrl:A.default,imageSources:l}}class t9 extends an{constructor(n){super(n),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const n=this.editor.commands.get("insertImage"),s=this.editor.commands.get("link");return!(!n.isEnabled&&!s.isEnabled)}_prepareOptions(){const n=this.editor.config.get("ckbox");return{theme:n.theme,language:n.language,tokenUrl:n.tokenUrl,serviceOrigin:n.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:s=>this.fire("ckbox:choose",s)}}}_initListeners(){const n=this.editor,s=n.model,l=!n.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{!this.isEnabled||this.value||(this._wrapper=rA(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()),dO(50))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(u,f)=>{if(!this.isEnabled)return;const b=n.commands.get("insertImage"),_=n.commands.get("link"),E=function({assets:T,isImageAllowed:D,isLinkAllowed:U}){return T.map(H=>function($){const tt=$.data.metadata;return tt?tt.width&&tt.height:!1}(H)?{id:H.data.id,type:"image",attributes:e9(H)}:{id:H.data.id,type:"link",attributes:n9(H)}).filter(H=>H.type==="image"?D:U)}({assets:f,isImageAllowed:b.isEnabled,isLinkAllowed:_.isEnabled});E.length!==0&&s.change(T=>{for(const D of E){const U=D===E[E.length-1];this._insertAsset(D,U,T),l&&(setTimeout(()=>this._chosenAssets.delete(D),1e3),this._chosenAssets.add(D))}})}),this.listenTo(n,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(n,s,l){const u=this.editor.model.document.selection;l.removeSelectionAttribute("linkHref"),n.type==="image"?this._insertImage(n):this._insertLink(n,l),s||l.setSelection(u.getLastPosition())}_insertImage(n){const s=this.editor,{imageFallbackUrl:l,imageSources:u,imageTextAlternative:f}=n.attributes;s.execute("insertImage",{source:{src:l,sources:u,alt:f}})}_insertLink(n,s){const l=this.editor,u=l.model,f=u.document.selection,{linkName:b,linkHref:_}=n.attributes;if(f.isCollapsed){const E=eo(f.getAttributes()),T=s.createText(b,E),D=u.insertContent(T);s.setSelection(D)}l.execute("link",_)}}function e9(A){const{imageFallbackUrl:n,imageSources:s}=cO(A.data.imageUrls);return{imageFallbackUrl:n,imageSources:s,imageTextAlternative:A.data.metadata.description||""}}function n9(A){return{linkName:A.data.name,linkHref:i9(A)}}function i9(A){const n=new URL(A.data.url);return n.searchParams.set("download","true"),n.toString()}function dO(A){setTimeout(()=>{if(A===0)return;const n=document.querySelector(".ckbox-gallery .ckbox-gallery-item"),s=document.querySelector(".ckbox-empty-view .ckbox-btn");s&&s instanceof HTMLElement?s.focus():n&&n instanceof HTMLElement?n.focus():dO(A-1)},100)}var Uf=(A,n,s)=>new Promise((l,u)=>{var f=E=>{try{_(s.next(E))}catch(T){u(T)}},b=E=>{try{_(s.throw(E))}catch(T){u(T)}},_=E=>E.done?l(E.value):Promise.resolve(E.value).then(f,b);_((s=s.apply(A,n)).next())});class s9 extends Zt{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Mc,I1]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return Uf(this,null,function*(){const n=this.editor,s=!!n.config.get("ckbox"),l=!!window.CKBox;if(!s&&!l)return;const u=n.plugins.get(Mc),f=n.plugins.get(I1);u.createUploadAdapter=E=>new r9(E,f.getToken(),n);const b=!n.config.get("ckbox.ignoreDataId"),_=n.plugins.get("ImageUploadEditing");b&&_.on("uploadComplete",(E,{imageElement:T,data:D})=>{n.model.change(U=>{U.setAttribute("ckboxImageId",D.ckboxImageId,T)})})})}}class r9{constructor(n,s,l){this.loader=n,this.token=s,this.editor=l,this.controller=new AbortController,this.serviceOrigin=l.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const n=(0,this.editor.t)("Cannot access default workspace."),s=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),l=function(u,f){const[,b]=u.value.split("."),_=JSON.parse(atob(b)),E=_.auth&&_.auth.ckbox&&_.auth.ckbox.workspaces||[_.aud];return f?(_.auth&&_.auth.ckbox&&_.auth.ckbox.role)=="superadmin"||E.includes(f)?f:null:E[0]}(this.token,s);if(l==null)throw rt("ckbox-access-default-workspace-error"),n;return l}getAvailableCategories(n=0){return Uf(this,null,function*(){const s=new URL("categories",this.serviceOrigin);return s.searchParams.set("limit","50"),s.searchParams.set("offset",n.toString()),s.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:s}).then(l=>Uf(this,null,function*(){if(l.totalCount-(n+50)>0){const u=yield this.getAvailableCategories(n+50);return[...l.items,...u]}return l.items})).catch(()=>{this.controller.signal.throwIfAborted(),rt("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(n){return Uf(this,null,function*(){const s=function(b){const _=new RegExp("\\.(?<ext>[^.]+)$");return b.match(_).groups.ext.toLowerCase()}(n.name),l=yield this.getAvailableCategories();if(!l)return null;const u=this.editor.config.get("ckbox.defaultUploadCategories");if(u){const b=Object.keys(u).find(_=>u[_].find(E=>E.toLowerCase()==s));if(b){const _=l.find(E=>E.id===b||E.name===b);return _?_.id:null}}const f=l.find(b=>b.extensions.find(_=>_.toLowerCase()==s));return f?f.id:null})}upload(){return Uf(this,null,function*(){const n=this.editor.t,s=n("Cannot determine a category for the uploaded file."),l=yield this.loader.file,u=yield this.getCategoryIdForFile(l);if(!u)return Promise.reject(s);const f=new URL("assets",this.serviceOrigin),b=new FormData;f.searchParams.set("workspaceId",this.getWorkspaceId()),b.append("categoryId",u),b.append("file",l);const _={method:"POST",url:f,data:b,onUploadProgress:E=>{E.lengthComputable&&(this.loader.uploadTotal=E.total,this.loader.uploaded=E.loaded)}};return this._sendHttpRequest(_).then(E=>Uf(this,null,function*(){const T=cO(E.imageUrls);return{ckboxImageId:E.id,default:T.imageFallbackUrl,sources:T.imageSources}})).catch(()=>{const E=n("Cannot upload file:")+` ${l.name}.`;return Promise.reject(E)})})}abort(){this.controller.abort()}_sendHttpRequest({url:n,method:s="GET",data:l,onUploadProgress:u}){const f=this.controller.signal,b=new XMLHttpRequest;b.open(s,n.toString(),!0),b.setRequestHeader("Authorization",this.token.value),b.setRequestHeader("CKBox-Version","CKEditor 5"),b.responseType="json";const _=()=>{b.abort()};return new Promise((E,T)=>{f.addEventListener("abort",_),b.addEventListener("loadstart",()=>{f.addEventListener("abort",_)}),b.addEventListener("loadend",()=>{f.removeEventListener("abort",_)}),b.addEventListener("error",()=>{T()}),b.addEventListener("abort",()=>{T()}),b.addEventListener("load",()=>Uf(this,null,function*(){const D=b.response;return!D||D.statusCode>=400?T(D&&D.message):E(D)})),u&&b.upload.addEventListener("progress",D=>{u(D)}),b.send(l)})}}class I1 extends Zt{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",s9]}init(){return n=this,s=null,l=function*(){const u=this.editor,f=!!u.config.get("ckbox"),b=!!window.CKBox;if(!f&&!b)return;this._initConfig();const _=u.plugins.get("CloudServicesCore"),E=u.config.get("ckbox.tokenUrl");if(E===u.config.get("cloudServices.tokenUrl")){const T=u.plugins.get("CloudServices");this._token=T.token}else this._token=yield _.createToken(E).init();u.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),b&&u.commands.add("ckbox",new t9(u))},new Promise((u,f)=>{var b=T=>{try{E(l.next(T))}catch(D){f(D)}},_=T=>{try{E(l.throw(T))}catch(D){f(D)}},E=T=>T.done?u(T.value):Promise.resolve(T.value).then(b,_);E((l=l.apply(n,s)).next())});var n,s,l}getToken(){return this._token}_initConfig(){const n=this.editor;if(n.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:n.locale.uiLanguage,theme:"default",tokenUrl:n.config.get("cloudServices.tokenUrl")}),!n.config.get("ckbox.tokenUrl"))throw new K("ckbox-plugin-missing-token-url",this);n.plugins.has("ImageBlockEditing")||n.plugins.has("ImageInlineEditing")||rt("ckbox-plugin-image-feature-missing",n)}_initSchema(){const n=this.editor.model.schema;n.extend("$text",{allowAttributes:"ckboxLinkId"}),n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.addAttributeCheck((s,l)=>{if(!s.last.getAttribute("linkHref")&&l==="ckboxLinkId")return!1})}_initConversion(){const n=this.editor;n.conversion.for("downcast").add(s=>{s.on("attribute:ckboxLinkId:imageBlock",(l,u,f)=>{const{writer:b,mapper:_,consumable:E}=f;if(!E.consume(u.item,l.name))return;const T=[..._.toViewElement(u.item).getChildren()].find(D=>D.name==="a");T&&(u.item.hasAttribute("ckboxLinkId")?b.setAttribute("data-ckbox-resource-id",u.item.getAttribute("ckboxLinkId"),T):b.removeAttribute("data-ckbox-resource-id",T))},{priority:"low"}),s.on("attribute:ckboxLinkId",(l,u,f)=>{const{writer:b,mapper:_,consumable:E}=f;if(E.consume(u.item,l.name)){if(u.attributeOldValue){const T=AO(b,u.attributeOldValue);b.unwrap(_.toViewRange(u.range),T)}if(u.attributeNewValue){const T=AO(b,u.attributeNewValue);if(u.item.is("selection")){const D=b.document.selection;b.wrap(D.getFirstRange(),T)}else b.wrap(_.toViewRange(u.range),T)}}},{priority:"low"})}),n.conversion.for("upcast").add(s=>{s.on("element:a",(l,u,f)=>{const{writer:b,consumable:_}=f;if(!u.viewItem.getAttribute("href")||!_.consume(u.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const E=u.viewItem.getAttribute("data-ckbox-resource-id");if(E)if(u.modelRange)for(let T of u.modelRange.getItems())T.is("$textProxy")&&(T=T.textNode),a9(T)&&b.setAttribute("ckboxLinkId",E,T);else{const T=u.modelCursor.nodeBefore||u.modelCursor.parent;b.setAttribute("ckboxLinkId",E,T)}},{priority:"low"})}),n.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),n.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:s=>s.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const n=this.editor,s=n.model,l=s.document.selection;s.document.registerPostFixer(function(u){return f=>{let b=!1;const _=u.model,E=u.commands.get("ckbox");if(!E)return b;for(const T of _.document.differ.getChanges()){if(T.type!=="insert"&&T.type!=="attribute")continue;const D=T.type==="insert"?new zt(T.position,T.position.getShiftedBy(T.length)):T.range,U=T.type==="attribute"&&T.attributeKey==="linkHref"&&T.attributeNewValue===null;for(const H of D.getItems()){if(U&&H.hasAttribute("ckboxLinkId")){f.removeAttribute("ckboxLinkId",H),b=!0;continue}const $=o9(H,E._chosenAssets);for(const tt of $){const it=tt.type==="image"?"ckboxImageId":"ckboxLinkId";tt.id!==H.getAttribute(it)&&(f.setAttribute(it,tt.id,H),b=!0)}}}return b}}(n)),s.document.registerPostFixer(function(u){return f=>!(u.hasAttribute("linkHref")||!u.hasAttribute("ckboxLinkId"))&&(f.removeSelectionAttribute("ckboxLinkId"),!0)}(l))}}function o9(A,n){const s=A.is("element","imageInline")||A.is("element","imageBlock"),l=A.hasAttribute("linkHref");return[...n].filter(u=>u.type==="image"&&s?u.attributes.imageFallbackUrl===A.getAttribute("src"):u.type==="link"&&l?u.attributes.linkHref===A.getAttribute("linkHref"):void 0)}function AO(A,n){const s=A.createAttributeElement("a",{"data-ckbox-resource-id":n},{priority:5});return A.setCustomProperty("link",!0,s),s}function a9(A){return!!A.is("$text")||!(!A.is("element","imageInline")&&!A.is("element","imageBlock"))}class l9 extends Zt{static get pluginName(){return"CKFinderUI"}init(){const n=this.editor,s=n.ui.componentFactory,l=n.t;s.add("ckfinder",u=>{const f=n.commands.get("ckfinder"),b=new xt(u);return b.set({label:l("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),b.bind("isEnabled").to(f),b.on("execute",()=>{n.execute("ckfinder"),n.editing.view.focus()}),b})}}class c9 extends an{constructor(n){super(n),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const n=this.editor.commands.get("insertImage"),s=this.editor.commands.get("link");this.isEnabled=n.isEnabled||s.isEnabled}execute(){const n=this.editor,s=this.editor.config.get("ckfinder.openerMethod")||"modal";if(s!="popup"&&s!="modal")throw new K("ckfinder-unknown-openermethod",n);const l=this.editor.config.get("ckfinder.options")||{};l.chooseFiles=!0;const u=l.onInit;l.language||(l.language=n.locale.uiLanguage),l.onInit=f=>{u&&u(f),f.on("files:choose",b=>{const _=b.data.files.toArray(),E=_.filter(U=>!U.isImage()),T=_.filter(U=>U.isImage());for(const U of E)n.execute("link",U.getUrl());const D=[];for(const U of T){const H=U.getUrl();D.push(H||f.request("file:getProxyUrl",{file:U}))}D.length&&uO(n,D)}),f.on("file:choose:resizedImage",b=>{const _=b.data.resizedUrl;if(_)uO(n,[_]);else{const E=n.plugins.get("Notification"),T=n.locale.t;E.showWarning(T("Could not obtain resized image URL."),{title:T("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[s](l)}}function uO(A,n){if(A.commands.get("insertImage").isEnabled)A.execute("insertImage",{source:n});else{const s=A.plugins.get("Notification"),l=A.locale.t;s.showWarning(l("Could not insert image at the current position."),{title:l("Inserting image failed"),namespace:"ckfinder"})}}class d9 extends Zt{static get pluginName(){return"CKFinderEditing"}static get requires(){return[w1,"LinkEditing"]}init(){const n=this.editor;if(!n.plugins.has("ImageBlockEditing")&&!n.plugins.has("ImageInlineEditing"))throw new K("ckfinder-missing-image-plugin",n);n.commands.add("ckfinder",new c9(n))}}class A9 extends Zt{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Mc]}init(){const n=this.editor,s=n.plugins.get("CloudServices"),l=s.token,u=s.uploadUrl;if(!l)return;const f=n.plugins.get("CloudServicesCore");this._uploadGateway=f.createUploadGateway(l,u),n.plugins.get(Mc).createUploadAdapter=b=>new u9(this._uploadGateway,b)}}class u9{constructor(n,s){this.uploadGateway=n,this.loader=s}upload(){return this.loader.file.then(n=>(this.fileUploader=this.uploadGateway.upload(n),this.fileUploader.on("progress",(s,l)=>{this.loader.uploadTotal=l.total,this.loader.uploaded=l.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class h9 extends an{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}refresh(){const n=this.editor.model,s=ai(n.document.selection.getSelectedBlocks());this.value=!!s&&s.is("element","paragraph"),this.isEnabled=!!s&&hO(s,n.schema)}execute(n={}){const s=this.editor.model,l=s.document,u=n.selection||l.selection;s.canEditAt(u)&&s.change(f=>{const b=u.getSelectedBlocks();for(const _ of b)!_.is("element","paragraph")&&hO(_,s.schema)&&f.rename(_,"paragraph")})}}function hO(A,n){return n.checkChild(A.parent,"paragraph")&&!n.isObject(A)}class f9 extends an{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}execute(n){const s=this.editor.model,l=n.attributes;let u=n.position;s.canEditAt(u)&&s.change(f=>{if(u=this._findPositionToInsertParagraph(u,f),!u)return;const b=f.createElement("paragraph");l&&s.schema.setAllowedAttributes(b,l,f),s.insertContent(b,u),f.setSelection(b,"in")})}_findPositionToInsertParagraph(n,s){const l=this.editor.model;if(l.schema.checkChild(n,"paragraph"))return n;const u=l.schema.findAllowedParent(n,"paragraph");if(!u)return null;const f=n.parent,b=l.schema.checkChild(f,"$text");return f.isEmpty||b&&n.isAtEnd?l.createPositionAfter(f):!f.isEmpty&&b&&n.isAtStart?l.createPositionBefore(f):s.split(n,u).position}}const fO=class extends Zt{static get pluginName(){return"Paragraph"}init(){const A=this.editor,n=A.model;A.commands.add("paragraph",new h9(A)),A.commands.add("insertParagraph",new f9(A)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),A.conversion.elementToElement({model:"paragraph",view:"p"}),A.conversion.for("upcast").elementToElement({model:(s,{writer:l})=>fO.paragraphLikeElements.has(s.name)?s.isEmpty?null:l.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let D1=fO;D1.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class p9 extends an{constructor(n,s){super(n),this.modelElements=s}refresh(){const n=ai(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(s=>pO(n,s,this.editor.model.schema))}execute(n){const s=this.editor.model,l=s.document,u=n.value;s.change(f=>{const b=Array.from(l.selection.getSelectedBlocks()).filter(_=>pO(_,u,s.schema));for(const _ of b)_.is("element",u)||f.rename(_,u)})}}function pO(A,n,s){return s.checkChild(A.parent,n)&&!s.isObject(A)}const gO="paragraph";class g9 extends Zt{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[D1]}init(){const n=this.editor,s=n.config.get("heading.options"),l=[];for(const u of s)u.model!=="paragraph"&&(n.model.schema.register(u.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(u),l.push(u.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new p9(n,l))}afterInit(){const n=this.editor,s=n.commands.get("enter"),l=n.config.get("heading.options");s&&this.listenTo(s,"afterExecute",(u,f)=>{const b=n.model.document.selection.getFirstPosition().parent;l.some(_=>b.is("element",_.model))&&!b.is("element",gO)&&b.childCount===0&&f.writer.rename(b,gO)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:W.low+1})}}var mO=o(8733),m9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(mO.Z,m9),mO.Z.locals;class b9 extends Zt{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,s=n.t,l=function(b){const _=b.t,E={Paragraph:_("Paragraph"),"Heading 1":_("Heading 1"),"Heading 2":_("Heading 2"),"Heading 3":_("Heading 3"),"Heading 4":_("Heading 4"),"Heading 5":_("Heading 5"),"Heading 6":_("Heading 6")};return b.config.get("heading.options").map(T=>{const D=E[T.title];return D&&D!=T.title&&(T.title=D),T})}(n),u=s("Choose heading"),f=s("Heading");n.ui.componentFactory.add("heading",b=>{const _={},E=new Hs,T=n.commands.get("heading"),D=n.commands.get("paragraph"),U=[T];for(const $ of l){const tt={type:"button",model:new YF({label:$.title,class:$.class,role:"menuitemradio",withText:!0})};$.model==="paragraph"?(tt.model.bind("isOn").to(D,"value"),tt.model.set("commandName","paragraph"),U.push(D)):(tt.model.bind("isOn").to(T,"value",it=>it===$.model),tt.model.set({commandName:"heading",commandValue:$.model})),E.add(tt),_[$.model]=$.title}const H=Zu(b);return wF(H,E,{ariaLabel:f,role:"menu"}),H.buttonView.set({ariaLabel:f,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:f}),H.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),H.bind("isEnabled").toMany(U,"isEnabled",(...$)=>$.some(tt=>tt)),H.buttonView.bind("label").to(T,"value",D,"value",($,tt)=>{const it=$||tt&&"paragraph";return typeof it=="boolean"?u:_[it]?_[it]:u}),this.listenTo(H,"execute",$=>{const{commandName:tt,commandValue:it}=$.source;n.execute(tt,it?{value:it}:void 0),n.editing.view.focus()}),H})}}function bO(A){return A.createContainerElement("figure",{class:"image"},[A.createEmptyElement("img"),A.createSlot("children")])}function wO(A,n){const s=A.plugins.get("ImageUtils"),l=A.plugins.has("ImageInlineEditing")&&A.plugins.has("ImageBlockEditing");return f=>s.isInlineImageView(f)?l&&(f.getStyle("display")=="block"||f.findAncestor(s.isBlockImageView)?"imageBlock":"imageInline")!==n?null:u(f):null;function u(f){const b={name:!0};return f.hasAttribute("src")&&(b.attributes=["src"]),b}}function M1(A,n){const s=ai(n.getSelectedBlocks());return!s||A.isObject(s)||s.isEmpty&&s.name!="listItem"?"imageBlock":"imageInline"}var w9=Object.defineProperty,vO=Object.getOwnPropertySymbols,v9=Object.prototype.hasOwnProperty,_9=Object.prototype.propertyIsEnumerable,_O=(A,n,s)=>n in A?w9(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,kO=(A,n)=>{for(var s in n||(n={}))v9.call(n,s)&&_O(A,s,n[s]);if(vO)for(var s of vO(n))_9.call(n,s)&&_O(A,s,n[s]);return A};class Lc extends Zt{static get pluginName(){return"ImageUtils"}isImage(n){return this.isInlineImage(n)||this.isBlockImage(n)}isInlineImageView(n){return!!n&&n.is("element","img")}isBlockImageView(n){return!!n&&n.is("element","figure")&&n.hasClass("image")}insertImage(n={},s=null,l=null){const u=this.editor,f=u.model,b=f.document.selection;l=yO(u,s||b,l),n=kO(kO({},Object.fromEntries(b.getAttributes())),n);for(const _ in n)f.schema.checkAttribute(l,_)||delete n[_];return f.change(_=>{const E=_.createElement(l,n);return f.insertObject(E,s,null,{setSelection:"on",findOptimalPosition:s||l=="imageInline"?void 0:"auto"}),E.parent?E:null})}getClosestSelectedImageWidget(n){const s=n.getFirstPosition();if(!s)return null;const l=n.getSelectedElement();if(l&&this.isImageWidget(l))return l;let u=s.parent;for(;u;){if(u.is("element")&&this.isImageWidget(u))return u;u=u.parent}return null}getClosestSelectedImageElement(n){const s=n.getSelectedElement();return this.isImage(s)?s:n.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const n=this.editor.model.document.selection;return function(s,l){if(yO(s,l,null)=="imageBlock"){const f=function(b,_){const E=M2(b,_),T=E.start.parent;return T.isEmpty&&!T.is("element","$root")?T.parent:T}(l,s.model);if(s.model.schema.checkChild(f,"imageBlock"))return!0}else if(s.model.schema.checkChild(l.focus,"imageInline"))return!0;return!1}(this.editor,n)&&function(s){return[...s.focus.getAncestors()].every(l=>!l.is("element","imageBlock"))}(n)}toImageWidget(n,s,l){return s.setCustomProperty("image",!0,n),B1(n,s,{label:()=>{const u=this.findViewImgElement(n).getAttribute("alt");return u?`${u} ${l}`:l}})}isImageWidget(n){return!!n.getCustomProperty("image")&&As(n)}isBlockImage(n){return!!n&&n.is("element","imageBlock")}isInlineImage(n){return!!n&&n.is("element","imageInline")}findViewImgElement(n){if(this.isInlineImageView(n))return n;const s=this.editor.editing.view;for(const{item:l}of s.createRangeIn(n))if(this.isInlineImageView(l))return l}}function yO(A,n,s){const l=A.model.schema,u=A.config.get("image.insert.type");return A.plugins.has("ImageBlockEditing")?A.plugins.has("ImageInlineEditing")?s||(u==="inline"?"imageInline":u==="block"?"imageBlock":n.is("selection")?M1(l,n):l.checkChild(n,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class k9 extends an{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(n){const s=this.editor,l=s.plugins.get("ImageUtils"),u=s.model,f=l.getClosestSelectedImageElement(u.document.selection);u.change(b=>{b.setAttribute("alt",n.newValue,f)})}}class y9 extends Zt{static get requires(){return[Lc]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new k9(this.editor))}}var CO=o(1905),C9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(CO.Z,C9),CO.Z.locals;var EO=o(6764),E9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(EO.Z,E9),EO.Z.locals;class x9 extends on{constructor(n){super(n);const s=this.locale.t;this.focusTracker=new to,this.keystrokes=new Kn,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(s("Save"),Bs.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),Bs.cancel,"ck-button-cancel","cancel"),this._focusables=new Za,this._focusCycler=new Br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),h({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(n,s,l,u){const f=new xt(this.locale);return f.set({label:n,icon:s,tooltip:!0}),f.extendTemplate({attributes:{class:l}}),u&&f.delegate("execute").to(this,u),f}_createLabeledInputView(){const n=this.locale.t,s=new Ze(this.locale,a1);return s.label=n("Text alternative"),s}}function xO(A){const n=A.editing.view,s=Ca.defaultPositions,l=A.plugins.get("ImageUtils");return{target:n.domConverter.mapViewToDom(l.getClosestSelectedImageWidget(n.document.selection)),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}class B9 extends Zt{static get requires(){return[ry]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const n=this.editor,s=n.t;n.ui.componentFactory.add("imageTextAlternative",l=>{const u=n.commands.get("imageTextAlternative"),f=new xt(l);return f.set({label:s("Change image text alternative"),icon:Bs.lowVision,tooltip:!0}),f.bind("isEnabled").to(u,"isEnabled"),f.bind("isOn").to(u,"value",b=>!!b),this.listenTo(f,"execute",()=>{this._showForm()}),f})}_createForm(){const n=this.editor,s=n.editing.view.document,l=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(d(x9))(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(u,f)=>{this._hideForm(!0),f()}),this.listenTo(n.ui,"update",()=>{l.getClosestSelectedImageWidget(s.selection)?this._isVisible&&function(u){const f=u.plugins.get("ContextualBalloon");if(u.plugins.get("ImageUtils").getClosestSelectedImageWidget(u.editing.view.document.selection)){const b=xO(u);f.updatePosition(b)}}(n):this._hideForm(!0)}),c({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const n=this.editor,s=n.commands.get("imageTextAlternative"),l=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:xO(n)}),l.fieldView.value=l.fieldView.element.value=s.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(n=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),n&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class BO extends Zt{static get requires(){return[y9,B9]}static get pluginName(){return"ImageTextAlternative"}}function SO(A,n){const s=(l,u,f)=>{if(!f.consumable.consume(u.item,l.name))return;const b=f.writer,_=f.mapper.toViewElement(u.item),E=A.findViewImgElement(_);if(u.attributeNewValue===null){const T=u.attributeOldValue;T&&T.data&&(b.removeAttribute("srcset",E),b.removeAttribute("sizes",E),T.width&&b.removeAttribute("width",E))}else{const T=u.attributeNewValue;T&&T.data&&(b.setAttribute("srcset",T.data,E),b.setAttribute("sizes","100vw",E),T.width&&b.setAttribute("width",T.width,E))}};return l=>{l.on(`attribute:srcset:${n}`,s)}}function gy(A,n,s){const l=(u,f,b)=>{if(!b.consumable.consume(f.item,u.name))return;const _=b.writer,E=b.mapper.toViewElement(f.item),T=A.findViewImgElement(E);_.setAttribute(f.attributeKey,f.attributeNewValue||"",T)};return u=>{u.on(`attribute:${s}:${n}`,l)}}class S9 extends md{observe(n){this.listenTo(n,"load",(s,l)=>{const u=l.target;this.checkShouldIgnoreEventFromTarget(u)||u.tagName=="IMG"&&this._fireEvents(l)},{useCapture:!0})}stopObserving(n){this.stopListening(n)}_fireEvents(n){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",n))}}var T9=Object.defineProperty,TO=Object.getOwnPropertySymbols,I9=Object.prototype.hasOwnProperty,D9=Object.prototype.propertyIsEnumerable,IO=(A,n,s)=>n in A?T9(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,my=(A,n)=>{for(var s in n||(n={}))I9.call(n,s)&&IO(A,s,n[s]);if(TO)for(var s of TO(n))D9.call(n,s)&&IO(A,s,n[s]);return A};class M9 extends an{constructor(n){super(n);const s=n.config.get("image.insert.type");n.plugins.has("ImageBlockEditing")||s==="block"&&J("image-block-plugin-required"),n.plugins.has("ImageInlineEditing")||s==="inline"&&J("image-inline-plugin-required")}refresh(){const n=this.editor.plugins.get("ImageUtils");this.isEnabled=n.isImageAllowed()}execute(n){const s=Dn(n.source),l=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(l.getAttributes());s.forEach((b,_)=>{const E=l.getSelectedElement();if(typeof b=="string"&&(b={src:b}),_&&E&&u.isImage(E)){const T=this.editor.model.createPositionAfter(E);u.insertImage(my(my({},b),f),T)}else u.insertImage(my(my({},b),f))})}}class L9 extends an{refresh(){const n=this.editor.plugins.get("ImageUtils"),s=this.editor.model.document.selection.getSelectedElement();this.isEnabled=n.isImage(s),this.value=this.isEnabled?s.getAttribute("src"):null}execute(n){const s=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(l=>{l.setAttribute("src",n.source,s),l.removeAttribute("srcset",s),l.removeAttribute("sizes",s)})}}class L1 extends Zt{static get requires(){return[Lc]}static get pluginName(){return"ImageEditing"}init(){const n=this.editor,s=n.conversion;n.editing.view.addObserver(S9),s.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:f=>{const b={data:f.getAttribute("srcset")};return f.hasAttribute("width")&&(b.width=f.getAttribute("width")),b}}});const l=new M9(n),u=new L9(n);n.commands.add("insertImage",l),n.commands.add("replaceImageSource",u),n.commands.add("imageInsert",l)}}class DO extends an{constructor(n,s){super(n),this._modelElementName=s}refresh(){const n=this.editor.plugins.get("ImageUtils"),s=n.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=n.isInlineImage(s):this.isEnabled=n.isBlockImage(s)}execute(){const n=this.editor,s=this.editor.model,l=n.plugins.get("ImageUtils"),u=l.getClosestSelectedImageElement(s.document.selection),f=Object.fromEntries(u.getAttributes());return f.src||f.uploadId?s.change(b=>{const _=Array.from(s.markers).filter(D=>D.getRange().containsItem(u)),E=l.insertImage(f,s.createSelection(u,"on"),this._modelElementName);if(!E)return null;const T=b.createRangeOn(E);for(const D of _){const U=D.getRange(),H=U.root.rootName!="$graveyard"?U.getJoined(T,!0):T;b.updateMarker(D,{range:H})}return{oldElement:u,newElement:E}}):null}}class MO extends Zt{static get requires(){return[L1,Lc,vd]}static get pluginName(){return"ImageBlockEditing"}init(){const n=this.editor;n.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),n.plugins.has("ImageInlineEditing")&&(n.commands.add("imageTypeBlock",new DO(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,s=n.t,l=n.conversion,u=n.plugins.get("ImageUtils");l.for("dataDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:b})=>bO(b)}),l.for("editingDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:b})=>u.toImageWidget(bO(b),b,s("image widget"))}),l.for("downcast").add(gy(u,"imageBlock","src")).add(gy(u,"imageBlock","alt")).add(SO(u,"imageBlock")),l.for("upcast").elementToElement({view:wO(n,"imageBlock"),model:(f,{writer:b})=>b.createElement("imageBlock",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)}).add(function(f){const b=(_,E,T)=>{if(!T.consumable.test(E.viewItem,{name:!0,classes:"image"}))return;const D=f.findViewImgElement(E.viewItem);if(!D||!T.consumable.test(D,{name:!0}))return;T.consumable.consume(E.viewItem,{name:!0,classes:"image"});const U=ai(T.convertItem(D,E.modelCursor).modelRange.getItems());U?(T.convertChildren(E.viewItem,U),T.updateConversionResult(U,E)):T.consumable.revert(E.viewItem,{name:!0,classes:"image"})};return _=>{_.on("element:figure",b)}}(u))}_setupClipboardIntegration(){const n=this.editor,s=n.model,l=n.editing.view,u=n.plugins.get("ImageUtils"),f=n.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(b,_)=>{const E=Array.from(_.content.getChildren());let T;if(!E.every(u.isInlineImageView))return;T=_.targetRanges?n.editing.mapper.toModelRange(_.targetRanges[0]):s.document.selection.getFirstRange();const D=s.createSelection(T);if(M1(s.schema,D)==="imageBlock"){const U=new Nf(l.document),H=E.map($=>U.createElement("figure",{class:"image"},$));_.content=U.createDocumentFragment(H)}})}}var LO=o(3508),P9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(LO.Z,P9),LO.Z.locals;class F9 extends Zt{static get requires(){return[MO,Jw,BO]}static get pluginName(){return"ImageBlock"}}class O9 extends Zt{static get requires(){return[L1,Lc,vd]}static get pluginName(){return"ImageInlineEditing"}init(){const n=this.editor,s=n.model.schema;s.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),s.addChildCheck((l,u)=>{if(l.endsWith("caption")&&u.name==="imageInline")return!1}),this._setupConversion(),n.plugins.has("ImageBlockEditing")&&(n.commands.add("imageTypeInline",new DO(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,s=n.t,l=n.conversion,u=n.plugins.get("ImageUtils");l.for("dataDowncast").elementToElement({model:"imageInline",view:(f,{writer:b})=>b.createEmptyElement("img")}),l.for("editingDowncast").elementToStructure({model:"imageInline",view:(f,{writer:b})=>u.toImageWidget(function(_){return _.createContainerElement("span",{class:"image-inline"},_.createEmptyElement("img"))}(b),b,s("image widget"))}),l.for("downcast").add(gy(u,"imageInline","src")).add(gy(u,"imageInline","alt")).add(SO(u,"imageInline")),l.for("upcast").elementToElement({view:wO(n,"imageInline"),model:(f,{writer:b})=>b.createElement("imageInline",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const n=this.editor,s=n.model,l=n.editing.view,u=n.plugins.get("ImageUtils"),f=n.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(b,_)=>{const E=Array.from(_.content.getChildren());let T;if(!E.every(u.isBlockImageView))return;T=_.targetRanges?n.editing.mapper.toModelRange(_.targetRanges[0]):s.document.selection.getFirstRange();const D=s.createSelection(T);if(M1(s.schema,D)==="imageInline"){const U=new Nf(l.document),H=E.map($=>$.childCount===1?(Array.from($.getAttributes()).forEach(tt=>U.setAttribute(...tt,u.findViewImgElement($))),$.getChild(0)):$);_.content=U.createDocumentFragment(H)}})}}class N9 extends Zt{static get requires(){return[O9,Jw,BO]}static get pluginName(){return"ImageInline"}}class PO extends Zt{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Lc]}getCaptionFromImageModelElement(n){for(const s of n.getChildren())if(s&&s.is("element","caption"))return s;return null}getCaptionFromModelSelection(n){const s=this.editor.plugins.get("ImageUtils"),l=n.getFirstPosition().findAncestor("caption");return l&&s.isBlockImage(l.parent)?l:null}matchImageCaptionViewElement(n){const s=this.editor.plugins.get("ImageUtils");return n.name=="figcaption"&&s.isBlockImageView(n.parent)?{name:!0}:null}}class R9 extends an{refresh(){const n=this.editor,s=n.plugins.get("ImageCaptionUtils"),l=n.plugins.get("ImageUtils");if(!n.plugins.has(MO))return this.isEnabled=!1,void(this.value=!1);const u=n.model.document.selection,f=u.getSelectedElement();if(!f){const b=s.getCaptionFromModelSelection(u);return this.isEnabled=!!b,void(this.value=!!b)}this.isEnabled=l.isImage(f),this.isEnabled?this.value=!!s.getCaptionFromImageModelElement(f):this.value=!1}execute(n={}){const{focusCaptionOnShow:s}=n;this.editor.model.change(l=>{this.value?this._hideImageCaption(l):this._showImageCaption(l,s)})}_showImageCaption(n,s){const l=this.editor.model.document.selection,u=this.editor.plugins.get("ImageCaptionEditing"),f=this.editor.plugins.get("ImageUtils");let b=l.getSelectedElement();const _=u._getSavedCaption(b);f.isInlineImage(b)&&(this.editor.execute("imageTypeBlock"),b=l.getSelectedElement());const E=_||n.createElement("caption");n.append(E,b),s&&n.setSelection(E,"in")}_hideImageCaption(n){const s=this.editor,l=s.model.document.selection,u=s.plugins.get("ImageCaptionEditing"),f=s.plugins.get("ImageCaptionUtils");let b,_=l.getSelectedElement();_?b=f.getCaptionFromImageModelElement(_):(b=f.getCaptionFromModelSelection(l),_=b.parent),u._saveCaption(_,b),n.setSelection(_,"on"),n.remove(b)}}class U9 extends Zt{constructor(n){super(n),this._savedCaptionsMap=new WeakMap}static get requires(){return[Lc,PO]}static get pluginName(){return"ImageCaptionEditing"}init(){const n=this.editor,s=n.model.schema;s.isRegistered("caption")?s.extend("caption",{allowIn:"imageBlock"}):s.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleImageCaption",new R9(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const n=this.editor,s=n.editing.view,l=n.plugins.get("ImageUtils"),u=n.plugins.get("ImageCaptionUtils"),f=n.t;n.conversion.for("upcast").elementToElement({view:b=>u.matchImageCaptionViewElement(b),model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(b,{writer:_})=>l.isBlockImage(b.parent)?_.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(b,{writer:_})=>{if(!l.isBlockImage(b.parent))return null;const E=_.createEditableElement("figcaption");_.setCustomProperty("imageCaption",!0,E),E.placeholder=f("Enter image caption"),P0({view:s,element:E,keepOnFocus:!0});const T=b.parent.getAttribute("alt");return D2(E,_,{label:T?f("Caption for image: %0",[T]):f("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const n=this.editor,s=n.plugins.get("ImageUtils"),l=n.plugins.get("ImageCaptionUtils"),u=n.commands.get("imageTypeInline"),f=n.commands.get("imageTypeBlock"),b=_=>{if(!_.return)return;const{oldElement:E,newElement:T}=_.return;if(!E)return;if(s.isBlockImage(E)){const U=l.getCaptionFromImageModelElement(E);if(U)return void this._saveCaption(T,U)}const D=this._getSavedCaption(E);D&&this._saveCaption(T,D)};u&&this.listenTo(u,"execute",b,{priority:"low"}),f&&this.listenTo(f,"execute",b,{priority:"low"})}_getSavedCaption(n){const s=this._savedCaptionsMap.get(n);return s?gi.fromJSON(s):null}_saveCaption(n,s){this._savedCaptionsMap.set(n,s.toJSON())}_registerCaptionReconversion(){const n=this.editor,s=n.model,l=n.plugins.get("ImageUtils"),u=n.plugins.get("ImageCaptionUtils");s.document.on("change:data",()=>{const f=s.document.differ.getChanges();for(const b of f){if(b.attributeKey!=="alt")continue;const _=b.range.start.nodeAfter;if(l.isBlockImage(_)){const E=u.getCaptionFromImageModelElement(_);if(!E)return;n.editing.reconvertItem(E)}}})}}class Q9 extends Zt{static get requires(){return[PO]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,s=n.editing.view,l=n.plugins.get("ImageCaptionUtils"),u=n.t;n.ui.componentFactory.add("toggleImageCaption",f=>{const b=n.commands.get("toggleImageCaption"),_=new xt(f);return _.set({icon:Bs.caption,tooltip:!0,isToggleable:!0}),_.bind("isOn","isEnabled").to(b,"value","isEnabled"),_.bind("label").to(b,"value",E=>u(E?"Toggle caption off":"Toggle caption on")),this.listenTo(_,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});const E=l.getCaptionFromModelSelection(n.model.document.selection);if(E){const T=n.editing.mapper.toViewElement(E);s.scrollToTheSelection(),s.change(D=>{D.addClass("image__caption_highlighted",T)})}n.editing.view.focus()}),_})}}var FO=o(2640),H9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(FO.Z,H9),FO.Z.locals;function OO(A){const n=A.map(s=>s.replace("+","\\+"));return new RegExp(`^image\\/(${n.join("|")})$`)}function z9(A){return new Promise((n,s)=>{const l=A.getAttribute("src");fetch(l).then(u=>u.blob()).then(u=>{const f=NO(u,l),b=f.replace("image/",""),_=new File([u],`image.${b}`,{type:f});n(_)}).catch(u=>u&&u.name==="TypeError"?function(f){return function(b){return new Promise((_,E)=>{const T=Ce.document.createElement("img");T.addEventListener("load",()=>{const D=Ce.document.createElement("canvas");D.width=T.width,D.height=T.height,D.getContext("2d").drawImage(T,0,0),D.toBlob(U=>U?_(U):E())}),T.addEventListener("error",()=>E()),T.src=b})}(f).then(b=>{const _=NO(b,f),E=_.replace("image/","");return new File([b],`image.${E}`,{type:_})})}(l).then(n).catch(s):s(u))})}function NO(A,n){return A.type?A.type:n.match(/data:(image\/\w+);base64/)?n.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class j9 extends Zt{static get pluginName(){return"ImageUploadUI"}init(){const n=this.editor,s=n.t,l=u=>{const f=new Q7(u),b=n.commands.get("uploadImage"),_=n.config.get("image.upload.types"),E=OO(_);return f.set({acceptedType:_.map(T=>`image/${T}`).join(","),allowMultipleFiles:!0}),f.buttonView.set({label:s("Insert image"),icon:Bs.image,tooltip:!0}),f.buttonView.bind("isEnabled").to(b),f.on("done",(T,D)=>{const U=Array.from(D).filter(H=>E.test(H.type));U.length&&(n.execute("uploadImage",{file:U}),n.editing.view.focus())}),f};n.ui.componentFactory.add("uploadImage",l),n.ui.componentFactory.add("imageUpload",l)}}var RO=o(3689),V9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(RO.Z,V9),RO.Z.locals;var UO=o(4036),K9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(UO.Z,K9),UO.Z.locals;var QO=o(3773),G9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(QO.Z,G9),QO.Z.locals;class W9 extends Zt{constructor(n){super(n),this.uploadStatusChange=(s,l,u)=>{const f=this.editor,b=l.item,_=b.getAttribute("uploadId");if(!u.consumable.consume(l.item,s.name))return;const E=f.plugins.get("ImageUtils"),T=f.plugins.get(Mc),D=_?l.attributeNewValue:null,U=this.placeholder,H=f.editing.mapper.toViewElement(b),$=u.writer;if(D=="reading")return HO(H,$),void zO(E,U,H,$);if(D=="uploading"){const tt=T.loaders.get(_);return HO(H,$),void(tt?(jO(H,$),function(it,At,bt,It){const Wt=function(he){const Ve=he.createUIElement("div",{class:"ck-progress-bar"});return he.setCustomProperty("progressBar",!0,Ve),Ve}(At);At.insert(At.createPositionAt(it,"end"),Wt),bt.on("change:uploadedPercent",(he,Ve,bi)=>{It.change(Pn=>{Pn.setStyle("width",bi+"%",Wt)})})}(H,$,tt,f.editing.view),function(it,At,bt,It){if(It.data){const Wt=it.findViewImgElement(At);bt.setAttribute("src",It.data,Wt)}}(E,H,$,tt)):zO(E,U,H,$))}D=="complete"&&T.loaders.get(_)&&function(tt,it,At){const bt=it.createUIElement("div",{class:"ck-image-upload-complete-icon"});it.insert(it.createPositionAt(tt,"end"),bt),setTimeout(()=>{At.change(It=>It.remove(It.createRangeOn(bt)))},3e3)}(H,$,f.editing.view),function(tt,it){KO(tt,it,"progressBar")}(H,$),jO(H,$),function(tt,it){it.removeClass("ck-appear",tt)}(H,$)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),n.plugins.has("ImageInlineEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function HO(A,n){A.hasClass("ck-appear")||n.addClass("ck-appear",A)}function zO(A,n,s,l){s.hasClass("ck-image-upload-placeholder")||l.addClass("ck-image-upload-placeholder",s);const u=A.findViewImgElement(s);u.getAttribute("src")!==n&&l.setAttribute("src",n,u),VO(s,"placeholder")||l.insert(l.createPositionAfter(u),function(f){const b=f.createUIElement("div",{class:"ck-upload-placeholder-loader"});return f.setCustomProperty("placeholder",!0,b),b}(l))}function jO(A,n){A.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",A),KO(A,n,"placeholder")}function VO(A,n){for(const s of A.getChildren())if(s.getCustomProperty(n))return s}function KO(A,n,s){const l=VO(A,s);l&&n.remove(n.createRangeOn(l))}var $9=Object.defineProperty,q9=Object.defineProperties,Y9=Object.getOwnPropertyDescriptors,GO=Object.getOwnPropertySymbols,X9=Object.prototype.hasOwnProperty,Z9=Object.prototype.propertyIsEnumerable,WO=(A,n,s)=>n in A?$9(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s;class J9 extends an{refresh(){const n=this.editor,s=n.plugins.get("ImageUtils"),l=n.model.document.selection.getSelectedElement();this.isEnabled=s.isImageAllowed()||s.isImage(l)}execute(n){const s=Dn(n.file),l=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(l.getAttributes());s.forEach((b,_)=>{const E=l.getSelectedElement();if(_&&E&&u.isImage(E)){const T=this.editor.model.createPositionAfter(E);this._uploadImage(b,f,T)}else this._uploadImage(b,f)})}_uploadImage(n,s,l){const u=this.editor,f=u.plugins.get(Mc).createLoader(n),b=u.plugins.get("ImageUtils");var _,E;f&&b.insertImage((_=((T,D)=>{for(var U in D||(D={}))X9.call(D,U)&&WO(T,U,D[U]);if(GO)for(var U of GO(D))Z9.call(D,U)&&WO(T,U,D[U]);return T})({},s),E={uploadId:f.id},q9(_,Y9(E))),l)}}class tq extends Zt{constructor(n){super(n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Mc,w1,vd,Lc]}static get pluginName(){return"ImageUploadEditing"}init(){const n=this.editor,s=n.model.document,l=n.conversion,u=n.plugins.get(Mc),f=n.plugins.get("ImageUtils"),b=n.plugins.get("ClipboardPipeline"),_=OO(n.config.get("image.upload.types")),E=new J9(n);n.commands.add("uploadImage",E),n.commands.add("imageUpload",E),l.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(n.editing.view.document,"clipboardInput",(T,D)=>{if(U=D.dataTransfer,Array.from(U.types).includes("text/html")&&U.getData("text/html")!=="")return;var U;const H=Array.from(D.dataTransfer.files).filter($=>!!$&&_.test($.type));H.length&&(T.stop(),n.model.change($=>{D.targetRanges&&$.setSelection(D.targetRanges.map(tt=>n.editing.mapper.toModelRange(tt))),n.model.enqueueChange(()=>{n.execute("uploadImage",{file:H})})}))}),this.listenTo(b,"inputTransformation",(T,D)=>{const U=Array.from(n.editing.view.createRangeIn(D.content)).map($=>$.item).filter($=>function(tt,it){return!(!tt.isInlineImageView(it)||!it.getAttribute("src")||!it.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!it.getAttribute("src").match(/^blob:/g))}(f,$)&&!$.getAttribute("uploadProcessed")).map($=>({promise:z9($),imageElement:$}));if(!U.length)return;const H=new Nf(n.editing.view.document);for(const $ of U){H.setAttribute("uploadProcessed",!0,$.imageElement);const tt=u.createLoader($.promise);tt&&(H.setAttribute("src","",$.imageElement),H.setAttribute("uploadId",tt.id,$.imageElement))}}),n.editing.view.document.on("dragover",(T,D)=>{D.preventDefault()}),s.on("change",()=>{const T=s.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),D=new Set;for(const U of T)if(U.type=="insert"&&U.name!="$text"){const H=U.position.nodeAfter,$=U.position.root.rootName=="$graveyard";for(const tt of eq(n,H)){const it=tt.getAttribute("uploadId");if(!it)continue;const At=u.loaders.get(it);At&&($?D.has(it)||At.abort():(D.add(it),this._uploadImageElements.set(it,tt),At.status=="idle"&&this._readAndUpload(At)))}}}),this.on("uploadComplete",(T,{imageElement:D,data:U})=>{const H=U.urls?U.urls:U;this.editor.model.change($=>{$.setAttribute("src",H.default,D),this._parseAndSetSrcsetAttributeOnImage(H,D,$)})},{priority:"low"})}afterInit(){const n=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&n.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&n.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const s=this.editor,l=s.model,u=s.locale.t,f=s.plugins.get(Mc),b=s.plugins.get(w1),_=s.plugins.get("ImageUtils"),E=this._uploadImageElements;return l.enqueueChange({isUndoable:!1},D=>{D.setAttribute("uploadStatus","reading",E.get(n.id))}),n.read().then(()=>{const D=n.upload(),U=E.get(n.id);if(w.isSafari){const H=s.editing.mapper.toViewElement(U),$=_.findViewImgElement(H);s.editing.view.once("render",()=>{if(!$.parent)return;const tt=s.editing.view.domConverter.mapViewToDom($.parent);if(!tt)return;const it=tt.style.display;tt.style.display="none",tt._ckHack=tt.offsetHeight,tt.style.display=it})}return l.enqueueChange({isUndoable:!1},H=>{H.setAttribute("uploadStatus","uploading",U)}),D}).then(D=>{l.enqueueChange({isUndoable:!1},U=>{const H=E.get(n.id);U.setAttribute("uploadStatus","complete",H),this.fire("uploadComplete",{data:D,imageElement:H})}),T()}).catch(D=>{if(n.status!=="error"&&n.status!=="aborted")throw D;n.status=="error"&&D&&b.showWarning(D,{title:u("Upload failed"),namespace:"upload"}),l.enqueueChange({isUndoable:!1},U=>{U.remove(E.get(n.id))}),T()});function T(){l.enqueueChange({isUndoable:!1},D=>{const U=E.get(n.id);D.removeAttribute("uploadId",U),D.removeAttribute("uploadStatus",U),E.delete(n.id)}),f.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(n,s,l){let u=0;const f=Object.keys(n).filter(b=>{const _=parseInt(b,10);if(!isNaN(_))return u=Math.max(u,_),!0}).map(b=>`${n[b]} ${b}w`).join(", ");f!=""&&l.setAttribute("srcset",{data:f,width:u},s)}}function eq(A,n){const s=A.plugins.get("ImageUtils");return Array.from(A.model.createRangeOn(n)).filter(l=>s.isImage(l.item)).map(l=>l.item)}var $O=o(1568),nq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()($O.Z,nq),$O.Z.locals;var qO=o(3535),iq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(qO.Z,iq),qO.Z.locals;var YO=o(6270),sq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(YO.Z,sq),YO.Z.locals;class rq extends an{constructor(n,s){super(n),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(s.map(l=>{if(l.isDefault)for(const u of l.modelElements)this._defaultStyles[u]=l.name;return[l.name,l]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(n={}){const s=this.editor,l=s.model,u=s.plugins.get("ImageUtils");l.change(f=>{const b=n.value;let _=u.getClosestSelectedImageElement(l.document.selection);b&&this.shouldConvertImageType(b,_)&&(this.editor.execute(u.isBlockImage(_)?"imageTypeInline":"imageTypeBlock"),_=u.getClosestSelectedImageElement(l.document.selection)),!b||this._styles.get(b).isDefault?f.removeAttribute("imageStyle",_):f.setAttribute("imageStyle",b,_)})}shouldConvertImageType(n,s){return!this._styles.get(n).modelElements.includes(s.name)}}var oq=Object.defineProperty,XO=Object.getOwnPropertySymbols,aq=Object.prototype.hasOwnProperty,lq=Object.prototype.propertyIsEnumerable,ZO=(A,n,s)=>n in A?oq(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,JO=(A,n)=>{for(var s in n||(n={}))aq.call(n,s)&&ZO(A,s,n[s]);if(XO)for(var s of XO(n))lq.call(n,s)&&ZO(A,s,n[s]);return A};const{objectFullWidth:cq,objectInline:tN,objectLeft:eN,objectRight:P1,objectCenter:F1,objectBlockLeft:nN,objectBlockRight:iN}=Bs,by={get inline(){return{name:"inline",title:"In line",icon:tN,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:eN,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:nN,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:F1,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:P1,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:iN,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:F1,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:P1,modelElements:["imageBlock"],className:"image-style-side"}}},sN={full:cq,left:nN,right:iN,center:F1,inlineLeft:eN,inlineRight:P1,inline:tN},rN=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function oN(A){J("image-style-configuration-definition-invalid",A)}const O1={normalizeStyles:function(A){return(A.configuredStyles.options||[]).map(n=>function(s){return s=typeof s=="string"?by[s]?JO({},by[s]):{name:s}:function(l,u){const f=JO({},u);for(const b in l)Object.prototype.hasOwnProperty.call(u,b)||(f[b]=l[b]);return f}(by[s.name],s),typeof s.icon=="string"&&(s.icon=sN[s.icon]||s.icon),s}(n)).filter(n=>function(s,{isBlockPluginLoaded:l,isInlinePluginLoaded:u}){const{modelElements:f,name:b}=s;if(!(f&&f.length&&b))return oN({style:s}),!1;{const _=[l?"imageBlock":null,u?"imageInline":null];if(!f.some(E=>_.includes(E)))return J("image-style-missing-dependency",{style:s,missingPlugins:f.map(E=>E==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(n,A))},getDefaultStylesConfiguration:function(A,n){return A&&n?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:A?{options:["block","side"]}:n?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(A){return A.has("ImageBlockEditing")&&A.has("ImageInlineEditing")?[...rN]:[]},warnInvalidStyle:oN,DEFAULT_OPTIONS:by,DEFAULT_ICONS:sN,DEFAULT_DROPDOWN_DEFINITIONS:rN};function aN(A,n){for(const s of n)if(s.name===A)return s}class lN extends Zt{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Lc]}init(){const{normalizeStyles:n,getDefaultStylesConfiguration:s}=O1,l=this.editor,u=l.plugins.has("ImageBlockEditing"),f=l.plugins.has("ImageInlineEditing");l.config.define("image.styles",s(u,f)),this.normalizedStyles=n({configuredStyles:l.config.get("image.styles"),isBlockPluginLoaded:u,isInlinePluginLoaded:f}),this._setupConversion(u,f),this._setupPostFixer(),l.commands.add("imageStyle",new rq(l,this.normalizedStyles))}_setupConversion(n,s){const l=this.editor,u=l.model.schema,f=(b=this.normalizedStyles,(E,T,D)=>{if(!D.consumable.consume(T.item,E.name))return;const U=aN(T.attributeNewValue,b),H=aN(T.attributeOldValue,b),$=D.mapper.toViewElement(T.item),tt=D.writer;H&&tt.removeClass(H.className,$),U&&tt.addClass(U.className,$)});var b;const _=function(E){const T={imageInline:E.filter(D=>!D.isDefault&&D.modelElements.includes("imageInline")),imageBlock:E.filter(D=>!D.isDefault&&D.modelElements.includes("imageBlock"))};return(D,U,H)=>{if(!U.modelRange)return;const $=U.viewItem,tt=ai(U.modelRange.getItems());if(tt&&H.schema.checkAttribute(tt,"imageStyle"))for(const it of T[tt.name])H.consumable.consume($,{classes:it.className})&&H.writer.setAttribute("imageStyle",it.name,tt)}}(this.normalizedStyles);l.editing.downcastDispatcher.on("attribute:imageStyle",f),l.data.downcastDispatcher.on("attribute:imageStyle",f),n&&(u.extend("imageBlock",{allowAttributes:"imageStyle"}),l.data.upcastDispatcher.on("element:figure",_,{priority:"low"})),s&&(u.extend("imageInline",{allowAttributes:"imageStyle"}),l.data.upcastDispatcher.on("element:img",_,{priority:"low"}))}_setupPostFixer(){const n=this.editor,s=n.model.document,l=n.plugins.get(Lc),u=new Map(this.normalizedStyles.map(f=>[f.name,f]));s.registerPostFixer(f=>{let b=!1;for(const _ of s.differ.getChanges())if(_.type=="insert"||_.type=="attribute"&&_.attributeKey=="imageStyle"){let E=_.type=="insert"?_.position.nodeAfter:_.range.start.nodeAfter;if(E&&E.is("element","paragraph")&&E.childCount>0&&(E=E.getChild(0)),!l.isImage(E))continue;const T=E.getAttribute("imageStyle");if(!T)continue;const D=u.get(T);D&&D.modelElements.includes(E.name)||(f.removeAttribute("imageStyle",E),b=!0)}return b})}}var cN=o(5083),dq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(cN.Z,dq),cN.Z.locals;class Aq extends Zt{static get requires(){return[lN]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const n=this.editor.t;return{"Wrap text":n("Wrap text"),"Break text":n("Break text"),"In line":n("In line"),"Full size image":n("Full size image"),"Side image":n("Side image"),"Left aligned image":n("Left aligned image"),"Centered image":n("Centered image"),"Right aligned image":n("Right aligned image")}}init(){const n=this.editor.plugins,s=this.editor.config.get("image.toolbar")||[],l=dN(n.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const f of l)this._createButton(f);const u=dN([...s.filter(Pt),...O1.getDefaultDropdownDefinitions(n)],this.localizedDefaultStylesTitles);for(const f of u)this._createDropdown(f,l)}_createDropdown(n,s){const l=this.editor.ui.componentFactory;l.add(n.name,u=>{let f;const{defaultItem:b,items:_,title:E}=n,T=_.filter($=>s.find(({name:tt})=>AN(tt)===$)).map($=>{const tt=l.create($);return $===b&&(f=tt),tt});_.length!==T.length&&O1.warnInvalidStyle({dropdown:n});const D=Zu(u,r1),U=D.buttonView,H=U.arrowView;return o1(D,T,{enableActiveItemFocusOnDropdownOpen:!0}),U.set({label:uN(E,f.label),class:null,tooltip:!0}),H.unbind("label"),H.set({label:E}),U.bind("icon").toMany(T,"isOn",(...$)=>{const tt=$.findIndex(Tf);return tt<0?f.icon:T[tt].icon}),U.bind("label").toMany(T,"isOn",(...$)=>{const tt=$.findIndex(Tf);return uN(E,tt<0?f.label:T[tt].label)}),U.bind("isOn").toMany(T,"isOn",(...$)=>$.some(Tf)),U.bind("class").toMany(T,"isOn",(...$)=>$.some(Tf)?"ck-splitbutton_flatten":void 0),U.on("execute",()=>{T.some(({isOn:$})=>$)?D.isOpen=!D.isOpen:f.fire("execute")}),D.bind("isEnabled").toMany(T,"isEnabled",(...$)=>$.some(Tf)),this.listenTo(D,"execute",()=>{this.editor.editing.view.focus()}),D})}_createButton(n){const s=n.name;this.editor.ui.componentFactory.add(AN(s),l=>{const u=this.editor.commands.get("imageStyle"),f=new xt(l);return f.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),f.bind("isEnabled").to(u,"isEnabled"),f.bind("isOn").to(u,"value",b=>b===s),f.on("execute",this._executeCommand.bind(this,s)),f})}_executeCommand(n){this.editor.execute("imageStyle",{value:n}),this.editor.editing.view.focus()}}function dN(A,n){for(const s of A)n[s.title]&&(s.title=n[s.title]);return A}function AN(A){return`imageStyle:${A}`}function uN(A,n){return(A?A+": ":"")+n}class uq extends Zt{static get pluginName(){return"IndentEditing"}init(){const n=this.editor;n.commands.add("indent",new li(n)),n.commands.add("outdent",new li(n))}}const hN='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',fN='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class hq extends Zt{static get pluginName(){return"IndentUI"}init(){const n=this.editor,s=n.locale,l=n.t,u=s.uiLanguageDirection=="ltr"?hN:fN,f=s.uiLanguageDirection=="ltr"?fN:hN;this._defineButton("indent",l("Increase indent"),u),this._defineButton("outdent",l("Decrease indent"),f)}_defineButton(n,s,l){const u=this.editor;u.ui.componentFactory.add(n,f=>{const b=u.commands.get(n),_=new xt(f);return _.set({label:s,icon:l,tooltip:!0}),_.bind("isEnabled").to(b,"isEnabled"),this.listenTo(_,"execute",()=>{u.execute(n),u.editing.view.focus()}),_})}}class fq{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(n){Array.isArray(n)?n.forEach(s=>this._definitions.add(s)):this._definitions.add(n)}getDispatcher(){return n=>{n.on("attribute:linkHref",(s,l,u)=>{if(!u.consumable.test(l.item,"attribute:linkHref")||!l.item.is("selection")&&!u.schema.isInline(l.item))return;const f=u.writer,b=f.document.selection;for(const _ of this._definitions){const E=f.createAttributeElement("a",_.attributes,{priority:5});_.classes&&f.addClass(_.classes,E);for(const T in _.styles)f.setStyle(T,_.styles[T],E);f.setCustomProperty("link",!0,E),_.callback(l.attributeNewValue)?l.item.is("selection")?f.wrap(b.getFirstRange(),E):f.wrap(u.mapper.toViewRange(l.range),E):f.unwrap(u.mapper.toViewRange(l.range),E)}},{priority:"high"})}}getDispatcherForLinkedImage(){return n=>{n.on("attribute:linkHref:imageBlock",(s,l,{writer:u,mapper:f})=>{const b=f.toViewElement(l.item),_=Array.from(b.getChildren()).find(E=>E.is("element","a"));for(const E of this._definitions){const T=eo(E.attributes);if(E.callback(l.attributeNewValue)){for(const[D,U]of T)D==="class"?u.addClass(U,_):u.setAttribute(D,U,_);E.classes&&u.addClass(E.classes,_);for(const D in E.styles)u.setStyle(D,E.styles[D],_)}else{for(const[D,U]of T)D==="class"?u.removeClass(U,_):u.removeAttribute(D,_);E.classes&&u.removeClass(E.classes,_);for(const D in E.styles)u.removeStyle(D,_)}}})}}}const pq=function(A,n,s){var l=A.length;return s=s===void 0?l:s,gL(A,n,s)};var gq=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const pN=function(A){return gq.test(A)},mq=function(A){return A.split("")};var gN="\\ud800-\\udfff",bq="["+gN+"]",N1="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",R1="\\ud83c[\\udffb-\\udfff]",mN="[^"+gN+"]",bN="(?:\\ud83c[\\udde6-\\uddff]){2}",wN="[\\ud800-\\udbff][\\udc00-\\udfff]",vN="(?:"+N1+"|"+R1+")?",_N="[\\ufe0e\\ufe0f]?",wq=_N+vN+("(?:\\u200d(?:"+[mN,bN,wN].join("|")+")"+_N+vN+")*"),vq="(?:"+[mN+N1+"?",N1,bN,wN,bq].join("|")+")",_q=RegExp(R1+"(?="+R1+")|"+vq+wq,"g");const kq=function(A){return A.match(_q)||[]},yq=function(A){return pN(A)?kq(A):mq(A)},Cq=function(A){return function(n){n=BB(n);var s=pN(n)?yq(n):void 0,l=s?s[0]:n.charAt(0),u=s?pq(s,1).join(""):n.slice(1);return l[A]()+u}}("toUpperCase"),Eq=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,xq=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Bq=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Sq=/^((\w+:(\/{2,})?)|(\W))/i,U1="Ctrl+K";function kN(A,{writer:n}){const s=n.createAttributeElement("a",{href:A},{priority:5});return n.setCustomProperty("link",!0,s),s}function yN(A){const n=String(A);return function(s){return!!s.replace(Eq,"").match(xq)}(n)?n:"#"}function Q1(A,n){return!!A&&n.checkAttribute(A.name,"linkHref")}function H1(A,n){const s=(l=A,Bq.test(l)?"mailto:":n);var l;const u=!!s&&!CN(A);return A&&u?s+A:A}function CN(A){return Sq.test(A)}function EN(A){window.open(A,"_blank","noopener")}class Tq extends an{constructor(){super(...arguments),this.manualDecorators=new Hs,this.automaticDecorators=new fq}restoreManualDecoratorStates(){for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}refresh(){const n=this.editor.model,s=n.document.selection,l=s.getSelectedElement()||ai(s.getSelectedBlocks());Q1(l,n.schema)?(this.value=l.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttribute(l,"linkHref")):(this.value=s.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttributeInSelection(s,"linkHref"));for(const u of this.manualDecorators)u.value=this._getDecoratorStateFromModel(u.id)}execute(n,s={}){const l=this.editor.model,u=l.document.selection,f=[],b=[];for(const _ in s)s[_]?f.push(_):b.push(_);l.change(_=>{if(u.isCollapsed){const E=u.getFirstPosition();if(u.hasAttribute("linkHref")){const T=xN(u);let D=lm(E,"linkHref",u.getAttribute("linkHref"),l);u.getAttribute("linkHref")===T&&(D=this._updateLinkContent(l,_,D,n)),_.setAttribute("linkHref",n,D),f.forEach(U=>{_.setAttribute(U,!0,D)}),b.forEach(U=>{_.removeAttribute(U,D)}),_.setSelection(_.createPositionAfter(D.end.nodeBefore))}else if(n!==""){const T=eo(u.getAttributes());T.set("linkHref",n),f.forEach(U=>{T.set(U,!0)});const{end:D}=l.insertContent(_.createText(n,T),E);_.setSelection(D)}["linkHref",...f,...b].forEach(T=>{_.removeSelectionAttribute(T)})}else{const E=l.schema.getValidRanges(u.getRanges(),"linkHref"),T=[];for(const U of u.getSelectedBlocks())l.schema.checkAttribute(U,"linkHref")&&T.push(_.createRangeOn(U));const D=T.slice();for(const U of E)this._isRangeToUpdate(U,T)&&D.push(U);for(const U of D){let H=U;if(D.length===1){const $=xN(u);u.getAttribute("linkHref")===$&&(H=this._updateLinkContent(l,_,U,n),_.setSelection(_.createSelection(H)))}_.setAttribute("linkHref",n,H),f.forEach($=>{_.setAttribute($,!0,H)}),b.forEach($=>{_.removeAttribute($,H)})}}})}_getDecoratorStateFromModel(n){const s=this.editor.model,l=s.document.selection,u=l.getSelectedElement();return Q1(u,s.schema)?u.getAttribute(n):l.getAttribute(n)}_isRangeToUpdate(n,s){for(const l of s)if(l.containsRange(n))return!1;return!0}_updateLinkContent(n,s,l,u){const f=s.createText(u,{linkHref:u});return n.insertContent(f,l)}}function xN(A){if(A.isCollapsed){const n=A.getFirstPosition();return n.textNode&&n.textNode.data}{const n=Array.from(A.getFirstRange().getItems());if(n.length>1)return null;const s=n[0];return s.is("$text")||s.is("$textProxy")?s.data:null}}class Iq extends an{refresh(){const n=this.editor.model,s=n.document.selection,l=s.getSelectedElement();Q1(l,n.schema)?this.isEnabled=n.schema.checkAttribute(l,"linkHref"):this.isEnabled=n.schema.checkAttributeInSelection(s,"linkHref")}execute(){const n=this.editor,s=this.editor.model,l=s.document.selection,u=n.commands.get("link");s.change(f=>{const b=l.isCollapsed?[lm(l.getFirstPosition(),"linkHref",l.getAttribute("linkHref"),s)]:s.schema.getValidRanges(l.getRanges(),"linkHref");for(const _ of b)if(f.removeAttribute("linkHref",_),u)for(const E of u.manualDecorators)f.removeAttribute(E.id,_)})}}class Dq extends ae(){constructor({id:n,label:s,attributes:l,classes:u,styles:f,defaultValue:b}){super(),this.id=n,this.set("value",void 0),this.defaultValue=b,this.label=s,this.attributes=l,this.classes=u,this.styles=f}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var BN=o(9773),Mq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(BN.Z,Mq),BN.Z.locals;var Lq=Object.defineProperty,SN=Object.getOwnPropertySymbols,Pq=Object.prototype.hasOwnProperty,Fq=Object.prototype.propertyIsEnumerable,TN=(A,n,s)=>n in A?Lq(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,Oq=(A,n)=>{for(var s in n||(n={}))Pq.call(n,s)&&TN(A,s,n[s]);if(SN)for(var s of SN(n))Fq.call(n,s)&&TN(A,s,n[s]);return A};const IN="automatic",Nq=/^(https?:)?\/\//;class Rq extends Zt{static get pluginName(){return"LinkEditing"}static get requires(){return[v2,h2,vd]}constructor(n){super(n),n.config.define("link",{addTargetToExternalLinks:!1})}init(){const n=this.editor;n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:kN}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,u)=>kN(yN(l),u)}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),n.commands.add("link",new Tq(n)),n.commands.add("unlink",new Iq(n));const s=function(l,u){const f={"Open in a new tab":l("Open in a new tab"),Downloadable:l("Downloadable")};return u.forEach(b=>("label"in b&&f[b.label]&&(b.label=f[b.label]),b)),u}(n.t,function(l){const u=[];if(l)for(const[f,b]of Object.entries(l)){const _=Object.assign({},b,{id:`link${Cq(f)}`});u.push(_)}return u}(n.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(l=>l.mode===IN)),this._enableManualDecorators(s.filter(l=>l.mode==="manual")),n.plugins.get(v2).registerAttribute("linkHref"),function(l,u,f,b){const _=l.editing.view,E=new Set;_.document.registerPostFixer(T=>{const D=l.model.document.selection;let U=!1;if(D.hasAttribute(u)){const H=lm(D.getFirstPosition(),u,D.getAttribute(u),l.model),$=l.editing.mapper.toViewRange(H);for(const tt of $.getItems())tt.is("element",f)&&!tt.hasClass(b)&&(T.addClass(b,tt),E.add(tt),U=!0)}return U}),l.conversion.for("editingDowncast").add(T=>{function D(){_.change(U=>{for(const H of E.values())U.removeClass(b,H),E.delete(H)})}T.on("insert",D,{priority:"highest"}),T.on("remove",D,{priority:"highest"}),T.on("attribute",D,{priority:"highest"}),T.on("selection",D,{priority:"highest"})})}(n,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(n){const s=this.editor,l=s.commands.get("link").automaticDecorators;s.config.get("link.addTargetToExternalLinks")&&l.add({id:"linkIsExternal",mode:IN,callback:u=>!!u&&Nq.test(u),attributes:{target:"_blank",rel:"noopener noreferrer"}}),l.add(n),l.length&&s.conversion.for("downcast").add(l.getDispatcher())}_enableManualDecorators(n){if(!n.length)return;const s=this.editor,l=s.commands.get("link").manualDecorators;n.forEach(u=>{s.model.schema.extend("$text",{allowAttributes:u.id});const f=new Dq(u);l.add(f),s.conversion.for("downcast").attributeToElement({model:f.id,view:(b,{writer:_,schema:E},{item:T})=>{if((T.is("selection")||E.isInline(T))&&b){const D=_.createAttributeElement("a",f.attributes,{priority:5});f.classes&&_.addClass(f.classes,D);for(const U in f.styles)_.setStyle(U,f.styles[U],D);return _.setCustomProperty("link",!0,D),D}}}),s.conversion.for("upcast").elementToAttribute({view:Oq({name:"a"},f._createPattern()),model:{key:f.id}})})}_enableLinkOpen(){const n=this.editor,s=n.editing.view.document;this.listenTo(s,"click",(l,u)=>{if(!(w.isMac?u.domEvent.metaKey:u.domEvent.ctrlKey))return;let f=u.domTarget;if(f.tagName.toLowerCase()!="a"&&(f=f.closest("a")),!f)return;const b=f.getAttribute("href");b&&(l.stop(),u.preventDefault(),EN(b))},{context:"$capture"}),this.listenTo(s,"keydown",(l,u)=>{const f=n.commands.get("link").value;f&&u.keyCode===qt.enter&&u.altKey&&(l.stop(),EN(f))})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,s=n.document.selection;this.listenTo(n,"insertContent",()=>{const l=s.anchor.nodeBefore,u=s.anchor.nodeAfter;s.hasAttribute("linkHref")&&l&&l.hasAttribute("linkHref")&&(u&&u.hasAttribute("linkHref")||n.change(f=>{z1(f,j1(n.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const n=this.editor,s=n.model;n.editing.view.addObserver(n1);let l=!1;this.listenTo(n.editing.view.document,"mousedown",()=>{l=!0}),this.listenTo(n.editing.view.document,"selectionChange",()=>{if(!l)return;l=!1;const u=s.document.selection;if(!u.isCollapsed||!u.hasAttribute("linkHref"))return;const f=u.getFirstPosition(),b=lm(f,"linkHref",u.getAttribute("linkHref"),s);(f.isTouching(b.start)||f.isTouching(b.end))&&s.change(_=>{z1(_,j1(s.schema))})})}_enableTypingOverLink(){const n=this.editor,s=n.editing.view;let l=null,u=!1;this.listenTo(s.document,"delete",()=>{u=!0},{priority:"high"}),this.listenTo(n.model,"deleteContent",()=>{const f=n.model.document.selection;f.isCollapsed||(u?u=!1:DN(n)&&function(b){const _=b.document.selection,E=_.getFirstPosition(),T=_.getLastPosition(),D=E.nodeAfter;if(!D||!D.is("$text")||!D.hasAttribute("linkHref"))return!1;const U=T.textNode||T.nodeBefore;return D===U?!0:lm(E,"linkHref",D.getAttribute("linkHref"),b).containsRange(b.createRange(E,T),!0)}(n.model)&&(l=f.getAttributes()))},{priority:"high"}),this.listenTo(n.model,"insertContent",(f,[b])=>{u=!1,DN(n)&&l&&(n.model.change(_=>{for(const[E,T]of l)_.setAttribute(E,T,b)}),l=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const n=this.editor,s=n.model,l=s.document.selection,u=n.editing.view;let f=!1,b=!1;this.listenTo(u.document,"delete",(_,E)=>{b=E.direction==="backward"},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{f=!1;const _=l.getFirstPosition(),E=l.getAttribute("linkHref");if(!E)return;const T=lm(_,"linkHref",E,s);f=T.containsPosition(_)||T.end.isEqual(_)},{priority:"high"}),this.listenTo(s,"deleteContent",()=>{b&&(b=!1,f||n.model.enqueueChange(_=>{z1(_,j1(s.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const n=this.editor,s=n.model,l=this.editor.config.get("link.defaultProtocol");l&&this.listenTo(n.plugins.get("ClipboardPipeline"),"contentInsertion",(u,f)=>{s.change(b=>{const _=b.createRangeIn(f.content);for(const E of _.getItems())if(E.hasAttribute("linkHref")){const T=H1(E.getAttribute("linkHref"),l);b.setAttribute("linkHref",T,E)}})})}}function z1(A,n){A.removeSelectionAttribute("linkHref");for(const s of n)A.removeSelectionAttribute(s)}function DN(A){return A.model.change(n=>n.batch).isTyping}function j1(A){return A.getDefinition("$text").allowAttributes.filter(n=>n.startsWith("link"))}var MN=o(7754),Uq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(MN.Z,Uq),MN.Z.locals;class Qq extends on{constructor(n,s){super(n),this.focusTracker=new to,this.keystrokes=new Kn,this._focusables=new Za;const l=n.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),Bs.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(l("Cancel"),Bs.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(s),this.children=this._createFormChildren(s.manualDecorators),this._focusCycler=new Br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const u=["ck","ck-link-form","ck-responsive-form"];s.manualDecorators.length&&u.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:u,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((n,s)=>(n[s.name]=s.isOn,n),{})}render(){super.render(),h({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const n=this.locale.t,s=new Ze(this.locale,a1);return s.label=n("Link URL"),s}_createButton(n,s,l,u){const f=new xt(this.locale);return f.set({label:n,icon:s,tooltip:!0}),f.extendTemplate({attributes:{class:l}}),u&&f.delegate("execute").to(this,u),f}_createManualDecoratorSwitches(n){const s=this.createCollection();for(const l of n.manualDecorators){const u=new ce(this.locale);u.set({name:l.id,label:l.label,withText:!0}),u.bind("isOn").toMany([l,n],"value",(f,b)=>b===void 0&&f===void 0?!!l.defaultValue:!!f),u.on("execute",()=>{l.set("value",!u.isOn)}),s.add(u)}return s}_createFormChildren(n){const s=this.createCollection();if(s.add(this.urlInputView),n.length){const l=new on;l.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(u=>({tag:"li",children:[u],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),s.add(l)}return s.add(this.saveButtonView),s.add(this.cancelButtonView),s}}var LN=o(2347),Hq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(LN.Z,Hq),LN.Z.locals;class zq extends on{constructor(n){super(n),this.focusTracker=new to,this.keystrokes=new Kn,this._focusables=new Za;const s=n.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(s("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(s("Edit link"),Bs.pencil,"edit"),this.set("href",void 0),this._focusCycler=new Br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(n,s,l){const u=new xt(this.locale);return u.set({label:n,icon:s,tooltip:!0}),u.delegate("execute").to(this,l),u}_createPreviewButton(){const n=new xt(this.locale),s=this.bindTemplate,l=this.t;return n.set({withText:!0,tooltip:l("Open link in new tab")}),n.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:s.to("href",u=>u&&yN(u)),target:"_blank",rel:"noopener noreferrer"}}),n.bind("label").to(this,"href",u=>u||l("This link has no URL")),n.bind("isEnabled").to(this,"href",u=>!!u),n.template.tag="a",n.template.eventListeners={},n}}const _d="link-ui";class jq extends Zt{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[ry]}static get pluginName(){return"LinkUI"}init(){const n=this.editor;n.editing.view.addObserver(O8),this._balloon=n.plugins.get(ry),this._createToolbarLinkButton(),this._enableBalloonActivators(),n.conversion.for("editingDowncast").markerToHighlight({model:_d,view:{classes:["ck-fake-link-selection"]}}),n.conversion.for("editingDowncast").markerToElement({model:_d,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const n=this.editor,s=new zq(n.locale),l=n.commands.get("link"),u=n.commands.get("unlink");return s.bind("href").to(l,"value"),s.editButtonView.bind("isEnabled").to(l),s.unlinkButtonView.bind("isEnabled").to(u),this.listenTo(s,"edit",()=>{this._addFormView()}),this.listenTo(s,"unlink",()=>{n.execute("unlink"),this._hideUI()}),s.keystrokes.set("Esc",(f,b)=>{this._hideUI(),b()}),s.keystrokes.set(U1,(f,b)=>{this._addFormView(),b()}),s}_createFormView(){const n=this.editor,s=n.commands.get("link"),l=n.config.get("link.defaultProtocol"),u=new(d(Qq))(n.locale,s);return u.urlInputView.fieldView.bind("value").to(s,"value"),u.urlInputView.bind("isEnabled").to(s,"isEnabled"),u.saveButtonView.bind("isEnabled").to(s),this.listenTo(u,"submit",()=>{const{value:f}=u.urlInputView.fieldView.element,b=H1(f,l);n.execute("link",b,u.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(u,"cancel",()=>{this._closeFormView()}),u.keystrokes.set("Esc",(f,b)=>{this._closeFormView(),b()}),u}_createToolbarLinkButton(){const n=this.editor,s=n.commands.get("link"),l=n.t;n.ui.componentFactory.add("link",u=>{const f=new xt(u);return f.isEnabled=!0,f.label=l("Link"),f.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',f.keystroke=U1,f.tooltip=!0,f.isToggleable=!0,f.bind("isEnabled").to(s,"isEnabled"),f.bind("isOn").to(s,"value",b=>!!b),this.listenTo(f,"execute",()=>this._showUI(!0)),f})}_enableBalloonActivators(){const n=this.editor,s=n.editing.view.document;this.listenTo(s,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),n.keystrokes.set(U1,(l,u)=>{u(),n.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(n,s)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),s())},{priority:"high"}),this.editor.keystrokes.set("Esc",(n,s)=>{this._isUIVisible&&(this._hideUI(),s())}),c({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const n=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=n.value||""}_closeFormView(){const n=this.editor.commands.get("link");n.restoreManualDecoratorStates(),n.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(n=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),n&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),n&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const n=this.editor;this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),n.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const n=this.editor,s=n.editing.view.document;let l=this._getSelectedLinkElement(),u=b();const f=()=>{const _=this._getSelectedLinkElement(),E=b();l&&!_||!l&&E!==u?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),l=_,u=E};function b(){return s.selection.focus.getAncestors().reverse().find(_=>_.is("element"))}this.listenTo(n.ui,"update",f),this.listenTo(this._balloon,"change:visibleView",f)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const n=this._balloon.visibleView;return!!this.formView&&n==this.formView||this._areActionsVisible}_getBalloonPositionData(){const n=this.editor.editing.view,s=this.editor.model,l=n.document;let u;if(s.markers.has(_d)){const f=Array.from(this.editor.editing.mapper.markerNameToElements(_d)),b=n.createRange(n.createPositionBefore(f[0]),n.createPositionAfter(f[f.length-1]));u=n.domConverter.viewRangeToDom(b)}else u=()=>{const f=this._getSelectedLinkElement();return f?n.domConverter.mapViewToDom(f):n.domConverter.viewRangeToDom(l.selection.getFirstRange())};return{target:u}}_getSelectedLinkElement(){const n=this.editor.editing.view,s=n.document.selection,l=s.getSelectedElement();if(s.isCollapsed||l&&As(l))return V1(s.getFirstPosition());{const u=s.getFirstRange().getTrimmed(),f=V1(u.start),b=V1(u.end);return f&&f==b&&n.createRangeIn(f).getTrimmed().isEqual(u)?f:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(s=>{const l=n.document.selection.getFirstRange();if(n.markers.has(_d))s.updateMarker(_d,{range:l});else if(l.start.isAtEnd){const u=l.start.getLastMatchingPosition(({item:f})=>!n.schema.isContent(f),{boundaries:l});s.addMarker(_d,{usingOperation:!1,affectsData:!1,range:s.createRange(u,l.end)})}else s.addMarker(_d,{usingOperation:!1,affectsData:!1,range:l})})}_hideFakeVisualSelection(){const n=this.editor.model;n.markers.has(_d)&&n.change(s=>{s.removeMarker(_d)})}}function V1(A){return A.getAncestors().find(n=>{return(s=n).is("attributeElement")&&!!s.getCustomProperty("link");var s})||null}const Vq=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Kq extends Zt{static get requires(){return[EA]}static get pluginName(){return"AutoLink"}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const n=this.editor,s=new w2(n.model,l=>{if(!function(f){return f.length>4&&f[f.length-1]===" "&&f[f.length-2]!==" "}(l))return;const u=PN(l.substr(0,l.length-1));return u?{url:u}:void 0});s.on("matched:data",(l,u)=>{const{batch:f,range:b,url:_}=u;if(!f.isTyping)return;const E=b.end.getShiftedBy(-1),T=E.getShiftedBy(-_.length),D=n.model.createRange(T,E);this._applyAutoLink(_,D)}),s.bind("isEnabled").to(this)}_enableEnterHandling(){const n=this.editor,s=n.model,l=n.commands.get("enter");l&&l.on("execute",()=>{const u=s.document.selection.getFirstPosition();if(!u.parent.previousSibling)return;const f=s.createRangeIn(u.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(f)})}_enableShiftEnterHandling(){const n=this.editor,s=n.model,l=n.commands.get("shiftEnter");l&&l.on("execute",()=>{const u=s.document.selection.getFirstPosition(),f=s.createRange(s.createPositionAt(u.parent,0),u.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(f)})}_checkAndApplyAutoLinkOnRange(n){const s=this.editor.model,{text:l,range:u}=b2(n,s),f=PN(l);if(f){const b=s.createRange(u.end.getShiftedBy(-f.length),u.end);this._applyAutoLink(f,b)}}_applyAutoLink(n,s){const l=this.editor.model,u=H1(n,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(f,b){return b.schema.checkAttributeInSelection(b.createSelection(f),"linkHref")}(s,l)&&CN(u)&&!function(f){const b=f.start.nodeAfter;return!!b&&b.hasAttribute("linkHref")}(s)&&this._persistAutoLink(u,s)}_persistAutoLink(n,s){const l=this.editor.model,u=this.editor.plugins.get("Delete");l.enqueueChange(f=>{f.setAttribute("linkHref",n,s),l.enqueueChange(()=>{u.requestUndoOnBackspace()})})}}function PN(A){const n=Vq.exec(A);return n?n[2]:null}var FN=o(111),Gq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(FN.Z,Gq),FN.Z.locals;var ON=o(5730),Wq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(ON.Z,Wq),ON.Z.locals;var NN=o(4564),$q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(NN.Z,$q),NN.Z.locals;function qq(A,n){const s=n.mapper,l=n.writer,u=A.getAttribute("listType")=="numbered"?"ol":"ul",f=function(_){const E=_.createContainerElement("li");return E.getFillerOffset=Zq,E}(l),b=l.createContainerElement(u,null);return l.insert(l.createPositionAt(b,0),f),s.bindElements(A,f),f}function RN(A,n,s,l){const u=n.parent,f=s.mapper,b=s.writer;let _=f.toViewPosition(l.createPositionBefore(A));const E=QN(A.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:A.getAttribute("listIndent")}),T=A.previousSibling;if(E&&E.getAttribute("listIndent")==A.getAttribute("listIndent")){const D=f.toViewElement(E);_=b.breakContainer(b.createPositionAfter(D))}else if(T&&T.name=="listItem"){_=f.toViewPosition(l.createPositionAt(T,"end"));const D=f.findMappedViewAncestor(_),U=function(H){for(const $ of H.getChildren())if($.name=="ul"||$.name=="ol")return $;return null}(D);_=U?b.createPositionBefore(U):b.createPositionAt(D,"end")}else _=f.toViewPosition(l.createPositionBefore(A));if(_=UN(_),b.insert(_,u),T&&T.name=="listItem"){const D=f.toViewElement(T),U=b.createRange(b.createPositionAt(D,0),_).getWalker({ignoreElementEnd:!0});for(const H of U)if(H.item.is("element","li")){const $=b.breakContainer(b.createPositionBefore(H.item)),tt=H.item.parent,it=b.createPositionAt(n,"end");Gl(b,it.nodeBefore,it.nodeAfter),b.move(b.createRangeOn(tt),it),U._position=$}}else{const D=u.nextSibling;if(D&&(D.is("element","ul")||D.is("element","ol"))){let U=null;for(const H of D.getChildren()){const $=f.toModelElement(H);if(!($&&$.getAttribute("listIndent")>A.getAttribute("listIndent")))break;U=H}U&&(b.breakContainer(b.createPositionAfter(U)),b.move(b.createRangeOn(U.parent),b.createPositionAt(n,"end")))}}Gl(b,u,u.nextSibling),Gl(b,u.previousSibling,u)}function Gl(A,n,s){return!n||!s||n.name!="ul"&&n.name!="ol"||n.name!=s.name||n.getAttribute("class")!==s.getAttribute("class")?null:A.mergeContainers(A.createPositionAfter(n))}function UN(A){return A.getLastMatchingPosition(n=>n.item.is("uiElement"))}function QN(A,n){const s=!!n.sameIndent,l=!!n.smallerIndent,u=n.listIndent;let f=A;for(;f&&f.name=="listItem";){const b=f.getAttribute("listIndent");if(s&&u==b||l&&u>b)return f;f=n.direction==="forward"?f.nextSibling:f.previousSibling}return null}function HN(A,n,s,l){A.ui.componentFactory.add(n,u=>{const f=A.commands.get(n),b=new xt(u);return b.set({label:s,icon:l,tooltip:!0,isToggleable:!0}),b.bind("isOn","isEnabled").to(f,"value","isEnabled"),b.on("execute",()=>{A.execute(n),A.editing.view.focus()}),b})}function K1(A,n){const s=[],l=A.parent,u={ignoreElementEnd:!1,startPosition:A,shallow:!0,direction:n},f=l.getAttribute("listIndent"),b=[...new bd(u)].filter(_=>_.item.is("element")).map(_=>_.item);for(const _ of b){if(!_.is("element","listItem")||_.getAttribute("listIndent")<f)break;if(!(_.getAttribute("listIndent")>f)){if(_.getAttribute("listType")!==l.getAttribute("listType")||_.getAttribute("listStyle")!==l.getAttribute("listStyle")||_.getAttribute("listReversed")!==l.getAttribute("listReversed")||_.getAttribute("listStart")!==l.getAttribute("listStart"))break;n==="backward"?s.unshift(_):s.push(_)}}return s}const Yq=["disc","circle","square"],Xq=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function Zq(){const A=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||A?0:kL.call(this)}class Jq extends Zt{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;HN(this.editor,"numberedList",n("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),HN(this.editor,"bulletedList",n("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const tY=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:A,typeAttribute:n,listType:s}of tY);var zN=o(4721),eY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(zN.Z,eY),zN.Z.locals;var jN=o(6082),nY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(jN.Z,nY),jN.Z.locals;var VN=o(2417),iY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(VN.Z,iY),VN.Z.locals;class KN extends an{constructor(n,s){super(n),this._indentBy=s=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,s=n.document;let l=Array.from(s.selection.getSelectedBlocks());n.change(u=>{const f=l[l.length-1];let b=f.nextSibling;for(;b&&b.name=="listItem"&&b.getAttribute("listIndent")>f.getAttribute("listIndent");)l.push(b),b=b.nextSibling;this._indentBy<0&&(l=l.reverse());for(const _ of l){const E=_.getAttribute("listIndent")+this._indentBy;E<0?u.rename(_,"paragraph"):u.setAttribute("listIndent",E,_)}this.fire("_executeCleanup",l)})}_checkEnabled(){const n=ai(this.editor.model.document.selection.getSelectedBlocks());if(!n||!n.is("element","listItem"))return!1;if(this._indentBy>0){const s=n.getAttribute("listIndent"),l=n.getAttribute("listType");let u=n.previousSibling;for(;u&&u.is("element","listItem")&&u.getAttribute("listIndent")>=s;){if(u.getAttribute("listIndent")==s)return u.getAttribute("listType")==l;u=u.previousSibling}return!1}return!0}}class GN extends an{constructor(n,s){super(n),this.type=s}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const s=this.editor.model,l=s.document,u=Array.from(l.selection.getSelectedBlocks()).filter(b=>$N(b,s.schema)),f=n.forceValue!==void 0?!n.forceValue:this.value;s.change(b=>{if(f){let _=u[u.length-1].nextSibling,E=Number.POSITIVE_INFINITY,T=[];for(;_&&_.name=="listItem"&&_.getAttribute("listIndent")!==0;){const D=_.getAttribute("listIndent");D<E&&(E=D);const U=D-E;T.push({element:_,listIndent:U}),_=_.nextSibling}T=T.reverse();for(const D of T)b.setAttribute("listIndent",D.listIndent,D.element)}if(!f){let _=Number.POSITIVE_INFINITY;for(const E of u)E.is("element","listItem")&&E.getAttribute("listIndent")<_&&(_=E.getAttribute("listIndent"));_=_===0?1:_,WN(u,!0,_),WN(u,!1,_)}for(const _ of u.reverse())f&&_.name=="listItem"?b.rename(_,"paragraph"):f||_.name=="listItem"?f||_.name!="listItem"||_.getAttribute("listType")==this.type||b.setAttribute("listType",this.type,_):(b.setAttributes({listType:this.type,listIndent:0},_),b.rename(_,"listItem"));this.fire("_executeCleanup",u)})}_getValue(){const n=ai(this.editor.model.document.selection.getSelectedBlocks());return!!n&&n.is("element","listItem")&&n.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,s=this.editor.model.schema,l=ai(n.getSelectedBlocks());return!!l&&$N(l,s)}}function WN(A,n,s){const l=n?A[0]:A[A.length-1];if(l.is("element","listItem")){let u=l[n?"previousSibling":"nextSibling"],f=l.getAttribute("listIndent");for(;u&&u.is("element","listItem")&&u.getAttribute("listIndent")>=s;)f>u.getAttribute("listIndent")&&(f=u.getAttribute("listIndent")),u.getAttribute("listIndent")==f&&A[n?"unshift":"push"](u),u=u[n?"previousSibling":"nextSibling"]}}function $N(A,n){return n.checkChild(A.parent,"listItem")&&!n.isObject(A)}class sY extends Zt{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(n){return function(s){return Yq.includes(s)?"bulleted":Xq.includes(s)?"numbered":null}(n)}getSelectedListItems(n){return function(s){let l=[...s.document.selection.getSelectedBlocks()].filter(u=>u.is("element","listItem")).map(u=>{const f=s.change(b=>b.createPositionAt(u,0));return[...K1(f,"backward"),...K1(f,"forward")]}).flat();return l=[...new Set(l)],l}(n)}getSiblingNodes(n,s){return K1(n,s)}}function qN(A){return(n,s,l)=>{const u=l.consumable;if(!u.test(s.item,"insert")||!u.test(s.item,"attribute:listType")||!u.test(s.item,"attribute:listIndent"))return;u.consume(s.item,"insert"),u.consume(s.item,"attribute:listType"),u.consume(s.item,"attribute:listIndent");const f=s.item;RN(f,qq(f,l),l,A)}}const rY=(A,n,s)=>{if(!s.consumable.test(n.item,A.name))return;const l=s.mapper.toViewElement(n.item),u=s.writer;u.breakContainer(u.createPositionBefore(l)),u.breakContainer(u.createPositionAfter(l));const f=l.parent,b=n.attributeNewValue=="numbered"?"ol":"ul";u.rename(b,f)},oY=(A,n,s)=>{s.consumable.consume(n.item,A.name);const l=s.mapper.toViewElement(n.item).parent,u=s.writer;Gl(u,l,l.nextSibling),Gl(u,l.previousSibling,l)},YN=(A,n,s)=>{if(s.consumable.test(n.item,A.name)&&n.item.name!="listItem"){let l=s.mapper.toViewPosition(n.range.start);const u=s.writer,f=[];for(;(l.parent.name=="ul"||l.parent.name=="ol")&&(l=u.breakContainer(l),l.parent.name=="li");){const b=l,_=u.createPositionAt(l.parent,"end");if(!b.isEqual(_)){const E=u.remove(u.createRange(b,_));f.push(E)}l=u.createPositionAfter(l.parent)}if(f.length>0){for(let b=0;b<f.length;b++){const _=l.nodeBefore;if(l=u.insert(l,f[b]).end,b>0){const E=Gl(u,_,_.nextSibling);E&&E.parent==_&&l.offset--}}Gl(u,l.nodeBefore,l.nodeAfter)}}},aY=(A,n,s)=>{const l=s.mapper.toViewPosition(n.position),u=l.nodeBefore,f=l.nodeAfter;Gl(s.writer,u,f)},lY=(A,n,s)=>{if(s.consumable.consume(n.viewItem,{name:!0})){const l=s.writer,u=l.createElement("listItem"),f=function(E){let T=0,D=E.parent;for(;D;){if(D.is("element","li"))T++;else{const U=D.previousSibling;U&&U.is("element","li")&&T++}D=D.parent}return T}(n.viewItem);l.setAttribute("listIndent",f,u);const b=n.viewItem.parent&&n.viewItem.parent.name=="ol"?"numbered":"bulleted";if(l.setAttribute("listType",b,u),!s.safeInsert(u,n.modelCursor))return;const _=function(E,T,D){const{writer:U,schema:H}=D;let $=U.createPositionAfter(E);for(const tt of T)if(tt.name=="ul"||tt.name=="ol")$=D.convertItem(tt,$).modelCursor;else{const it=D.convertItem(tt,U.createPositionAt(E,"end")),At=it.modelRange.start.nodeAfter;At&&At.is("element")&&!H.checkChild(E,At.name)&&(E=it.modelCursor.parent.is("element","listItem")?it.modelCursor.parent:AY(it.modelCursor),$=U.createPositionAfter(E))}return $}(u,n.viewItem.getChildren(),s);n.modelRange=l.createRange(n.modelCursor,_),s.updateConversionResult(u,n)}},XN=(A,n,s)=>{if(s.consumable.test(n.viewItem,{name:!0})){const l=Array.from(n.viewItem.getChildren());for(const u of l)!(u.is("element","li")||um(u))&&u._remove()}},cY=(A,n,s)=>{if(s.consumable.test(n.viewItem,{name:!0})){if(n.viewItem.childCount===0)return;const l=[...n.viewItem.getChildren()];let u=!1;for(const f of l)u&&!um(f)&&f._remove(),um(f)&&(u=!0)}};function ZN(A){return(n,s)=>{if(s.isPhantom)return;const l=s.modelPosition.nodeBefore;if(l&&l.is("element","listItem")){const u=s.mapper.toViewElement(l),f=u.getAncestors().find(um),b=A.createPositionAt(u,0).getWalker();for(const _ of b){if(_.type=="elementStart"&&_.item.is("element","li")){s.viewPosition=_.previousPosition;break}if(_.type=="elementEnd"&&_.item==f){s.viewPosition=_.nextPosition;break}}}}}const dY=function(A,[n,s]){const l=this;let u,f=n.is("documentFragment")?n.getChild(0):n;if(u=s?l.createSelection(s):l.document.selection,f&&f.is("element","listItem")){const b=u.getFirstPosition();let _=null;if(b.parent.is("element","listItem")?_=b.parent:b.nodeBefore&&b.nodeBefore.is("element","listItem")&&(_=b.nodeBefore),_){const E=_.getAttribute("listIndent");if(E>0)for(;f&&f.is("element","listItem");)f._setAttribute("listIndent",f.getAttribute("listIndent")+E),f=f.nextSibling}}};function AY(A){const n=new bd({startPosition:A});let s;do s=n.next();while(!s.value.item.is("element","listItem"));return s.value.item}function JN(A,n,s,l,u,f){const b=QN(n.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:A}),_=u.mapper,E=u.writer,T=b?b.getAttribute("listIndent"):null;let D;if(b)if(T==A){const U=_.toViewElement(b).parent;D=E.createPositionAfter(U)}else{const U=f.createPositionAt(b,"end");D=_.toViewPosition(U)}else D=s;D=UN(D);for(const U of[...l.getChildren()])um(U)&&(D=E.move(E.createRangeOn(U),D).end,Gl(E,U,U.nextSibling),Gl(E,U.previousSibling,U))}function um(A){return A.is("element","ol")||A.is("element","ul")}class uY extends Zt{static get pluginName(){return"ListEditing"}static get requires(){return[Ay,EA,sY]}init(){const n=this.editor;n.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const s=n.data,l=n.editing;var u;n.model.document.registerPostFixer(b=>function(_,E){const T=_.document.differ.getChanges(),D=new Map;let U=!1;for(const it of T)if(it.type=="insert"&&it.name=="listItem")H(it.position);else if(it.type=="insert"&&it.name!="listItem"){if(it.name!="$text"){const At=it.position.nodeAfter;At.hasAttribute("listIndent")&&(E.removeAttribute("listIndent",At),U=!0),At.hasAttribute("listType")&&(E.removeAttribute("listType",At),U=!0),At.hasAttribute("listStyle")&&(E.removeAttribute("listStyle",At),U=!0),At.hasAttribute("listReversed")&&(E.removeAttribute("listReversed",At),U=!0),At.hasAttribute("listStart")&&(E.removeAttribute("listStart",At),U=!0);for(const bt of Array.from(_.createRangeIn(At)).filter(It=>It.item.is("element","listItem")))H(bt.previousPosition)}H(it.position.getShiftedBy(it.length))}else it.type=="remove"&&it.name=="listItem"?H(it.position):(it.type=="attribute"&&it.attributeKey=="listIndent"||it.type=="attribute"&&it.attributeKey=="listType")&&H(it.range.start);for(const it of D.values())$(it),tt(it);return U;function H(it){const At=it.nodeBefore;if(At&&At.is("element","listItem")){let bt=At;if(D.has(bt))return;for(let It=bt.previousSibling;It&&It.is("element","listItem");It=bt.previousSibling)if(bt=It,D.has(bt))return;D.set(At,bt)}else{const bt=it.nodeAfter;bt&&bt.is("element","listItem")&&D.set(bt,bt)}}function $(it){let At=0,bt=null;for(;it&&it.is("element","listItem");){const It=it.getAttribute("listIndent");if(It>At){let Wt;bt===null?(bt=It-At,Wt=At):(bt>It&&(bt=It),Wt=It-bt),E.setAttribute("listIndent",Wt,it),U=!0}else bt=null,At=it.getAttribute("listIndent")+1;it=it.nextSibling}}function tt(it){let At=[],bt=null;for(;it&&it.is("element","listItem");){const It=it.getAttribute("listIndent");if(bt&&bt.getAttribute("listIndent")>It&&(At=At.slice(0,It+1)),It!=0)if(At[It]){const Wt=At[It];it.getAttribute("listType")!=Wt&&(E.setAttribute("listType",Wt,it),U=!0)}else At[It]=it.getAttribute("listType");bt=it,it=it.nextSibling}}}(n.model,b)),l.mapper.registerViewToModelLength("li",G1),s.mapper.registerViewToModelLength("li",G1),l.mapper.on("modelToViewPosition",ZN(l.view)),l.mapper.on("viewToModelPosition",(u=n.model,(b,_)=>{const E=_.viewPosition,T=E.parent,D=_.mapper;if(T.name=="ul"||T.name=="ol"){if(E.isAtEnd){const U=D.toModelElement(E.nodeBefore),H=D.getModelLength(E.nodeBefore);_.modelPosition=u.createPositionBefore(U).getShiftedBy(H)}else{const U=D.toModelElement(E.nodeAfter);_.modelPosition=u.createPositionBefore(U)}b.stop()}else if(T.name=="li"&&E.nodeBefore&&(E.nodeBefore.name=="ul"||E.nodeBefore.name=="ol")){const U=D.toModelElement(T);let H=1,$=E.nodeBefore;for(;$&&um($);)H+=D.getModelLength($),$=$.previousSibling;_.modelPosition=u.createPositionBefore(U).getShiftedBy(H),b.stop()}})),s.mapper.on("modelToViewPosition",ZN(l.view)),n.conversion.for("editingDowncast").add(b=>{b.on("insert",YN,{priority:"high"}),b.on("insert:listItem",qN(n.model)),b.on("attribute:listType:listItem",rY,{priority:"high"}),b.on("attribute:listType:listItem",oY,{priority:"low"}),b.on("attribute:listIndent:listItem",function(_){return(E,T,D)=>{if(!D.consumable.consume(T.item,"attribute:listIndent"))return;const U=D.mapper.toViewElement(T.item),H=D.writer;H.breakContainer(H.createPositionBefore(U)),H.breakContainer(H.createPositionAfter(U));const $=U.parent,tt=$.previousSibling,it=H.createRangeOn($);H.remove(it),tt&&tt.nextSibling&&Gl(H,tt,tt.nextSibling),JN(T.attributeOldValue+1,T.range.start,it.start,U,D,_),RN(T.item,U,D,_);for(const At of T.item.getChildren())D.consumable.consume(At,"insert")}}(n.model)),b.on("remove:listItem",function(_){return(E,T,D)=>{const U=D.mapper.toViewPosition(T.position).getLastMatchingPosition(bt=>!bt.item.is("element","li")).nodeAfter,H=D.writer;H.breakContainer(H.createPositionBefore(U)),H.breakContainer(H.createPositionAfter(U));const $=U.parent,tt=$.previousSibling,it=H.createRangeOn($),At=H.remove(it);tt&&tt.nextSibling&&Gl(H,tt,tt.nextSibling),JN(D.mapper.toModelElement(U).getAttribute("listIndent")+1,T.position,it.start,U,D,_);for(const bt of H.createRangeIn(At).getItems())D.mapper.unbindViewElement(bt);E.stop()}}(n.model)),b.on("remove",aY,{priority:"low"})}),n.conversion.for("dataDowncast").add(b=>{b.on("insert",YN,{priority:"high"}),b.on("insert:listItem",qN(n.model))}),n.conversion.for("upcast").add(b=>{b.on("element:ul",XN,{priority:"high"}),b.on("element:ol",XN,{priority:"high"}),b.on("element:li",cY,{priority:"high"}),b.on("element:li",lY)}),n.model.on("insertContent",dY,{priority:"high"}),n.commands.add("numberedList",new GN(n,"numbered")),n.commands.add("bulletedList",new GN(n,"bulleted")),n.commands.add("indentList",new KN(n,"forward")),n.commands.add("outdentList",new KN(n,"backward"));const f=l.view.document;this.listenTo(f,"enter",(b,_)=>{const E=this.editor.model.document,T=E.selection.getLastPosition().parent;E.selection.isCollapsed&&T.name=="listItem"&&T.isEmpty&&(this.editor.execute("outdentList"),_.preventDefault(),b.stop())},{context:"li"}),this.listenTo(f,"delete",(b,_)=>{if(_.direction!=="backward")return;const E=this.editor.model.document.selection;if(!E.isCollapsed)return;const T=E.getFirstPosition();if(!T.isAtStart)return;const D=T.parent;D.name==="listItem"&&(D.previousSibling&&D.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),_.preventDefault(),b.stop()))},{context:"li"}),this.listenTo(n.editing.view.document,"tab",(b,_)=>{const E=_.shiftKey?"outdentList":"indentList";this.editor.commands.get(E).isEnabled&&(n.execute(E),_.stopPropagation(),_.preventDefault(),b.stop())},{context:"li"})}afterInit(){const n=this.editor.commands,s=n.get("indent"),l=n.get("outdent");s&&s.registerChildCommand(n.get("indentList")),l&&l.registerChildCommand(n.get("outdentList"))}}function G1(A){let n=1;for(const s of A.getChildren())if(s.name=="ul"||s.name=="ol")for(const l of s.getChildren())n+=G1(l);return n}ls("Ctrl+Enter");var tR=o(1199),hY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(tR.Z,hY),tR.Z.locals;function eR(A,n){const s=(l,u,f)=>{if(!f.consumable.consume(u.item,l.name))return;const b=u.attributeNewValue,_=f.writer,E=f.mapper.toViewElement(u.item),T=[...E.getChildren()].find(U=>U.getCustomProperty("media-content"));_.remove(T);const D=A.getMediaViewElement(_,b,n);_.insert(_.createPositionAt(E,0),D)};return l=>{l.on("attribute:url:media",s)}}function nR(A,n,s,l){return A.createContainerElement("figure",{class:"media"},[n.getMediaViewElement(A,s,l),A.createSlot()])}function iR(A){const n=A.getSelectedElement();return n&&n.is("element","media")?n:null}function sR(A,n,s,l){A.change(u=>{const f=u.createElement("media",{url:n});A.insertObject(f,s,null,{setSelection:"on",findOptimalPosition:l?"auto":void 0})})}class fY extends an{refresh(){const n=this.editor.model,s=n.document.selection,l=iR(s);this.value=l?l.getAttribute("url"):void 0,this.isEnabled=function(u){const f=u.getSelectedElement();return!!f&&f.name==="media"}(s)||function(u,f){let _=M2(u,f).start.parent;return _.isEmpty&&!f.schema.isLimit(_)&&(_=_.parent),f.schema.checkChild(_,"media")}(s,n)}execute(n){const s=this.editor.model,l=s.document.selection,u=iR(l);u?s.change(f=>{f.setAttribute("url",n,u)}):sR(s,n,l,!0)}}class pY{constructor(n,s){const l=s.providers,u=s.extraProviders||[],f=new Set(s.removeProviders),b=l.concat(u).filter(_=>{const E=_.name;return E?!f.has(E):(J("media-embed-no-provider-name",{provider:_}),!1)});this.locale=n,this.providerDefinitions=b}hasMedia(n){return!!this._getMedia(n)}getMediaViewElement(n,s,l){return this._getMedia(s).getViewElement(n,l)}_getMedia(n){if(!n)return new rR(this.locale);n=n.trim();for(const s of this.providerDefinitions){const l=s.html,u=Dn(s.url);for(const f of u){const b=this._getUrlMatches(n,f);if(b)return new rR(this.locale,n,b,l)}}return null}_getUrlMatches(n,s){let l=n.match(s);if(l)return l;let u=n.replace(/^https?:\/\//,"");return l=u.match(s),l||(u=u.replace(/^www\./,""),l=u.match(s),l||null)}}class rR{constructor(n,s,l,u){this.url=this._getValidUrl(s),this._locale=n,this._match=l,this._previewRenderer=u}getViewElement(n,s){const l={};let u;if(s.renderForEditingView||s.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(l["data-oembed-url"]=this.url),s.renderForEditingView&&(l.class="ck-media__wrapper");const f=this._getPreviewHtml(s);u=n.createRawElement("div",l,(b,_)=>{_.setContentOf(b,f)})}else this.url&&(l.url=this.url),u=n.createEmptyElement(s.elementName,l);return n.setCustomProperty("media-content",!0,u),u}_getPreviewHtml(n){return this._previewRenderer?this._previewRenderer(this._match):this.url&&n.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const n=new q,s=this._locale.t;return n.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',n.viewBox="0 0 64 42",new va({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":s("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(n){return n?n.match(/^https?/)?n:"https://"+n:null}}var oR=o(7442),gY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(oR.Z,gY),oR.Z.locals;class wy extends Zt{constructor(n){super(n),n.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:s=>{const l=s[1],u=s[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${l}${u?`?start=${u}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:s=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${s[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new pY(n.locale,n.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const n=this.editor,s=n.model.schema,l=n.t,u=n.conversion,f=n.config.get("mediaEmbed.previewsInData"),b=n.config.get("mediaEmbed.elementName"),_=this.registry;n.commands.add("mediaEmbed",new fY(n)),s.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),u.for("dataDowncast").elementToStructure({model:"media",view:(E,{writer:T})=>{const D=E.getAttribute("url");return nR(T,_,D,{elementName:b,renderMediaPreview:!!D&&f})}}),u.for("dataDowncast").add(eR(_,{elementName:b,renderMediaPreview:f})),u.for("editingDowncast").elementToStructure({model:"media",view:(E,{writer:T})=>{const D=E.getAttribute("url");return function(U,H,$){return H.setCustomProperty("media",!0,U),B1(U,H,{label:$})}(nR(T,_,D,{elementName:b,renderForEditingView:!0}),T,l("media widget"))}}),u.for("editingDowncast").add(eR(_,{elementName:b,renderForEditingView:!0})),u.for("upcast").elementToElement({view:E=>["oembed",b].includes(E.name)&&E.getAttribute("url")?{name:!0}:null,model:(E,{writer:T})=>{const D=E.getAttribute("url");return _.hasMedia(D)?T.createElement("media",{url:D}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(E,{writer:T})=>{const D=E.getAttribute("data-oembed-url");return _.hasMedia(D)?T.createElement("media",{url:D}):null}}).add(E=>{E.on("element:figure",(T,D,U)=>{if(!U.consumable.consume(D.viewItem,{name:!0,classes:"media"}))return;const{modelRange:H,modelCursor:$}=U.convertChildren(D.viewItem,D.modelCursor);D.modelRange=H,D.modelCursor=$,ai(H.getItems())||U.consumable.revert(D.viewItem,{name:!0,classes:"media"})})})}}const mY=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class bY extends Zt{constructor(n){super(n),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[G2,EA,J2]}static get pluginName(){return"AutoMediaEmbed"}init(){const n=this.editor,s=n.model.document,l=n.plugins.get("ClipboardPipeline");this.listenTo(l,"inputTransformation",()=>{const u=s.selection.getFirstRange(),f=no.fromPosition(u.start);f.stickiness="toPrevious";const b=no.fromPosition(u.end);b.stickiness="toNext",s.once("change:data",()=>{this._embedMediaBetweenPositions(f,b),f.detach(),b.detach()},{priority:"high"})}),n.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ce.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(n,s){const l=this.editor,u=l.plugins.get(wy).registry,f=new Ic(n,s),b=f.getWalker({ignoreElementEnd:!0});let _="";for(const E of b)E.item.is("$textProxy")&&(_+=E.item.data);if(_=_.trim(),!_.match(mY)||!u.hasMedia(_))return void f.detach();l.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=no.fromPosition(n),this._timeoutId=Ce.window.setTimeout(()=>{l.model.change(E=>{this._timeoutId=null,E.remove(f),f.detach();let T=null;this._positionToInsert.root.rootName!=="$graveyard"&&(T=this._positionToInsert),sR(l.model,_,T,!1),this._positionToInsert.detach(),this._positionToInsert=null}),l.plugins.get(EA).requestUndoOnBackspace()},100)):f.detach()}}var aR=o(9292),wY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(aR.Z,wY),aR.Z.locals;class vY extends on{constructor(n,s){super(s);const l=s.t;this.focusTracker=new to,this.keystrokes=new Kn,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),Bs.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",u=>!!u),this.cancelButtonView=this._createButton(l("Cancel"),Bs.cancel,"ck-button-cancel","cancel"),this._focusables=new Za,this._focusCycler=new Br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=n,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),h({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element);const n=s=>s.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(n){this.urlInputView.fieldView.element.value=n.trim()}isValid(){this.resetFormStatus();for(const n of this._validators){const s=n(this);if(s)return this.urlInputView.errorText=s,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const n=this.locale.t,s=new Ze(this.locale,a1),l=s.fieldView;return this._urlInputViewInfoDefault=n("Paste the media URL in the input."),this._urlInputViewInfoTip=n("Tip: Paste the URL into the content to embed faster."),s.label=n("Media URL"),s.infoText=this._urlInputViewInfoDefault,l.on("input",()=>{s.infoText=l.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=l.element.value.trim()}),s}_createButton(n,s,l,u){const f=new xt(this.locale);return f.set({label:n,icon:s,tooltip:!0}),f.extendTemplate({attributes:{class:l}}),u&&f.delegate("execute").to(this,u),f}}class _Y extends Zt{static get requires(){return[wy]}static get pluginName(){return"MediaEmbedUI"}init(){const n=this.editor,s=n.commands.get("mediaEmbed");n.ui.componentFactory.add("mediaEmbed",l=>{const u=Zu(l);return this._setUpDropdown(u,s),u})}_setUpDropdown(n,s){const l=this.editor,u=l.t,f=n.buttonView,b=l.plugins.get(wy).registry;n.once("change:isOpen",()=>{const _=new(d(vY))(function(E,T){return[D=>{if(!D.url.length)return E("The URL must not be empty.")},D=>{if(!T.hasMedia(D.url))return E("This media URL is not supported.")}]}(l.t,b),l.locale);n.panelView.children.add(_),f.on("open",()=>{_.disableCssTransitions(),_.url=s.value||"",_.urlInputView.fieldView.select(),_.enableCssTransitions()},{priority:"low"}),n.on("submit",()=>{_.isValid()&&(l.execute("mediaEmbed",_.url),l.editing.view.focus())}),n.on("change:isOpen",()=>_.resetFormStatus()),n.on("cancel",()=>{l.editing.view.focus()}),_.delegate("submit","cancel").to(n),_.urlInputView.fieldView.bind("value").to(s,"value"),_.urlInputView.bind("isEnabled").to(s,"isEnabled")}),n.bind("isEnabled").to(s),f.set({label:u("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var lR=o(4652),kY={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(lR.Z,kY),lR.Z.locals;function yY(A,n){if(!A.childCount)return;const s=new Nf(A.document),l=function(b,_){const E=_.createRangeIn(b),T=new ko({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),D=[];for(const U of E)if(U.type==="elementStart"&&T.match(U.item)){const H=EY(U.item);D.push({element:U.item,id:H.id,order:H.order,indent:H.indent})}return D}(A,s);if(!l.length)return;let u=null,f=1;l.forEach((b,_)=>{const E=function(tt,it){if(!tt)return!0;if(tt.id!==it.id)return it.indent-tt.indent!=1;const At=it.element.previousSibling;if(!At)return!0;return bt=At,!(bt.is("element","ol")||bt.is("element","ul"));var bt}(l[_-1],b),T=E?null:l[_-1],D=(H=b,(U=T)?H.indent-U.indent:H.indent-1);var U,H;if(E&&(u=null,f=1),!u||D!==0){const tt=function(it,At){const bt=new RegExp(`@list l${it.id}:level${it.indent}\\s*({[^}]*)`,"gi"),It=/mso-level-number-format:([^;]{0,100});/gi,Wt=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,he=bt.exec(At);let Ve="decimal",bi="ol",Pn=null;if(he&&he[1]){const Ar=It.exec(he[1]);if(Ar&&Ar[1]&&(Ve=Ar[1].trim(),bi=Ve!=="bullet"&&Ve!=="image"?"ol":"ul"),Ve==="bullet"){const zs=function(fm){const kd=function(BA){if(BA.getChild(0).is("$text"))return null;for(const SA of BA.getChildren()){if(!SA.is("element","span"))continue;const jf=SA.getChild(0);if(jf)return jf.is("$text")?jf:jf.getChild(0)}return null}(fm);if(!kd)return null;const Wl=kd._data;return Wl==="o"?"circle":Wl==="Â·"?"disc":Wl==="Â§"?"square":null}(it.element);zs&&(Ve=zs)}else{const zs=Wt.exec(he[1]);zs&&zs[1]&&(Pn=parseInt(zs[1]))}}return{type:bi,startIndex:Pn,style:CY(Ve)}}(b,n);if(u){if(b.indent>f){const it=u.getChild(u.childCount-1),At=it.getChild(it.childCount-1);u=cR(tt,At,s),f+=1}else if(b.indent<f){const it=f-b.indent;u=function(At,bt){const It=At.getAncestors({parentFirst:!0});let Wt=null,he=0;for(const Ve of It)if((Ve.is("element","ul")||Ve.is("element","ol"))&&he++,he===bt){Wt=Ve;break}return Wt}(u,it),f=b.indent}}else u=cR(tt,b.element,s);b.indent<=f&&(u.is("element",tt.type)||(u=s.rename(tt.type,u)))}const $=function(tt,it){return function(At,bt){const It=new ko({name:"span",styles:{"mso-list":"Ignore"}}),Wt=bt.createRangeIn(At);for(const he of Wt)he.type==="elementStart"&&It.match(he.item)&&bt.remove(he.item)}(tt,it),it.removeStyle("text-indent",tt),it.rename("li",tt)}(b.element,s);s.appendChild($,u)})}function CY(A){if(A.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(A){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return A;default:return null}}function cR(A,n,s){const l=n.parent,u=s.createElement(A.type),f=l.getChildIndex(n)+1;return s.insertChild(f,u,l),A.style&&s.setStyle("list-style-type",A.style,u),A.startIndex&&A.startIndex>1&&s.setAttribute("start",A.startIndex,u),u}function EY(A){const n={},s=A.getStyle("mso-list");if(s){const l=s.match(/(^|\s{1,100})l(\d+)/i),u=s.match(/\s{0,100}lfo(\d+)/i),f=s.match(/\s{0,100}level(\d+)/i);l&&u&&f&&(n.id=l[2],n.order=u[1],n.indent=parseInt(f[1]))}return n}function xY(A,n){if(!A.childCount)return;const s=new Nf(A.document),l=function(f,b){const _=b.createRangeIn(f),E=new ko({name:/v:(.+)/}),T=[];for(const D of _){if(D.type!="elementStart")continue;const U=D.item,H=U.previousSibling,$=H&&H.is("element")?H.name:null;E.match(U)&&U.getAttribute("o:gfxdata")&&$!=="v:shapetype"&&T.push(D.item.getAttribute("id"))}return T}(A,s);(function(f,b,_){const E=_.createRangeIn(b),T=new ko({name:"img"}),D=[];for(const U of E)if(U.item.is("element")&&T.match(U.item)){const H=U.item,$=H.getAttribute("v:shapes")?H.getAttribute("v:shapes").split(" "):[];$.length&&$.every(tt=>f.indexOf(tt)>-1)?D.push(H):H.getAttribute("src")||D.push(H)}for(const U of D)_.remove(U)})(l,A,s),function(f,b,_){const E=_.createRangeIn(b),T=[];for(const H of E)if(H.type=="elementStart"&&H.item.is("element","v:shape")){const $=H.item.getAttribute("id");if(f.includes($))continue;D(H.item.parent.getChildren(),$)||T.push(H.item)}for(const H of T){const $={src:U(H)};H.hasAttribute("alt")&&($.alt=H.getAttribute("alt"));const tt=_.createElement("img",$);_.insertChild(H.index+1,tt,H.parent)}function D(H,$){for(const tt of H)if(tt.is("element")&&(tt.name=="img"&&tt.getAttribute("v:shapes")==$||D(tt.getChildren(),$)))return!0;return!1}function U(H){for(const $ of H.getChildren())if($.is("element")&&$.getAttribute("src"))return $.getAttribute("src")}}(l,A,s),function(f,b){const _=b.createRangeIn(f),E=new ko({name:/v:(.+)/}),T=[];for(const D of _)D.type=="elementStart"&&E.match(D.item)&&T.push(D.item);for(const D of T)b.remove(D)}(A,s);const u=function(f,b){const _=b.createRangeIn(f),E=new ko({name:"img"}),T=[];for(const D of _)D.item.is("element")&&E.match(D.item)&&D.item.getAttribute("src").startsWith("file://")&&T.push(D.item);return T}(A,s);u.length&&function(f,b,_){if(f.length===b.length)for(let E=0;E<f.length;E++){const T=`data:${b[E].type};base64,${BY(b[E].hex)}`;_.setAttribute("src",T,f[E])}}(u,function(f){if(!f)return[];const b=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,_=new RegExp("(?:("+b.source+"))([\\da-fA-F\\s]+)\\}","g"),E=f.match(_),T=[];if(E)for(const D of E){let U=!1;D.includes("\\pngblip")?U="image/png":D.includes("\\jpegblip")&&(U="image/jpeg"),U&&T.push({hex:D.replace(b,"").replace(/[^\da-fA-F]/g,""),type:U})}return T}(n),s)}function BY(A){return btoa(A.match(/\w{2}/g).map(n=>String.fromCharCode(parseInt(n,16))).join(""))}const SY=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,TY=/xmlns:o="urn:schemas-microsoft-com/i;class IY{constructor(n){this.document=n}isActive(n){return SY.test(n)||TY.test(n)}execute(n){const{body:s,stylesString:l}=n._parsedData;yY(s,l),xY(s,n.dataTransfer.getData("text/rtf")),n.content=s}}function dR(A,n,s,{blockElements:l,inlineObjectElements:u}){let f=s.createPositionAt(A,n=="forward"?"after":"before");return f=f.getLastMatchingPosition(({item:b})=>b.is("element")&&!l.includes(b.name)&&!u.includes(b.name),{direction:n}),n=="forward"?f.nodeAfter:f.nodeBefore}function AR(A,n){return!!A&&A.is("element")&&n.includes(A.name)}const DY=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class MY{constructor(n){this.document=n}isActive(n){return DY.test(n)}execute(n){const s=new Nf(this.document),{body:l}=n._parsedData;(function(u,f){for(const b of u.getChildren())if(b.is("element","b")&&b.getStyle("font-weight")==="normal"){const _=u.getChildIndex(b);f.remove(b),f.insertChild(_,b.getChildren(),u)}})(l,s),function(u,f){for(const b of f.createRangeIn(u)){const _=b.item;if(_.is("element","li")){const E=_.getChild(0);E&&E.is("element","p")&&f.unwrapElement(E)}}}(l,s),function(u,f){const b=new z0(f.document.stylesProcessor),_=new K0(b,{renderingMode:"data"}),E=_.blockElements,T=_.inlineObjectElements,D=[];for(const U of f.createRangeIn(u)){const H=U.item;if(H.is("element","br")){const $=dR(H,"forward",f,{blockElements:E,inlineObjectElements:T}),tt=dR(H,"backward",f,{blockElements:E,inlineObjectElements:T}),it=AR($,E);(AR(tt,E)||it)&&D.push(H)}}for(const U of D)U.hasClass("Apple-interchange-newline")?f.remove(U):f.replace(U,f.createElement("p"))}(l,s),n.content=l}}const LY=/<google-sheets-html-origin/i;class PY{constructor(n){this.document=n}isActive(n){return LY.test(n)}execute(n){const s=new Nf(this.document),{body:l}=n._parsedData;(function(u,f){for(const b of u.getChildren())if(b.is("element","google-sheets-html-origin")){const _=u.getChildIndex(b);f.remove(b),f.insertChild(_,b.getChildren(),u)}})(l,s),function(u,f){for(const b of u.getChildren())b.is("element","table")&&b.hasAttribute("xmlns")&&f.removeAttribute("xmlns",b)}(l,s),function(u,f){for(const b of u.getChildren())b.is("element","table")&&b.getStyle("width")==="0px"&&f.removeStyle("width",b)}(l,s),function(u,f){for(const b of Array.from(u.getChildren()))b.is("element","style")&&f.remove(b)}(l,s),n.content=l}}function uR(A){return A.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,s)=>s.length===1?" ":Array(s.length+1).join("Â  ").substr(0,s.length))}function FY(A,n){const s=new DOMParser,l=function(E){return uR(uR(E)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"Â </").replace(/ <o:p><\/o:p>/g,"Â <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(E){const T="</body>",D="</html>",U=E.indexOf(T);if(U<0)return E;const H=E.indexOf(D,U+T.length);return E.substring(0,U+T.length)+(H>=0?E.substring(H):"")}(A=A.replace(/<!--\[if gte vml 1]>/g,""))),u=s.parseFromString(l,"text/html");(function(E){E.querySelectorAll("span[style*=spacerun]").forEach(T=>{const D=T,U=D.innerText.length||0;D.innerText=Array(U+1).join("Â  ").substr(0,U)})})(u);const f=u.body.innerHTML,b=function(E,T){const D=new z0(T),U=new K0(D,{renderingMode:"data"}),H=E.createDocumentFragment(),$=E.body.childNodes;for(;$.length>0;)H.appendChild($[0]);return U.domToView(H,{skipComments:!0})}(u,n),_=function(E){const T=[],D=[],U=Array.from(E.getElementsByTagName("style"));for(const H of U)H.sheet&&H.sheet.cssRules&&H.sheet.cssRules.length&&(T.push(H.sheet),D.push(H.innerHTML));return{styles:T,stylesString:D.join(" ")}}(u);return{body:b,bodyString:f,styles:_.styles,stylesString:_.stylesString}}function ms(A,n,s,l,u=1){n!=null&&u!=null&&n>u?l.setAttribute(A,n,s):l.removeAttribute(A,s)}function Qf(A,n,s={}){const l=A.createElement("tableCell",s);return A.insertElement("paragraph",l),A.insert(l,n),l}function W1(A,n){const s=n.parent.parent,l=parseInt(s.getAttribute("headingColumns")||"0"),{column:u}=A.getCellLocation(n);return!!l&&u<l}function OY(){return A=>{A.on("element:table",(n,s,l)=>{const u=s.viewItem;if(!l.consumable.test(u,{name:!0}))return;const{rows:f,headingRows:b,headingColumns:_}=function(D){let U,H=0;const $=[],tt=[];let it;for(const At of Array.from(D.getChildren())){if(At.name!=="tbody"&&At.name!=="thead"&&At.name!=="tfoot")continue;At.name!=="thead"||it||(it=At);const bt=Array.from(At.getChildren()).filter(It=>It.is("element","tr"));for(const It of bt)if(it&&At===it||At.name==="tbody"&&Array.from(It.getChildren()).length&&Array.from(It.getChildren()).every(Wt=>Wt.is("element","th")))H++,$.push(It);else{tt.push(It);const Wt=NY(It);(!U||Wt<U)&&(U=Wt)}}return{headingRows:H,headingColumns:U||0,rows:[...$,...tt]}}(u),E={};_&&(E.headingColumns=_),b&&(E.headingRows=b);const T=l.writer.createElement("table",E);if(l.safeInsert(T,s.modelCursor)){if(l.consumable.consume(u,{name:!0}),f.forEach(D=>l.convertItem(D,l.writer.createPositionAt(T,"end"))),l.convertChildren(u,l.writer.createPositionAt(T,"end")),T.isEmpty){const D=l.writer.createElement("tableRow");l.writer.insert(D,l.writer.createPositionAt(T,"end")),Qf(l.writer,l.writer.createPositionAt(D,"end"))}l.updateConversionResult(T,s)}})}}function hR(A){return n=>{n.on(`element:${A}`,(s,l,{writer:u})=>{if(!l.modelRange)return;const f=l.modelRange.start.nodeAfter,b=u.createPositionAt(f,0);if(l.viewItem.isEmpty)return void u.insertElement("paragraph",b);const _=Array.from(f.getChildren());if(_.every(E=>E.is("element","$marker"))){const E=u.createElement("paragraph");u.insert(E,u.createPositionAt(f,0));for(const T of _)u.move(u.createRangeOn(T),u.createPositionAt(E,"end"))}},{priority:"low"})}}function NY(A){let n=0,s=0;const l=Array.from(A.getChildren()).filter(u=>u.name==="th"||u.name==="td");for(;s<l.length&&l[s].name==="th";){const u=l[s];n+=parseInt(u.getAttribute("colspan")||"1"),s++}return n}class mi{constructor(n,s={}){this._jumpedToStartRow=!1,this._table=n,this._startRow=s.row!==void 0?s.row:s.startRow||0,this._endRow=s.row!==void 0?s.row:s.endRow,this._startColumn=s.column!==void 0?s.column:s.startColumn||0,this._endColumn=s.column!==void 0?s.column:s.endColumn,this._includeAllSlots=!!s.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0,value:void 0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let s=null;const l=this._getSpanned();if(l)this._includeAllSlots&&!this._shouldSkipSlot()&&(s=this._formatOutValue(l.cell,l.row,l.column));else{const u=n.getChild(this._cellIndex);if(!u)return this._advanceToNextRow();const f=parseInt(u.getAttribute("colspan")||"1"),b=parseInt(u.getAttribute("rowspan")||"1");(f>1||b>1)&&this._recordSpans(u,b,f),this._shouldSkipSlot()||(s=this._formatOutValue(u)),this._nextCellAtColumn=this._column+f}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,s||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,s=this._row,l=this._column){return{done:!1,value:new RY(this,n,s,l)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),s=this._row<this._startRow,l=this._column<this._startColumn,u=this._endColumn!==void 0&&this._column>this._endColumn;return n||s||l||u}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,s,l){const u={cell:n,row:this._row,column:this._column};for(let f=this._row;f<this._row+s;f++)for(let b=this._column;b<this._column+l;b++)f==this._row&&b==this._column||this._markSpannedCell(f,b,u)}_markSpannedCell(n,s,l){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(s,l)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const n=this._getRowLength(0);for(let s=this._startRow;!this._jumpedToStartRow;s--)n===this._getRowLength(s)&&(this._row=s,this._rowIndex=s,this._jumpedToStartRow=!0)}_getRowLength(n){return[...this._table.getChild(n).getChildren()].reduce((s,l)=>s+parseInt(l.getAttribute("colspan")||"1"),0)}}class RY{constructor(n,s,l,u){this.cell=s,this.row=n._row,this.column=n._column,this.cellAnchorRow=l,this.cellAnchorColumn=u,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function fR(A,n){return(s,{writer:l})=>{const u=s.getAttribute("headingRows")||0,f=l.createContainerElement("table",null,[]),b=l.createContainerElement("figure",{class:"table"},f);u>0&&l.insert(l.createPositionAt(f,"end"),l.createContainerElement("thead",null,l.createSlot(_=>_.is("element","tableRow")&&_.index<u))),u<A.getRows(s)&&l.insert(l.createPositionAt(f,"end"),l.createContainerElement("tbody",null,l.createSlot(_=>_.is("element","tableRow")&&_.index>=u)));for(const{positionOffset:_,filter:E}of n.additionalSlots)l.insert(l.createPositionAt(f,_),l.createSlot(E));return l.insert(l.createPositionAt(f,"after"),l.createSlot(_=>!_.is("element","tableRow")&&!n.additionalSlots.some(({filter:E})=>E(_)))),n.asWidget?function(_,E){return E.setCustomProperty("table",!0,_),B1(_,E,{hasSelectionHandle:!0})}(b,l):b}}function pR(A={}){return(n,{writer:s})=>{const l=n.parent,u=l.parent,f=u.getChildIndex(l),b=new mi(u,{row:f}),_=u.getAttribute("headingRows")||0,E=u.getAttribute("headingColumns")||0;let T=null;for(const D of b)if(D.cell==n){const U=D.row<_||D.column<E?"th":"td";T=A.asWidget?D2(s.createEditableElement(U),s):s.createContainerElement(U);break}return T}}function gR(A={}){return(n,{writer:s})=>{if(!n.parent.is("element","tableCell")||!mR(n))return null;if(A.asWidget)return s.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const l=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,l),l}}}function mR(A){return A.parent.childCount==1&&!!A.getAttributeKeys().next().done}class UY extends an{refresh(){const n=this.editor.model,s=n.document.selection,l=n.schema;this.isEnabled=function(u,f){const b=u.getFirstPosition().parent,_=b===b.root?b:b.parent;return f.checkChild(_,"table")}(s,l)}execute(n={}){const s=this.editor,l=s.model,u=s.plugins.get("TableUtils"),f=s.config.get("table.defaultHeadings.rows"),b=s.config.get("table.defaultHeadings.columns");n.headingRows===void 0&&f&&(n.headingRows=f),n.headingColumns===void 0&&b&&(n.headingColumns=b),l.change(_=>{const E=u.createTable(_,n);l.insertObject(E,null,null,{findOptimalPosition:"auto"}),_.setSelection(_.createPositionAt(E.getNodeByPath([0,0,0]),0))})}}class bR extends an{constructor(n,s={}){super(n),this.order=s.order||"below"}refresh(){const n=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=s}execute(){const n=this.editor,s=n.model.document.selection,l=n.plugins.get("TableUtils"),u=this.order==="above",f=l.getSelectionAffectedTableCells(s),b=l.getRowIndexes(f),_=u?b.first:b.last,E=f[0].findAncestor("table");l.insertRows(E,{at:u?_:_+1,copyStructureFromAbove:!u})}}class wR extends an{constructor(n,s={}){super(n),this.order=s.order||"right"}refresh(){const n=this.editor.model.document.selection,s=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=s}execute(){const n=this.editor,s=n.model.document.selection,l=n.plugins.get("TableUtils"),u=this.order==="left",f=l.getSelectionAffectedTableCells(s),b=l.getColumnIndexes(f),_=u?b.first:b.last,E=f[0].findAncestor("table");l.insertColumns(E,{columns:1,at:u?_:_+1})}}class vR extends an{constructor(n,s={}){super(n),this.direction=s.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),s=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(s,2):n.splitCellVertically(s,2)}}function _R(A,n,s){const{startRow:l,startColumn:u,endRow:f,endColumn:b}=n,_=s.createElement("table"),E=f-l+1;for(let D=0;D<E;D++)s.insertElement("tableRow",_,"end");const T=[...new mi(A,{startRow:l,endRow:f,startColumn:u,endColumn:b,includeAllSlots:!0})];for(const{row:D,column:U,cell:H,isAnchor:$,cellAnchorRow:tt,cellAnchorColumn:it}of T){const At=D-l,bt=_.getChild(At);if($){const It=s.cloneElement(H);s.append(It,bt),xR(It,D,U,f,b,s)}else(tt<l||it<u)&&Qf(s,s.createPositionAt(bt,"end"))}return function(D,U,H,$,tt){const it=parseInt(U.getAttribute("headingRows")||"0");it>0&&ms("headingRows",it-H,D,tt,0);const At=parseInt(U.getAttribute("headingColumns")||"0");At>0&&ms("headingColumns",At-$,D,tt,0)}(_,A,l,u,s),_}function kR(A,n,s=0){const l=[],u=new mi(A,{startRow:s,endRow:n-1});for(const f of u){const{row:b,cellHeight:_}=f;b<n&&n<=b+_-1&&l.push(f)}return l}function yR(A,n,s){const l=A.parent,u=l.parent,f=l.index,b=n-f,_={},E=parseInt(A.getAttribute("rowspan"))-b;E>1&&(_.rowspan=E);const T=parseInt(A.getAttribute("colspan")||"1");T>1&&(_.colspan=T);const D=f+b,U=[...new mi(u,{startRow:f,endRow:D,includeAllSlots:!0})];let H,$=null;for(const tt of U){const{row:it,column:At,cell:bt}=tt;bt===A&&H===void 0&&(H=At),H!==void 0&&H===At&&it===D&&($=Qf(s,tt.getPositionBefore(),_))}return ms("rowspan",b,A,s),$}function CR(A,n){const s=[],l=new mi(A);for(const u of l){const{column:f,cellWidth:b}=u;f<n&&n<=f+b-1&&s.push(u)}return s}function ER(A,n,s,l){const u=s-n,f={},b=parseInt(A.getAttribute("colspan"))-u;b>1&&(f.colspan=b);const _=parseInt(A.getAttribute("rowspan")||"1");_>1&&(f.rowspan=_);const E=Qf(l,l.createPositionAfter(A),f);return ms("colspan",u,A,l),E}function xR(A,n,s,l,u,f){const b=parseInt(A.getAttribute("colspan")||"1"),_=parseInt(A.getAttribute("rowspan")||"1");s+b-1>u&&ms("colspan",u-s+1,A,f,1),n+_-1>l&&ms("rowspan",l-n+1,A,f,1)}function $1(A,n){const s=n.getColumns(A),l=new Array(s).fill(0);for(const{column:f}of new mi(A))l[f]++;const u=l.reduce((f,b,_)=>b?f:[...f,_],[]);if(u.length>0){const f=u[u.length-1];return n.removeColumns(A,{at:f}),!0}return!1}function q1(A,n){const s=[],l=n.getRows(A);for(let u=0;u<l;u++)A.getChild(u).isEmpty&&s.push(u);if(s.length>0){const u=s[s.length-1];return n.removeRows(A,{at:u}),!0}return!1}function Y1(A,n){$1(A,n)||q1(A,n)}function BR(A,n){const s=Array.from(new mi(A,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(s.every(({cellHeight:u})=>u===1))return n.lastRow;const l=s[0].cellHeight-1;return n.lastRow+l}function SR(A,n){const s=Array.from(new mi(A,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(s.every(({cellWidth:u})=>u===1))return n.lastColumn;const l=s[0].cellWidth-1;return n.lastColumn+l}class vy extends an{constructor(n,s){super(n),this.direction=s.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,s=n.document,l=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(s.selection)[0],u=this.value,f=this.direction;n.change(b=>{const _=f=="right"||f=="down",E=_?l:u,T=_?u:l,D=T.parent;(function(it,At,bt){TR(it)||(TR(At)&&bt.remove(bt.createRangeIn(At)),bt.move(bt.createRangeIn(it),bt.createPositionAt(At,"end"))),bt.remove(it)})(T,E,b);const U=this.isHorizontal?"colspan":"rowspan",H=parseInt(l.getAttribute(U)||"1"),$=parseInt(u.getAttribute(U)||"1");b.setAttribute(U,H+$,E),b.setSelection(b.createRangeIn(E));const tt=this.editor.plugins.get("TableUtils");Y1(D.findAncestor("table"),tt)})}_getMergeableCell(){const n=this.editor.model.document,s=this.editor.plugins.get("TableUtils"),l=s.getTableCellsContainingSelection(n.selection)[0];if(!l)return;const u=this.isHorizontal?function(_,E,T){const D=_.parent,U=D.parent,H=E=="right"?_.nextSibling:_.previousSibling,$=(U.getAttribute("headingColumns")||0)>0;if(!H)return;const tt=E=="right"?_:H,it=E=="right"?H:_,{column:At}=T.getCellLocation(tt),{column:bt}=T.getCellLocation(it),It=parseInt(tt.getAttribute("colspan")||"1"),Wt=W1(T,tt),he=W1(T,it);if(!($&&Wt!=he))return At+It===bt?H:void 0}(l,this.direction,s):function(_,E,T){const D=_.parent,U=D.parent,H=U.getChildIndex(D);if(E=="down"&&H===T.getRows(U)-1||E=="up"&&H===0)return null;const $=parseInt(_.getAttribute("rowspan")||"1"),tt=U.getAttribute("headingRows")||0,it=E=="down"&&H+$===tt,At=E=="up"&&H===tt;if(tt&&(it||At))return null;const bt=parseInt(_.getAttribute("rowspan")||"1"),It=E=="down"?H+bt:H,Wt=[...new mi(U,{endRow:It})],he=Wt.find(Pn=>Pn.cell===_),Ve=he.column,bi=Wt.find(({row:Pn,cellHeight:Ar,column:zs})=>zs===Ve&&(E=="down"?Pn===It:It===Pn+Ar));return bi&&bi.cell?bi.cell:null}(l,this.direction,s);if(!u)return;const f=this.isHorizontal?"rowspan":"colspan",b=parseInt(l.getAttribute(f)||"1");return parseInt(u.getAttribute(f)||"1")===b?u:void 0}}function TR(A){const n=A.getChild(0);return A.childCount==1&&n.is("element","paragraph")&&n.isEmpty}class QY extends an{refresh(){const n=this.editor.plugins.get("TableUtils"),s=n.getSelectionAffectedTableCells(this.editor.model.document.selection),l=s[0];if(l){const u=l.findAncestor("table"),f=n.getRows(u)-1,b=n.getRowIndexes(s),_=b.first===0&&b.last===f;this.isEnabled=!_}else this.isEnabled=!1}execute(){const n=this.editor.model,s=this.editor.plugins.get("TableUtils"),l=s.getSelectionAffectedTableCells(n.document.selection),u=s.getRowIndexes(l),f=l[0],b=f.findAncestor("table"),_=s.getCellLocation(f).column;n.change(E=>{const T=u.last-u.first+1;s.removeRows(b,{at:u.first,rows:T});const D=function(U,H,$,tt){const it=U.getChild(Math.min(H,tt-1));let At=it.getChild(0),bt=0;for(const It of it.getChildren()){if(bt>$)return At;At=It,bt+=parseInt(It.getAttribute("colspan")||"1")}return At}(b,u.first,_,s.getRows(b));E.setSelection(E.createPositionAt(D,0))})}}class HY extends an{refresh(){const n=this.editor.plugins.get("TableUtils"),s=n.getSelectionAffectedTableCells(this.editor.model.document.selection),l=s[0];if(l){const u=l.findAncestor("table"),f=n.getColumns(u),{first:b,last:_}=n.getColumnIndexes(s);this.isEnabled=_-b<f-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[s,l]=function(E,T){const D=T.getSelectionAffectedTableCells(E),U=D[0],H=D.pop(),$=[U,H];return U.isBefore(H)?$:$.reverse()}(this.editor.model.document.selection,n),u=s.parent.parent,f=[...new mi(u)],b={first:f.find(E=>E.cell===s).column,last:f.find(E=>E.cell===l).column},_=function(E,T,D,U){return parseInt(D.getAttribute("colspan")||"1")>1?D:T.previousSibling||D.nextSibling?D.nextSibling||T.previousSibling:U.first?E.reverse().find(({column:$})=>$<U.first).cell:E.reverse().find(({column:$})=>$>U.last).cell}(f,s,l,b);this.editor.model.change(E=>{const T=b.last-b.first+1;n.removeColumns(u,{at:b.first,columns:T}),E.setSelection(E.createPositionAt(_,0))})}}class zY extends an{refresh(){const n=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=n.getSelectionAffectedTableCells(s.document.selection),u=l.length>0;this.isEnabled=u,this.value=u&&l.every(f=>this._isInHeading(f,f.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),l=this.editor.model,u=s.getSelectionAffectedTableCells(l.document.selection),f=u[0].findAncestor("table"),{first:b,last:_}=s.getRowIndexes(u),E=this.value?b:_+1,T=f.getAttribute("headingRows")||0;l.change(D=>{if(E){const U=kR(f,E,E>T?T:0);for(const{cell:H}of U)yR(H,E,D)}ms("headingRows",E,f,D,0)})}_isInHeading(n,s){const l=parseInt(s.getAttribute("headingRows")||"0");return!!l&&n.parent.index<l}}class jY extends an{refresh(){const n=this.editor.model,s=this.editor.plugins.get("TableUtils"),l=s.getSelectionAffectedTableCells(n.document.selection),u=l.length>0;this.isEnabled=u,this.value=u&&l.every(f=>W1(s,f))}execute(n={}){if(n.forceValue===this.value)return;const s=this.editor.plugins.get("TableUtils"),l=this.editor.model,u=s.getSelectionAffectedTableCells(l.document.selection),f=u[0].findAncestor("table"),{first:b,last:_}=s.getColumnIndexes(u),E=this.value?b:_+1;l.change(T=>{if(E){const D=CR(f,E);for(const{cell:U,column:H}of D)ER(U,H,E,T)}ms("headingColumns",E,f,T,0)})}}function VY(A){if(A.is("element","tableColumnGroup"))return A;const n=A.getChildren();return Array.from(n).find(s=>s.is("element","tableColumnGroup"))}function KY(A){const n=VY(A);return n?Array.from(n.getChildren()):[]}class yo extends Zt{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const s=n.parent,l=s.parent,u=l.getChildIndex(s),f=new mi(l,{row:u});for(const{cell:b,row:_,column:E}of f)if(b===n)return{row:_,column:E}}createTable(n,s){const l=n.createElement("table"),u=s.rows||2,f=s.columns||2;return X1(n,l,0,u,f),s.headingRows&&ms("headingRows",Math.min(s.headingRows,u),l,n,0),s.headingColumns&&ms("headingColumns",Math.min(s.headingColumns,f),l,n,0),l}insertRows(n,s={}){const l=this.editor.model,u=s.at||0,f=s.rows||1,b=s.copyStructureFromAbove!==void 0,_=s.copyStructureFromAbove?u-1:u,E=this.getRows(n),T=this.getColumns(n);if(u>E)throw new K("tableutils-insertrows-insert-out-of-range",this,{options:s});l.change(D=>{const U=n.getAttribute("headingRows")||0;if(U>u&&ms("headingRows",U+f,n,D,0),!b&&(u===0||u===E))return void X1(D,n,u,f,T);const H=b?Math.max(u,_):u,$=new mi(n,{endRow:H}),tt=new Array(T).fill(1);for(const{row:it,column:At,cellHeight:bt,cellWidth:It,cell:Wt}of $){const he=it+bt-1,Ve=it<=_&&_<=he;it<u&&u<=he?(D.setAttribute("rowspan",bt+f,Wt),tt[At]=-It):b&&Ve&&(tt[At]=It)}for(let it=0;it<f;it++){const At=D.createElement("tableRow");D.insert(At,n,u);for(let bt=0;bt<tt.length;bt++){const It=tt[bt],Wt=D.createPositionAt(At,"end");It>0&&Qf(D,Wt,It>1?{colspan:It}:void 0),bt+=Math.abs(It)-1}}})}insertColumns(n,s={}){const l=this.editor.model,u=s.at||0,f=s.columns||1;l.change(b=>{const _=n.getAttribute("headingColumns");u<_&&b.setAttribute("headingColumns",_+f,n);const E=this.getColumns(n);if(u===0||E===u){for(const D of n.getChildren())D.is("element","tableRow")&&hm(f,b,b.createPositionAt(D,u?"end":0));return}const T=new mi(n,{column:u,includeAllSlots:!0});for(const D of T){const{row:U,cell:H,cellAnchorColumn:$,cellAnchorRow:tt,cellWidth:it,cellHeight:At}=D;if($<u){b.setAttribute("colspan",it+f,H);const bt=tt+At-1;for(let It=U;It<=bt;It++)T.skipRow(It)}else hm(f,b,D.getPositionBefore())}})}removeRows(n,s){const l=this.editor.model,u=s.rows||1,f=this.getRows(n),b=s.at,_=b+u-1;if(_>f-1)throw new K("tableutils-removerows-row-index-out-of-range",this,{table:n,options:s});l.change(E=>{const T={first:b,last:_},{cellsToMove:D,cellsToTrim:U}=function(H,{first:$,last:tt}){const it=new Map,At=[];for(const{row:bt,column:It,cellHeight:Wt,cell:he}of new mi(H,{endRow:tt})){const Ve=bt+Wt-1;if(bt>=$&&bt<=tt&&Ve>tt){const bi=Wt-(tt-bt+1);it.set(It,{cell:he,rowspan:bi})}if(bt<$&&Ve>=$){let bi;bi=Ve>=tt?tt-$+1:Ve-$+1,At.push({cell:he,rowspan:Wt-bi})}}return{cellsToMove:it,cellsToTrim:At}}(n,T);D.size&&function(H,$,tt,it){const At=new mi(H,{includeAllSlots:!0,row:$}),bt=[...At],It=H.getChild($);let Wt;for(const{column:he,cell:Ve,isAnchor:bi}of bt)if(tt.has(he)){const{cell:Pn,rowspan:Ar}=tt.get(he),zs=Wt?it.createPositionAfter(Wt):it.createPositionAt(It,0);it.move(it.createRangeOn(Pn),zs),ms("rowspan",Ar,Pn,it),Wt=Pn}else bi&&(Wt=Ve)}(n,_+1,D,E);for(let H=_;H>=b;H--)E.remove(n.getChild(H));for(const{rowspan:H,cell:$}of U)ms("rowspan",H,$,E);(function(H,{first:$,last:tt},it){const At=H.getAttribute("headingRows")||0;$<At&&ms("headingRows",tt<At?At-(tt-$+1):$,H,it,0)})(n,T,E),$1(n,this)||q1(n,this)})}removeColumns(n,s){const l=this.editor.model,u=s.at,f=s.columns||1,b=s.at+f-1;l.change(_=>{(function(T,D,U){const H=T.getAttribute("headingColumns")||0;if(H&&D.first<H){const $=Math.min(H-1,D.last)-D.first+1;U.setAttribute("headingColumns",H-$,T)}})(n,{first:u,last:b},_);const E=KY(n);for(let T=b;T>=u;T--){for(const{cell:D,column:U,cellWidth:H}of[...new mi(n)])U<=T&&H>1&&U+H>T?ms("colspan",H-1,D,_):U===T&&_.remove(D);if(E[T]){const D=T===0?E[1]:E[T-1],U=parseFloat(E[T].getAttribute("columnWidth")),H=parseFloat(D.getAttribute("columnWidth"));_.remove(E[T]),_.setAttribute("columnWidth",U+H+"%",D)}}q1(n,this)||$1(n,this)})}splitCellVertically(n,s=2){const l=this.editor.model,u=n.parent.parent,f=parseInt(n.getAttribute("rowspan")||"1"),b=parseInt(n.getAttribute("colspan")||"1");l.change(_=>{if(b>1){const{newCellsSpan:E,updatedSpan:T}=IR(b,s);ms("colspan",T,n,_);const D={};E>1&&(D.colspan=E),f>1&&(D.rowspan=f),hm(b>s?s-1:b-1,_,_.createPositionAfter(n),D)}if(b<s){const E=s-b,T=[...new mi(u)],{column:D}=T.find(({cell:tt})=>tt===n),U=T.filter(({cell:tt,cellWidth:it,column:At})=>tt!==n&&At===D||At<D&&At+it>D);for(const{cell:tt,cellWidth:it}of U)_.setAttribute("colspan",it+E,tt);const H={};f>1&&(H.rowspan=f),hm(E,_,_.createPositionAfter(n),H);const $=u.getAttribute("headingColumns")||0;$>D&&ms("headingColumns",$+E,u,_)}})}splitCellHorizontally(n,s=2){const l=this.editor.model,u=n.parent,f=u.parent,b=f.getChildIndex(u),_=parseInt(n.getAttribute("rowspan")||"1"),E=parseInt(n.getAttribute("colspan")||"1");l.change(T=>{if(_>1){const D=[...new mi(f,{startRow:b,endRow:b+_-1,includeAllSlots:!0})],{newCellsSpan:U,updatedSpan:H}=IR(_,s);ms("rowspan",H,n,T);const{column:$}=D.find(({cell:it})=>it===n),tt={};U>1&&(tt.rowspan=U),E>1&&(tt.colspan=E);for(const it of D){const{column:At,row:bt}=it;bt>=b+H&&At===$&&(bt+b+H)%U==0&&hm(1,T,it.getPositionBefore(),tt)}}if(_<s){const D=s-_,U=[...new mi(f,{startRow:0,endRow:b})];for(const{cell:tt,cellHeight:it,row:At}of U)if(tt!==n&&At+it>b){const bt=it+D;T.setAttribute("rowspan",bt,tt)}const H={};E>1&&(H.colspan=E),X1(T,f,b+1,D,1,H);const $=f.getAttribute("headingRows")||0;$>b&&ms("headingRows",$+D,f,T)}})}getColumns(n){return[...n.getChild(0).getChildren()].reduce((s,l)=>s+parseInt(l.getAttribute("colspan")||"1"),0)}getRows(n){return Array.from(n.getChildren()).reduce((s,l)=>l.is("element","tableRow")?s+1:s,0)}createTableWalker(n,s={}){return new mi(n,s)}getSelectedTableCells(n){const s=[];for(const l of this.sortRanges(n.getRanges())){const u=l.getContainedElement();u&&u.is("element","tableCell")&&s.push(u)}return s}getTableCellsContainingSelection(n){const s=[];for(const l of n.getRanges()){const u=l.start.findAncestor("tableCell");u&&s.push(u)}return s}getSelectionAffectedTableCells(n){const s=this.getSelectedTableCells(n);return s.length?s:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const s=n.map(l=>l.parent.index);return this._getFirstLastIndexesObject(s)}getColumnIndexes(n){const s=n[0].findAncestor("table"),l=[...new mi(s)].filter(u=>n.includes(u.cell)).map(u=>u.column);return this._getFirstLastIndexesObject(l)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const s=new Set,l=new Set;let u=0;for(const b of n){const{row:_,column:E}=this.getCellLocation(b),T=parseInt(b.getAttribute("rowspan"))||1,D=parseInt(b.getAttribute("colspan"))||1;s.add(_),l.add(E),T>1&&s.add(_+T-1),D>1&&l.add(E+D-1),u+=T*D}return function(b,_){const E=Array.from(b.values()),T=Array.from(_.values()),D=Math.max(...E),U=Math.min(...E),H=Math.max(...T),$=Math.min(...T);return(D-U+1)*(H-$+1)}(s,l)==u}sortRanges(n){return Array.from(n).sort(GY)}_getFirstLastIndexesObject(n){const s=n.sort((l,u)=>l-u);return{first:s[0],last:s[s.length-1]}}_areCellInTheSameTableSection(n){const s=n[0].findAncestor("table"),l=this.getRowIndexes(n),u=parseInt(s.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(l,u))return!1;const f=this.getColumnIndexes(n),b=parseInt(s.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(f,b)}_areIndexesInSameSection({first:n,last:s},l){return n<l==s<l}}function X1(A,n,s,l,u,f={}){for(let b=0;b<l;b++){const _=A.createElement("tableRow");A.insert(_,n,s),hm(u,A,A.createPositionAt(_,"end"),f)}}function hm(A,n,s,l={}){for(let u=0;u<A;u++)Qf(n,s,l)}function IR(A,n){if(A<n)return{newCellsSpan:1,updatedSpan:1};const s=Math.floor(A/n);return{newCellsSpan:s,updatedSpan:A-s*n+s}}function GY(A,n){const s=A.start,l=n.start;return s.isBefore(l)?-1:1}class WY extends an{refresh(){const n=this.editor.plugins.get(yo),s=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(s)}execute(){const n=this.editor.model,s=this.editor.plugins.get(yo);n.change(l=>{const u=s.getSelectedTableCells(n.document.selection),f=u.shift(),{mergeWidth:b,mergeHeight:_}=function(E,T,D){let U=0,H=0;for(const bt of T){const{row:It,column:Wt}=D.getCellLocation(bt);U=MR(bt,Wt,U,"colspan"),H=MR(bt,It,H,"rowspan")}const{row:$,column:tt}=D.getCellLocation(E),it=U-tt,At=H-$;return{mergeWidth:it,mergeHeight:At}}(f,u,s);ms("colspan",b,f,l),ms("rowspan",_,f,l);for(const E of u)$Y(E,f,l);Y1(f.findAncestor("table"),s),l.setSelection(f,"in")})}}function $Y(A,n,s){DR(A)||(DR(n)&&s.remove(s.createRangeIn(n)),s.move(s.createRangeIn(A),s.createPositionAt(n,"end"))),s.remove(A)}function DR(A){const n=A.getChild(0);return A.childCount==1&&n.is("element","paragraph")&&n.isEmpty}function MR(A,n,s,l){const u=parseInt(A.getAttribute(l)||"1");return Math.max(s,n+u)}class qY extends an{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.model,s=this.editor.plugins.get("TableUtils"),l=s.getSelectionAffectedTableCells(n.document.selection),u=s.getRowIndexes(l),f=l[0].findAncestor("table"),b=[];for(let _=u.first;_<=u.last;_++)for(const E of f.getChild(_).getChildren())b.push(n.createRangeOn(E));n.change(_=>{_.setSelection(b)})}}class YY extends an{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=n.getSelectionAffectedTableCells(s.document.selection),u=l[0],f=l.pop(),b=u.findAncestor("table"),_=n.getCellLocation(u),E=n.getCellLocation(f),T=Math.min(_.column,E.column),D=Math.max(_.column,E.column),U=[];for(const H of new mi(b,{startColumn:T,endColumn:D}))U.push(s.createRangeOn(H.cell));s.change(H=>{H.setSelection(U)})}}function XY(A){A.document.registerPostFixer(n=>function(s,l){const u=l.document.differ.getChanges();let f=!1;const b=new Set;for(const _ of u){let E=null;_.type=="insert"&&_.name=="table"&&(E=_.position.nodeAfter),_.type!="insert"&&_.type!="remove"||_.name!="tableRow"&&_.name!="tableCell"||(E=_.position.findAncestor("table")),tX(_)&&(E=_.range.start.findAncestor("table")),E&&!b.has(E)&&(f=ZY(E,s)||f,f=JY(E,s)||f,b.add(E))}return f}(n,A))}function ZY(A,n){let s=!1;const l=function(u){const f=parseInt(u.getAttribute("headingRows")||"0"),b=Array.from(u.getChildren()).reduce((E,T)=>T.is("element","tableRow")?E+1:E,0),_=[];for(const{row:E,cell:T,cellHeight:D}of new mi(u)){if(D<2)continue;const U=E<f?f:b;if(E+D>U){const H=U-E;_.push({cell:T,rowspan:H})}}return _}(A);if(l.length){s=!0;for(const u of l)ms("rowspan",u.rowspan,u.cell,n,1)}return s}function JY(A,n){let s=!1;const l=function(_){const E=new Array(_.childCount).fill(0);for(const{rowIndex:T}of new mi(_,{includeAllSlots:!0}))E[T]++;return E}(A),u=[];for(const[_,E]of l.entries())!E&&A.getChild(_).is("element","tableRow")&&u.push(_);if(u.length){s=!0;for(const _ of u.reverse())n.remove(A.getChild(_)),l.splice(_,1)}const f=l.filter((_,E)=>A.getChild(E).is("element","tableRow")),b=f[0];if(!f.every(_=>_===b)){const _=f.reduce((E,T)=>T>E?T:E,0);for(const[E,T]of f.entries()){const D=_-T;if(D){for(let U=0;U<D;U++)Qf(n,n.createPositionAt(A.getChild(E),"end"));s=!0}}}return s}function tX(A){if(A.type!=="attribute")return!1;const n=A.attributeKey;return n==="headingRows"||n==="colspan"||n==="rowspan"}function eX(A){A.document.registerPostFixer(n=>function(s,l){const u=l.document.differ.getChanges();let f=!1;for(const b of u)b.type=="insert"&&b.name=="table"&&(f=nX(b.position.nodeAfter,s)||f),b.type=="insert"&&b.name=="tableRow"&&(f=LR(b.position.nodeAfter,s)||f),b.type=="insert"&&b.name=="tableCell"&&(f=Z1(b.position.nodeAfter,s)||f),b.type!="remove"&&b.type!="insert"||!iX(b)||(f=Z1(b.position.parent,s)||f);return f}(n,A))}function nX(A,n){let s=!1;for(const l of A.getChildren())l.is("element","tableRow")&&(s=LR(l,n)||s);return s}function LR(A,n){let s=!1;for(const l of A.getChildren())s=Z1(l,n)||s;return s}function Z1(A,n){if(A.childCount==0)return n.insertElement("paragraph",A),!0;const s=Array.from(A.getChildren()).filter(l=>l.is("$text"));for(const l of s)n.wrap(n.createRangeOn(l),"paragraph");return!!s.length}function iX(A){return!!A.position.parent.is("element","tableCell")&&(A.type=="insert"&&A.name=="$text"||A.type=="remove")}function sX(A,n){if(!A.is("element","paragraph"))return!1;const s=n.toViewElement(A);return!!s&&mR(A)!==s.is("element","span")}var PR=o(3881),rX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(PR.Z,rX),PR.Z.locals;class oX extends Zt{constructor(n){super(n),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[yo]}init(){const n=this.editor,s=n.model,l=s.schema,u=n.conversion,f=n.plugins.get(yo);l.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),l.register("tableRow",{allowIn:"table",isLimit:!0}),l.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),u.for("upcast").add(b=>{b.on("element:figure",(_,E,T)=>{if(!T.consumable.test(E.viewItem,{name:!0,classes:"table"}))return;const D=function(H){for(const $ of H.getChildren())if($.is("element","table"))return $}(E.viewItem);if(!D||!T.consumable.test(D,{name:!0}))return;T.consumable.consume(E.viewItem,{name:!0,classes:"table"});const U=ai(T.convertItem(D,E.modelCursor).modelRange.getItems());U?(T.convertChildren(E.viewItem,T.writer.createPositionAt(U,"end")),T.updateConversionResult(U,E)):T.consumable.revert(E.viewItem,{name:!0,classes:"table"})})}),u.for("upcast").add(OY()),u.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:fR(f,{asWidget:!0,additionalSlots:this._additionalSlots})}),u.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:fR(f,{additionalSlots:this._additionalSlots})}),u.for("upcast").elementToElement({model:"tableRow",view:"tr"}),u.for("upcast").add(b=>{b.on("element:tr",(_,E)=>{E.viewItem.isEmpty&&E.modelCursor.index==0&&_.stop()},{priority:"high"})}),u.for("downcast").elementToElement({model:"tableRow",view:(b,{writer:_})=>b.isEmpty?_.createEmptyElement("tr"):_.createContainerElement("tr")}),u.for("upcast").elementToElement({model:"tableCell",view:"td"}),u.for("upcast").elementToElement({model:"tableCell",view:"th"}),u.for("upcast").add(hR("td")),u.for("upcast").add(hR("th")),u.for("editingDowncast").elementToElement({model:"tableCell",view:pR({asWidget:!0})}),u.for("dataDowncast").elementToElement({model:"tableCell",view:pR()}),u.for("editingDowncast").elementToElement({model:"paragraph",view:gR({asWidget:!0}),converterPriority:"high"}),u.for("dataDowncast").elementToElement({model:"paragraph",view:gR(),converterPriority:"high"}),u.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),u.for("upcast").attributeToAttribute({model:{key:"colspan",value:FR("colspan")},view:"colspan"}),u.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),u.for("upcast").attributeToAttribute({model:{key:"rowspan",value:FR("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new UY(n)),n.commands.add("insertTableRowAbove",new bR(n,{order:"above"})),n.commands.add("insertTableRowBelow",new bR(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new wR(n,{order:"left"})),n.commands.add("insertTableColumnRight",new wR(n,{order:"right"})),n.commands.add("removeTableRow",new QY(n)),n.commands.add("removeTableColumn",new HY(n)),n.commands.add("splitTableCellVertically",new vR(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new vR(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new WY(n)),n.commands.add("mergeTableCellRight",new vy(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new vy(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new vy(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new vy(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new jY(n)),n.commands.add("setTableRowHeader",new zY(n)),n.commands.add("selectTableRow",new qY(n)),n.commands.add("selectTableColumn",new YY(n)),XY(s),eX(s),this.listenTo(s.document,"change:data",()=>{(function(b,_){const E=b.document.differ;for(const T of E.getChanges()){let D,U=!1;if(T.type=="attribute"){const it=T.range.start.nodeAfter;if(!it||!it.is("element","table")||T.attributeKey!="headingRows"&&T.attributeKey!="headingColumns")continue;D=it,U=T.attributeKey=="headingRows"}else T.name!="tableRow"&&T.name!="tableCell"||(D=T.position.findAncestor("table"),U=T.name=="tableRow");if(!D)continue;const H=D.getAttribute("headingRows")||0,$=D.getAttribute("headingColumns")||0,tt=new mi(D);for(const it of tt){const At=it.row<H||it.column<$?"th":"td",bt=_.mapper.toViewElement(it.cell);bt&&bt.is("element")&&bt.name!=At&&_.reconvertItem(U?it.cell.parent:it.cell)}}})(s,n.editing),function(b,_){const E=b.document.differ,T=new Set;for(const D of E.getChanges()){const U=D.type=="attribute"?D.range.start.parent:D.position.parent;U.is("element","tableCell")&&T.add(U)}for(const D of T.values()){const U=Array.from(D.getChildren()).filter(H=>sX(H,_.mapper));for(const H of U)_.reconvertItem(H)}}(s,n.editing)})}registerAdditionalSlot(n){this._additionalSlots.push(n)}}function FR(A){return n=>{const s=parseInt(n.getAttribute(A));return Number.isNaN(s)||s<=0?null:s}}var OR=o(1613),aX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(OR.Z,aX),OR.Z.locals;class lX extends on{constructor(n){super(n);const s=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Kn,this.focusTracker=new to,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(l,u)=>`${u} Ã ${l}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":s.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:s.to("label")}]}],on:{mousedown:s.to(l=>{l.preventDefault()}),click:s.to(()=>{this.fire("execute")})}}),this.on("boxover",(l,u)=>{const{row:f,column:b}=u.target.dataset;this.items.get(10*(parseInt(f,10)-1)+(parseInt(b,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(l,u,f)=>{if(!f)return;const{row:b,column:_}=f.dataset;this.set({rows:parseInt(b),columns:parseInt(_)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:n,focusTracker:s,gridItems:l,numberOfColumns:u,uiLanguageDirection:f}){const b=()=>u;function _(D){return U=>{const H=l.find(it=>it.element===s.focusedElement),$=l.getIndex(H),tt=D($,l);l.get(tt).focus(),U.stopPropagation(),U.preventDefault()}}function E(D,U){return D===U-1?0:D+1}function T(D,U){return D===0?U-1:D-1}n.set("arrowright",_((D,U)=>f==="rtl"?T(D,U.length):E(D,U.length))),n.set("arrowleft",_((D,U)=>f==="rtl"?E(D,U.length):T(D,U.length))),n.set("arrowup",_((D,U)=>{let H=D-b();return H<0&&(H=D+b()*Math.floor(U.length/b()),H>U.length-1&&(H-=b())),H})),n.set("arrowdown",_((D,U)=>{let H=D+b();return H>U.length-1&&(H=D%b()),H}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,s=this.columns;this.items.map((l,u)=>{const f=Math.floor(u/10)<n&&u%10<s;l.set("isOn",f)})}_createGridButton(n,s,l,u){const f=new xt(n);return f.set({label:u,class:"ck-insert-table-dropdown-grid-box"}),f.extendTemplate({attributes:{"data-row":s,"data-column":l}}),f}_createGridCollection(){const n=[];for(let s=0;s<100;s++){const l=Math.floor(s/10),u=s%10,f=`${l+1} Ã ${u+1}`;n.push(this._createGridButton(this.locale,l+1,u+1,f))}return this.createCollection(n)}}class cX extends Zt{static get pluginName(){return"TableUI"}init(){const n=this.editor,s=this.editor.t,l=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",u=>{const f=n.commands.get("insertTable"),b=Zu(u);let _;return b.bind("isEnabled").to(f),b.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:s("Insert table"),tooltip:!0}),b.on("change:isOpen",()=>{_||(_=new lX(u),b.panelView.children.add(_),_.delegate("execute").to(b),b.on("execute",()=>{n.execute("insertTable",{rows:_.rows,columns:_.columns}),n.editing.view.focus()}))}),b}),n.ui.componentFactory.add("tableColumn",u=>{const f=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:s("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:l?"insertTableColumnLeft":"insertTableColumnRight",label:s("Insert column left")}},{type:"button",model:{commandName:l?"insertTableColumnRight":"insertTableColumnLeft",label:s("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:s("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:s("Select column")}}];return this._prepareDropdown(s("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',f,u)}),n.ui.componentFactory.add("tableRow",u=>{const f=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:s("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:s("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:s("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:s("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:s("Select row")}}];return this._prepareDropdown(s("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',f,u)}),n.ui.componentFactory.add("mergeTableCells",u=>{const f=[{type:"button",model:{commandName:"mergeTableCellUp",label:s("Merge cell up")}},{type:"button",model:{commandName:l?"mergeTableCellRight":"mergeTableCellLeft",label:s("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:s("Merge cell down")}},{type:"button",model:{commandName:l?"mergeTableCellLeft":"mergeTableCellRight",label:s("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:s("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:s("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(s("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',f,u)})}_prepareDropdown(n,s,l,u){const f=this.editor,b=Zu(u),_=this._fillDropdownWithListOptions(b,l);return b.buttonView.set({label:n,icon:s,tooltip:!0}),b.bind("isEnabled").toMany(_,"isEnabled",(...E)=>E.some(T=>T)),this.listenTo(b,"execute",E=>{f.execute(E.source.commandName),E.source instanceof ce||f.editing.view.focus()}),b}_prepareMergeSplitButtonDropdown(n,s,l,u){const f=this.editor,b=Zu(u,r1),_="mergeTableCells",E=f.commands.get(_),T=this._fillDropdownWithListOptions(b,l);return b.buttonView.set({label:n,icon:s,tooltip:!0,isEnabled:!0}),b.bind("isEnabled").toMany([E,...T],"isEnabled",(...D)=>D.some(U=>U)),this.listenTo(b.buttonView,"execute",()=>{f.execute(_),f.editing.view.focus()}),this.listenTo(b,"execute",D=>{f.execute(D.source.commandName),f.editing.view.focus()}),b}_fillDropdownWithListOptions(n,s){const l=this.editor,u=[],f=new Hs;for(const b of s)dX(b,l,u,f);return wF(n,f),u}}function dX(A,n,s,l){if(A.type==="button"||A.type==="switchbutton"){const u=A.model=new YF(A.model),{commandName:f,bindIsOn:b}=A.model,_=n.commands.get(f);s.push(_),u.set({commandName:f}),u.bind("isEnabled").to(_),b&&u.bind("isOn").to(_,"value"),u.set({withText:!0})}l.add(A)}var NR=o(6945),AX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(NR.Z,AX),NR.Z.locals;class Hf extends Zt{static get pluginName(){return"TableSelection"}static get requires(){return[yo,yo]}init(){const n=this.editor,s=n.model,l=n.editing.view;this.listenTo(s,"deleteContent",(u,f)=>this._handleDeleteContent(u,f),{priority:"high"}),this.listenTo(l.document,"insertText",(u,f)=>this._handleInsertTextEvent(u,f),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(yo),s=this.editor.model.document.selection,l=n.getSelectedTableCells(s);return l.length==0?null:l}getSelectionAsFragment(){const n=this.editor.plugins.get(yo),s=this.getSelectedTableCells();return s?this.editor.model.change(l=>{const u=l.createDocumentFragment(),{first:f,last:b}=n.getColumnIndexes(s),{first:_,last:E}=n.getRowIndexes(s),T=s[0].findAncestor("table");let D=E,U=b;if(n.isSelectionRectangular(s)){const $={firstColumn:f,lastColumn:b,firstRow:_,lastRow:E};D=BR(T,$),U=SR(T,$)}const H=_R(T,{startRow:_,startColumn:f,endRow:D,endColumn:U},l);return l.insert(H,u,0),u}):null}setCellSelection(n,s){const l=this._getCellsToSelect(n,s);this.editor.model.change(u=>{u.setSelection(l.cells.map(f=>u.createRangeOn(f)),{backward:l.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const n=ai(this.editor.model.document.selection.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const n=this.editor,s=new Set;n.conversion.for("editingDowncast").add(l=>l.on("selection",(u,f,b)=>{const _=b.writer;(function(D){for(const U of s)D.removeClass("ck-editor__editable_selected",U);s.clear()})(_);const E=this.getSelectedTableCells();if(!E)return;for(const D of E){const U=b.mapper.toViewElement(D);_.addClass("ck-editor__editable_selected",U),s.add(U)}const T=b.mapper.toViewElement(E[E.length-1]);_.setSelection(T,0)},{priority:"lowest"}))}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const s=this.getSelectedTableCells();if(!s)return;n.model.change(l=>{const u=l.createPositionAt(s[0],0),f=n.model.schema.getNearestSelectionRange(u);l.setSelection(f)})}})}_handleDeleteContent(n,s){const l=this.editor.plugins.get(yo),u=s[0],f=s[1],b=this.editor.model,_=!f||f.direction=="backward",E=l.getSelectedTableCells(u);E.length&&(n.stop(),b.change(T=>{const D=E[_?E.length-1:0];b.change(H=>{for(const $ of E)b.deleteContent(H.createSelection($,"in"))});const U=b.schema.getNearestSelectionRange(T.createPositionAt(D,0));u.is("documentSelection")?T.setSelection(U):u.setTo(U)}))}_handleInsertTextEvent(n,s){const l=this.editor,u=this.getSelectedTableCells();if(!u)return;const f=l.editing.view,b=l.editing.mapper,_=u.map(E=>f.createRangeOn(b.toViewElement(E)));s.selection=f.createSelection(_)}_getCellsToSelect(n,s){const l=this.editor.plugins.get("TableUtils"),u=l.getCellLocation(n),f=l.getCellLocation(s),b=Math.min(u.row,f.row),_=Math.max(u.row,f.row),E=Math.min(u.column,f.column),T=Math.max(u.column,f.column),D=new Array(_-b+1).fill(null).map(()=>[]),U={startRow:b,endRow:_,startColumn:E,endColumn:T};for(const{row:tt,cell:it}of new mi(n.findAncestor("table"),U))D[tt-b].push(it);const H=f.row<u.row,$=f.column<u.column;return H&&D.reverse(),$&&D.forEach(tt=>tt.reverse()),{cells:D.flat(),backward:H||$}}}class uX extends Zt{static get pluginName(){return"TableClipboard"}static get requires(){return[Hf,yo]}init(){const n=this.editor,s=n.editing.view.document;this.listenTo(s,"copy",(l,u)=>this._onCopyCut(l,u)),this.listenTo(s,"cut",(l,u)=>this._onCopyCut(l,u)),this.listenTo(n.model,"insertContent",(l,[u,f])=>this._onInsertContent(l,u,f),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,s){const l=this.editor.plugins.get(Hf);if(!l.getSelectedTableCells()||n.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;s.preventDefault(),n.stop();const u=this.editor.data,f=this.editor.editing.view.document,b=u.toView(l.getSelectionAsFragment());f.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:b,method:n.name})}_onInsertContent(n,s,l){if(l&&!l.is("documentSelection"))return;const u=this.editor.model,f=this.editor.plugins.get(yo);let b=this.getTableIfOnlyTableInContent(s,u);if(!b)return;const _=f.getSelectionAffectedTableCells(u.document.selection);_.length?(n.stop(),u.change(E=>{const T={width:f.getColumns(b),height:f.getRows(b)},D=function(At,bt,It,Wt){const he=At[0].findAncestor("table"),Ve=Wt.getColumnIndexes(At),bi=Wt.getRowIndexes(At),Pn={firstColumn:Ve.first,lastColumn:Ve.last,firstRow:bi.first,lastRow:bi.last},Ar=At.length===1;return Ar&&(Pn.lastRow+=bt.height-1,Pn.lastColumn+=bt.width-1,function(zs,fm,kd,Wl){const BA=Wl.getColumns(zs),SA=Wl.getRows(zs);kd>BA&&Wl.insertColumns(zs,{at:BA,columns:kd-BA}),fm>SA&&Wl.insertRows(zs,{at:SA,rows:fm-SA})}(he,Pn.lastRow+1,Pn.lastColumn+1,Wt)),Ar||!Wt.isSelectionRectangular(At)?function(zs,fm,kd){const{firstRow:Wl,lastRow:BA,firstColumn:SA,lastColumn:jf}=fm,eU={first:Wl,last:BA},nU={first:SA,last:jf};tS(zs,SA,eU,kd),tS(zs,jf+1,eU,kd),J1(zs,Wl,nU,kd),J1(zs,BA+1,nU,kd,Wl)}(he,Pn,It):(Pn.lastRow=BR(he,Pn),Pn.lastColumn=SR(he,Pn)),Pn}(_,T,E,f),U=D.lastRow-D.firstRow+1,H=D.lastColumn-D.firstColumn+1,$={startRow:0,startColumn:0,endRow:Math.min(U,T.height)-1,endColumn:Math.min(H,T.width)-1};b=_R(b,$,E);const tt=_[0].findAncestor("table"),it=this._replaceSelectedCellsWithPasted(b,T,tt,D,E);if(this.editor.plugins.get("TableSelection").isEnabled){const At=f.sortRanges(it.map(bt=>E.createRangeOn(bt)));E.setSelection(At)}else E.setSelection(it[0],0)})):Y1(b,f)}_replaceSelectedCellsWithPasted(n,s,l,u,f){const{width:b,height:_}=s,E=function(At,bt,It){const Wt=new Array(It).fill(null).map(()=>new Array(bt).fill(null));for(const{column:he,row:Ve,cell:bi}of new mi(At))Wt[Ve][he]=bi;return Wt}(n,b,_),T=[...new mi(l,{startRow:u.firstRow,endRow:u.lastRow,startColumn:u.firstColumn,endColumn:u.lastColumn,includeAllSlots:!0})],D=[];let U;for(const At of T){const{row:bt,column:It}=At;It===u.firstColumn&&(U=At.getPositionBefore());const Wt=bt-u.firstRow,he=It-u.firstColumn,Ve=E[Wt%_][he%b],bi=Ve?f.cloneElement(Ve):null,Pn=this._replaceTableSlotCell(At,bi,U,f);Pn&&(xR(Pn,bt,It,u.lastRow,u.lastColumn,f),D.push(Pn),U=f.createPositionAfter(Pn))}const H=parseInt(l.getAttribute("headingRows")||"0"),$=parseInt(l.getAttribute("headingColumns")||"0"),tt=u.firstRow<H&&H<=u.lastRow,it=u.firstColumn<$&&$<=u.lastColumn;if(tt){const At=J1(l,H,{first:u.firstColumn,last:u.lastColumn},f,u.firstRow);D.push(...At)}if(it){const At=tS(l,$,{first:u.firstRow,last:u.lastRow},f);D.push(...At)}return D}_replaceTableSlotCell(n,s,l,u){const{cell:f,isAnchor:b}=n;return b&&u.remove(f),s?(u.insert(s,l),s):null}getTableIfOnlyTableInContent(n,s){if(!n.is("documentFragment")&&!n.is("element"))return null;if(n.is("element","table"))return n;if(n.childCount==1&&n.getChild(0).is("element","table"))return n.getChild(0);const l=s.createRangeIn(n);for(const u of l.getItems())if(u.is("element","table")){const f=s.createRange(l.start,s.createPositionBefore(u));if(s.hasContent(f,{ignoreWhitespaces:!0}))return null;const b=s.createRange(s.createPositionAfter(u),l.end);return s.hasContent(b,{ignoreWhitespaces:!0})?null:u}return null}}function J1(A,n,s,l,u=0){if(!(n<1))return kR(A,n,u).filter(({column:f,cellWidth:b})=>RR(f,b,s)).map(({cell:f})=>yR(f,n,l))}function tS(A,n,s,l){if(!(n<1))return CR(A,n).filter(({row:u,cellHeight:f})=>RR(u,f,s)).map(({cell:u,column:f})=>ER(u,f,n,l))}function RR(A,n,s){const l=A+n-1,{first:u,last:f}=s;return A>=u&&A<=f||A<u&&l>=u}class hX extends Zt{static get pluginName(){return"TableKeyboard"}static get requires(){return[Hf,yo]}init(){const n=this.editor.editing.view.document;this.listenTo(n,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(n,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(n,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]})}_handleTabOnSelectedTable(n,s){const l=this.editor,u=l.model.document.selection.getSelectedElement();u&&u.is("element","table")&&(s.preventDefault(),s.stopPropagation(),n.stop(),l.model.change(f=>{f.setSelection(f.createRangeIn(u.getChild(0).getChild(0)))}))}_handleTab(n,s){const l=this.editor,u=this.editor.plugins.get(yo),f=this.editor.plugins.get("TableSelection"),b=l.model.document.selection,_=!s.shiftKey;let E=u.getTableCellsContainingSelection(b)[0];if(E||(E=f.getFocusCell()),!E)return;s.preventDefault(),s.stopPropagation(),n.stop();const T=E.parent,D=T.parent,U=D.getChildIndex(T),H=T.getChildIndex(E),$=H===0;if(!_&&$&&U===0)return void l.model.change(bt=>{bt.setSelection(bt.createRangeOn(D))});const tt=H===T.childCount-1,it=U===u.getRows(D)-1;if(_&&it&&tt&&(l.execute("insertTableRowBelow"),U===u.getRows(D)-1))return void l.model.change(bt=>{bt.setSelection(bt.createRangeOn(D))});let At;if(_&&tt)At=D.getChild(U+1).getChild(0);else if(!_&&$){const bt=D.getChild(U-1);At=bt.getChild(bt.childCount-1)}else At=T.getChild(H+(_?1:-1));l.model.change(bt=>{bt.setSelection(bt.createRangeIn(At))})}_onArrowKey(n,s){const l=this.editor,u=ds(s.keyCode,l.locale.contentLanguageDirection);this._handleArrowKeys(u,s.shiftKey)&&(s.preventDefault(),s.stopPropagation(),n.stop())}_handleArrowKeys(n,s){const l=this.editor.plugins.get(yo),u=this.editor.plugins.get("TableSelection"),f=this.editor.model,b=f.document.selection,_=["right","down"].includes(n),E=l.getSelectedTableCells(b);if(E.length){let D;return D=s?u.getFocusCell():_?E[E.length-1]:E[0],this._navigateFromCellInDirection(D,n,s),!0}const T=b.focus.findAncestor("tableCell");if(!T)return!1;if(!b.isCollapsed)if(s){if(b.isBackward==_&&!b.containsEntireContent(T))return!1}else{const D=b.getSelectedElement();if(!D||!f.schema.isObject(D))return!1}return!!this._isSelectionAtCellEdge(b,T,_)&&(this._navigateFromCellInDirection(T,n,s),!0)}_isSelectionAtCellEdge(n,s,l){const u=this.editor.model,f=this.editor.model.schema,b=l?n.getLastPosition():n.getFirstPosition();if(!f.getLimitElement(b).is("element","tableCell"))return u.createPositionAt(s,l?"end":0).isTouching(b);const _=u.createSelection(b);return u.modifySelection(_,{direction:l?"forward":"backward"}),b.isEqual(_.focus)}_navigateFromCellInDirection(n,s,l=!1){const u=this.editor.model,f=n.findAncestor("table"),b=[...new mi(f,{includeAllSlots:!0})],{row:_,column:E}=b[b.length-1],T=b.find(({cell:it})=>it==n);let{row:D,column:U}=T;switch(s){case"left":U--;break;case"up":D--;break;case"right":U+=T.cellWidth;break;case"down":D+=T.cellHeight}if(D<0||D>_||U<0&&D<=0||U>E&&D>=_)return void u.change(it=>{it.setSelection(it.createRangeOn(f))});U<0?(U=l?0:E,D--):U>E&&(U=l?E:0,D++);const H=b.find(it=>it.row==D&&it.column==U).cell,$=["right","down"].includes(s),tt=this.editor.plugins.get("TableSelection");if(l&&tt.isEnabled){const it=tt.getAnchorCell()||n;tt.setCellSelection(it,H)}else{const it=u.createPositionAt(H,$?0:"end");u.change(At=>{At.setSelection(it)})}}}class fX extends qu{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class pX extends Zt{static get pluginName(){return"TableMouse"}static get requires(){return[Hf,yo]}init(){this.editor.editing.view.addObserver(fX),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,s=n.plugins.get(yo);let l=!1;const u=n.plugins.get(Hf);this.listenTo(n.editing.view.document,"mousedown",(f,b)=>{const _=n.model.document.selection;if(!this.isEnabled||!u.isEnabled||!b.domEvent.shiftKey)return;const E=u.getAnchorCell()||s.getTableCellsContainingSelection(_)[0];if(!E)return;const T=this._getModelTableCellFromDomEvent(b);T&&UR(E,T)&&(l=!0,u.setCellSelection(E,T),b.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{l=!1}),this.listenTo(n.editing.view.document,"selectionChange",f=>{l&&f.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let s,l,u=!1,f=!1;const b=n.plugins.get(Hf);this.listenTo(n.editing.view.document,"mousedown",(_,E)=>{this.isEnabled&&b.isEnabled&&(E.domEvent.shiftKey||E.domEvent.ctrlKey||E.domEvent.altKey||(s=this._getModelTableCellFromDomEvent(E)))}),this.listenTo(n.editing.view.document,"mousemove",(_,E)=>{if(!E.domEvent.buttons||!s)return;const T=this._getModelTableCellFromDomEvent(E);T&&UR(s,T)&&(l=T,u||l==s||(u=!0)),u&&(f=!0,b.setCellSelection(s,l),E.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{u=!1,f=!1,s=null,l=null}),this.listenTo(n.editing.view.document,"selectionChange",_=>{f&&_.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const s=n.target,l=this.editor.editing.view.createPositionAt(s,0);return this.editor.editing.mapper.toModelPosition(l).parent.findAncestor("tableCell",{includeSelf:!0})}}function UR(A,n){return A.parent.parent==n.parent.parent}var QR=o(6306),gX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(QR.Z,gX),QR.Z.locals;function mX(A){const n=A.getSelectedElement();return n&&HR(n)?n:null}function bX(A){const n=A.getFirstPosition();if(!n)return null;let s=n.parent;for(;s;){if(s.is("element")&&HR(s))return s;s=s.parent}return null}function HR(A){return!!A.getCustomProperty("table")&&As(A)}var zR=o(7368),wX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(zR.Z,wX),zR.Z.locals;var jR=o(9247),vX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(jR.Z,vX),jR.Z.locals;var VR=o(4070),_X={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(VR.Z,_X),VR.Z.locals;var KR=o(6237),kX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(KR.Z,kX),KR.Z.locals;var GR=o(5087),yX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(GR.Z,yX),GR.Z.locals;const zf=Ca.defaultPositions;zf.northArrowSouth,zf.northArrowSouthWest,zf.northArrowSouthEast,zf.southArrowNorth,zf.southArrowNorthWest,zf.southArrowNorthEast,zf.viewportStickyNorth;var WR=o(7341),CX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(WR.Z,CX),WR.Z.locals;var $R=o(2128),EX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()($R.Z,EX),$R.Z.locals;var qR=o(4101),xX={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};be()(qR.Z,xX),qR.Z.locals;var BX=Object.defineProperty,YR=Object.getOwnPropertySymbols,SX=Object.prototype.hasOwnProperty,TX=Object.prototype.propertyIsEnumerable,XR=(A,n,s)=>n in A?BX(A,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):A[n]=s,ZR=(A,n)=>{for(var s in n||(n={}))SX.call(n,s)&&XR(A,s,n[s]);if(YR)for(var s of YR(n))TX.call(n,s)&&XR(A,s,n[s]);return A};const IX={autoRefresh:!0},JR=36e5;class eS extends ae(){constructor(n,s={}){if(super(),!n)throw new K("token-missing-token-url",this);s.initValue&&this._validateTokenValue(s.initValue),this.set("value",s.initValue),this._refresh=typeof n=="function"?n:()=>{return l=n,new Promise((u,f)=>{const b=new XMLHttpRequest;b.open("GET",l),b.addEventListener("load",()=>{const _=b.status,E=b.response;return _<200||_>299?f(new K("token-cannot-download-new-token",null)):u(E)}),b.addEventListener("error",()=>f(new Error("Network Error"))),b.addEventListener("abort",()=>f(new Error("Abort"))),b.send()});var l},this._options=ZR(ZR({},IX),s)}init(){return new Promise((n,s)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),n(this)):this.refreshToken().then(n).catch(s)})}refreshToken(){return this._refresh().then(n=>(this._validateTokenValue(n),this.set("value",n),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(n){const s=typeof n=="string",l=!/^".*"$/.test(n),u=s&&n.split(".").length===3;if(!l||!u)throw new K("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const n=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,n]=this.value.split("."),{exp:s}=JSON.parse(atob(n));return s?Math.floor((1e3*s-Date.now())/2):JR}catch{return JR}}static create(n,s={}){return new eS(n,s).init()}}const nS=/^data:(\S*?);base64,/;class DX extends Dt(){constructor(n,s,l){if(super(),!n)throw new K("fileuploader-missing-file",null);if(!s)throw new K("fileuploader-missing-token",null);if(!l)throw new K("fileuploader-missing-api-address",null);this.file=function(u){if(typeof u!="string")return!1;const f=u.match(nS);return!(!f||!f.length)}(n)?function(u,f=512){try{const b=u.match(nS)[1],_=atob(u.replace(nS,"")),E=[];for(let T=0;T<_.length;T+=f){const D=_.slice(T,T+f),U=new Array(D.length);for(let H=0;H<D.length;H++)U[H]=D.charCodeAt(H);E.push(new Uint8Array(U))}return new Blob(E,{type:b})}catch{throw new K("fileuploader-decoding-image-data-error",null)}}(n):n,this._token=s,this._apiAddress=l}onProgress(n){return this.on("progress",(s,l)=>n(l)),this}onError(n){return this.once("error",(s,l)=>n(l)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const n=new XMLHttpRequest;n.open("POST",this._apiAddress),n.setRequestHeader("Authorization",this._token.value),n.responseType="json",this.xhr=n}_attachXHRListeners(){const n=this.xhr,s=l=>()=>this.fire("error",l);n.addEventListener("error",s("Network Error")),n.addEventListener("abort",s("Abort")),n.upload&&n.upload.addEventListener("progress",l=>{l.lengthComputable&&this.fire("progress",{total:l.total,uploaded:l.loaded})}),n.addEventListener("load",()=>{const l=n.status,u=n.response;if(l<200||l>299)return this.fire("error",u.message||u.error)})}_sendRequest(){const n=new FormData,s=this.xhr;return n.append("file",this.file),new Promise((l,u)=>{s.addEventListener("load",()=>{const f=s.status,b=s.response;return f<200||f>299?b.message?u(new K("fileuploader-uploading-data-failed",this,{message:b.message})):u(b.error):l(b)}),s.addEventListener("error",()=>u(new Error("Network Error"))),s.addEventListener("abort",()=>u(new Error("Abort"))),s.send(n)})}}class MX{constructor(n,s){if(!n)throw new K("uploadgateway-missing-token",null);if(!s)throw new K("uploadgateway-missing-api-address",null);this._token=n,this._apiAddress=s}upload(n){return new DX(n,this._token,this._apiAddress)}}class LX extends tl{static get pluginName(){return"CloudServicesCore"}createToken(n,s){return new eS(n,s)}createUploadGateway(n,s){return new MX(n,s)}}var tU=(A,n,s)=>new Promise((l,u)=>{var f=E=>{try{_(s.next(E))}catch(T){u(T)}},b=E=>{try{_(s.throw(E))}catch(T){u(T)}},_=E=>E.done?l(E.value):Promise.resolve(E.value).then(f,b);_((s=s.apply(A,n)).next())});class iS extends ay{}iS.builtinPlugins=[class extends Zt{static get requires(){return[G2,Ay,T7,a7,X$,J2]}static get pluginName(){return"Essentials"}},class extends Zt{static get requires(){return[Mc]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const A=this.editor.config.get("ckfinder.uploadUrl");A&&(this.editor.plugins.get(Mc).createUploadAdapter=n=>new j7(n,A,this.editor.t))}},class extends Zt{static get requires(){return[EA]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const A=this.editor.commands;A.get("bulletedList")&&eh(this.editor,this,/^[*-]\s$/,"bulletedList"),A.get("numberedList")&&eh(this.editor,this,/^1[.|)]\s$/,"numberedList"),A.get("todoList")&&eh(this.editor,this,/^\[\s?\]\s$/,"todoList"),A.get("checkTodoList")&&eh(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const A=this.editor.commands;if(A.get("bold")){const n=fy(this.editor,"bold");cm(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),cm(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(A.get("italic")){const n=fy(this.editor,"italic");cm(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),cm(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(A.get("code")){const n=fy(this.editor,"code");cm(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(A.get("strikethrough")){const n=fy(this.editor,"strikethrough");cm(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const A=this.editor.commands.get("heading");A&&A.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const s=n[7],l=new RegExp(`^(#{${s}})\\s$`);eh(this.editor,this,l,()=>{if(!A.isEnabled||A.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&eh(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const A=this.editor,n=A.model.document.selection;A.commands.get("codeBlock")&&eh(A,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&eh(this.editor,this,/^---$/,"horizontalLine")}},class extends Zt{static get requires(){return[V7,K7]}static get pluginName(){return"Bold"}},class extends Zt{static get requires(){return[W7,$7]}static get pluginName(){return"Italic"}},class extends Zt{static get requires(){return[Y7,Z7]}static get pluginName(){return"BlockQuote"}},class extends Zt{static get pluginName(){return"CKBox"}static get requires(){return[I1,J7]}},class extends Zt{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",d9,l9]}},class extends tl{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[LX]}init(){return tU(this,null,function*(){const A=this.context.config.get("cloudServices")||{};for(const[s,l]of Object.entries(A))this[s]=l;if(!this.tokenUrl)return void(this.token=null);const n=this.context.plugins.get("CloudServicesCore");this.token=yield n.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(A){return tU(this,null,function*(){if(this._tokens.has(A))return this.getTokenFor(A);const n=this.context.plugins.get("CloudServicesCore"),s=yield n.createToken(A).init();return this._tokens.set(A,s),s})}getTokenFor(A){const n=this._tokens.get(A);if(!n)throw new K("cloudservices-token-not-registered",this);return n}destroy(){super.destroy();for(const A of this._tokens.values())A.destroy()}},class extends Zt{static get pluginName(){return"EasyImage"}static get requires(){return[A9,"ImageUpload"]}init(){const A=this.editor;A.plugins.has("ImageBlockEditing")||A.plugins.has("ImageInlineEditing")||J("easy-image-image-feature-missing",A)}},class extends Zt{static get requires(){return[g9,b9]}static get pluginName(){return"Heading"}},class extends Zt{static get requires(){return[F9,N9]}static get pluginName(){return"Image"}},class extends Zt{static get requires(){return[U9,Q9]}static get pluginName(){return"ImageCaption"}},class extends Zt{static get requires(){return[lN,Aq]}static get pluginName(){return"ImageStyle"}},class extends Zt{static get requires(){return[hy,Lc]}static get pluginName(){return"ImageToolbar"}afterInit(){const A=this.editor,n=A.t,s=A.plugins.get(hy),l=A.plugins.get("ImageUtils");var u;s.register("image",{ariaLabel:n("Image toolbar"),items:(u=A.config.get("image.toolbar")||[],u.map(f=>Pt(f)?f.name:f)),getRelatedElement:f=>l.getClosestSelectedImageWidget(f)})}},class extends Zt{static get pluginName(){return"ImageUpload"}static get requires(){return[tq,j9,W9]}},class extends Zt{static get pluginName(){return"Indent"}static get requires(){return[uq,hq]}},class extends Zt{static get requires(){return[Rq,jq,Kq]}static get pluginName(){return"Link"}},class extends Zt{static get requires(){return[uY,Jq]}static get pluginName(){return"List"}},class extends Zt{static get requires(){return[wy,_Y,bY,Jw]}static get pluginName(){return"MediaEmbed"}},D1,class extends Zt{static get pluginName(){return"PasteFromOffice"}static get requires(){return[vd]}init(){const A=this.editor,n=A.plugins.get("ClipboardPipeline"),s=A.editing.view.document,l=[];l.push(new IY(s)),l.push(new MY(s)),l.push(new PY(s)),n.on("inputTransformation",(u,f)=>{if(f._isTransformedWithPasteFromOffice||A.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const b=f.dataTransfer.getData("text/html"),_=l.find(E=>E.isActive(b));_&&(f._parsedData||(f._parsedData=FY(b,s.stylesProcessor)),_.execute(f),f._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Zt{static get requires(){return[L1,Lc]}static get pluginName(){return"PictureEditing"}afterInit(){const A=this.editor;A.plugins.has("ImageBlockEditing")&&A.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),A.plugins.has("ImageInlineEditing")&&A.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const A=this.editor,n=A.conversion,s=A.plugins.get("ImageUtils");n.for("upcast").add(function(l){const u=["srcset","media","type","sizes"],f=(b,_,E)=>{const T=_.viewItem;if(!E.consumable.test(T,{name:!0}))return;const D=new Map;for(const $ of T.getChildren())if($.is("element","source")){const tt={};for(const it of u)$.hasAttribute(it)&&E.consumable.test($,{attributes:it})&&(tt[it]=$.getAttribute(it));Object.keys(tt).length&&D.set($,tt)}const U=l.findViewImgElement(T);if(!U)return;let H=_.modelCursor.parent;if(!H.is("element","imageBlock")){const $=E.convertItem(U,_.modelCursor);_.modelRange=$.modelRange,_.modelCursor=$.modelCursor,H=ai($.modelRange.getItems())}E.consumable.consume(T,{name:!0});for(const[$,tt]of D)E.consumable.consume($,{attributes:Object.keys(tt)});D.size&&E.writer.setAttribute("sources",Array.from(D.values()),H),E.convertChildren(T,H)};return b=>{b.on("element:picture",f)}}(s)),n.for("downcast").add(function(l){const u=(f,b,_)=>{if(!_.consumable.consume(b.item,f.name))return;const E=_.writer,T=_.mapper.toViewElement(b.item),D=l.findViewImgElement(T),U=b.attributeNewValue;if(U&&U.length){const H=E.createContainerElement("picture",null,U.map(it=>E.createEmptyElement("source",it))),$=[];let tt=D.parent;for(;tt&&tt.is("attributeElement");){const it=tt.parent;E.unwrap(E.createRangeOn(D),tt),$.unshift(tt),tt=it}E.insert(E.createPositionBefore(D),H),E.move(E.createRangeOn(D),E.createPositionAt(H,"end"));for(const it of $)E.wrap(E.createRangeOn(H),it)}else if(D.parent.is("element","picture")){const H=D.parent;E.move(E.createRangeOn(D),E.createPositionBefore(H)),E.remove(H)}};return f=>{f.on("attribute:sources:imageBlock",u),f.on("attribute:sources:imageInline",u)}}(s))}_setupImageUploadEditingIntegration(){const A=this.editor;if(!A.plugins.has("ImageUploadEditing"))return;const n=A.plugins.get("ImageUploadEditing");this.listenTo(n,"uploadComplete",(s,{imageElement:l,data:u})=>{const f=u.sources;f&&A.model.change(b=>{b.setAttributes({sources:f},l)})})}},class extends Zt{static get requires(){return[oX,cX,Hf,pX,hX,uX,Jw]}static get pluginName(){return"Table"}},class extends Zt{static get requires(){return[hy]}static get pluginName(){return"TableToolbar"}afterInit(){const A=this.editor,n=A.t,s=A.plugins.get(hy),l=A.config.get("table.contentToolbar"),u=A.config.get("table.tableToolbar");l&&s.register("tableContent",{ariaLabel:n("Table toolbar"),items:l,getRelatedElement:bX}),u&&s.register("table",{ariaLabel:n("Table toolbar"),items:u,getRelatedElement:mX})}},class extends Zt{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(A){super(A),A.config.define("typing",{transformations:{include:t7}})}init(){const A=this.editor.model.document.selection;A.on("change:range",()=>{this.isEnabled=!A.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const A=this.editor,n=A.model,s=A.plugins.get("Delete"),l=function(f){const b=f.extra||[],_=f.remove||[],E=T=>!_.includes(T);return function(T){const D=new Set;for(const U of T)if(typeof U=="string"&&y2[U])for(const H of y2[U])D.add(H);else D.add(U);return Array.from(D)}(f.include.concat(b).filter(E)).filter(E).map(T=>typeof T=="string"&&k2[T]?k2[T]:T).filter(T=>typeof T=="object").map(T=>({from:e7(T.from),to:n7(T.to)}))}(A.config.get("typing.transformations")),u=new w2(A.model,f=>{for(const b of l)if(b.from.test(f))return{normalizedTransformation:b}});u.on("matched:data",(f,b)=>{if(!b.batch.isTyping)return;const{from:_,to:E}=b.normalizedTransformation,T=_.exec(b.text),D=E(T.slice(1)),U=b.range;let H=T.index;n.enqueueChange($=>{for(let tt=1;tt<T.length;tt++){const it=T[tt],At=D[tt-1];if(At==null){H+=it.length;continue}const bt=U.start.getShiftedBy(H),It=n.createRange(bt,bt.getShiftedBy(it.length)),Wt=i7(bt);n.insertContent($.createText(At,Wt),It),H+=At.length}n.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),u.bind("isEnabled").to(this)}}],iS.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),a=a.default})())}(Rv,Rv.exports)),Rv.exports}var ult=Alt();const aQ=Px(ult);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hD=function(r,t){return hD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},hD(r,t)};function nd(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hD(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var fD=function(){return fD=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},fD.apply(this,arguments)};function oa(r,t,e,i){function o(a){return a instanceof e?a:new e(function(c){c(a)})}return new(e||(e=Promise))(function(a,c){function d(g){try{p(i.next(g))}catch(w){c(w)}}function h(g){try{p(i.throw(g))}catch(w){c(w)}}function p(g){g.done?a(g.value):o(g.value).then(d,h)}p((i=i.apply(r,[])).next())})}function Do(r,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(g){return h([p,g])}}function h(p){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return e.label++,{value:p[1],done:!1};case 5:e.label++,o=p[1],p=[0];continue;case 7:p=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){e=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){e.label=p[1];break}if(p[0]===6&&e.label<a[1]){e.label=a[1],a=p;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(p);break}a[2]&&e.ops.pop(),e.trys.pop();continue}p=t.call(r,e)}catch(g){p=[6,g],o=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function $y(r,t,e){if(arguments.length===2)for(var i=0,o=t.length,a;i<o;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return r.concat(a||t)}var Du=function(){function r(t,e,i,o){this.left=t,this.top=e,this.width=i,this.height=o}return r.prototype.add=function(t,e,i,o){return new r(this.left+t,this.top+e,this.width+i,this.height+o)},r.fromClientRect=function(t,e){return new r(e.left+t.windowBounds.left,e.top+t.windowBounds.top,e.width,e.height)},r.fromDOMRectList=function(t,e){var i=Array.from(e).find(function(o){return o.width!==0});return i?new r(i.left+t.windowBounds.left,i.top+t.windowBounds.top,i.width,i.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),rB=function(r,t){return Du.fromClientRect(r,t.getBoundingClientRect())},hlt=function(r){var t=r.body,e=r.documentElement;if(!t||!e)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth)),o=Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight));return new Du(0,0,i,o)},oB=function(r){for(var t=[],e=0,i=r.length;e<i;){var o=r.charCodeAt(e++);if(o>=55296&&o<=56319&&e<i){var a=r.charCodeAt(e++);(a&64512)===56320?t.push(((o&1023)<<10)+(a&1023)+65536):(t.push(o),e--)}else t.push(o)}return t},Ms=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var e=r.length;if(!e)return"";for(var i=[],o=-1,a="";++o<e;){var c=r[o];c<=65535?i.push(c):(c-=65536,i.push((c>>10)+55296,c%1024+56320)),(o+1===e||i.length>16384)&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return a},lQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",flt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qy=0;qy<lQ.length;qy++)flt[lQ.charCodeAt(qy)]=qy;var cQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Uv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yy=0;Yy<cQ.length;Yy++)Uv[cQ.charCodeAt(Yy)]=Yy;var plt=function(r){var t=r.length*.75,e=r.length,i,o=0,a,c,d,h;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var p=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),g=Array.isArray(p)?p:new Uint8Array(p);for(i=0;i<e;i+=4)a=Uv[r.charCodeAt(i)],c=Uv[r.charCodeAt(i+1)],d=Uv[r.charCodeAt(i+2)],h=Uv[r.charCodeAt(i+3)],g[o++]=a<<2|c>>4,g[o++]=(c&15)<<4|d>>2,g[o++]=(d&3)<<6|h&63;return p},glt=function(r){for(var t=r.length,e=[],i=0;i<t;i+=2)e.push(r[i+1]<<8|r[i]);return e},mlt=function(r){for(var t=r.length,e=[],i=0;i<t;i+=4)e.push(r[i+3]<<24|r[i+2]<<16|r[i+1]<<8|r[i]);return e},kg=5,RM=11,eT=2,blt=RM-kg,UV=65536>>kg,wlt=1<<kg,nT=wlt-1,vlt=1024>>kg,_lt=UV+vlt,klt=_lt,ylt=32,Clt=klt+ylt,Elt=65536>>RM,xlt=1<<blt,Blt=xlt-1,dQ=function(r,t,e){return r.slice?r.slice(t,e):new Uint16Array(Array.prototype.slice.call(r,t,e))},Slt=function(r,t,e){return r.slice?r.slice(t,e):new Uint32Array(Array.prototype.slice.call(r,t,e))},Tlt=function(r,t){var e=plt(r),i=Array.isArray(e)?mlt(e):new Uint32Array(e),o=Array.isArray(e)?glt(e):new Uint16Array(e),a=24,c=dQ(o,a/2,i[4]/2),d=i[5]===2?dQ(o,(a+i[4])/2):Slt(i,Math.ceil((a+i[4])/4));return new Ilt(i[0],i[1],i[2],i[3],c,d)},Ilt=function(){function r(t,e,i,o,a,c){this.initialValue=t,this.errorValue=e,this.highStart=i,this.highValueIndex=o,this.index=a,this.data=c}return r.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>kg],e=(e<<eT)+(t&nT),this.data[e];if(t<=65535)return e=this.index[UV+(t-55296>>kg)],e=(e<<eT)+(t&nT),this.data[e];if(t<this.highStart)return e=Clt-Elt+(t>>RM),e=this.index[e],e+=t>>kg&Blt,e=this.index[e],e=(e<<eT)+(t&nT),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),AQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dlt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xy=0;Xy<AQ.length;Xy++)Dlt[AQ.charCodeAt(Xy)]=Xy;var Mlt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",uQ=50,Llt=1,QV=2,HV=3,Plt=4,Flt=5,hQ=7,zV=8,fQ=9,Gh=10,pD=11,pQ=12,gD=13,Olt=14,Qv=15,mD=16,Zy=17,cv=18,Nlt=19,gQ=20,bD=21,dv=22,iT=23,ym=24,rl=25,Hv=26,zv=27,Cm=28,Rlt=29,sp=30,Ult=31,Jy=32,tC=33,wD=34,vD=35,_D=36,y_=37,kD=38,bE=39,wE=40,sT=41,jV=42,Qlt=43,Hlt=[9001,65288],VV="!",Fn="Ã",eC="Ã·",yD=Tlt(Mlt),DA=[sp,_D],CD=[Llt,QV,HV,Flt],KV=[Gh,zV],mQ=[zv,Hv],zlt=CD.concat(KV),bQ=[kD,bE,wE,wD,vD],jlt=[Qv,gD],Vlt=function(r,t){t===void 0&&(t="strict");var e=[],i=[],o=[];return r.forEach(function(a,c){var d=yD.get(a);if(d>uQ?(o.push(!0),d-=uQ):o.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return i.push(c),e.push(mD);if(d===Plt||d===pD){if(c===0)return i.push(c),e.push(sp);var h=e[c-1];return zlt.indexOf(h)===-1?(i.push(i[c-1]),e.push(h)):(i.push(c),e.push(sp))}if(i.push(c),d===Ult)return e.push(t==="strict"?bD:y_);if(d===jV||d===Rlt)return e.push(sp);if(d===Qlt)return a>=131072&&a<=196605||a>=196608&&a<=262141?e.push(y_):e.push(sp);e.push(d)}),[i,e,o]},rT=function(r,t,e,i){var o=i[e];if(Array.isArray(r)?r.indexOf(o)!==-1:r===o)for(var a=e;a<=i.length;){a++;var c=i[a];if(c===t)return!0;if(c!==Gh)break}if(o===Gh)for(var a=e;a>0;){a--;var d=i[a];if(Array.isArray(r)?r.indexOf(d)!==-1:r===d)for(var h=e;h<=i.length;){h++;var c=i[h];if(c===t)return!0;if(c!==Gh)break}if(d!==Gh)break}return!1},wQ=function(r,t){for(var e=r;e>=0;){var i=t[e];if(i===Gh)e--;else return i}return 0},Klt=function(r,t,e,i,o){if(e[i]===0)return Fn;var a=i-1;if(Array.isArray(o)&&o[a]===!0)return Fn;var c=a-1,d=a+1,h=t[a],p=c>=0?t[c]:0,g=t[d];if(h===QV&&g===HV)return Fn;if(CD.indexOf(h)!==-1)return VV;if(CD.indexOf(g)!==-1||KV.indexOf(g)!==-1)return Fn;if(wQ(a,t)===zV)return eC;if(yD.get(r[a])===pD||(h===Jy||h===tC)&&yD.get(r[d])===pD||h===hQ||g===hQ||h===fQ||[Gh,gD,Qv].indexOf(h)===-1&&g===fQ||[Zy,cv,Nlt,ym,Cm].indexOf(g)!==-1||wQ(a,t)===dv||rT(iT,dv,a,t)||rT([Zy,cv],bD,a,t)||rT(pQ,pQ,a,t))return Fn;if(h===Gh)return eC;if(h===iT||g===iT)return Fn;if(g===mD||h===mD)return eC;if([gD,Qv,bD].indexOf(g)!==-1||h===Olt||p===_D&&jlt.indexOf(h)!==-1||h===Cm&&g===_D||g===gQ||DA.indexOf(g)!==-1&&h===rl||DA.indexOf(h)!==-1&&g===rl||h===zv&&[y_,Jy,tC].indexOf(g)!==-1||[y_,Jy,tC].indexOf(h)!==-1&&g===Hv||DA.indexOf(h)!==-1&&mQ.indexOf(g)!==-1||mQ.indexOf(h)!==-1&&DA.indexOf(g)!==-1||[zv,Hv].indexOf(h)!==-1&&(g===rl||[dv,Qv].indexOf(g)!==-1&&t[d+1]===rl)||[dv,Qv].indexOf(h)!==-1&&g===rl||h===rl&&[rl,Cm,ym].indexOf(g)!==-1)return Fn;if([rl,Cm,ym,Zy,cv].indexOf(g)!==-1)for(var w=a;w>=0;){var v=t[w];if(v===rl)return Fn;if([Cm,ym].indexOf(v)!==-1)w--;else break}if([zv,Hv].indexOf(g)!==-1)for(var w=[Zy,cv].indexOf(h)!==-1?c:a;w>=0;){var v=t[w];if(v===rl)return Fn;if([Cm,ym].indexOf(v)!==-1)w--;else break}if(kD===h&&[kD,bE,wD,vD].indexOf(g)!==-1||[bE,wD].indexOf(h)!==-1&&[bE,wE].indexOf(g)!==-1||[wE,vD].indexOf(h)!==-1&&g===wE||bQ.indexOf(h)!==-1&&[gQ,Hv].indexOf(g)!==-1||bQ.indexOf(g)!==-1&&h===zv||DA.indexOf(h)!==-1&&DA.indexOf(g)!==-1||h===ym&&DA.indexOf(g)!==-1||DA.concat(rl).indexOf(h)!==-1&&g===dv&&Hlt.indexOf(r[d])===-1||DA.concat(rl).indexOf(g)!==-1&&h===cv)return Fn;if(h===sT&&g===sT){for(var k=e[a],y=1;k>0&&(k--,t[k]===sT);)y++;if(y%2!==0)return Fn}return h===Jy&&g===tC?Fn:eC},Glt=function(r,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var e=Vlt(r,t.lineBreak),i=e[0],o=e[1],a=e[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(o=o.map(function(d){return[rl,sp,jV].indexOf(d)!==-1?y_:d}));var c=t.wordBreak==="keep-all"?a.map(function(d,h){return d&&r[h]>=19968&&r[h]<=40959}):void 0;return[i,o,c]},Wlt=function(){function r(t,e,i,o){this.codePoints=t,this.required=e===VV,this.start=i,this.end=o}return r.prototype.slice=function(){return Ms.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),$lt=function(r,t){var e=oB(r),i=Glt(e,t),o=i[0],a=i[1],c=i[2],d=e.length,h=0,p=0;return{next:function(){if(p>=d)return{done:!0,value:null};for(var g=Fn;p<d&&(g=Klt(e,a,o,++p,c))===Fn;);if(g!==Fn||p===d){var w=new Wlt(e,g,h,p);return h=p,{value:w,done:!1}}return{done:!0,value:null}}}},qlt=1,Ylt=2,w0=4,vQ=8,XE=10,_Q=47,s_=92,Xlt=9,Zlt=32,nC=34,Av=61,Jlt=35,tct=36,ect=37,iC=39,sC=40,uv=41,nct=95,Pa=45,ict=33,sct=60,rct=62,oct=64,act=91,lct=93,cct=61,dct=123,rC=63,Act=125,kQ=124,uct=126,hct=128,yQ=65533,oT=42,Ap=43,fct=44,pct=58,gct=59,C_=46,mct=0,bct=8,wct=11,vct=14,_ct=31,kct=127,Bd=-1,GV=48,WV=97,$V=101,yct=102,Cct=117,Ect=122,qV=65,YV=69,XV=70,xct=85,Bct=90,Fo=function(r){return r>=GV&&r<=57},Sct=function(r){return r>=55296&&r<=57343},Em=function(r){return Fo(r)||r>=qV&&r<=XV||r>=WV&&r<=yct},Tct=function(r){return r>=WV&&r<=Ect},Ict=function(r){return r>=qV&&r<=Bct},Dct=function(r){return Tct(r)||Ict(r)},Mct=function(r){return r>=hct},oC=function(r){return r===XE||r===Xlt||r===Zlt},ZE=function(r){return Dct(r)||Mct(r)||r===nct},CQ=function(r){return ZE(r)||Fo(r)||r===Pa},Lct=function(r){return r>=mct&&r<=bct||r===wct||r>=vct&&r<=_ct||r===kct},lh=function(r,t){return r!==s_?!1:t!==XE},aC=function(r,t,e){return r===Pa?ZE(t)||lh(t,e):ZE(r)?!0:!!(r===s_&&lh(r,t))},aT=function(r,t,e){return r===Ap||r===Pa?Fo(t)?!0:t===C_&&Fo(e):Fo(r===C_?t:r)},Pct=function(r){var t=0,e=1;(r[t]===Ap||r[t]===Pa)&&(r[t]===Pa&&(e=-1),t++);for(var i=[];Fo(r[t]);)i.push(r[t++]);var o=i.length?parseInt(Ms.apply(void 0,i),10):0;r[t]===C_&&t++;for(var a=[];Fo(r[t]);)a.push(r[t++]);var c=a.length,d=c?parseInt(Ms.apply(void 0,a),10):0;(r[t]===YV||r[t]===$V)&&t++;var h=1;(r[t]===Ap||r[t]===Pa)&&(r[t]===Pa&&(h=-1),t++);for(var p=[];Fo(r[t]);)p.push(r[t++]);var g=p.length?parseInt(Ms.apply(void 0,p),10):0;return e*(o+d*Math.pow(10,-c))*Math.pow(10,h*g)},Fct={type:2},Oct={type:3},Nct={type:4},Rct={type:13},Uct={type:8},Qct={type:21},Hct={type:9},zct={type:10},jct={type:11},Vct={type:12},Kct={type:14},lC={type:23},Gct={type:1},Wct={type:25},$ct={type:24},qct={type:26},Yct={type:27},Xct={type:28},Zct={type:29},Jct={type:31},ED={type:32},ZV=function(){function r(){this._value=[]}return r.prototype.write=function(t){this._value=this._value.concat(oB(t))},r.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==ED;)t.push(e),e=this.consumeToken();return t},r.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case nC:return this.consumeStringToken(nC);case Jlt:var e=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(CQ(e)||lh(i,o)){var a=aC(e,i,o)?Ylt:qlt,c=this.consumeName();return{type:5,value:c,flags:a}}break;case tct:if(this.peekCodePoint(0)===Av)return this.consumeCodePoint(),Rct;break;case iC:return this.consumeStringToken(iC);case sC:return Fct;case uv:return Oct;case oT:if(this.peekCodePoint(0)===Av)return this.consumeCodePoint(),Kct;break;case Ap:if(aT(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case fct:return Nct;case Pa:var d=t,h=this.peekCodePoint(0),p=this.peekCodePoint(1);if(aT(d,h,p))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(aC(d,h,p))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(h===Pa&&p===rct)return this.consumeCodePoint(),this.consumeCodePoint(),$ct;break;case C_:if(aT(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case _Q:if(this.peekCodePoint(0)===oT)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===oT&&(g=this.consumeCodePoint(),g===_Q))return this.consumeToken();if(g===Bd)return this.consumeToken()}break;case pct:return qct;case gct:return Yct;case sct:if(this.peekCodePoint(0)===ict&&this.peekCodePoint(1)===Pa&&this.peekCodePoint(2)===Pa)return this.consumeCodePoint(),this.consumeCodePoint(),Wct;break;case oct:var w=this.peekCodePoint(0),v=this.peekCodePoint(1),k=this.peekCodePoint(2);if(aC(w,v,k)){var c=this.consumeName();return{type:7,value:c}}break;case act:return Xct;case s_:if(lh(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case lct:return Zct;case cct:if(this.peekCodePoint(0)===Av)return this.consumeCodePoint(),Uct;break;case dct:return jct;case Act:return Vct;case Cct:case xct:var y=this.peekCodePoint(0),x=this.peekCodePoint(1);return y===Ap&&(Em(x)||x===rC)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case kQ:if(this.peekCodePoint(0)===Av)return this.consumeCodePoint(),Hct;if(this.peekCodePoint(0)===kQ)return this.consumeCodePoint(),Qct;break;case uct:if(this.peekCodePoint(0)===Av)return this.consumeCodePoint(),zct;break;case Bd:return ED}return oC(t)?(this.consumeWhiteSpace(),Jct):Fo(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ZE(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ms(t)}},r.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},r.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},r.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},r.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();Em(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var i=!1;e===rC&&t.length<6;)t.push(e),e=this.consumeCodePoint(),i=!0;if(i){var o=parseInt(Ms.apply(void 0,t.map(function(h){return h===rC?GV:h})),16),a=parseInt(Ms.apply(void 0,t.map(function(h){return h===rC?XV:h})),16);return{type:30,start:o,end:a}}var c=parseInt(Ms.apply(void 0,t),16);if(this.peekCodePoint(0)===Pa&&Em(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var d=[];Em(e)&&d.length<6;)d.push(e),e=this.consumeCodePoint();var a=parseInt(Ms.apply(void 0,d),16);return{type:30,start:c,end:a}}else return{type:30,start:c,end:c}},r.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===sC?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===sC?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},r.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Bd)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===iC||e===nC){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Bd||this.peekCodePoint(0)===uv)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),lC)}for(;;){var o=this.consumeCodePoint();if(o===Bd||o===uv)return{type:22,value:Ms.apply(void 0,t)};if(oC(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Bd||this.peekCodePoint(0)===uv?(this.consumeCodePoint(),{type:22,value:Ms.apply(void 0,t)}):(this.consumeBadUrlRemnants(),lC);if(o===nC||o===iC||o===sC||Lct(o))return this.consumeBadUrlRemnants(),lC;if(o===s_)if(lh(o,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),lC;else t.push(o)}},r.prototype.consumeWhiteSpace=function(){for(;oC(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===uv||t===Bd)return;lh(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(t){for(var e=5e4,i="";t>0;){var o=Math.min(e,t);i+=Ms.apply(void 0,this._value.splice(0,o)),t-=o}return this._value.shift(),i},r.prototype.consumeStringToken=function(t){var e="",i=0;do{var o=this._value[i];if(o===Bd||o===void 0||o===t)return e+=this.consumeStringSlice(i),{type:0,value:e};if(o===XE)return this._value.splice(0,i),Gct;if(o===s_){var a=this._value[i+1];a!==Bd&&a!==void 0&&(a===XE?(e+=this.consumeStringSlice(i),i=-1,this._value.shift()):lh(o,a)&&(e+=this.consumeStringSlice(i),e+=Ms(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},r.prototype.consumeNumber=function(){var t=[],e=w0,i=this.peekCodePoint(0);for((i===Ap||i===Pa)&&t.push(this.consumeCodePoint());Fo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(i===C_&&Fo(o))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=vQ;Fo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0),o=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((i===YV||i===$V)&&((o===Ap||o===Pa)&&Fo(a)||Fo(o)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=vQ;Fo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Pct(t),e]},r.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],i=t[1],o=this.peekCodePoint(0),a=this.peekCodePoint(1),c=this.peekCodePoint(2);if(aC(o,a,c)){var d=this.consumeName();return{type:15,number:e,flags:i,unit:d}}return o===ect?(this.consumeCodePoint(),{type:16,number:e,flags:i}):{type:17,number:e,flags:i}},r.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Em(t)){for(var e=Ms(t);Em(this.peekCodePoint(0))&&e.length<6;)e+=Ms(this.consumeCodePoint());oC(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(e,16);return i===0||Sct(i)||i>1114111?yQ:i}return t===Bd?yQ:t},r.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(CQ(e))t+=Ms(e);else if(lh(e,this.peekCodePoint(0)))t+=Ms(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),t}},r}(),JV=function(){function r(t){this._tokens=t}return r.create=function(t){var e=new ZV;return e.write(t),new r(e.read())},r.parseValue=function(t){return r.create(t).parseComponentValue()},r.parseValues=function(t){return r.create(t).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===32)return t;t.push(e),t.push()}},r.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},r.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},i=this.consumeToken();;){if(i.type===32||edt(i,t))return e;this.reconsumeToken(i),e.values.push(this.consumeComponentValue()),i=this.consumeToken()}},r.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return e;this.reconsumeToken(i),e.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?ED:t},r.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},r}(),v0=function(r){return r.type===15},Ew=function(r){return r.type===17},Bi=function(r){return r.type===20},tdt=function(r){return r.type===0},xD=function(r,t){return Bi(r)&&r.value===t},t6=function(r){return r.type!==31},fw=function(r){return r.type!==31&&r.type!==4},nA=function(r){var t=[],e=[];return r.forEach(function(i){if(i.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(e),e=[];return}i.type!==31&&e.push(i)}),e.length&&t.push(e),t},edt=function(r,t){return t===11&&r.type===12||t===28&&r.type===29?!0:t===2&&r.type===3},lf=function(r){return r.type===17||r.type===15},Ks=function(r){return r.type===16||lf(r)},e6=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},fo={type:17,number:0,flags:w0},UM={type:16,number:50,flags:w0},Wh={type:16,number:100,flags:w0},jv=function(r,t,e){var i=r[0],o=r[1];return[Fi(i,t),Fi(typeof o<"u"?o:i,e)]},Fi=function(r,t){if(r.type===16)return r.number/100*t;if(v0(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},n6="deg",i6="grad",s6="rad",r6="turn",aB={name:"angle",parse:function(r,t){if(t.type===15)switch(t.unit){case n6:return Math.PI*t.number/180;case i6:return Math.PI/200*t.number;case s6:return t.number;case r6:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},o6=function(r){return r.type===15&&(r.unit===n6||r.unit===i6||r.unit===s6||r.unit===r6)},a6=function(r){var t=r.filter(Bi).map(function(e){return e.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[fo,fo];case"to top":case"bottom":return uc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[fo,Wh];case"to right":case"left":return uc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Wh,Wh];case"to bottom":case"top":return uc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Wh,fo];case"to left":case"right":return uc(270)}return 0},uc=function(r){return Math.PI*r/180},Jh={name:"color",parse:function(r,t){if(t.type===18){var e=ndt[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(r,t.values)}if(t.type===5){if(t.value.length===3){var i=t.value.substring(0,1),o=t.value.substring(1,2),a=t.value.substring(2,3);return $h(parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16),1)}if(t.value.length===4){var i=t.value.substring(0,1),o=t.value.substring(1,2),a=t.value.substring(2,3),c=t.value.substring(3,4);return $h(parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16),parseInt(c+c,16)/255)}if(t.value.length===6){var i=t.value.substring(0,2),o=t.value.substring(2,4),a=t.value.substring(4,6);return $h(parseInt(i,16),parseInt(o,16),parseInt(a,16),1)}if(t.value.length===8){var i=t.value.substring(0,2),o=t.value.substring(2,4),a=t.value.substring(4,6),c=t.value.substring(6,8);return $h(parseInt(i,16),parseInt(o,16),parseInt(a,16),parseInt(c,16)/255)}}if(t.type===20){var d=Eu[t.value.toUpperCase()];if(typeof d<"u")return d}return Eu.TRANSPARENT}},tf=function(r){return(255&r)===0},Dr=function(r){var t=255&r,e=255&r>>8,i=255&r>>16,o=255&r>>24;return t<255?"rgba("+o+","+i+","+e+","+t/255+")":"rgb("+o+","+i+","+e+")"},$h=function(r,t,e,i){return(r<<24|t<<16|e<<8|Math.round(i*255)<<0)>>>0},EQ=function(r,t){if(r.type===17)return r.number;if(r.type===16){var e=t===3?1:255;return t===3?r.number/100*e:Math.round(r.number/100*e)}return 0},xQ=function(r,t){var e=t.filter(fw);if(e.length===3){var i=e.map(EQ),o=i[0],a=i[1],c=i[2];return $h(o,a,c,1)}if(e.length===4){var d=e.map(EQ),o=d[0],a=d[1],c=d[2],h=d[3];return $h(o,a,c,h)}return 0};function lT(r,t,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(t-r)*e*6+r:e<1/2?t:e<2/3?(t-r)*6*(2/3-e)+r:r}var BQ=function(r,t){var e=t.filter(fw),i=e[0],o=e[1],a=e[2],c=e[3],d=(i.type===17?uc(i.number):aB.parse(r,i))/(Math.PI*2),h=Ks(o)?o.number/100:0,p=Ks(a)?a.number/100:0,g=typeof c<"u"&&Ks(c)?Fi(c,1):1;if(h===0)return $h(p*255,p*255,p*255,1);var w=p<=.5?p*(h+1):p+h-p*h,v=p*2-w,k=lT(v,w,d+1/3),y=lT(v,w,d),x=lT(v,w,d-1/3);return $h(k*255,y*255,x*255,g)},ndt={hsl:BQ,hsla:BQ,rgb:xQ,rgba:xQ},r_=function(r,t){return Jh.parse(r,JV.create(t).parseComponentValue())},Eu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},idt={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(e){if(Bi(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},sdt={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lB=function(r,t){var e=Jh.parse(r,t[0]),i=t[1];return i&&Ks(i)?{color:e,stop:i}:{color:e,stop:null}},SQ=function(r,t){var e=r[0],i=r[r.length-1];e.stop===null&&(e.stop=fo),i.stop===null&&(i.stop=Wh);for(var o=[],a=0,c=0;c<r.length;c++){var d=r[c].stop;if(d!==null){var h=Fi(d,t);h>a?o.push(h):o.push(a),a=h}else o.push(null)}for(var p=null,c=0;c<o.length;c++){var g=o[c];if(g===null)p===null&&(p=c);else if(p!==null){for(var w=c-p,v=o[p-1],k=(g-v)/(w+1),y=1;y<=w;y++)o[p+y-1]=k*y;p=null}}return r.map(function(x,I){var F=x.color;return{color:F,stop:Math.max(Math.min(1,o[I]/t),0)}})},rdt=function(r,t,e){var i=t/2,o=e/2,a=Fi(r[0],t)-i,c=o-Fi(r[1],e);return(Math.atan2(c,a)+Math.PI*2)%(Math.PI*2)},odt=function(r,t,e){var i=typeof r=="number"?r:rdt(r,t,e),o=Math.abs(t*Math.sin(i))+Math.abs(e*Math.cos(i)),a=t/2,c=e/2,d=o/2,h=Math.sin(i-Math.PI/2)*d,p=Math.cos(i-Math.PI/2)*d;return[o,a-p,a+p,c-h,c+h]},Pc=function(r,t){return Math.sqrt(r*r+t*t)},TQ=function(r,t,e,i,o){var a=[[0,0],[0,t],[r,0],[r,t]];return a.reduce(function(c,d){var h=d[0],p=d[1],g=Pc(e-h,i-p);return(o?g<c.optimumDistance:g>c.optimumDistance)?{optimumCorner:d,optimumDistance:g}:c},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},adt=function(r,t,e,i,o){var a=0,c=0;switch(r.size){case 0:r.shape===0?a=c=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(e),Math.abs(e-o)):r.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-i)),c=Math.min(Math.abs(e),Math.abs(e-o)));break;case 2:if(r.shape===0)a=c=Math.min(Pc(t,e),Pc(t,e-o),Pc(t-i,e),Pc(t-i,e-o));else if(r.shape===1){var d=Math.min(Math.abs(e),Math.abs(e-o))/Math.min(Math.abs(t),Math.abs(t-i)),h=TQ(i,o,t,e,!0),p=h[0],g=h[1];a=Pc(p-t,(g-e)/d),c=d*a}break;case 1:r.shape===0?a=c=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(e),Math.abs(e-o)):r.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-i)),c=Math.max(Math.abs(e),Math.abs(e-o)));break;case 3:if(r.shape===0)a=c=Math.max(Pc(t,e),Pc(t,e-o),Pc(t-i,e),Pc(t-i,e-o));else if(r.shape===1){var d=Math.max(Math.abs(e),Math.abs(e-o))/Math.max(Math.abs(t),Math.abs(t-i)),w=TQ(i,o,t,e,!1),p=w[0],g=w[1];a=Pc(p-t,(g-e)/d),c=d*a}break}return Array.isArray(r.size)&&(a=Fi(r.size[0],i),c=r.size.length===2?Fi(r.size[1],o):a),[a,c]},ldt=function(r,t){var e=uc(180),i=[];return nA(t).forEach(function(o,a){if(a===0){var c=o[0];if(c.type===20&&c.value==="to"){e=a6(o);return}else if(o6(c)){e=aB.parse(r,c);return}}var d=lB(r,o);i.push(d)}),{angle:e,stops:i,type:1}},cC=function(r,t){var e=uc(180),i=[];return nA(t).forEach(function(o,a){if(a===0){var c=o[0];if(c.type===20&&["top","left","right","bottom"].indexOf(c.value)!==-1){e=a6(o);return}else if(o6(c)){e=(aB.parse(r,c)+uc(270))%uc(360);return}}var d=lB(r,o);i.push(d)}),{angle:e,stops:i,type:1}},cdt=function(r,t){var e=uc(180),i=[],o=1,a=0,c=3,d=[];return nA(t).forEach(function(h,p){var g=h[0];if(p===0){if(Bi(g)&&g.value==="linear"){o=1;return}else if(Bi(g)&&g.value==="radial"){o=2;return}}if(g.type===18){if(g.name==="from"){var w=Jh.parse(r,g.values[0]);i.push({stop:fo,color:w})}else if(g.name==="to"){var w=Jh.parse(r,g.values[0]);i.push({stop:Wh,color:w})}else if(g.name==="color-stop"){var v=g.values.filter(fw);if(v.length===2){var w=Jh.parse(r,v[1]),k=v[0];Ew(k)&&i.push({stop:{type:16,number:k.number*100,flags:k.flags},color:w})}}}}),o===1?{angle:(e+uc(180))%uc(360),stops:i,type:o}:{size:c,shape:a,stops:i,position:d,type:o}},l6="closest-side",c6="farthest-side",d6="closest-corner",A6="farthest-corner",u6="circle",h6="ellipse",f6="cover",p6="contain",ddt=function(r,t){var e=0,i=3,o=[],a=[];return nA(t).forEach(function(c,d){var h=!0;if(d===0){var p=!1;h=c.reduce(function(w,v){if(p)if(Bi(v))switch(v.value){case"center":return a.push(UM),w;case"top":case"left":return a.push(fo),w;case"right":case"bottom":return a.push(Wh),w}else(Ks(v)||lf(v))&&a.push(v);else if(Bi(v))switch(v.value){case u6:return e=0,!1;case h6:return e=1,!1;case"at":return p=!0,!1;case l6:return i=0,!1;case f6:case c6:return i=1,!1;case p6:case d6:return i=2,!1;case A6:return i=3,!1}else if(lf(v)||Ks(v))return Array.isArray(i)||(i=[]),i.push(v),!1;return w},h)}if(h){var g=lB(r,c);o.push(g)}}),{size:i,shape:e,stops:o,position:a,type:2}},dC=function(r,t){var e=0,i=3,o=[],a=[];return nA(t).forEach(function(c,d){var h=!0;if(d===0?h=c.reduce(function(g,w){if(Bi(w))switch(w.value){case"center":return a.push(UM),!1;case"top":case"left":return a.push(fo),!1;case"right":case"bottom":return a.push(Wh),!1}else if(Ks(w)||lf(w))return a.push(w),!1;return g},h):d===1&&(h=c.reduce(function(g,w){if(Bi(w))switch(w.value){case u6:return e=0,!1;case h6:return e=1,!1;case p6:case l6:return i=0,!1;case c6:return i=1,!1;case d6:return i=2,!1;case f6:case A6:return i=3,!1}else if(lf(w)||Ks(w))return Array.isArray(i)||(i=[]),i.push(w),!1;return g},h)),h){var p=lB(r,c);o.push(p)}}),{size:i,shape:e,stops:o,position:a,type:2}},Adt=function(r){return r.type===1},udt=function(r){return r.type===2},QM={name:"image",parse:function(r,t){if(t.type===22){var e={url:t.value,type:0};return r.cache.addImage(t.value),e}if(t.type===18){var i=g6[t.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(r,t.values)}throw new Error("Unsupported image type "+t.type)}};function hdt(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!g6[r.name])}var g6={"linear-gradient":ldt,"-moz-linear-gradient":cC,"-ms-linear-gradient":cC,"-o-linear-gradient":cC,"-webkit-linear-gradient":cC,"radial-gradient":ddt,"-moz-radial-gradient":dC,"-ms-radial-gradient":dC,"-o-radial-gradient":dC,"-webkit-radial-gradient":dC,"-webkit-gradient":cdt},fdt={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t.filter(function(i){return fw(i)&&hdt(i)}).map(function(i){return QM.parse(r,i)})}},pdt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(e){if(Bi(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gdt={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,t){return nA(t).map(function(e){return e.filter(Ks)}).map(e6)}},mdt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,t){return nA(t).map(function(e){return e.filter(Bi).map(function(i){return i.value}).join(" ")}).map(bdt)}},bdt=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ym;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Ym||(Ym={}));var wdt={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,t){return nA(t).map(function(e){return e.filter(vdt)})}},vdt=function(r){return Bi(r)||Ks(r)},cB=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},_dt=cB("top"),kdt=cB("right"),ydt=cB("bottom"),Cdt=cB("left"),dB=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return e6(e.filter(Ks))}}},Edt=dB("top-left"),xdt=dB("top-right"),Bdt=dB("bottom-right"),Sdt=dB("bottom-left"),AB=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Tdt=AB("top"),Idt=AB("right"),Ddt=AB("bottom"),Mdt=AB("left"),uB=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return v0(e)?e.number:0}}},Ldt=uB("top"),Pdt=uB("right"),Fdt=uB("bottom"),Odt=uB("left"),Ndt={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Rdt={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Udt={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,t){return t.filter(Bi).reduce(function(e,i){return e|Qdt(i.value)},0)}},Qdt=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Hdt={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},zdt={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},JE;(function(r){r.NORMAL="normal",r.STRICT="strict"})(JE||(JE={}));var jdt={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"strict":return JE.STRICT;case"normal":default:return JE.NORMAL}}},Vdt={name:"line-height",initialValue:"normal",prefix:!1,type:4},IQ=function(r,t){return Bi(r)&&r.value==="normal"?1.2*t:r.type===17?t*r.number:Ks(r)?Fi(r,t):t},Kdt={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,t){return t.type===20&&t.value==="none"?null:QM.parse(r,t)}},Gdt={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},BD={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},hB=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},Wdt=hB("top"),$dt=hB("right"),qdt=hB("bottom"),Ydt=hB("left"),Xdt={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,t){return t.filter(Bi).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Zdt={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},fB=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Jdt=fB("top"),tAt=fB("right"),eAt=fB("bottom"),nAt=fB("left"),iAt={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},sAt={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},rAt={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&xD(t[0],"none")?[]:nA(t).map(function(e){for(var i={color:Eu.TRANSPARENT,offsetX:fo,offsetY:fo,blur:fo},o=0,a=0;a<e.length;a++){var c=e[a];lf(c)?(o===0?i.offsetX=c:o===1?i.offsetY=c:i.blur=c,o++):i.color=Jh.parse(r,c)}return i})}},oAt={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},aAt={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var e=dAt[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},lAt=function(r){var t=r.filter(function(e){return e.type===17}).map(function(e){return e.number});return t.length===6?t:null},cAt=function(r){var t=r.filter(function(h){return h.type===17}).map(function(h){return h.number}),e=t[0],i=t[1];t[2],t[3];var o=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var c=t[12],d=t[13];return t[14],t[15],t.length===16?[e,i,o,a,c,d]:null},dAt={matrix:lAt,matrix3d:cAt},DQ={type:16,number:50,flags:w0},AAt=[DQ,DQ],uAt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,t){var e=t.filter(Ks);return e.length!==2?AAt:[e[0],e[1]]}},hAt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},o_;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(o_||(o_={}));var fAt={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-all":return o_.BREAK_ALL;case"keep-all":return o_.KEEP_ALL;case"normal":default:return o_.NORMAL}}},pAt={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,t){if(t.type===20)return{auto:!0,order:0};if(Ew(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},m6={name:"time",parse:function(r,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},gAt={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,t){return Ew(t)?t.number:1}},mAt={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},bAt={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,t){return t.filter(Bi).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},wAt={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,t){var e=[],i=[];return t.forEach(function(o){switch(o.type){case 20:case 0:e.push(o.value);break;case 17:e.push(o.number.toString());break;case 4:i.push(e.join(" ")),e.length=0;break}}),e.length&&i.push(e.join(" ")),i.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},vAt={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},_At={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,t){if(Ew(t))return t.number;if(Bi(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},kAt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.filter(Bi).map(function(e){return e.value})}},yAt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},gr=function(r,t){return(r&t)!==0},CAt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t}},EAt={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;for(var i=[],o=t.filter(t6),a=0;a<o.length;a++){var c=o[a],d=o[a+1];if(c.type===20){var h=d&&Ew(d)?d.number:1;i.push({counter:c.value,increment:h})}}return i}},xAt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return[];for(var e=[],i=t.filter(t6),o=0;o<i.length;o++){var a=i[o],c=i[o+1];if(Bi(a)&&a.value!=="none"){var d=c&&Ew(c)?c.number:0;e.push({counter:a.value,reset:d})}}return e}},BAt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,t){return t.filter(v0).map(function(e){return m6.parse(r,e)})}},SAt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;var i=[],o=t.filter(tdt);if(o.length%2!==0)return null;for(var a=0;a<o.length;a+=2){var c=o[a].value,d=o[a+1].value;i.push({open:c,close:d})}return i}},MQ=function(r,t,e){if(!r)return"";var i=r[Math.min(t,r.length-1)];return i?e?i.open:i.close:""},TAt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&xD(t[0],"none")?[]:nA(t).map(function(e){for(var i={color:255,offsetX:fo,offsetY:fo,blur:fo,spread:fo,inset:!1},o=0,a=0;a<e.length;a++){var c=e[a];xD(c,"inset")?i.inset=!0:lf(c)?(o===0?i.offsetX=c:o===1?i.offsetY=c:o===2?i.blur=c:i.spread=c,o++):i.color=Jh.parse(r,c)}return i})}},IAt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,t){var e=[0,1,2],i=[];return t.filter(Bi).forEach(function(o){switch(o.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),e.forEach(function(o){i.indexOf(o)===-1&&i.push(o)}),i}},DAt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},MAt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return v0(t)?t.number:0}},LAt=function(){function r(t,e){var i,o;this.animationDuration=ke(t,BAt,e.animationDuration),this.backgroundClip=ke(t,idt,e.backgroundClip),this.backgroundColor=ke(t,sdt,e.backgroundColor),this.backgroundImage=ke(t,fdt,e.backgroundImage),this.backgroundOrigin=ke(t,pdt,e.backgroundOrigin),this.backgroundPosition=ke(t,gdt,e.backgroundPosition),this.backgroundRepeat=ke(t,mdt,e.backgroundRepeat),this.backgroundSize=ke(t,wdt,e.backgroundSize),this.borderTopColor=ke(t,_dt,e.borderTopColor),this.borderRightColor=ke(t,kdt,e.borderRightColor),this.borderBottomColor=ke(t,ydt,e.borderBottomColor),this.borderLeftColor=ke(t,Cdt,e.borderLeftColor),this.borderTopLeftRadius=ke(t,Edt,e.borderTopLeftRadius),this.borderTopRightRadius=ke(t,xdt,e.borderTopRightRadius),this.borderBottomRightRadius=ke(t,Bdt,e.borderBottomRightRadius),this.borderBottomLeftRadius=ke(t,Sdt,e.borderBottomLeftRadius),this.borderTopStyle=ke(t,Tdt,e.borderTopStyle),this.borderRightStyle=ke(t,Idt,e.borderRightStyle),this.borderBottomStyle=ke(t,Ddt,e.borderBottomStyle),this.borderLeftStyle=ke(t,Mdt,e.borderLeftStyle),this.borderTopWidth=ke(t,Ldt,e.borderTopWidth),this.borderRightWidth=ke(t,Pdt,e.borderRightWidth),this.borderBottomWidth=ke(t,Fdt,e.borderBottomWidth),this.borderLeftWidth=ke(t,Odt,e.borderLeftWidth),this.boxShadow=ke(t,TAt,e.boxShadow),this.color=ke(t,Ndt,e.color),this.direction=ke(t,Rdt,e.direction),this.display=ke(t,Udt,e.display),this.float=ke(t,Hdt,e.cssFloat),this.fontFamily=ke(t,wAt,e.fontFamily),this.fontSize=ke(t,vAt,e.fontSize),this.fontStyle=ke(t,yAt,e.fontStyle),this.fontVariant=ke(t,kAt,e.fontVariant),this.fontWeight=ke(t,_At,e.fontWeight),this.letterSpacing=ke(t,zdt,e.letterSpacing),this.lineBreak=ke(t,jdt,e.lineBreak),this.lineHeight=ke(t,Vdt,e.lineHeight),this.listStyleImage=ke(t,Kdt,e.listStyleImage),this.listStylePosition=ke(t,Gdt,e.listStylePosition),this.listStyleType=ke(t,BD,e.listStyleType),this.marginTop=ke(t,Wdt,e.marginTop),this.marginRight=ke(t,$dt,e.marginRight),this.marginBottom=ke(t,qdt,e.marginBottom),this.marginLeft=ke(t,Ydt,e.marginLeft),this.opacity=ke(t,gAt,e.opacity);var a=ke(t,Xdt,e.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=ke(t,Zdt,e.overflowWrap),this.paddingTop=ke(t,Jdt,e.paddingTop),this.paddingRight=ke(t,tAt,e.paddingRight),this.paddingBottom=ke(t,eAt,e.paddingBottom),this.paddingLeft=ke(t,nAt,e.paddingLeft),this.paintOrder=ke(t,IAt,e.paintOrder),this.position=ke(t,sAt,e.position),this.textAlign=ke(t,iAt,e.textAlign),this.textDecorationColor=ke(t,mAt,(i=e.textDecorationColor)!==null&&i!==void 0?i:e.color),this.textDecorationLine=ke(t,bAt,(o=e.textDecorationLine)!==null&&o!==void 0?o:e.textDecoration),this.textShadow=ke(t,rAt,e.textShadow),this.textTransform=ke(t,oAt,e.textTransform),this.transform=ke(t,aAt,e.transform),this.transformOrigin=ke(t,uAt,e.transformOrigin),this.visibility=ke(t,hAt,e.visibility),this.webkitTextStrokeColor=ke(t,DAt,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=ke(t,MAt,e.webkitTextStrokeWidth),this.wordBreak=ke(t,fAt,e.wordBreak),this.zIndex=ke(t,pAt,e.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return tf(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return gr(this.display,4)||gr(this.display,33554432)||gr(this.display,268435456)||gr(this.display,536870912)||gr(this.display,67108864)||gr(this.display,134217728)},r}(),PAt=function(){function r(t,e){this.content=ke(t,CAt,e.content),this.quotes=ke(t,SAt,e.quotes)}return r}(),LQ=function(){function r(t,e){this.counterIncrement=ke(t,EAt,e.counterIncrement),this.counterReset=ke(t,xAt,e.counterReset)}return r}(),ke=function(r,t,e){var i=new ZV,o=e!==null&&typeof e<"u"?e.toString():t.initialValue;i.write(o);var a=new JV(i.read());switch(t.type){case 2:var c=a.parseComponentValue();return t.parse(r,Bi(c)?c.value:t.initialValue);case 0:return t.parse(r,a.parseComponentValue());case 1:return t.parse(r,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return aB.parse(r,a.parseComponentValue());case"color":return Jh.parse(r,a.parseComponentValue());case"image":return QM.parse(r,a.parseComponentValue());case"length":var d=a.parseComponentValue();return lf(d)?d:fo;case"length-percentage":var h=a.parseComponentValue();return Ks(h)?h:fo;case"time":return m6.parse(r,a.parseComponentValue())}break}},FAt="data-html2canvas-debug",OAt=function(r){var t=r.getAttribute(FAt);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},SD=function(r,t){var e=OAt(r);return e===1||t===e},iA=function(){function r(t,e){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,SD(e,3))debugger;this.styles=new LAt(t,window.getComputedStyle(e,null)),DD(e)&&(this.styles.animationDuration.some(function(i){return i>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=rB(this.context,e),SD(e,4)&&(this.flags|=16)}return r}(),NAt="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",PQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var AC=0;AC<PQ.length;AC++)Vv[PQ.charCodeAt(AC)]=AC;var RAt=function(r){var t=r.length*.75,e=r.length,i,o=0,a,c,d,h;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var p=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),g=Array.isArray(p)?p:new Uint8Array(p);for(i=0;i<e;i+=4)a=Vv[r.charCodeAt(i)],c=Vv[r.charCodeAt(i+1)],d=Vv[r.charCodeAt(i+2)],h=Vv[r.charCodeAt(i+3)],g[o++]=a<<2|c>>4,g[o++]=(c&15)<<4|d>>2,g[o++]=(d&3)<<6|h&63;return p},UAt=function(r){for(var t=r.length,e=[],i=0;i<t;i+=2)e.push(r[i+1]<<8|r[i]);return e},QAt=function(r){for(var t=r.length,e=[],i=0;i<t;i+=4)e.push(r[i+3]<<24|r[i+2]<<16|r[i+1]<<8|r[i]);return e},yg=5,HM=11,cT=2,HAt=HM-yg,b6=65536>>yg,zAt=1<<yg,dT=zAt-1,jAt=1024>>yg,VAt=b6+jAt,KAt=VAt,GAt=32,WAt=KAt+GAt,$At=65536>>HM,qAt=1<<HAt,YAt=qAt-1,FQ=function(r,t,e){return r.slice?r.slice(t,e):new Uint16Array(Array.prototype.slice.call(r,t,e))},XAt=function(r,t,e){return r.slice?r.slice(t,e):new Uint32Array(Array.prototype.slice.call(r,t,e))},ZAt=function(r,t){var e=RAt(r),i=Array.isArray(e)?QAt(e):new Uint32Array(e),o=Array.isArray(e)?UAt(e):new Uint16Array(e),a=24,c=FQ(o,a/2,i[4]/2),d=i[5]===2?FQ(o,(a+i[4])/2):XAt(i,Math.ceil((a+i[4])/4));return new JAt(i[0],i[1],i[2],i[3],c,d)},JAt=function(){function r(t,e,i,o,a,c){this.initialValue=t,this.errorValue=e,this.highStart=i,this.highValueIndex=o,this.index=a,this.data=c}return r.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>yg],e=(e<<cT)+(t&dT),this.data[e];if(t<=65535)return e=this.index[b6+(t-55296>>yg)],e=(e<<cT)+(t&dT),this.data[e];if(t<this.highStart)return e=WAt-$At+(t>>HM),e=this.index[e],e+=t>>yg&YAt,e=this.index[e],e=(e<<cT)+(t&dT),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),OQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tut=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var uC=0;uC<OQ.length;uC++)tut[OQ.charCodeAt(uC)]=uC;var eut=1,AT=2,uT=3,NQ=4,RQ=5,nut=7,UQ=8,hT=9,fT=10,QQ=11,HQ=12,zQ=13,jQ=14,pT=15,iut=function(r){for(var t=[],e=0,i=r.length;e<i;){var o=r.charCodeAt(e++);if(o>=55296&&o<=56319&&e<i){var a=r.charCodeAt(e++);(a&64512)===56320?t.push(((o&1023)<<10)+(a&1023)+65536):(t.push(o),e--)}else t.push(o)}return t},sut=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var e=r.length;if(!e)return"";for(var i=[],o=-1,a="";++o<e;){var c=r[o];c<=65535?i.push(c):(c-=65536,i.push((c>>10)+55296,c%1024+56320)),(o+1===e||i.length>16384)&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return a},rut=ZAt(NAt),tc="Ã",gT="Ã·",out=function(r){return rut.get(r)},aut=function(r,t,e){var i=e-2,o=t[i],a=t[e-1],c=t[e];if(a===AT&&c===uT)return tc;if(a===AT||a===uT||a===NQ||c===AT||c===uT||c===NQ)return gT;if(a===UQ&&[UQ,hT,QQ,HQ].indexOf(c)!==-1||(a===QQ||a===hT)&&(c===hT||c===fT)||(a===HQ||a===fT)&&c===fT||c===zQ||c===RQ||c===nut||a===eut)return tc;if(a===zQ&&c===jQ){for(;o===RQ;)o=t[--i];if(o===jQ)return tc}if(a===pT&&c===pT){for(var d=0;o===pT;)d++,o=t[--i];if(d%2===0)return tc}return gT},lut=function(r){var t=iut(r),e=t.length,i=0,o=0,a=t.map(out);return{next:function(){if(i>=e)return{done:!0,value:null};for(var c=tc;i<e&&(c=aut(t,a,++i))===tc;);if(c!==tc||i===e){var d=sut.apply(null,t.slice(o,i));return o=i,{value:d,done:!1}}return{done:!0,value:null}}}},cut=function(r){for(var t=lut(r),e=[],i;!(i=t.next()).done;)i.value&&e.push(i.value.slice());return e},dut=function(r){var t=123;if(r.createRange){var e=r.createRange();if(e.getBoundingClientRect){var i=r.createElement("boundtest");i.style.height=t+"px",i.style.display="block",r.body.appendChild(i),e.selectNode(i);var o=e.getBoundingClientRect(),a=Math.round(o.height);if(r.body.removeChild(i),a===t)return!0}}return!1},Aut=function(r){var t=r.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",r.body.appendChild(t);var e=r.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=t.firstChild,o=oB(i.data).map(function(h){return Ms(h)}),a=0,c={},d=o.every(function(h,p){e.setStart(i,a),e.setEnd(i,a+h.length);var g=e.getBoundingClientRect();a+=h.length;var w=g.x>c.x||g.y>c.y;return c=g,p===0?!0:w});return r.body.removeChild(t),d},uut=function(){return typeof new Image().crossOrigin<"u"},hut=function(){return typeof new XMLHttpRequest().responseType=="string"},fut=function(r){var t=new Image,e=r.createElement("canvas"),i=e.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),e.toDataURL()}catch{return!1}return!0},VQ=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},put=function(r){var t=r.createElement("canvas"),e=100;t.width=e,t.height=e;var i=t.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,e,e);var o=new Image,a=t.toDataURL();o.src=a;var c=TD(e,e,0,0,o);return i.fillStyle="red",i.fillRect(0,0,e,e),KQ(c).then(function(d){i.drawImage(d,0,0);var h=i.getImageData(0,0,e,e).data;i.fillStyle="red",i.fillRect(0,0,e,e);var p=r.createElement("div");return p.style.backgroundImage="url("+a+")",p.style.height=e+"px",VQ(h)?KQ(TD(e,e,0,0,p)):Promise.reject(!1)}).then(function(d){return i.drawImage(d,0,0),VQ(i.getImageData(0,0,e,e).data)}).catch(function(){return!1})},TD=function(r,t,e,i,o){var a="http://www.w3.org/2000/svg",c=document.createElementNS(a,"svg"),d=document.createElementNS(a,"foreignObject");return c.setAttributeNS(null,"width",r.toString()),c.setAttributeNS(null,"height",t.toString()),d.setAttributeNS(null,"width","100%"),d.setAttributeNS(null,"height","100%"),d.setAttributeNS(null,"x",e.toString()),d.setAttributeNS(null,"y",i.toString()),d.setAttributeNS(null,"externalResourcesRequired","true"),c.appendChild(d),d.appendChild(o),c},KQ=function(r){return new Promise(function(t,e){var i=new Image;i.onload=function(){return t(i)},i.onerror=e,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},co={get SUPPORT_RANGE_BOUNDS(){var r=dut(document);return Object.defineProperty(co,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=co.SUPPORT_RANGE_BOUNDS&&Aut(document);return Object.defineProperty(co,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=fut(document);return Object.defineProperty(co,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?put(document):Promise.resolve(!1);return Object.defineProperty(co,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=uut();return Object.defineProperty(co,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=hut();return Object.defineProperty(co,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(co,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(co,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},a_=function(){function r(t,e){this.text=t,this.bounds=e}return r}(),gut=function(r,t,e,i){var o=wut(t,e),a=[],c=0;return o.forEach(function(d){if(e.textDecorationLine.length||d.trim().length>0)if(co.SUPPORT_RANGE_BOUNDS){var h=GQ(i,c,d.length).getClientRects();if(h.length>1){var p=zM(d),g=0;p.forEach(function(v){a.push(new a_(v,Du.fromDOMRectList(r,GQ(i,g+c,v.length).getClientRects()))),g+=v.length})}else a.push(new a_(d,Du.fromDOMRectList(r,h)))}else{var w=i.splitText(d.length);a.push(new a_(d,mut(r,i))),i=w}else co.SUPPORT_RANGE_BOUNDS||(i=i.splitText(d.length));c+=d.length}),a},mut=function(r,t){var e=t.ownerDocument;if(e){var i=e.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var o=t.parentNode;if(o){o.replaceChild(i,t);var a=rB(r,i);return i.firstChild&&o.replaceChild(i.firstChild,i),a}}return Du.EMPTY},GQ=function(r,t,e){var i=r.ownerDocument;if(!i)throw new Error("Node has no owner document");var o=i.createRange();return o.setStart(r,t),o.setEnd(r,t+e),o},zM=function(r){if(co.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(r)).map(function(e){return e.segment})}return cut(r)},but=function(r,t){if(co.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(r)).map(function(i){return i.segment})}return _ut(r,t)},wut=function(r,t){return t.letterSpacing!==0?zM(r):but(r,t)},vut=[32,160,4961,65792,65793,4153,4241],_ut=function(r,t){for(var e=$lt(r,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),i=[],o,a=function(){if(o.value){var c=o.value.slice(),d=oB(c),h="";d.forEach(function(p){vut.indexOf(p)===-1?h+=Ms(p):(h.length&&i.push(h),i.push(Ms(p)),h="")}),h.length&&i.push(h)}};!(o=e.next()).done;)a();return i},kut=function(){function r(t,e,i){this.text=yut(e.data,i.textTransform),this.textBounds=gut(t,this.text,i,e)}return r}(),yut=function(r,t){switch(t){case 1:return r.toLowerCase();case 3:return r.replace(Cut,Eut);case 2:return r.toUpperCase();default:return r}},Cut=/(^|\s|:|-|\(|\))([a-z])/g,Eut=function(r,t,e){return r.length>0?t+e.toUpperCase():r},w6=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this;return o.src=i.currentSrc||i.src,o.intrinsicWidth=i.naturalWidth,o.intrinsicHeight=i.naturalHeight,o.context.cache.addImage(o.src),o}return t}(iA),v6=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this;return o.canvas=i,o.intrinsicWidth=i.width,o.intrinsicHeight=i.height,o}return t}(iA),_6=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this,a=new XMLSerializer,c=rB(e,i);return i.setAttribute("width",c.width+"px"),i.setAttribute("height",c.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(i)),o.intrinsicWidth=i.width.baseVal.value,o.intrinsicHeight=i.height.baseVal.value,o.context.cache.addImage(o.svg),o}return t}(iA),k6=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this;return o.value=i.value,o}return t}(iA),ID=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this;return o.start=i.start,o.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,o}return t}(iA),xut=[{type:15,flags:0,unit:"px",number:3}],But=[{type:16,flags:0,number:50}],Sut=function(r){return r.width>r.height?new Du(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new Du(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},Tut=function(r){var t=r.type===Iut?new Array(r.value.length+1).join("â¢"):r.value;return t.length===0?r.placeholder||"":t},tx="checkbox",ex="radio",Iut="password",WQ=707406591,jM=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this;switch(o.type=i.type.toLowerCase(),o.checked=i.checked,o.value=Tut(i),(o.type===tx||o.type===ex)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=Sut(o.bounds)),o.type){case tx:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=xut;break;case ex:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=But;break}return o}return t}(iA),y6=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this,a=i.options[i.selectedIndex||0];return o.value=a&&a.text||"",o}return t}(iA),C6=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this;return o.value=i.value,o}return t}(iA),E6=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this;o.src=i.src,o.width=parseInt(i.width,10)||0,o.height=parseInt(i.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){o.tree=B6(e,i.contentWindow.document.documentElement);var a=i.contentWindow.document.documentElement?r_(e,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):Eu.TRANSPARENT,c=i.contentWindow.document.body?r_(e,getComputedStyle(i.contentWindow.document.body).backgroundColor):Eu.TRANSPARENT;o.backgroundColor=tf(a)?tf(c)?o.styles.backgroundColor:c:a}}catch{}return o}return t}(iA),Dut=["OL","UL","MENU"],vE=function(r,t,e,i){for(var o=t.firstChild,a=void 0;o;o=a)if(a=o.nextSibling,S6(o)&&o.data.trim().length>0)e.textNodes.push(new kut(r,o,e.styles));else if(Gm(o))if(M6(o)&&o.assignedNodes)o.assignedNodes().forEach(function(d){return vE(r,d,e,i)});else{var c=x6(r,o);c.styles.isVisible()&&(Mut(o,c,i)?c.flags|=4:Lut(c.styles)&&(c.flags|=2),Dut.indexOf(o.tagName)!==-1&&(c.flags|=8),e.elements.push(c),o.slot,o.shadowRoot?vE(r,o.shadowRoot,c,i):!nx(o)&&!T6(o)&&!ix(o)&&vE(r,o,c,i))}},x6=function(r,t){return MD(t)?new w6(r,t):I6(t)?new v6(r,t):T6(t)?new _6(r,t):Put(t)?new k6(r,t):Fut(t)?new ID(r,t):Out(t)?new jM(r,t):ix(t)?new y6(r,t):nx(t)?new C6(r,t):D6(t)?new E6(r,t):new iA(r,t)},B6=function(r,t){var e=x6(r,t);return e.flags|=4,vE(r,t,e,e),e},Mut=function(r,t,e){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||VM(r)&&e.styles.isTransparent()},Lut=function(r){return r.isPositioned()||r.isFloating()},S6=function(r){return r.nodeType===Node.TEXT_NODE},Gm=function(r){return r.nodeType===Node.ELEMENT_NODE},DD=function(r){return Gm(r)&&typeof r.style<"u"&&!_E(r)},_E=function(r){return typeof r.className=="object"},Put=function(r){return r.tagName==="LI"},Fut=function(r){return r.tagName==="OL"},Out=function(r){return r.tagName==="INPUT"},Nut=function(r){return r.tagName==="HTML"},T6=function(r){return r.tagName==="svg"},VM=function(r){return r.tagName==="BODY"},I6=function(r){return r.tagName==="CANVAS"},$Q=function(r){return r.tagName==="VIDEO"},MD=function(r){return r.tagName==="IMG"},D6=function(r){return r.tagName==="IFRAME"},qQ=function(r){return r.tagName==="STYLE"},Rut=function(r){return r.tagName==="SCRIPT"},nx=function(r){return r.tagName==="TEXTAREA"},ix=function(r){return r.tagName==="SELECT"},M6=function(r){return r.tagName==="SLOT"},YQ=function(r){return r.tagName.indexOf("-")>0},Uut=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},r.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},r.prototype.pop=function(t){var e=this;t.forEach(function(i){return e.counters[i].pop()})},r.prototype.parse=function(t){var e=this,i=t.counterIncrement,o=t.counterReset,a=!0;i!==null&&i.forEach(function(d){var h=e.counters[d.counter];h&&d.increment!==0&&(a=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=d.increment)});var c=[];return a&&o.forEach(function(d){var h=e.counters[d.counter];c.push(d.counter),h||(h=e.counters[d.counter]=[]),h.push(d.reset)}),c},r}(),XQ={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ZQ={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Ô¿","Ô¾","Ô½","Ô¼","Ô»","Ôº","Ô¹","Ô¸","Ô·","Ô¶","Ôµ","Ô´","Ô³","Ô²","Ô±"]},Qut={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["××³","××³","××³","××³","××³","××³","××³","××³","××³","××³","×ª","×©","×¨","×§","×¦","×¤","×¢","×¡","× ","×","×","×","××","××","××","××","××","×","×","×","×","×","×","×","×","×","×"]},Hut={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["áµ","á°","á¯","á´","á®","á­","á¬","á«","áª","á©","á¨","á§","á¦","á¥","á¤","á³","á¢","á¡","á ","á","á","á","á²","á","á","á","á","á","á","á±","á","á","á","á","á","á","á"]},xm=function(r,t,e,i,o,a){return r<t||r>e?E_(r,o,a.length>0):i.integers.reduce(function(c,d,h){for(;r>=d;)r-=d,c+=i.values[h];return c},"")+a},L6=function(r,t,e,i){var o="";do e||r--,o=i(r)+o,r/=t;while(r*t>=t);return o},Ss=function(r,t,e,i,o){var a=e-t+1;return(r<0?"-":"")+(L6(Math.abs(r),a,i,function(c){return Ms(Math.floor(c%a)+t)})+o)},Wf=function(r,t,e){e===void 0&&(e=". ");var i=t.length;return L6(Math.abs(r),i,!1,function(o){return t[Math.floor(o%i)]})+e},zm=1,oh=2,ah=4,Kv=8,MA=function(r,t,e,i,o,a){if(r<-9999||r>9999)return E_(r,4,o.length>0);var c=Math.abs(r),d=o;if(c===0)return t[0]+d;for(var h=0;c>0&&h<=4;h++){var p=c%10;p===0&&gr(a,zm)&&d!==""?d=t[p]+d:p>1||p===1&&h===0||p===1&&h===1&&gr(a,oh)||p===1&&h===1&&gr(a,ah)&&r>100||p===1&&h>1&&gr(a,Kv)?d=t[p]+(h>0?e[h-1]:"")+d:p===1&&h>0&&(d=e[h-1]+d),c=Math.floor(c/10)}return(r<0?i:"")+d},JQ="åç¾åè¬",tH="æ¾ä½°ä»è¬",eH="ãã¤ãã¹",mT="ë§ì´ëì¤",E_=function(r,t,e){var i=e?". ":"",o=e?"ã":"",a=e?", ":"",c=e?" ":"";switch(t){case 0:return"â¢"+c;case 1:return"â¦"+c;case 2:return"â¾"+c;case 5:var d=Ss(r,48,57,!0,i);return d.length<4?"0"+d:d;case 4:return Wf(r,"ãä¸äºä¸åäºå­ä¸å«ä¹",o);case 6:return xm(r,1,3999,XQ,3,i).toLowerCase();case 7:return xm(r,1,3999,XQ,3,i);case 8:return Ss(r,945,969,!1,i);case 9:return Ss(r,97,122,!1,i);case 10:return Ss(r,65,90,!1,i);case 11:return Ss(r,1632,1641,!0,i);case 12:case 49:return xm(r,1,9999,ZQ,3,i);case 35:return xm(r,1,9999,ZQ,3,i).toLowerCase();case 13:return Ss(r,2534,2543,!0,i);case 14:case 30:return Ss(r,6112,6121,!0,i);case 15:return Wf(r,"å­ä¸å¯å¯è¾°å·³åæªç³éæäº¥",o);case 16:return Wf(r,"ç²ä¹ä¸ä¸æå·±åºè¾å£¬ç¸",o);case 17:case 48:return MA(r,"é¶ä¸äºä¸åäºå­ä¸å«ä¹",JQ,"è² ",o,oh|ah|Kv);case 47:return MA(r,"é¶å£¹è²³åèä¼é¸ææç",tH,"è² ",o,zm|oh|ah|Kv);case 42:return MA(r,"é¶ä¸äºä¸åäºå­ä¸å«ä¹",JQ,"è´",o,oh|ah|Kv);case 41:return MA(r,"é¶å£¹è´°åèä¼éææç",tH,"è´",o,zm|oh|ah|Kv);case 26:return MA(r,"ãä¸äºä¸åäºå­ä¸å«ä¹","åç¾åä¸",eH,o,0);case 25:return MA(r,"é¶å£±å¼ååä¼å­ä¸å«ä¹","æ¾ç¾åä¸",eH,o,zm|oh|ah);case 31:return MA(r,"ìì¼ì´ì¼ì¬ì¤ì¡ì¹ íêµ¬","ì­ë°±ì²ë§",mT,a,zm|oh|ah);case 33:return MA(r,"é¶ä¸äºä¸åäºå­ä¸å«ä¹","åç¾åè¬",mT,a,0);case 32:return MA(r,"é¶å£¹è²³ååäºå­ä¸å«ä¹","æ¾ç¾å",mT,a,zm|oh|ah);case 18:return Ss(r,2406,2415,!0,i);case 20:return xm(r,1,19999,Hut,3,i);case 21:return Ss(r,2790,2799,!0,i);case 22:return Ss(r,2662,2671,!0,i);case 22:return xm(r,1,10999,Qut,3,i);case 23:return Wf(r,"ããããããããããããããããã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ãããããããããããããããã");case 24:return Wf(r,"ããã¯ã«ã»ã¸ã¨ã¡ãã¬ããããããããã¤ã­ãªããããã®ãããã¾ããµããã¦ãããããã¿ããã²ããã");case 27:return Ss(r,3302,3311,!0,i);case 28:return Wf(r,"ã¢ã¤ã¦ã¨ãªã«ã­ã¯ã±ã³ãµã·ã¹ã»ã½ã¿ããããããããããããããããã ã¡ã¢ã¤ã¦ã¨ã©ãªã«ã¬ã­ã¯ã°ã±ã²ã³",o);case 29:return Wf(r,"ã¤ã­ãããããããªãã«ã²ã¯ã«ã¨ã¿ã¬ã½ãããã©ã ã¦ã°ããªã¯ã¤ãã±ãã³ã¨ãã¢ãµã­ã¦ã¡ãã·ã±ãã¢ã»ã¹",o);case 34:return Ss(r,3792,3801,!0,i);case 37:return Ss(r,6160,6169,!0,i);case 38:return Ss(r,4160,4169,!0,i);case 39:return Ss(r,2918,2927,!0,i);case 40:return Ss(r,1776,1785,!0,i);case 43:return Ss(r,3046,3055,!0,i);case 44:return Ss(r,3174,3183,!0,i);case 45:return Ss(r,3664,3673,!0,i);case 46:return Ss(r,3872,3881,!0,i);case 3:default:return Ss(r,48,57,!0,i)}},P6="data-html2canvas-ignore",nH=function(){function r(t,e,i){if(this.context=t,this.options=i,this.scrolledElements=[],this.referenceElement=e,this.counters=new Uut,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(t,e){var i=this,o=zut(t,e);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,c=t.defaultView.pageYOffset,d=o.contentWindow,h=d.document,p=Kut(o).then(function(){return oa(i,void 0,void 0,function(){var g,w;return Do(this,function(v){switch(v.label){case 0:return this.scrolledElements.forEach(qut),d&&(d.scrollTo(e.left,e.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(d.scrollY!==e.top||d.scrollX!==e.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(d.scrollX-e.left,d.scrollY-e.top,0,0))),g=this.options.onclone,w=this.clonedReferenceElement,typeof w>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:v.sent(),v.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Vut(h)]:[3,4];case 3:v.sent(),v.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(h,w)}).then(function(){return o})]:[2,o]}})})});return h.open(),h.write(Wut(document.doctype)+"<html></html>"),$ut(this.referenceElement.ownerDocument,a,c),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),p},r.prototype.createElementClone=function(t){if(SD(t,2))debugger;if(I6(t))return this.createCanvasClone(t);if($Q(t))return this.createVideoClone(t);if(qQ(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return MD(e)&&(MD(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),e.loading==="lazy"&&(e.loading="eager")),YQ(e)?this.createCustomElementClone(e):e},r.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return bT(t.style,e),e},r.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var i=[].slice.call(e.cssRules,0).reduce(function(a,c){return c&&typeof c.cssText=="string"?a+c.cssText:a},""),o=t.cloneNode(!1);return o.textContent=i,o}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},r.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var i=t.ownerDocument.createElement("img");try{return i.src=t.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var o=t.cloneNode(!1);try{o.width=t.width,o.height=t.height;var a=t.getContext("2d"),c=o.getContext("2d");if(c)if(!this.options.allowTaint&&a)c.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var d=(e=t.getContext("webgl2"))!==null&&e!==void 0?e:t.getContext("webgl");if(d){var h=d.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}c.drawImage(t,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return o},r.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var i=e.getContext("2d");try{return i&&(i.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||i.getImageData(0,0,e.width,e.height)),e}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var o=t.ownerDocument.createElement("canvas");return o.width=t.offsetWidth,o.height=t.offsetHeight,o},r.prototype.appendChildNode=function(t,e,i){(!Gm(e)||!Rut(e)&&!e.hasAttribute(P6)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(e)))&&(!this.options.copyStyles||!Gm(e)||!qQ(e))&&t.appendChild(this.cloneNode(e,i))},r.prototype.cloneChildNodes=function(t,e,i){for(var o=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(Gm(a)&&M6(a)&&typeof a.assignedNodes=="function"){var c=a.assignedNodes();c.length&&c.forEach(function(d){return o.appendChildNode(e,d,i)})}else this.appendChildNode(e,a,i)},r.prototype.cloneNode=function(t,e){if(S6(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var i=t.ownerDocument.defaultView;if(i&&Gm(t)&&(DD(t)||_E(t))){var o=this.createElementClone(t);o.style.transitionProperty="none";var a=i.getComputedStyle(t),c=i.getComputedStyle(t,":before"),d=i.getComputedStyle(t,":after");this.referenceElement===t&&DD(o)&&(this.clonedReferenceElement=o),VM(o)&&Zut(o);var h=this.counters.parse(new LQ(this.context,a)),p=this.resolvePseudoContent(t,o,c,l_.BEFORE);YQ(t)&&(e=!0),$Q(t)||this.cloneChildNodes(t,o,e),p&&o.insertBefore(p,o.firstChild);var g=this.resolvePseudoContent(t,o,d,l_.AFTER);return g&&o.appendChild(g),this.counters.pop(h),(a&&(this.options.copyStyles||_E(t))&&!D6(t)||e)&&bT(a,o),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([o,t.scrollLeft,t.scrollTop]),(nx(t)||ix(t))&&(nx(o)||ix(o))&&(o.value=t.value),o}return t.cloneNode(!1)},r.prototype.resolvePseudoContent=function(t,e,i,o){var a=this;if(i){var c=i.content,d=e.ownerDocument;if(!(!d||!c||c==="none"||c==="-moz-alt-content"||i.display==="none")){this.counters.parse(new LQ(this.context,i));var h=new PAt(this.context,i),p=d.createElement("html2canvaspseudoelement");bT(i,p),h.content.forEach(function(w){if(w.type===0)p.appendChild(d.createTextNode(w.value));else if(w.type===22){var v=d.createElement("img");v.src=w.value,v.style.opacity="1",p.appendChild(v)}else if(w.type===18){if(w.name==="attr"){var k=w.values.filter(Bi);k.length&&p.appendChild(d.createTextNode(t.getAttribute(k[0].value)||""))}else if(w.name==="counter"){var y=w.values.filter(fw),x=y[0],I=y[1];if(x&&Bi(x)){var F=a.counters.getCounterValue(x.value),R=I&&Bi(I)?BD.parse(a.context,I.value):3;p.appendChild(d.createTextNode(E_(F,R,!1)))}}else if(w.name==="counters"){var Q=w.values.filter(fw),x=Q[0],V=Q[1],I=Q[2];if(x&&Bi(x)){var W=a.counters.getCounterValues(x.value),X=I&&Bi(I)?BD.parse(a.context,I.value):3,P=V&&V.type===0?V.value:"",K=W.map(function(dt){return E_(dt,X,!1)}).join(P);p.appendChild(d.createTextNode(K))}}}else if(w.type===20)switch(w.value){case"open-quote":p.appendChild(d.createTextNode(MQ(h.quotes,a.quoteDepth++,!0)));break;case"close-quote":p.appendChild(d.createTextNode(MQ(h.quotes,--a.quoteDepth,!1)));break;default:p.appendChild(d.createTextNode(w.value))}}),p.className=LD+" "+PD;var g=o===l_.BEFORE?" "+LD:" "+PD;return _E(e)?e.className.baseValue+=g:e.className+=g,p}}},r.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},r}(),l_;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(l_||(l_={}));var zut=function(r,t){var e=r.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=t.width.toString(),e.height=t.height.toString(),e.scrolling="no",e.setAttribute(P6,"true"),r.body.appendChild(e),e},jut=function(r){return new Promise(function(t){if(r.complete){t();return}if(!r.src){t();return}r.onload=t,r.onerror=t})},Vut=function(r){return Promise.all([].slice.call(r.images,0).map(jut))},Kut=function(r){return new Promise(function(t,e){var i=r.contentWindow;if(!i)return e("No window assigned for iframe");var o=i.document;i.onload=r.onload=function(){i.onload=r.onload=null;var a=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(a),t(r))},50)}})},Gut=["all","d","content"],bT=function(r,t){for(var e=r.length-1;e>=0;e--){var i=r.item(e);Gut.indexOf(i)===-1&&t.style.setProperty(i,r.getPropertyValue(i))}return t},Wut=function(r){var t="";return r&&(t+="<!DOCTYPE ",r.name&&(t+=r.name),r.internalSubset&&(t+=r.internalSubset),r.publicId&&(t+='"'+r.publicId+'"'),r.systemId&&(t+='"'+r.systemId+'"'),t+=">"),t},$ut=function(r,t,e){r&&r.defaultView&&(t!==r.defaultView.pageXOffset||e!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(t,e)},qut=function(r){var t=r[0],e=r[1],i=r[2];t.scrollLeft=e,t.scrollTop=i},Yut=":before",Xut=":after",LD="___html2canvas___pseudoelement_before",PD="___html2canvas___pseudoelement_after",iH=`{
    content: "" !important;
    display: none !important;
}`,Zut=function(r){Jut(r,"."+LD+Yut+iH+`
         .`+PD+Xut+iH)},Jut=function(r,t){var e=r.ownerDocument;if(e){var i=e.createElement("style");i.textContent=t,r.appendChild(i)}},F6=function(){function r(){}return r.getOrigin=function(t){var e=r._link;return e?(e.href=t,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},r.isSameOrigin=function(t){return r.getOrigin(t)===r._origin},r.setContext=function(t){r._link=t.document.createElement("a"),r._origin=r.getOrigin(t.location.href)},r._origin="about:blank",r}(),tht=function(){function r(t,e){this.context=t,this._options=e,this._cache={}}return r.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)||(vT(t)||sht(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),e},r.prototype.match=function(t){return this._cache[t]},r.prototype.loadImage=function(t){return oa(this,void 0,void 0,function(){var e,i,o,a,c=this;return Do(this,function(d){switch(d.label){case 0:return e=F6.isSameOrigin(t),i=!wT(t)&&this._options.useCORS===!0&&co.SUPPORT_CORS_IMAGES&&!e,o=!wT(t)&&!e&&!vT(t)&&typeof this._options.proxy=="string"&&co.SUPPORT_CORS_XHR&&!i,!e&&this._options.allowTaint===!1&&!wT(t)&&!vT(t)&&!o&&!i?[2]:(a=t,o?[4,this.proxy(a)]:[3,2]);case 1:a=d.sent(),d.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(h,p){var g=new Image;g.onload=function(){return h(g)},g.onerror=p,(rht(a)||i)&&(g.crossOrigin="anonymous"),g.src=a,g.complete===!0&&setTimeout(function(){return h(g)},500),c._options.imageTimeout>0&&setTimeout(function(){return p("Timed out ("+c._options.imageTimeout+"ms) loading image")},c._options.imageTimeout)})];case 3:return[2,d.sent()]}})})},r.prototype.has=function(t){return typeof this._cache[t]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(t){var e=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var o=t.substring(0,256);return new Promise(function(a,c){var d=co.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(d==="text")a(h.response);else{var w=new FileReader;w.addEventListener("load",function(){return a(w.result)},!1),w.addEventListener("error",function(v){return c(v)},!1),w.readAsDataURL(h.response)}else c("Failed to proxy resource "+o+" with status code "+h.status)},h.onerror=c;var p=i.indexOf("?")>-1?"&":"?";if(h.open("GET",""+i+p+"url="+encodeURIComponent(t)+"&responseType="+d),d!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=d),e._options.imageTimeout){var g=e._options.imageTimeout;h.timeout=g,h.ontimeout=function(){return c("Timed out ("+g+"ms) proxying "+o)}}h.send()})},r}(),eht=/^data:image\/svg\+xml/i,nht=/^data:image\/.*;base64,/i,iht=/^data:image\/.*/i,sht=function(r){return co.SUPPORT_SVG_DRAWING||!oht(r)},wT=function(r){return iht.test(r)},rht=function(r){return nht.test(r)},vT=function(r){return r.substr(0,4)==="blob"},oht=function(r){return r.substr(-3).toLowerCase()==="svg"||eht.test(r)},ve=function(){function r(t,e){this.type=0,this.x=t,this.y=e}return r.prototype.add=function(t,e){return new r(this.x+t,this.y+e)},r}(),Bm=function(r,t,e){return new ve(r.x+(t.x-r.x)*e,r.y+(t.y-r.y)*e)},hC=function(){function r(t,e,i,o){this.type=1,this.start=t,this.startControl=e,this.endControl=i,this.end=o}return r.prototype.subdivide=function(t,e){var i=Bm(this.start,this.startControl,t),o=Bm(this.startControl,this.endControl,t),a=Bm(this.endControl,this.end,t),c=Bm(i,o,t),d=Bm(o,a,t),h=Bm(c,d,t);return e?new r(this.start,i,c,h):new r(h,d,a,this.end)},r.prototype.add=function(t,e){return new r(this.start.add(t,e),this.startControl.add(t,e),this.endControl.add(t,e),this.end.add(t,e))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),cc=function(r){return r.type===1},aht=function(){function r(t){var e=t.styles,i=t.bounds,o=jv(e.borderTopLeftRadius,i.width,i.height),a=o[0],c=o[1],d=jv(e.borderTopRightRadius,i.width,i.height),h=d[0],p=d[1],g=jv(e.borderBottomRightRadius,i.width,i.height),w=g[0],v=g[1],k=jv(e.borderBottomLeftRadius,i.width,i.height),y=k[0],x=k[1],I=[];I.push((a+h)/i.width),I.push((y+w)/i.width),I.push((c+x)/i.height),I.push((p+v)/i.height);var F=Math.max.apply(Math,I);F>1&&(a/=F,c/=F,h/=F,p/=F,w/=F,v/=F,y/=F,x/=F);var R=i.width-h,Q=i.height-v,V=i.width-w,W=i.height-x,X=e.borderTopWidth,P=e.borderRightWidth,K=e.borderBottomWidth,J=e.borderLeftWidth,rt=Fi(e.paddingTop,t.bounds.width),dt=Fi(e.paddingRight,t.bounds.width),ht=Fi(e.paddingBottom,t.bounds.width),ut=Fi(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||c>0?Zi(i.left+J/3,i.top+X/3,a-J/3,c-X/3,di.TOP_LEFT):new ve(i.left+J/3,i.top+X/3),this.topRightBorderDoubleOuterBox=a>0||c>0?Zi(i.left+R,i.top+X/3,h-P/3,p-X/3,di.TOP_RIGHT):new ve(i.left+i.width-P/3,i.top+X/3),this.bottomRightBorderDoubleOuterBox=w>0||v>0?Zi(i.left+V,i.top+Q,w-P/3,v-K/3,di.BOTTOM_RIGHT):new ve(i.left+i.width-P/3,i.top+i.height-K/3),this.bottomLeftBorderDoubleOuterBox=y>0||x>0?Zi(i.left+J/3,i.top+W,y-J/3,x-K/3,di.BOTTOM_LEFT):new ve(i.left+J/3,i.top+i.height-K/3),this.topLeftBorderDoubleInnerBox=a>0||c>0?Zi(i.left+J*2/3,i.top+X*2/3,a-J*2/3,c-X*2/3,di.TOP_LEFT):new ve(i.left+J*2/3,i.top+X*2/3),this.topRightBorderDoubleInnerBox=a>0||c>0?Zi(i.left+R,i.top+X*2/3,h-P*2/3,p-X*2/3,di.TOP_RIGHT):new ve(i.left+i.width-P*2/3,i.top+X*2/3),this.bottomRightBorderDoubleInnerBox=w>0||v>0?Zi(i.left+V,i.top+Q,w-P*2/3,v-K*2/3,di.BOTTOM_RIGHT):new ve(i.left+i.width-P*2/3,i.top+i.height-K*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||x>0?Zi(i.left+J*2/3,i.top+W,y-J*2/3,x-K*2/3,di.BOTTOM_LEFT):new ve(i.left+J*2/3,i.top+i.height-K*2/3),this.topLeftBorderStroke=a>0||c>0?Zi(i.left+J/2,i.top+X/2,a-J/2,c-X/2,di.TOP_LEFT):new ve(i.left+J/2,i.top+X/2),this.topRightBorderStroke=a>0||c>0?Zi(i.left+R,i.top+X/2,h-P/2,p-X/2,di.TOP_RIGHT):new ve(i.left+i.width-P/2,i.top+X/2),this.bottomRightBorderStroke=w>0||v>0?Zi(i.left+V,i.top+Q,w-P/2,v-K/2,di.BOTTOM_RIGHT):new ve(i.left+i.width-P/2,i.top+i.height-K/2),this.bottomLeftBorderStroke=y>0||x>0?Zi(i.left+J/2,i.top+W,y-J/2,x-K/2,di.BOTTOM_LEFT):new ve(i.left+J/2,i.top+i.height-K/2),this.topLeftBorderBox=a>0||c>0?Zi(i.left,i.top,a,c,di.TOP_LEFT):new ve(i.left,i.top),this.topRightBorderBox=h>0||p>0?Zi(i.left+R,i.top,h,p,di.TOP_RIGHT):new ve(i.left+i.width,i.top),this.bottomRightBorderBox=w>0||v>0?Zi(i.left+V,i.top+Q,w,v,di.BOTTOM_RIGHT):new ve(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=y>0||x>0?Zi(i.left,i.top+W,y,x,di.BOTTOM_LEFT):new ve(i.left,i.top+i.height),this.topLeftPaddingBox=a>0||c>0?Zi(i.left+J,i.top+X,Math.max(0,a-J),Math.max(0,c-X),di.TOP_LEFT):new ve(i.left+J,i.top+X),this.topRightPaddingBox=h>0||p>0?Zi(i.left+Math.min(R,i.width-P),i.top+X,R>i.width+P?0:Math.max(0,h-P),Math.max(0,p-X),di.TOP_RIGHT):new ve(i.left+i.width-P,i.top+X),this.bottomRightPaddingBox=w>0||v>0?Zi(i.left+Math.min(V,i.width-J),i.top+Math.min(Q,i.height-K),Math.max(0,w-P),Math.max(0,v-K),di.BOTTOM_RIGHT):new ve(i.left+i.width-P,i.top+i.height-K),this.bottomLeftPaddingBox=y>0||x>0?Zi(i.left+J,i.top+Math.min(W,i.height-K),Math.max(0,y-J),Math.max(0,x-K),di.BOTTOM_LEFT):new ve(i.left+J,i.top+i.height-K),this.topLeftContentBox=a>0||c>0?Zi(i.left+J+ut,i.top+X+rt,Math.max(0,a-(J+ut)),Math.max(0,c-(X+rt)),di.TOP_LEFT):new ve(i.left+J+ut,i.top+X+rt),this.topRightContentBox=h>0||p>0?Zi(i.left+Math.min(R,i.width+J+ut),i.top+X+rt,R>i.width+J+ut?0:h-J+ut,p-(X+rt),di.TOP_RIGHT):new ve(i.left+i.width-(P+dt),i.top+X+rt),this.bottomRightContentBox=w>0||v>0?Zi(i.left+Math.min(V,i.width-(J+ut)),i.top+Math.min(Q,i.height+X+rt),Math.max(0,w-(P+dt)),v-(K+ht),di.BOTTOM_RIGHT):new ve(i.left+i.width-(P+dt),i.top+i.height-(K+ht)),this.bottomLeftContentBox=y>0||x>0?Zi(i.left+J+ut,i.top+W,Math.max(0,y-(J+ut)),x-(K+ht),di.BOTTOM_LEFT):new ve(i.left+J+ut,i.top+i.height-(K+ht))}return r}(),di;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(di||(di={}));var Zi=function(r,t,e,i,o){var a=4*((Math.sqrt(2)-1)/3),c=e*a,d=i*a,h=r+e,p=t+i;switch(o){case di.TOP_LEFT:return new hC(new ve(r,p),new ve(r,p-d),new ve(h-c,t),new ve(h,t));case di.TOP_RIGHT:return new hC(new ve(r,t),new ve(r+c,t),new ve(h,p-d),new ve(h,p));case di.BOTTOM_RIGHT:return new hC(new ve(h,t),new ve(h,t+d),new ve(r+c,p),new ve(r,p));case di.BOTTOM_LEFT:default:return new hC(new ve(h,p),new ve(h-c,p),new ve(r,t+d),new ve(r,t))}},sx=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},lht=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},rx=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},cht=function(){function r(t,e,i){this.offsetX=t,this.offsetY=e,this.matrix=i,this.type=0,this.target=6}return r}(),fC=function(){function r(t,e){this.path=t,this.target=e,this.type=1}return r}(),dht=function(){function r(t){this.opacity=t,this.type=2,this.target=6}return r}(),Aht=function(r){return r.type===0},O6=function(r){return r.type===1},uht=function(r){return r.type===2},sH=function(r,t){return r.length===t.length?r.some(function(e,i){return e===t[i]}):!1},hht=function(r,t,e,i,o){return r.map(function(a,c){switch(c){case 0:return a.add(t,e);case 1:return a.add(t+i,e);case 2:return a.add(t+i,e+o);case 3:return a.add(t,e+o)}return a})},N6=function(){function r(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),R6=function(){function r(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new aht(this.container),this.container.styles.opacity<1&&this.effects.push(new dht(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new cht(i,o,a))}if(this.container.styles.overflowX!==0){var c=sx(this.curves),d=rx(this.curves);sH(c,d)?this.effects.push(new fC(c,6)):(this.effects.push(new fC(c,2)),this.effects.push(new fC(d,4)))}}return r.prototype.getEffects=function(t){for(var e=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,o=this.effects.slice(0);i;){var a=i.effects.filter(function(h){return!O6(h)});if(e||i.container.styles.position!==0||!i.parent){if(o.unshift.apply(o,a),e=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var c=sx(i.curves),d=rx(i.curves);sH(c,d)||o.unshift(new fC(d,6))}}else o.unshift.apply(o,a);i=i.parent}return o.filter(function(h){return gr(h.target,t)})},r}(),FD=function(r,t,e,i){r.container.elements.forEach(function(o){var a=gr(o.flags,4),c=gr(o.flags,2),d=new R6(o,r);gr(o.styles.display,2048)&&i.push(d);var h=gr(o.flags,8)?[]:i;if(a||c){var p=a||o.styles.isPositioned()?e:t,g=new N6(d);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var w=o.styles.zIndex.order;if(w<0){var v=0;p.negativeZIndex.some(function(y,x){return w>y.element.container.styles.zIndex.order?(v=x,!1):v>0}),p.negativeZIndex.splice(v,0,g)}else if(w>0){var k=0;p.positiveZIndex.some(function(y,x){return w>=y.element.container.styles.zIndex.order?(k=x+1,!1):k>0}),p.positiveZIndex.splice(k,0,g)}else p.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else o.styles.isFloating()?p.nonPositionedFloats.push(g):p.nonPositionedInlineLevel.push(g);FD(d,g,a?g:e,h)}else o.styles.isInlineLevel()?t.inlineLevel.push(d):t.nonInlineLevel.push(d),FD(d,t,e,h);gr(o.flags,8)&&U6(o,h)})},U6=function(r,t){for(var e=r instanceof ID?r.start:1,i=r instanceof ID?r.reversed:!1,o=0;o<t.length;o++){var a=t[o];a.container instanceof k6&&typeof a.container.value=="number"&&a.container.value!==0&&(e=a.container.value),a.listValue=E_(e,a.container.styles.listStyleType,!0),e+=i?-1:1}},fht=function(r){var t=new R6(r,null),e=new N6(t),i=[];return FD(t,e,e,i),U6(t.container,i),e},rH=function(r,t){switch(t){case 0:return hc(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return hc(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return hc(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return hc(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},pht=function(r,t){switch(t){case 0:return hc(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return hc(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return hc(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return hc(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},ght=function(r,t){switch(t){case 0:return hc(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return hc(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return hc(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return hc(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},mht=function(r,t){switch(t){case 0:return pC(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return pC(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return pC(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return pC(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},pC=function(r,t){var e=[];return cc(r)?e.push(r.subdivide(.5,!1)):e.push(r),cc(t)?e.push(t.subdivide(.5,!0)):e.push(t),e},hc=function(r,t,e,i){var o=[];return cc(r)?o.push(r.subdivide(.5,!1)):o.push(r),cc(e)?o.push(e.subdivide(.5,!0)):o.push(e),cc(i)?o.push(i.subdivide(.5,!0).reverse()):o.push(i),cc(t)?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o},Q6=function(r){var t=r.bounds,e=r.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},ox=function(r){var t=r.styles,e=r.bounds,i=Fi(t.paddingLeft,e.width),o=Fi(t.paddingRight,e.width),a=Fi(t.paddingTop,e.width),c=Fi(t.paddingBottom,e.width);return e.add(i+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+o),-(t.borderTopWidth+t.borderBottomWidth+a+c))},bht=function(r,t){return r===0?t.bounds:r===2?ox(t):Q6(t)},wht=function(r,t){return r===0?t.bounds:r===2?ox(t):Q6(t)},_T=function(r,t,e){var i=bht(jm(r.styles.backgroundOrigin,t),r),o=wht(jm(r.styles.backgroundClip,t),r),a=vht(jm(r.styles.backgroundSize,t),e,i),c=a[0],d=a[1],h=jv(jm(r.styles.backgroundPosition,t),i.width-c,i.height-d),p=_ht(jm(r.styles.backgroundRepeat,t),h,a,i,o),g=Math.round(i.left+h[0]),w=Math.round(i.top+h[1]);return[p,g,w,c,d]},Sm=function(r){return Bi(r)&&r.value===Ym.AUTO},gC=function(r){return typeof r=="number"},vht=function(r,t,e){var i=t[0],o=t[1],a=t[2],c=r[0],d=r[1];if(!c)return[0,0];if(Ks(c)&&d&&Ks(d))return[Fi(c,e.width),Fi(d,e.height)];var h=gC(a);if(Bi(c)&&(c.value===Ym.CONTAIN||c.value===Ym.COVER)){if(gC(a)){var p=e.width/e.height;return p<a!=(c.value===Ym.COVER)?[e.width,e.width/a]:[e.height*a,e.height]}return[e.width,e.height]}var g=gC(i),w=gC(o),v=g||w;if(Sm(c)&&(!d||Sm(d))){if(g&&w)return[i,o];if(!h&&!v)return[e.width,e.height];if(v&&h){var k=g?i:o*a,y=w?o:i/a;return[k,y]}var x=g?i:e.width,I=w?o:e.height;return[x,I]}if(h){var F=0,R=0;return Ks(c)?F=Fi(c,e.width):Ks(d)&&(R=Fi(d,e.height)),Sm(c)?F=R*a:(!d||Sm(d))&&(R=F/a),[F,R]}var Q=null,V=null;if(Ks(c)?Q=Fi(c,e.width):d&&Ks(d)&&(V=Fi(d,e.height)),Q!==null&&(!d||Sm(d))&&(V=g&&w?Q/i*o:e.height),V!==null&&Sm(c)&&(Q=g&&w?V/o*i:e.width),Q!==null&&V!==null)return[Q,V];throw new Error("Unable to calculate background-size for element")},jm=function(r,t){var e=r[t];return typeof e>"u"?r[0]:e},_ht=function(r,t,e,i,o){var a=t[0],c=t[1],d=e[0],h=e[1];switch(r){case 2:return[new ve(Math.round(i.left),Math.round(i.top+c)),new ve(Math.round(i.left+i.width),Math.round(i.top+c)),new ve(Math.round(i.left+i.width),Math.round(h+i.top+c)),new ve(Math.round(i.left),Math.round(h+i.top+c))];case 3:return[new ve(Math.round(i.left+a),Math.round(i.top)),new ve(Math.round(i.left+a+d),Math.round(i.top)),new ve(Math.round(i.left+a+d),Math.round(i.height+i.top)),new ve(Math.round(i.left+a),Math.round(i.height+i.top))];case 1:return[new ve(Math.round(i.left+a),Math.round(i.top+c)),new ve(Math.round(i.left+a+d),Math.round(i.top+c)),new ve(Math.round(i.left+a+d),Math.round(i.top+c+h)),new ve(Math.round(i.left+a),Math.round(i.top+c+h))];default:return[new ve(Math.round(o.left),Math.round(o.top)),new ve(Math.round(o.left+o.width),Math.round(o.top)),new ve(Math.round(o.left+o.width),Math.round(o.height+o.top)),new ve(Math.round(o.left),Math.round(o.height+o.top))]}},kht="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oH="Hidden Text",yht=function(){function r(t){this._data={},this._document=t}return r.prototype.parseMetrics=function(t,e){var i=this._document.createElement("div"),o=this._document.createElement("img"),a=this._document.createElement("span"),c=this._document.body;i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",c.appendChild(i),o.src=kht,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=e,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(oH)),i.appendChild(a),i.appendChild(o);var d=o.offsetTop-a.offsetTop+2;i.removeChild(a),i.appendChild(this._document.createTextNode(oH)),i.style.lineHeight="normal",o.style.verticalAlign="super";var h=o.offsetTop-i.offsetTop+2;return c.removeChild(i),{baseline:d,middle:h}},r.prototype.getMetrics=function(t,e){var i=t+" "+e;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(t,e)),this._data[i]},r}(),H6=function(){function r(t,e){this.context=t,this.options=e}return r}(),Cht=1e4,Eht=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this;return o._activeEffects=[],o.canvas=i.canvas?i.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),i.canvas||(o.canvas.width=Math.floor(i.width*i.scale),o.canvas.height=Math.floor(i.height*i.scale),o.canvas.style.width=i.width+"px",o.canvas.style.height=i.height+"px"),o.fontMetrics=new yht(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-i.x,-i.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),o}return t.prototype.applyEffects=function(e){for(var i=this;this._activeEffects.length;)this.popEffect();e.forEach(function(o){return i.applyEffect(o)})},t.prototype.applyEffect=function(e){this.ctx.save(),uht(e)&&(this.ctx.globalAlpha=e.opacity),Aht(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),O6(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(e){return oa(this,void 0,void 0,function(){var i;return Do(this,function(o){switch(o.label){case 0:return i=e.element.container.styles,i.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(e){return oa(this,void 0,void 0,function(){return Do(this,function(i){switch(i.label){case 0:if(gr(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(e)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(e,i,o){var a=this;if(i===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+o);else{var c=zM(e.text);c.reduce(function(d,h){return a.ctx.fillText(h,d,e.bounds.top+o),d+a.ctx.measureText(h).width},e.bounds.left)}},t.prototype.createFontStyle=function(e){var i=e.fontVariant.filter(function(c){return c==="normal"||c==="small-caps"}).join(""),o=Iht(e.fontFamily).join(", "),a=v0(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,i,e.fontWeight,a,o].join(" "),o,a]},t.prototype.renderTextNode=function(e,i){return oa(this,void 0,void 0,function(){var o,a,c,d,h,p,g,w,v=this;return Do(this,function(k){return o=this.createFontStyle(i),a=o[0],c=o[1],d=o[2],this.ctx.font=a,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(c,d),p=h.baseline,g=h.middle,w=i.paintOrder,e.textBounds.forEach(function(y){w.forEach(function(x){switch(x){case 0:v.ctx.fillStyle=Dr(i.color),v.renderTextWithLetterSpacing(y,i.letterSpacing,p);var I=i.textShadow;I.length&&y.text.trim().length&&(I.slice(0).reverse().forEach(function(F){v.ctx.shadowColor=Dr(F.color),v.ctx.shadowOffsetX=F.offsetX.number*v.options.scale,v.ctx.shadowOffsetY=F.offsetY.number*v.options.scale,v.ctx.shadowBlur=F.blur.number,v.renderTextWithLetterSpacing(y,i.letterSpacing,p)}),v.ctx.shadowColor="",v.ctx.shadowOffsetX=0,v.ctx.shadowOffsetY=0,v.ctx.shadowBlur=0),i.textDecorationLine.length&&(v.ctx.fillStyle=Dr(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(F){switch(F){case 1:v.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+p),y.bounds.width,1);break;case 2:v.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:v.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+g),y.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&y.text.trim().length&&(v.ctx.strokeStyle=Dr(i.webkitTextStrokeColor),v.ctx.lineWidth=i.webkitTextStrokeWidth,v.ctx.lineJoin=window.chrome?"miter":"round",v.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+p)),v.ctx.strokeStyle="",v.ctx.lineWidth=0,v.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(e,i,o){if(o&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var a=ox(e),c=rx(i);this.path(c),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,e.intrinsicWidth,e.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return oa(this,void 0,void 0,function(){var i,o,a,c,d,h,R,R,p,g,w,v,V,k,y,W,x,I,F,R,Q,V,W;return Do(this,function(X){switch(X.label){case 0:this.applyEffects(e.getEffects(4)),i=e.container,o=e.curves,a=i.styles,c=0,d=i.textNodes,X.label=1;case 1:return c<d.length?(h=d[c],[4,this.renderTextNode(h,a)]):[3,4];case 2:X.sent(),X.label=3;case 3:return c++,[3,1];case 4:if(!(i instanceof w6))return[3,8];X.label=5;case 5:return X.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return R=X.sent(),this.renderReplacedElement(i,o,R),[3,8];case 7:return X.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof v6&&this.renderReplacedElement(i,o,i.canvas),!(i instanceof _6))return[3,12];X.label=9;case 9:return X.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return R=X.sent(),this.renderReplacedElement(i,o,R),[3,12];case 11:return X.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof E6&&i.tree?(p=new t(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,p.render(i.tree)]):[3,14];case 13:g=X.sent(),i.width&&i.height&&this.ctx.drawImage(g,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),X.label=14;case 14:if(i instanceof jM&&(w=Math.min(i.bounds.width,i.bounds.height),i.type===tx?i.checked&&(this.ctx.save(),this.path([new ve(i.bounds.left+w*.39363,i.bounds.top+w*.79),new ve(i.bounds.left+w*.16,i.bounds.top+w*.5549),new ve(i.bounds.left+w*.27347,i.bounds.top+w*.44071),new ve(i.bounds.left+w*.39694,i.bounds.top+w*.5649),new ve(i.bounds.left+w*.72983,i.bounds.top+w*.23),new ve(i.bounds.left+w*.84,i.bounds.top+w*.34085),new ve(i.bounds.left+w*.39363,i.bounds.top+w*.79)]),this.ctx.fillStyle=Dr(WQ),this.ctx.fill(),this.ctx.restore()):i.type===ex&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+w/2,i.bounds.top+w/2,w/4,0,Math.PI*2,!0),this.ctx.fillStyle=Dr(WQ),this.ctx.fill(),this.ctx.restore())),xht(i)&&i.value.length){switch(v=this.createFontStyle(a),V=v[0],k=v[1],y=this.fontMetrics.getMetrics(V,k).baseline,this.ctx.font=V,this.ctx.fillStyle=Dr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Sht(i.styles.textAlign),W=ox(i),x=0,i.styles.textAlign){case 1:x+=W.width/2;break;case 2:x+=W.width;break}I=W.add(x,0,0,-W.height/2+1),this.ctx.save(),this.path([new ve(W.left,W.top),new ve(W.left+W.width,W.top),new ve(W.left+W.width,W.top+W.height),new ve(W.left,W.top+W.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new a_(i.value,I),a.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!gr(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(F=i.styles.listStyleImage,F.type!==0)return[3,18];R=void 0,Q=F.url,X.label=15;case 15:return X.trys.push([15,17,,18]),[4,this.context.cache.match(Q)];case 16:return R=X.sent(),this.ctx.drawImage(R,i.bounds.left-(R.width+10),i.bounds.top),[3,18];case 17:return X.sent(),this.context.logger.error("Error loading list-style-image "+Q),[3,18];case 18:return[3,20];case 19:e.listValue&&i.styles.listStyleType!==-1&&(V=this.createFontStyle(a)[0],this.ctx.font=V,this.ctx.fillStyle=Dr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",W=new Du(i.bounds.left,i.bounds.top+Fi(i.styles.paddingTop,i.bounds.width),i.bounds.width,IQ(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new a_(e.listValue,W),a.letterSpacing,IQ(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),X.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(e){return oa(this,void 0,void 0,function(){var i,o,F,a,c,F,d,h,F,p,g,F,w,v,F,k,y,F,x,I,F;return Do(this,function(R){switch(R.label){case 0:if(gr(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:R.sent(),i=0,o=e.negativeZIndex,R.label=2;case 2:return i<o.length?(F=o[i],[4,this.renderStack(F)]):[3,5];case 3:R.sent(),R.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:R.sent(),a=0,c=e.nonInlineLevel,R.label=7;case 7:return a<c.length?(F=c[a],[4,this.renderNode(F)]):[3,10];case 8:R.sent(),R.label=9;case 9:return a++,[3,7];case 10:d=0,h=e.nonPositionedFloats,R.label=11;case 11:return d<h.length?(F=h[d],[4,this.renderStack(F)]):[3,14];case 12:R.sent(),R.label=13;case 13:return d++,[3,11];case 14:p=0,g=e.nonPositionedInlineLevel,R.label=15;case 15:return p<g.length?(F=g[p],[4,this.renderStack(F)]):[3,18];case 16:R.sent(),R.label=17;case 17:return p++,[3,15];case 18:w=0,v=e.inlineLevel,R.label=19;case 19:return w<v.length?(F=v[w],[4,this.renderNode(F)]):[3,22];case 20:R.sent(),R.label=21;case 21:return w++,[3,19];case 22:k=0,y=e.zeroOrAutoZIndexOrTransformedOrOpacity,R.label=23;case 23:return k<y.length?(F=y[k],[4,this.renderStack(F)]):[3,26];case 24:R.sent(),R.label=25;case 25:return k++,[3,23];case 26:x=0,I=e.positiveZIndex,R.label=27;case 27:return x<I.length?(F=I[x],[4,this.renderStack(F)]):[3,30];case 28:R.sent(),R.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},t.prototype.formatPath=function(e){var i=this;e.forEach(function(o,a){var c=cc(o)?o.start:o;a===0?i.ctx.moveTo(c.x,c.y):i.ctx.lineTo(c.x,c.y),cc(o)&&i.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},t.prototype.renderRepeat=function(e,i,o,a){this.path(e),this.ctx.fillStyle=i,this.ctx.translate(o,a),this.ctx.fill(),this.ctx.translate(-o,-a)},t.prototype.resizeImage=function(e,i,o){var a;if(e.width===i&&e.height===o)return e;var c=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,d=c.createElement("canvas");d.width=Math.max(1,i),d.height=Math.max(1,o);var h=d.getContext("2d");return h.drawImage(e,0,0,e.width,e.height,0,0,i,o),d},t.prototype.renderBackgroundImage=function(e){return oa(this,void 0,void 0,function(){var i,o,a,c,d,h;return Do(this,function(p){switch(p.label){case 0:i=e.styles.backgroundImage.length-1,o=function(g){var w,v,k,rt,vt,pt,ut,mt,K,y,rt,vt,pt,ut,mt,x,I,F,R,Q,V,W,X,P,K,J,rt,dt,ht,ut,mt,St,vt,pt,_t,Dt,yt,se,oe,ie,le,Lt;return Do(this,function(Tt){switch(Tt.label){case 0:if(g.type!==0)return[3,5];w=void 0,v=g.url,Tt.label=1;case 1:return Tt.trys.push([1,3,,4]),[4,a.context.cache.match(v)];case 2:return w=Tt.sent(),[3,4];case 3:return Tt.sent(),a.context.logger.error("Error loading background-image "+v),[3,4];case 4:return w&&(k=_T(e,i,[w.width,w.height,w.width/w.height]),rt=k[0],vt=k[1],pt=k[2],ut=k[3],mt=k[4],K=a.ctx.createPattern(a.resizeImage(w,ut,mt),"repeat"),a.renderRepeat(rt,K,vt,pt)),[3,6];case 5:Adt(g)?(y=_T(e,i,[null,null,null]),rt=y[0],vt=y[1],pt=y[2],ut=y[3],mt=y[4],x=odt(g.angle,ut,mt),I=x[0],F=x[1],R=x[2],Q=x[3],V=x[4],W=document.createElement("canvas"),W.width=ut,W.height=mt,X=W.getContext("2d"),P=X.createLinearGradient(F,Q,R,V),SQ(g.stops,I).forEach(function(Pt){return P.addColorStop(Pt.stop,Dr(Pt.color))}),X.fillStyle=P,X.fillRect(0,0,ut,mt),ut>0&&mt>0&&(K=a.ctx.createPattern(W,"repeat"),a.renderRepeat(rt,K,vt,pt))):udt(g)&&(J=_T(e,i,[null,null,null]),rt=J[0],dt=J[1],ht=J[2],ut=J[3],mt=J[4],St=g.position.length===0?[UM]:g.position,vt=Fi(St[0],ut),pt=Fi(St[St.length-1],mt),_t=adt(g,vt,pt,ut,mt),Dt=_t[0],yt=_t[1],Dt>0&&yt>0&&(se=a.ctx.createRadialGradient(dt+vt,ht+pt,0,dt+vt,ht+pt,Dt),SQ(g.stops,Dt*2).forEach(function(Pt){return se.addColorStop(Pt.stop,Dr(Pt.color))}),a.path(rt),a.ctx.fillStyle=se,Dt!==yt?(oe=e.bounds.left+.5*e.bounds.width,ie=e.bounds.top+.5*e.bounds.height,le=yt/Dt,Lt=1/le,a.ctx.save(),a.ctx.translate(oe,ie),a.ctx.transform(1,0,0,le,0,0),a.ctx.translate(-oe,-ie),a.ctx.fillRect(dt,Lt*(ht-ie)+ie,ut,mt*Lt),a.ctx.restore()):a.ctx.fill())),Tt.label=6;case 6:return i--,[2]}})},a=this,c=0,d=e.styles.backgroundImage.slice(0).reverse(),p.label=1;case 1:return c<d.length?(h=d[c],[5,o(h)]):[3,4];case 2:p.sent(),p.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(e,i,o){return oa(this,void 0,void 0,function(){return Do(this,function(a){return this.path(rH(o,i)),this.ctx.fillStyle=Dr(e),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(e,i,o,a){return oa(this,void 0,void 0,function(){var c,d;return Do(this,function(h){switch(h.label){case 0:return i<3?[4,this.renderSolidBorder(e,o,a)]:[3,2];case 1:return h.sent(),[2];case 2:return c=pht(a,o),this.path(c),this.ctx.fillStyle=Dr(e),this.ctx.fill(),d=ght(a,o),this.path(d),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(e){return oa(this,void 0,void 0,function(){var i,o,a,c,d,h,p,g,w=this;return Do(this,function(v){switch(v.label){case 0:return this.applyEffects(e.getEffects(2)),i=e.container.styles,o=!tf(i.backgroundColor)||i.backgroundImage.length,a=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],c=Bht(jm(i.backgroundClip,0),e.curves),o||i.boxShadow.length?(this.ctx.save(),this.path(c),this.ctx.clip(),tf(i.backgroundColor)||(this.ctx.fillStyle=Dr(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:v.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(k){w.ctx.save();var y=sx(e.curves),x=k.inset?0:Cht,I=hht(y,-x+(k.inset?1:-1)*k.spread.number,(k.inset?1:-1)*k.spread.number,k.spread.number*(k.inset?-2:2),k.spread.number*(k.inset?-2:2));k.inset?(w.path(y),w.ctx.clip(),w.mask(I)):(w.mask(y),w.ctx.clip(),w.path(I)),w.ctx.shadowOffsetX=k.offsetX.number+x,w.ctx.shadowOffsetY=k.offsetY.number,w.ctx.shadowColor=Dr(k.color),w.ctx.shadowBlur=k.blur.number,w.ctx.fillStyle=k.inset?Dr(k.color):"rgba(0,0,0,1)",w.ctx.fill(),w.ctx.restore()}),v.label=2;case 2:d=0,h=0,p=a,v.label=3;case 3:return h<p.length?(g=p[h],g.style!==0&&!tf(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,d,e.curves,2)]:[3,11]):[3,13];case 4:return v.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,d,e.curves,3)];case 6:return v.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,d,e.curves)];case 8:return v.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,d,e.curves)];case 10:v.sent(),v.label=11;case 11:d++,v.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(e,i,o,a,c){return oa(this,void 0,void 0,function(){var d,h,p,g,w,v,k,y,x,I,F,R,Q,V,W,X,W,X;return Do(this,function(P){return this.ctx.save(),d=mht(a,o),h=rH(a,o),c===2&&(this.path(h),this.ctx.clip()),cc(h[0])?(p=h[0].start.x,g=h[0].start.y):(p=h[0].x,g=h[0].y),cc(h[1])?(w=h[1].end.x,v=h[1].end.y):(w=h[1].x,v=h[1].y),o===0||o===2?k=Math.abs(p-w):k=Math.abs(g-v),this.ctx.beginPath(),c===3?this.formatPath(d):this.formatPath(h.slice(0,2)),y=i<3?i*3:i*2,x=i<3?i*2:i,c===3&&(y=i,x=i),I=!0,k<=y*2?I=!1:k<=y*2+x?(F=k/(2*y+x),y*=F,x*=F):(R=Math.floor((k+x)/(y+x)),Q=(k-R*y)/(R-1),V=(k-(R+1)*y)/R,x=V<=0||Math.abs(x-Q)<Math.abs(x-V)?Q:V),I&&(c===3?this.ctx.setLineDash([0,y+x]):this.ctx.setLineDash([y,x])),c===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=Dr(e),this.ctx.stroke(),this.ctx.setLineDash([]),c===2&&(cc(h[0])&&(W=h[3],X=h[0],this.ctx.beginPath(),this.formatPath([new ve(W.end.x,W.end.y),new ve(X.start.x,X.start.y)]),this.ctx.stroke()),cc(h[1])&&(W=h[1],X=h[2],this.ctx.beginPath(),this.formatPath([new ve(W.end.x,W.end.y),new ve(X.start.x,X.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(e){return oa(this,void 0,void 0,function(){var i;return Do(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Dr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=fht(e),[4,this.renderStack(i)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(H6),xht=function(r){return r instanceof C6||r instanceof y6?!0:r instanceof jM&&r.type!==ex&&r.type!==tx},Bht=function(r,t){switch(r){case 0:return sx(t);case 2:return lht(t);case 1:default:return rx(t)}},Sht=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Tht=["-apple-system","system-ui"],Iht=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(t){return Tht.indexOf(t)===-1}):r},Dht=function(r){nd(t,r);function t(e,i){var o=r.call(this,e,i)||this;return o.canvas=i.canvas?i.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=i,o.canvas.width=Math.floor(i.width*i.scale),o.canvas.height=Math.floor(i.height*i.scale),o.canvas.style.width=i.width+"px",o.canvas.style.height=i.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-i.x,-i.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),o}return t.prototype.render=function(e){return oa(this,void 0,void 0,function(){var i,o;return Do(this,function(a){switch(a.label){case 0:return i=TD(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Mht(i)];case 1:return o=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Dr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(H6),Mht=function(r){return new Promise(function(t,e){var i=new Image;i.onload=function(){t(i)},i.onerror=e,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Lht=function(){function r(t){var e=t.id,i=t.enabled;this.id=e,this.enabled=i,this.start=Date.now()}return r.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,$y([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,$y([this.id,this.getTime()+"ms"],t))},r.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,$y([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,$y([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.instances={},r}(),Pht=function(){function r(t,e){var i;this.windowBounds=e,this.instanceName="#"+r.instanceCount++,this.logger=new Lht({id:this.instanceName,enabled:t.logging}),this.cache=(i=t.cache)!==null&&i!==void 0?i:new tht(this,t)}return r.instanceCount=1,r}(),Fht=function(r,t){return t===void 0&&(t={}),Oht(r,t)};typeof window<"u"&&F6.setContext(window);var Oht=function(r,t){return oa(void 0,void 0,void 0,function(){var e,i,o,a,c,d,h,p,g,w,v,k,y,x,I,F,R,Q,V,W,P,X,P,K,J,rt,dt,ht,ut,mt,St,vt,pt,_t,Dt,yt,se,oe,ie,le;return Do(this,function(Lt){switch(Lt.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(e=r.ownerDocument,!e)throw new Error("Element is not attached to a Document");if(i=e.defaultView,!i)throw new Error("Document is not attached to a Window");return o={allowTaint:(K=t.allowTaint)!==null&&K!==void 0?K:!1,imageTimeout:(J=t.imageTimeout)!==null&&J!==void 0?J:15e3,proxy:t.proxy,useCORS:(rt=t.useCORS)!==null&&rt!==void 0?rt:!1},a=fD({logging:(dt=t.logging)!==null&&dt!==void 0?dt:!0,cache:t.cache},o),c={windowWidth:(ht=t.windowWidth)!==null&&ht!==void 0?ht:i.innerWidth,windowHeight:(ut=t.windowHeight)!==null&&ut!==void 0?ut:i.innerHeight,scrollX:(mt=t.scrollX)!==null&&mt!==void 0?mt:i.pageXOffset,scrollY:(St=t.scrollY)!==null&&St!==void 0?St:i.pageYOffset},d=new Du(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),h=new Pht(a,d),p=(vt=t.foreignObjectRendering)!==null&&vt!==void 0?vt:!1,g={allowTaint:(pt=t.allowTaint)!==null&&pt!==void 0?pt:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),w=new nH(h,r,g),v=w.clonedReferenceElement,v?[4,w.toIFrame(e,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return k=Lt.sent(),y=VM(v)||Nut(v)?hlt(v.ownerDocument):rB(h,v),x=y.width,I=y.height,F=y.left,R=y.top,Q=Nht(h,v,t.backgroundColor),V={canvas:t.canvas,backgroundColor:Q,scale:(Dt=(_t=t.scale)!==null&&_t!==void 0?_t:i.devicePixelRatio)!==null&&Dt!==void 0?Dt:1,x:((yt=t.x)!==null&&yt!==void 0?yt:0)+F,y:((se=t.y)!==null&&se!==void 0?se:0)+R,width:(oe=t.width)!==null&&oe!==void 0?oe:Math.ceil(x),height:(ie=t.height)!==null&&ie!==void 0?ie:Math.ceil(I)},p?(h.logger.debug("Document cloned, using foreign object rendering"),P=new Dht(h,V),[4,P.render(v)]):[3,3];case 2:return W=Lt.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+F+","+R+" with size "+x+"x"+I+" using computed rendering"),h.logger.debug("Starting DOM parsing"),X=B6(h,v),Q===X.styles.backgroundColor&&(X.styles.backgroundColor=Eu.TRANSPARENT),h.logger.debug("Starting renderer for element at "+V.x+","+V.y+" with size "+V.width+"x"+V.height),P=new Eht(h,V),[4,P.render(X)];case 4:W=Lt.sent(),Lt.label=5;case 5:return(!((le=t.removeContainer)!==null&&le!==void 0)||le)&&(nH.destroy(k)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,W]}})})},Nht=function(r,t,e){var i=t.ownerDocument,o=i.documentElement?r_(r,getComputedStyle(i.documentElement).backgroundColor):Eu.TRANSPARENT,a=i.body?r_(r,getComputedStyle(i.body).backgroundColor):Eu.TRANSPARENT,c=typeof e=="string"?r_(r,e):e===null?Eu.TRANSPARENT:4294967295;return t===i.documentElement?tf(o)?tf(a)?c:a:o:c};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _0(r){return r+.5|0}const qh=(r,t,e)=>Math.max(Math.min(r,e),t);function Gv(r){return qh(_0(r*2.55),0,255)}function ef(r){return qh(_0(r*255),0,255)}function HA(r){return qh(_0(r/2.55)/100,0,1)}function aH(r){return qh(_0(r*100),0,100)}const Jl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},OD=[..."0123456789ABCDEF"],Rht=r=>OD[r&15],Uht=r=>OD[(r&240)>>4]+OD[r&15],mC=r=>(r&240)>>4===(r&15),Qht=r=>mC(r.r)&&mC(r.g)&&mC(r.b)&&mC(r.a);function Hht(r){var t=r.length,e;return r[0]==="#"&&(t===4||t===5?e={r:255&Jl[r[1]]*17,g:255&Jl[r[2]]*17,b:255&Jl[r[3]]*17,a:t===5?Jl[r[4]]*17:255}:(t===7||t===9)&&(e={r:Jl[r[1]]<<4|Jl[r[2]],g:Jl[r[3]]<<4|Jl[r[4]],b:Jl[r[5]]<<4|Jl[r[6]],a:t===9?Jl[r[7]]<<4|Jl[r[8]]:255})),e}const zht=(r,t)=>r<255?t(r):"";function jht(r){var t=Qht(r)?Rht:Uht;return r?"#"+t(r.r)+t(r.g)+t(r.b)+zht(r.a,t):void 0}const Vht=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function z6(r,t,e){const i=t*Math.min(e,1-e),o=(a,c=(a+r/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[o(0),o(8),o(4)]}function Kht(r,t,e){const i=(o,a=(o+r/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Ght(r,t,e){const i=z6(r,1,.5);let o;for(t+e>1&&(o=1/(t+e),t*=o,e*=o),o=0;o<3;o++)i[o]*=1-t-e,i[o]+=t;return i}function Wht(r,t,e,i,o){return r===o?(t-e)/i+(t<e?6:0):t===o?(e-r)/i+2:(r-t)/i+4}function KM(r){const e=r.r/255,i=r.g/255,o=r.b/255,a=Math.max(e,i,o),c=Math.min(e,i,o),d=(a+c)/2;let h,p,g;return a!==c&&(g=a-c,p=d>.5?g/(2-a-c):g/(a+c),h=Wht(e,i,o,g,a),h=h*60+.5),[h|0,p||0,d]}function GM(r,t,e,i){return(Array.isArray(t)?r(t[0],t[1],t[2]):r(t,e,i)).map(ef)}function WM(r,t,e){return GM(z6,r,t,e)}function $ht(r,t,e){return GM(Ght,r,t,e)}function qht(r,t,e){return GM(Kht,r,t,e)}function j6(r){return(r%360+360)%360}function Yht(r){const t=Vht.exec(r);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Gv(+t[5]):ef(+t[5]));const o=j6(+t[2]),a=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=$ht(o,a,c):t[1]==="hsv"?i=qht(o,a,c):i=WM(o,a,c),{r:i[0],g:i[1],b:i[2],a:e}}function Xht(r,t){var e=KM(r);e[0]=j6(e[0]+t),e=WM(e),r.r=e[0],r.g=e[1],r.b=e[2]}function Zht(r){if(!r)return;const t=KM(r),e=t[0],i=aH(t[1]),o=aH(t[2]);return r.a<255?`hsla(${e}, ${i}%, ${o}%, ${HA(r.a)})`:`hsl(${e}, ${i}%, ${o}%)`}const lH={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cH={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Jht(){const r={},t=Object.keys(cH),e=Object.keys(lH);let i,o,a,c,d;for(i=0;i<t.length;i++){for(c=d=t[i],o=0;o<e.length;o++)a=e[o],d=d.replace(a,lH[a]);a=parseInt(cH[c],16),r[d]=[a>>16&255,a>>8&255,a&255]}return r}let bC;function tft(r){bC||(bC=Jht(),bC.transparent=[0,0,0,0]);const t=bC[r.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const eft=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nft(r){const t=eft.exec(r);let e=255,i,o,a;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Gv(c):qh(c*255,0,255)}return i=+t[1],o=+t[3],a=+t[5],i=255&(t[2]?Gv(i):qh(i,0,255)),o=255&(t[4]?Gv(o):qh(o,0,255)),a=255&(t[6]?Gv(a):qh(a,0,255)),{r:i,g:o,b:a,a:e}}}function ift(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${HA(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const kT=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Tm=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function sft(r,t,e){const i=Tm(HA(r.r)),o=Tm(HA(r.g)),a=Tm(HA(r.b));return{r:ef(kT(i+e*(Tm(HA(t.r))-i))),g:ef(kT(o+e*(Tm(HA(t.g))-o))),b:ef(kT(a+e*(Tm(HA(t.b))-a))),a:r.a+e*(t.a-r.a)}}function wC(r,t,e){if(r){let i=KM(r);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=WM(i),r.r=i[0],r.g=i[1],r.b=i[2]}}function V6(r,t){return r&&Object.assign(t||{},r)}function dH(r){var t={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(t={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(t.a=ef(r[3]))):(t=V6(r,{r:0,g:0,b:0,a:1}),t.a=ef(t.a)),t}function rft(r){return r.charAt(0)==="r"?nft(r):Yht(r)}class x_{constructor(t){if(t instanceof x_)return t;const e=typeof t;let i;e==="object"?i=dH(t):e==="string"&&(i=Hht(t)||tft(t)||rft(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=V6(this._rgb);return t&&(t.a=HA(t.a)),t}set rgb(t){this._rgb=dH(t)}rgbString(){return this._valid?ift(this._rgb):void 0}hexString(){return this._valid?jht(this._rgb):void 0}hslString(){return this._valid?Zht(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,o=t.rgb;let a;const c=e===a?.5:e,d=2*c-1,h=i.a-o.a,p=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;a=1-p,i.r=255&p*i.r+a*o.r+.5,i.g=255&p*i.g+a*o.g+.5,i.b=255&p*i.b+a*o.b+.5,i.a=c*i.a+(1-c)*o.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=sft(this._rgb,t._rgb,e)),this}clone(){return new x_(this.rgb)}alpha(t){return this._rgb.a=ef(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=_0(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return wC(this._rgb,2,t),this}darken(t){return wC(this._rgb,2,-t),this}saturate(t){return wC(this._rgb,1,t),this}desaturate(t){return wC(this._rgb,1,-t),this}rotate(t){return Xht(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function LA(){}const oft=(()=>{let r=0;return()=>r++})();function Ln(r){return r==null}function ns(r){if(Array.isArray&&Array.isArray(r))return!0;const t=Object.prototype.toString.call(r);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Nn(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function ws(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function al(r,t){return ws(r)?r:t}function mn(r,t){return typeof r>"u"?t:r}const aft=(r,t)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/t,K6=(r,t)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*t:+r;function Pi(r,t,e){if(r&&typeof r.call=="function")return r.apply(e,t)}function vi(r,t,e,i){let o,a,c;if(ns(r))for(a=r.length,o=0;o<a;o++)t.call(e,r[o],o);else if(Nn(r))for(c=Object.keys(r),a=c.length,o=0;o<a;o++)t.call(e,r[c[o]],c[o])}function ax(r,t){let e,i,o,a;if(!r||!t||r.length!==t.length)return!1;for(e=0,i=r.length;e<i;++e)if(o=r[e],a=t[e],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function lx(r){if(ns(r))return r.map(lx);if(Nn(r)){const t=Object.create(null),e=Object.keys(r),i=e.length;let o=0;for(;o<i;++o)t[e[o]]=lx(r[e[o]]);return t}return r}function G6(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function lft(r,t,e,i){if(!G6(r))return;const o=t[r],a=e[r];Nn(o)&&Nn(a)?B_(o,a,i):t[r]=lx(a)}function B_(r,t,e){const i=ns(t)?t:[t],o=i.length;if(!Nn(r))return r;e=e||{};const a=e.merger||lft;let c;for(let d=0;d<o;++d){if(c=i[d],!Nn(c))continue;const h=Object.keys(c);for(let p=0,g=h.length;p<g;++p)a(h[p],r,c,e)}return r}function c_(r,t){return B_(r,t,{merger:cft})}function cft(r,t,e){if(!G6(r))return;const i=t[r],o=e[r];Nn(i)&&Nn(o)?c_(i,o):Object.prototype.hasOwnProperty.call(t,r)||(t[r]=lx(o))}const AH={"":r=>r,x:r=>r.x,y:r=>r.y};function dft(r){const t=r.split("."),e=[];let i="";for(const o of t)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Aft(r){const t=dft(r);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function cf(r,t){return(AH[t]||(AH[t]=Aft(t)))(r)}function $M(r){return r.charAt(0).toUpperCase()+r.slice(1)}const S_=r=>typeof r<"u",df=r=>typeof r=="function",uH=(r,t)=>{if(r.size!==t.size)return!1;for(const e of r)if(!t.has(e))return!1;return!0};function uft(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const Vi=Math.PI,ji=2*Vi,hft=ji+Vi,cx=Number.POSITIVE_INFINITY,fft=Vi/180,Ps=Vi/2,$f=Vi/4,hH=Vi*2/3,Yh=Math.log10,Zd=Math.sign;function d_(r,t,e){return Math.abs(r-t)<e}function fH(r){const t=Math.round(r);r=d_(r,t,r/1e3)?t:r;const e=Math.pow(10,Math.floor(Yh(r))),i=r/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function pft(r){const t=[],e=Math.sqrt(r);let i;for(i=1;i<e;i++)r%i===0&&(t.push(i),t.push(r/i));return e===(e|0)&&t.push(e),t.sort((o,a)=>o-a).pop(),t}function gft(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function pw(r){return!gft(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function mft(r,t){const e=Math.round(r);return e-t<=r&&e+t>=r}function W6(r,t,e){let i,o,a;for(i=0,o=r.length;i<o;i++)a=r[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function qc(r){return r*(Vi/180)}function qM(r){return r*(180/Vi)}function pH(r){if(!ws(r))return;let t=1,e=0;for(;Math.round(r*t)/t!==r;)t*=10,e++;return e}function $6(r,t){const e=t.x-r.x,i=t.y-r.y,o=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*Vi&&(a+=ji),{angle:a,distance:o}}function ND(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function bft(r,t){return(r-t+hft)%ji-Vi}function Cl(r){return(r%ji+ji)%ji}function T_(r,t,e,i){const o=Cl(r),a=Cl(t),c=Cl(e),d=Cl(a-o),h=Cl(c-o),p=Cl(o-a),g=Cl(o-c);return o===a||o===c||i&&a===c||d>h&&p<g}function Ur(r,t,e){return Math.max(t,Math.min(e,r))}function wft(r){return Ur(r,-32768,32767)}function vu(r,t,e,i=1e-6){return r>=Math.min(t,e)-i&&r<=Math.max(t,e)+i}function YM(r,t,e){e=e||(c=>r[c]<t);let i=r.length-1,o=0,a;for(;i-o>1;)a=o+i>>1,e(a)?o=a:i=a;return{lo:o,hi:i}}const _u=(r,t,e,i)=>YM(r,e,i?o=>{const a=r[o][t];return a<e||a===e&&r[o+1][t]===e}:o=>r[o][t]<e),vft=(r,t,e)=>YM(r,e,i=>r[i][t]>=e);function _ft(r,t,e){let i=0,o=r.length;for(;i<o&&r[i]<t;)i++;for(;o>i&&r[o-1]>e;)o--;return i>0||o<r.length?r.slice(i,o):r}const q6=["push","pop","shift","splice","unshift"];function kft(r,t){if(r._chartjs){r._chartjs.listeners.push(t);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),q6.forEach(e=>{const i="_onData"+$M(e),o=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(...a){const c=o.apply(this,a);return r._chartjs.listeners.forEach(d=>{typeof d[i]=="function"&&d[i](...a)}),c}})})}function gH(r,t){const e=r._chartjs;if(!e)return;const i=e.listeners,o=i.indexOf(t);o!==-1&&i.splice(o,1),!(i.length>0)&&(q6.forEach(a=>{delete r[a]}),delete r._chartjs)}function Y6(r){const t=new Set(r);return t.size===r.length?r:Array.from(t)}const X6=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function Z6(r,t){let e=[],i=!1;return function(...o){e=o,i||(i=!0,X6.call(window,()=>{i=!1,r.apply(t,e)}))}}function yft(r,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(r,t,i)):r.apply(this,i),t}}const XM=r=>r==="start"?"left":r==="end"?"right":"center",Mo=(r,t,e)=>r==="start"?t:r==="end"?e:(t+e)/2,Cft=(r,t,e,i)=>r===(i?"left":"right")?e:r==="center"?(t+e)/2:t;function J6(r,t,e){const i=t.length;let o=0,a=i;if(r._sorted){const{iScale:c,vScale:d,_parsed:h}=r,p=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,g=c.axis,{min:w,max:v,minDefined:k,maxDefined:y}=c.getUserBounds();if(k){if(o=Math.min(_u(h,g,w).lo,e?i:_u(t,g,c.getPixelForValue(w)).lo),p){const x=h.slice(0,o+1).reverse().findIndex(I=>!Ln(I[d.axis]));o-=Math.max(0,x)}o=Ur(o,0,i-1)}if(y){let x=Math.max(_u(h,c.axis,v,!0).hi+1,e?0:_u(t,g,c.getPixelForValue(v),!0).hi+1);if(p){const I=h.slice(x-1).findIndex(F=>!Ln(F[d.axis]));x+=Math.max(0,I)}a=Ur(x,o,i)-o}else a=i-o}return{start:o,count:a}}function tK(r){const{xScale:t,yScale:e,_scaleRanges:i}=r,o={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return r._scaleRanges=o,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,o),a}const vC=r=>r===0||r===1,mH=(r,t,e)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-t)*ji/e)),bH=(r,t,e)=>Math.pow(2,-10*r)*Math.sin((r-t)*ji/e)+1,A_={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Ps)+1,easeOutSine:r=>Math.sin(r*Ps),easeInOutSine:r=>-.5*(Math.cos(Vi*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>vC(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>vC(r)?r:mH(r,.075,.3),easeOutElastic:r=>vC(r)?r:bH(r,.075,.3),easeInOutElastic(r){return vC(r)?r:r<.5?.5*mH(r*2,.1125,.45):.5+.5*bH(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let t=1.70158;return(r/=.5)<1?.5*(r*r*(((t*=1.525)+1)*r-t)):.5*((r-=2)*r*(((t*=1.525)+1)*r+t)+2)},easeInBounce:r=>1-A_.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?A_.easeInBounce(r*2)*.5:A_.easeOutBounce(r*2-1)*.5+.5};function ZM(r){if(r&&typeof r=="object"){const t=r.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function wH(r){return ZM(r)?r:new x_(r)}function yT(r){return ZM(r)?r:new x_(r).saturate(.5).darken(.1).hexString()}const Eft=["x","y","borderWidth","radius","tension"],xft=["color","borderColor","backgroundColor"];function Bft(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),r.set("animations",{colors:{type:"color",properties:xft},numbers:{type:"number",properties:Eft}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Sft(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vH=new Map;function Tft(r,t){t=t||{};const e=r+JSON.stringify(t);let i=vH.get(e);return i||(i=new Intl.NumberFormat(r,t),vH.set(e,i)),i}function k0(r,t,e){return Tft(t,e).format(r)}const eK={values(r){return ns(r)?r:""+r},numeric(r,t,e){if(r===0)return"0";const i=this.chart.options.locale;let o,a=r;if(e.length>1){const p=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(p<1e-4||p>1e15)&&(o="scientific"),a=Ift(r,e)}const c=Yh(Math.abs(a)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:o,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),k0(r,i,h)},logarithmic(r,t,e){if(r===0)return"0";const i=e[t].significand||r/Math.pow(10,Math.floor(Yh(r)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?eK.numeric.call(this,r,t,e):""}};function Ift(r,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&r!==Math.floor(r)&&(e=r-Math.floor(r)),e}var pB={formatters:eK};function Dft(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pB.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Mg=Object.create(null),RD=Object.create(null);function u_(r,t){if(!t)return r;const e=t.split(".");for(let i=0,o=e.length;i<o;++i){const a=e[i];r=r[a]||(r[a]=Object.create(null))}return r}function CT(r,t,e){return typeof t=="string"?B_(u_(r,t),e):B_(u_(r,""),t)}class Mft{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>yT(o.backgroundColor),this.hoverBorderColor=(i,o)=>yT(o.borderColor),this.hoverColor=(i,o)=>yT(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return CT(this,t,e)}get(t){return u_(this,t)}describe(t,e){return CT(RD,t,e)}override(t,e){return CT(Mg,t,e)}route(t,e,i,o){const a=u_(this,t),c=u_(this,i),d="_"+e;Object.defineProperties(a,{[d]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[d],p=c[o];return Nn(h)?Object.assign({},p,h):mn(h,p)},set(h){this[d]=h}}})}apply(t){t.forEach(e=>e(this))}}var ss=new Mft({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Bft,Sft,Dft]);function Lft(r){return!r||Ln(r.size)||Ln(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function dx(r,t,e,i,o){let a=t[o];return a||(a=t[o]=r.measureText(o).width,e.push(o)),a>i&&(i=a),i}function Pft(r,t,e,i){i=i||{};let o=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(o=i.data={},a=i.garbageCollect=[],i.font=t),r.save(),r.font=t;let c=0;const d=e.length;let h,p,g,w,v;for(h=0;h<d;h++)if(w=e[h],w!=null&&!ns(w))c=dx(r,o,a,c,w);else if(ns(w))for(p=0,g=w.length;p<g;p++)v=w[p],v!=null&&!ns(v)&&(c=dx(r,o,a,c,v));r.restore();const k=a.length/2;if(k>e.length){for(h=0;h<k;h++)delete o[a[h]];a.splice(0,k)}return c}function qf(r,t,e){const i=r.currentDevicePixelRatio,o=e!==0?Math.max(e/2,.5):0;return Math.round((t-o)*i)/i+o}function _H(r,t){!t&&!r||(t=t||r.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,r.width,r.height),t.restore())}function UD(r,t,e,i){nK(r,t,e,i,null)}function nK(r,t,e,i,o){let a,c,d,h,p,g,w,v;const k=t.pointStyle,y=t.rotation,x=t.radius;let I=(y||0)*fft;if(k&&typeof k=="object"&&(a=k.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){r.save(),r.translate(e,i),r.rotate(I),r.drawImage(k,-k.width/2,-k.height/2,k.width,k.height),r.restore();return}if(!(isNaN(x)||x<=0)){switch(r.beginPath(),k){default:o?r.ellipse(e,i,o/2,x,0,0,ji):r.arc(e,i,x,0,ji),r.closePath();break;case"triangle":g=o?o/2:x,r.moveTo(e+Math.sin(I)*g,i-Math.cos(I)*x),I+=hH,r.lineTo(e+Math.sin(I)*g,i-Math.cos(I)*x),I+=hH,r.lineTo(e+Math.sin(I)*g,i-Math.cos(I)*x),r.closePath();break;case"rectRounded":p=x*.516,h=x-p,c=Math.cos(I+$f)*h,w=Math.cos(I+$f)*(o?o/2-p:h),d=Math.sin(I+$f)*h,v=Math.sin(I+$f)*(o?o/2-p:h),r.arc(e-w,i-d,p,I-Vi,I-Ps),r.arc(e+v,i-c,p,I-Ps,I),r.arc(e+w,i+d,p,I,I+Ps),r.arc(e-v,i+c,p,I+Ps,I+Vi),r.closePath();break;case"rect":if(!y){h=Math.SQRT1_2*x,g=o?o/2:h,r.rect(e-g,i-h,2*g,2*h);break}I+=$f;case"rectRot":w=Math.cos(I)*(o?o/2:x),c=Math.cos(I)*x,d=Math.sin(I)*x,v=Math.sin(I)*(o?o/2:x),r.moveTo(e-w,i-d),r.lineTo(e+v,i-c),r.lineTo(e+w,i+d),r.lineTo(e-v,i+c),r.closePath();break;case"crossRot":I+=$f;case"cross":w=Math.cos(I)*(o?o/2:x),c=Math.cos(I)*x,d=Math.sin(I)*x,v=Math.sin(I)*(o?o/2:x),r.moveTo(e-w,i-d),r.lineTo(e+w,i+d),r.moveTo(e+v,i-c),r.lineTo(e-v,i+c);break;case"star":w=Math.cos(I)*(o?o/2:x),c=Math.cos(I)*x,d=Math.sin(I)*x,v=Math.sin(I)*(o?o/2:x),r.moveTo(e-w,i-d),r.lineTo(e+w,i+d),r.moveTo(e+v,i-c),r.lineTo(e-v,i+c),I+=$f,w=Math.cos(I)*(o?o/2:x),c=Math.cos(I)*x,d=Math.sin(I)*x,v=Math.sin(I)*(o?o/2:x),r.moveTo(e-w,i-d),r.lineTo(e+w,i+d),r.moveTo(e+v,i-c),r.lineTo(e-v,i+c);break;case"line":c=o?o/2:Math.cos(I)*x,d=Math.sin(I)*x,r.moveTo(e-c,i-d),r.lineTo(e+c,i+d);break;case"dash":r.moveTo(e,i),r.lineTo(e+Math.cos(I)*(o?o/2:x),i+Math.sin(I)*x);break;case!1:r.closePath();break}r.fill(),t.borderWidth>0&&r.stroke()}}function ku(r,t,e){return e=e||.5,!t||r&&r.x>t.left-e&&r.x<t.right+e&&r.y>t.top-e&&r.y<t.bottom+e}function gB(r,t){r.save(),r.beginPath(),r.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),r.clip()}function mB(r){r.restore()}function Fft(r,t,e,i,o){if(!t)return r.lineTo(e.x,e.y);if(o==="middle"){const a=(t.x+e.x)/2;r.lineTo(a,t.y),r.lineTo(a,e.y)}else o==="after"!=!!i?r.lineTo(t.x,e.y):r.lineTo(e.x,t.y);r.lineTo(e.x,e.y)}function Oft(r,t,e,i){if(!t)return r.lineTo(e.x,e.y);r.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Nft(r,t){t.translation&&r.translate(t.translation[0],t.translation[1]),Ln(t.rotation)||r.rotate(t.rotation),t.color&&(r.fillStyle=t.color),t.textAlign&&(r.textAlign=t.textAlign),t.textBaseline&&(r.textBaseline=t.textBaseline)}function Rft(r,t,e,i,o){if(o.strikethrough||o.underline){const a=r.measureText(i),c=t-a.actualBoundingBoxLeft,d=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,p=e+a.actualBoundingBoxDescent,g=o.strikethrough?(h+p)/2:p;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=o.decorationWidth||2,r.moveTo(c,g),r.lineTo(d,g),r.stroke()}}function Uft(r,t){const e=r.fillStyle;r.fillStyle=t.color,r.fillRect(t.left,t.top,t.width,t.height),r.fillStyle=e}function Lg(r,t,e,i,o,a={}){const c=ns(t)?t:[t],d=a.strokeWidth>0&&a.strokeColor!=="";let h,p;for(r.save(),r.font=o.string,Nft(r,a),h=0;h<c.length;++h)p=c[h],a.backdrop&&Uft(r,a.backdrop),d&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),Ln(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(p,e,i,a.maxWidth)),r.fillText(p,e,i,a.maxWidth),Rft(r,e,i,p,a),i+=Number(o.lineHeight);r.restore()}function I_(r,t){const{x:e,y:i,w:o,h:a,radius:c}=t;r.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Vi,Vi,!0),r.lineTo(e,i+a-c.bottomLeft),r.arc(e+c.bottomLeft,i+a-c.bottomLeft,c.bottomLeft,Vi,Ps,!0),r.lineTo(e+o-c.bottomRight,i+a),r.arc(e+o-c.bottomRight,i+a-c.bottomRight,c.bottomRight,Ps,0,!0),r.lineTo(e+o,i+c.topRight),r.arc(e+o-c.topRight,i+c.topRight,c.topRight,0,-Ps,!0),r.lineTo(e+c.topLeft,i)}const Qft=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Hft=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zft(r,t){const e=(""+r).match(Qft);if(!e||e[1]==="normal")return t*1.2;switch(r=+e[2],e[3]){case"px":return r;case"%":r/=100;break}return t*r}const jft=r=>+r||0;function JM(r,t){const e={},i=Nn(t),o=i?Object.keys(t):t,a=Nn(r)?i?c=>mn(r[c],r[t[c]]):c=>r[c]:()=>r;for(const c of o)e[c]=jft(a(c));return e}function iK(r){return JM(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Cg(r){return JM(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Ro(r){const t=iK(r);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mr(r,t){r=r||{},t=t||ss.font;let e=mn(r.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=mn(r.style,t.style);i&&!(""+i).match(Hft)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:mn(r.family,t.family),lineHeight:zft(mn(r.lineHeight,t.lineHeight),e),size:e,style:i,weight:mn(r.weight,t.weight),string:""};return o.string=Lft(o),o}function Wv(r,t,e,i){let o,a,c;for(o=0,a=r.length;o<a;++o)if(c=r[o],c!==void 0&&c!==void 0)return c}function Vft(r,t,e){const{min:i,max:o}=r,a=K6(t,(o-i)/2),c=(d,h)=>e&&d===0?0:d+h;return{min:c(i,-Math.abs(a)),max:c(o,a)}}function mf(r,t){return Object.assign(Object.create(r),t)}function tL(r,t=[""],e,i,o=()=>r[0]){const a=e||r;typeof i>"u"&&(i=aK("_fallback",r));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:a,_fallback:i,_getTarget:o,override:d=>tL([d,...r],t,a,i)};return new Proxy(c,{deleteProperty(d,h){return delete d[h],delete d._keys,delete r[0][h],!0},get(d,h){return rK(d,h,()=>Zft(h,t,r,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(d,h){return yH(d).includes(h)},ownKeys(d){return yH(d)},set(d,h,p){const g=d._storage||(d._storage=o());return d[h]=g[h]=p,delete d._keys,!0}})}function gw(r,t,e,i){const o={_cacheable:!1,_proxy:r,_context:t,_subProxy:e,_stack:new Set,_descriptors:sK(r,i),setContext:a=>gw(r,a,e,i),override:a=>gw(r.override(a),t,e,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete r[c],!0},get(a,c,d){return rK(a,c,()=>Gft(a,c,d))},getOwnPropertyDescriptor(a,c){return a._descriptors.allKeys?Reflect.has(r,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,c)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,c){return Reflect.has(r,c)},ownKeys(){return Reflect.ownKeys(r)},set(a,c,d){return r[c]=d,delete a[c],!0}})}function sK(r,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:o=t.allKeys}=r;return{allKeys:o,scriptable:e,indexable:i,isScriptable:df(e)?e:()=>e,isIndexable:df(i)?i:()=>i}}const Kft=(r,t)=>r?r+$M(t):t,eL=(r,t)=>Nn(t)&&r!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rK(r,t,e){if(Object.prototype.hasOwnProperty.call(r,t)||t==="constructor")return r[t];const i=e();return r[t]=i,i}function Gft(r,t,e){const{_proxy:i,_context:o,_subProxy:a,_descriptors:c}=r;let d=i[t];return df(d)&&c.isScriptable(t)&&(d=Wft(t,d,r,e)),ns(d)&&d.length&&(d=$ft(t,d,r,c.isIndexable)),eL(t,d)&&(d=gw(d,o,a&&a[t],c)),d}function Wft(r,t,e,i){const{_proxy:o,_context:a,_subProxy:c,_stack:d}=e;if(d.has(r))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+r);d.add(r);let h=t(a,c||i);return d.delete(r),eL(r,h)&&(h=nL(o._scopes,o,r,h)),h}function $ft(r,t,e,i){const{_proxy:o,_context:a,_subProxy:c,_descriptors:d}=e;if(typeof a.index<"u"&&i(r))return t[a.index%t.length];if(Nn(t[0])){const h=t,p=o._scopes.filter(g=>g!==h);t=[];for(const g of h){const w=nL(p,o,r,g);t.push(gw(w,a,c&&c[r],d))}}return t}function oK(r,t,e){return df(r)?r(t,e):r}const qft=(r,t)=>r===!0?t:typeof r=="string"?cf(t,r):void 0;function Yft(r,t,e,i,o){for(const a of t){const c=qft(e,a);if(c){r.add(c);const d=oK(c._fallback,e,o);if(typeof d<"u"&&d!==e&&d!==i)return d}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function nL(r,t,e,i){const o=t._rootScopes,a=oK(t._fallback,e,i),c=[...r,...o],d=new Set;d.add(i);let h=kH(d,c,e,a||e,i);return h===null||typeof a<"u"&&a!==e&&(h=kH(d,c,a,h,i),h===null)?!1:tL(Array.from(d),[""],o,a,()=>Xft(t,e,i))}function kH(r,t,e,i,o){for(;e;)e=Yft(r,t,e,i,o);return e}function Xft(r,t,e){const i=r._getTarget();t in i||(i[t]={});const o=i[t];return ns(o)&&Nn(e)?e:o||{}}function Zft(r,t,e,i){let o;for(const a of t)if(o=aK(Kft(a,r),e),typeof o<"u")return eL(r,o)?nL(e,i,r,o):o}function aK(r,t){for(const e of t){if(!e)continue;const i=e[r];if(typeof i<"u")return i}}function yH(r){let t=r._keys;return t||(t=r._keys=Jft(r._scopes)),t}function Jft(r){const t=new Set;for(const e of r)for(const i of Object.keys(e).filter(o=>!o.startsWith("_")))t.add(i);return Array.from(t)}function lK(r,t,e,i){const{iScale:o}=r,{key:a="r"}=this._parsing,c=new Array(i);let d,h,p,g;for(d=0,h=i;d<h;++d)p=d+e,g=t[p],c[d]={r:o.parse(cf(g,a),p)};return c}const tpt=Number.EPSILON||1e-14,mw=(r,t)=>t<r.length&&!r[t].skip&&r[t],cK=r=>r==="x"?"y":"x";function ept(r,t,e,i){const o=r.skip?t:r,a=t,c=e.skip?t:e,d=ND(a,o),h=ND(c,a);let p=d/(d+h),g=h/(d+h);p=isNaN(p)?0:p,g=isNaN(g)?0:g;const w=i*p,v=i*g;return{previous:{x:a.x-w*(c.x-o.x),y:a.y-w*(c.y-o.y)},next:{x:a.x+v*(c.x-o.x),y:a.y+v*(c.y-o.y)}}}function npt(r,t,e){const i=r.length;let o,a,c,d,h,p=mw(r,0);for(let g=0;g<i-1;++g)if(h=p,p=mw(r,g+1),!(!h||!p)){if(d_(t[g],0,tpt)){e[g]=e[g+1]=0;continue}o=e[g]/t[g],a=e[g+1]/t[g],d=Math.pow(o,2)+Math.pow(a,2),!(d<=9)&&(c=3/Math.sqrt(d),e[g]=o*c*t[g],e[g+1]=a*c*t[g])}}function ipt(r,t,e="x"){const i=cK(e),o=r.length;let a,c,d,h=mw(r,0);for(let p=0;p<o;++p){if(c=d,d=h,h=mw(r,p+1),!d)continue;const g=d[e],w=d[i];c&&(a=(g-c[e])/3,d[`cp1${e}`]=g-a,d[`cp1${i}`]=w-a*t[p]),h&&(a=(h[e]-g)/3,d[`cp2${e}`]=g+a,d[`cp2${i}`]=w+a*t[p])}}function spt(r,t="x"){const e=cK(t),i=r.length,o=Array(i).fill(0),a=Array(i);let c,d,h,p=mw(r,0);for(c=0;c<i;++c)if(d=h,h=p,p=mw(r,c+1),!!h){if(p){const g=p[t]-h[t];o[c]=g!==0?(p[e]-h[e])/g:0}a[c]=d?p?Zd(o[c-1])!==Zd(o[c])?0:(o[c-1]+o[c])/2:o[c-1]:o[c]}npt(r,o,a),ipt(r,a,t)}function _C(r,t,e){return Math.max(Math.min(r,e),t)}function rpt(r,t){let e,i,o,a,c,d=ku(r[0],t);for(e=0,i=r.length;e<i;++e)c=a,a=d,d=e<i-1&&ku(r[e+1],t),a&&(o=r[e],c&&(o.cp1x=_C(o.cp1x,t.left,t.right),o.cp1y=_C(o.cp1y,t.top,t.bottom)),d&&(o.cp2x=_C(o.cp2x,t.left,t.right),o.cp2y=_C(o.cp2y,t.top,t.bottom)))}function opt(r,t,e,i,o){let a,c,d,h;if(t.spanGaps&&(r=r.filter(p=>!p.skip)),t.cubicInterpolationMode==="monotone")spt(r,o);else{let p=i?r[r.length-1]:r[0];for(a=0,c=r.length;a<c;++a)d=r[a],h=ept(p,d,r[Math.min(a+1,c-(i?0:1))%c],t.tension),d.cp1x=h.previous.x,d.cp1y=h.previous.y,d.cp2x=h.next.x,d.cp2y=h.next.y,p=d}t.capBezierPoints&&rpt(r,e)}function iL(){return typeof window<"u"&&typeof document<"u"}function sL(r){let t=r.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ax(r,t,e){let i;return typeof r=="string"?(i=parseInt(r,10),r.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=r,i}const bB=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function apt(r,t){return bB(r).getPropertyValue(t)}const lpt=["top","right","bottom","left"];function Eg(r,t,e){const i={};e=e?"-"+e:"";for(let o=0;o<4;o++){const a=lpt[o];i[a]=parseFloat(r[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cpt=(r,t,e)=>(r>0||t>0)&&(!e||!e.shadowRoot);function dpt(r,t){const e=r.touches,i=e&&e.length?e[0]:r,{offsetX:o,offsetY:a}=i;let c=!1,d,h;if(cpt(o,a,r.target))d=o,h=a;else{const p=t.getBoundingClientRect();d=i.clientX-p.left,h=i.clientY-p.top,c=!0}return{x:d,y:h,box:c}}function ep(r,t){if("native"in r)return r;const{canvas:e,currentDevicePixelRatio:i}=t,o=bB(e),a=o.boxSizing==="border-box",c=Eg(o,"padding"),d=Eg(o,"border","width"),{x:h,y:p,box:g}=dpt(r,e),w=c.left+(g&&d.left),v=c.top+(g&&d.top);let{width:k,height:y}=t;return a&&(k-=c.width+d.width,y-=c.height+d.height),{x:Math.round((h-w)/k*e.width/i),y:Math.round((p-v)/y*e.height/i)}}function Apt(r,t,e){let i,o;if(t===void 0||e===void 0){const a=r&&sL(r);if(!a)t=r.clientWidth,e=r.clientHeight;else{const c=a.getBoundingClientRect(),d=bB(a),h=Eg(d,"border","width"),p=Eg(d,"padding");t=c.width-p.width-h.width,e=c.height-p.height-h.height,i=Ax(d.maxWidth,a,"clientWidth"),o=Ax(d.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||cx,maxHeight:o||cx}}const kC=r=>Math.round(r*10)/10;function upt(r,t,e,i){const o=bB(r),a=Eg(o,"margin"),c=Ax(o.maxWidth,r,"clientWidth")||cx,d=Ax(o.maxHeight,r,"clientHeight")||cx,h=Apt(r,t,e);let{width:p,height:g}=h;if(o.boxSizing==="content-box"){const v=Eg(o,"border","width"),k=Eg(o,"padding");p-=k.width+v.width,g-=k.height+v.height}return p=Math.max(0,p-a.width),g=Math.max(0,i?p/i:g-a.height),p=kC(Math.min(p,c,h.maxWidth)),g=kC(Math.min(g,d,h.maxHeight)),p&&!g&&(g=kC(p/2)),(t!==void 0||e!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,p=kC(Math.floor(g*i))),{width:p,height:g}}function CH(r,t,e){const i=t||1,o=Math.floor(r.height*i),a=Math.floor(r.width*i);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const c=r.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${r.height}px`,c.style.width=`${r.width}px`),r.currentDevicePixelRatio!==i||c.height!==o||c.width!==a?(r.currentDevicePixelRatio=i,c.height=o,c.width=a,r.ctx.setTransform(i,0,0,i,0,0),!0):!1}const hpt=function(){let r=!1;try{const t={get passive(){return r=!0,!1}};iL()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return r}();function EH(r,t){const e=apt(r,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function np(r,t,e,i){return{x:r.x+e*(t.x-r.x),y:r.y+e*(t.y-r.y)}}function fpt(r,t,e,i){return{x:r.x+e*(t.x-r.x),y:i==="middle"?e<.5?r.y:t.y:i==="after"?e<1?r.y:t.y:e>0?t.y:r.y}}function ppt(r,t,e,i){const o={x:r.cp2x,y:r.cp2y},a={x:t.cp1x,y:t.cp1y},c=np(r,o,e),d=np(o,a,e),h=np(a,t,e),p=np(c,d,e),g=np(d,h,e);return np(p,g,e)}const gpt=function(r,t){return{x(e){return r+r+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},mpt=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,t){return r+t},leftForLtr(r,t){return r}}};function Xm(r,t,e){return r?gpt(t,e):mpt()}function dK(r,t){let e,i;(t==="ltr"||t==="rtl")&&(e=r.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),r.prevTextDirection=i)}function AK(r,t){t!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",t[0],t[1]))}function uK(r){return r==="angle"?{between:T_,compare:bft,normalize:Cl}:{between:vu,compare:(t,e)=>t-e,normalize:t=>t}}function xH({start:r,end:t,count:e,loop:i,style:o}){return{start:r%e,end:t%e,loop:i&&(t-r+1)%e===0,style:o}}function bpt(r,t,e){const{property:i,start:o,end:a}=e,{between:c,normalize:d}=uK(i),h=t.length;let{start:p,end:g,loop:w}=r,v,k;if(w){for(p+=h,g+=h,v=0,k=h;v<k&&c(d(t[p%h][i]),o,a);++v)p--,g--;p%=h,g%=h}return g<p&&(g+=h),{start:p,end:g,loop:w,style:r.style}}function hK(r,t,e){if(!e)return[r];const{property:i,start:o,end:a}=e,c=t.length,{compare:d,between:h,normalize:p}=uK(i),{start:g,end:w,loop:v,style:k}=bpt(r,t,e),y=[];let x=!1,I=null,F,R,Q;const V=()=>h(o,Q,F)&&d(o,Q)!==0,W=()=>d(a,F)===0||h(a,Q,F),X=()=>x||V(),P=()=>!x||W();for(let K=g,J=g;K<=w;++K)R=t[K%c],!R.skip&&(F=p(R[i]),F!==Q&&(x=h(F,o,a),I===null&&X()&&(I=d(F,o)===0?K:J),I!==null&&P()&&(y.push(xH({start:I,end:K,loop:v,count:c,style:k})),I=null),J=K,Q=F));return I!==null&&y.push(xH({start:I,end:w,loop:v,count:c,style:k})),y}function fK(r,t){const e=[],i=r.segments;for(let o=0;o<i.length;o++){const a=hK(i[o],r.points,t);a.length&&e.push(...a)}return e}function wpt(r,t,e,i){let o=0,a=t-1;if(e&&!i)for(;o<t&&!r[o].skip;)o++;for(;o<t&&r[o].skip;)o++;for(o%=t,e&&(a+=o);a>o&&r[a%t].skip;)a--;return a%=t,{start:o,end:a}}function vpt(r,t,e,i){const o=r.length,a=[];let c=t,d=r[t],h;for(h=t+1;h<=e;++h){const p=r[h%o];p.skip||p.stop?d.skip||(i=!1,a.push({start:t%o,end:(h-1)%o,loop:i}),t=c=p.stop?h:null):(c=h,d.skip&&(t=h)),d=p}return c!==null&&a.push({start:t%o,end:c%o,loop:i}),a}function _pt(r,t){const e=r.points,i=r.options.spanGaps,o=e.length;if(!o)return[];const a=!!r._loop,{start:c,end:d}=wpt(e,o,a,i);if(i===!0)return BH(r,[{start:c,end:d,loop:a}],e,t);const h=d<c?d+o:d,p=!!r._fullLoop&&c===0&&d===o-1;return BH(r,vpt(e,c,h,p),e,t)}function BH(r,t,e,i){return!i||!i.setContext||!e?t:kpt(r,t,e,i)}function kpt(r,t,e,i){const o=r._chart.getContext(),a=SH(r.options),{_datasetIndex:c,options:{spanGaps:d}}=r,h=e.length,p=[];let g=a,w=t[0].start,v=w;function k(y,x,I,F){const R=d?-1:1;if(y!==x){for(y+=h;e[y%h].skip;)y-=R;for(;e[x%h].skip;)x+=R;y%h!==x%h&&(p.push({start:y%h,end:x%h,loop:I,style:F}),g=F,w=x%h)}}for(const y of t){w=d?w:y.start;let x=e[w%h],I;for(v=w+1;v<=y.end;v++){const F=e[v%h];I=SH(i.setContext(mf(o,{type:"segment",p0:x,p1:F,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:c}))),ypt(I,g)&&k(w,v-1,y.loop,g),x=F,g=I}w<v-1&&k(w,v-1,y.loop,g)}return p}function SH(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function ypt(r,t){if(!t)return!1;const e=[],i=function(o,a){return ZM(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(r,i)!==JSON.stringify(t,i)}function yC(r,t,e){return r.options.clip?r[e]:t[e]}function Cpt(r,t){const{xScale:e,yScale:i}=r;return e&&i?{left:yC(e,t,"left"),right:yC(e,t,"right"),top:yC(i,t,"top"),bottom:yC(i,t,"bottom")}:t}function pK(r,t){const e=t._clip;if(e.disabled)return!1;const i=Cpt(t,r.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?r.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?r.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ept{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,o){const a=e.listeners[o],c=e.duration;a.forEach(d=>d({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=X6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const a=i.items;let c=a.length-1,d=!1,h;for(;c>=0;--c)h=a[c],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),d=!0):(a[c]=a[a.length-1],a.pop());d&&(o.draw(),this._notify(o,i,t,"progress")),a.length||(i.running=!1,this._notify(o,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var NA=new Ept;const TH="transparent",xpt={boolean(r,t,e){return e>.5?t:r},color(r,t,e){const i=wH(r||TH),o=i.valid&&wH(t||TH);return o&&o.valid?o.mix(i,e).hexString():t},number(r,t,e){return r+(t-r)*e}};class Bpt{constructor(t,e,i,o){const a=e[i];o=Wv([t.to,o,a,t.from]);const c=Wv([t.from,a,o]);this._active=!0,this._fn=t.fn||xpt[t.type||typeof c],this._easing=A_[t.easing]||A_.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const o=this._target[this._prop],a=i-this._start,c=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Wv([t.to,e,o,t.from]),this._from=Wv([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,o=this._prop,a=this._from,c=this._loop,d=this._to;let h;if(this._active=a!==d&&(c||e<i),!this._active){this._target[o]=d,this._notify(!0);return}if(e<0){this._target[o]=a;return}h=e/i%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(a,d,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][e]()}}class gK{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Nn(t))return;const e=Object.keys(ss.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const a=t[o];if(!Nn(a))return;const c={};for(const d of e)c[d]=a[d];(ns(a.properties)&&a.properties||[o]).forEach(d=>{(d===o||!i.has(d))&&i.set(d,c)})})}_animateOptions(t,e){const i=e.options,o=Tpt(t,i);if(!o)return[];const a=this._createAnimations(o,i);return i.$shared&&Spt(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,o=[],a=t.$animations||(t.$animations={}),c=Object.keys(e),d=Date.now();let h;for(h=c.length-1;h>=0;--h){const p=c[h];if(p.charAt(0)==="$")continue;if(p==="options"){o.push(...this._animateOptions(t,e));continue}const g=e[p];let w=a[p];const v=i.get(p);if(w)if(v&&w.active()){w.update(v,g,d);continue}else w.cancel();if(!v||!v.duration){t[p]=g;continue}a[p]=w=new Bpt(v,t,p,g),o.push(w)}return o}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return NA.add(this._chart,i),!0}}function Spt(r,t){const e=[],i=Object.keys(t);for(let o=0;o<i.length;o++){const a=r[i[o]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function Tpt(r,t){if(!t)return;let e=r.options;if(!e){r.options=t;return}return e.$shared&&(r.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function IH(r,t){const e=r&&r.options||{},i=e.reverse,o=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:o,end:i?o:a}}function Ipt(r,t,e){if(e===!1)return!1;const i=IH(r,e),o=IH(t,e);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function Dpt(r){let t,e,i,o;return Nn(r)?(t=r.top,e=r.right,i=r.bottom,o=r.left):t=e=i=o=r,{top:t,right:e,bottom:i,left:o,disabled:r===!1}}function mK(r,t){const e=[],i=r._getSortedDatasetMetas(t);let o,a;for(o=0,a=i.length;o<a;++o)e.push(i[o].index);return e}function DH(r,t,e,i={}){const o=r.keys,a=i.mode==="single";let c,d,h,p;if(t===null)return;let g=!1;for(c=0,d=o.length;c<d;++c){if(h=+o[c],h===e){if(g=!0,i.all)continue;break}p=r.values[h],ws(p)&&(a||t===0||Zd(t)===Zd(p))&&(t+=p)}return!g&&!i.all?0:t}function Mpt(r,t){const{iScale:e,vScale:i}=t,o=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",c=Object.keys(r),d=new Array(c.length);let h,p,g;for(h=0,p=c.length;h<p;++h)g=c[h],d[h]={[o]:g,[a]:r[g]};return d}function ET(r,t){const e=r&&r.options.stacked;return e||e===void 0&&t.stack!==void 0}function Lpt(r,t,e){return`${r.id}.${t.id}.${e.stack||e.type}`}function Ppt(r){const{min:t,max:e,minDefined:i,maxDefined:o}=r.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function Fpt(r,t,e){const i=r[t]||(r[t]={});return i[e]||(i[e]={})}function MH(r,t,e,i){for(const o of t.getMatchingVisibleMetas(i).reverse()){const a=r[o.index];if(e&&a>0||!e&&a<0)return o.index}return null}function LH(r,t){const{chart:e,_cachedMeta:i}=r,o=e._stacks||(e._stacks={}),{iScale:a,vScale:c,index:d}=i,h=a.axis,p=c.axis,g=Lpt(a,c,i),w=t.length;let v;for(let k=0;k<w;++k){const y=t[k],{[h]:x,[p]:I}=y,F=y._stacks||(y._stacks={});v=F[p]=Fpt(o,g,x),v[d]=I,v._top=MH(v,c,!0,i.type),v._bottom=MH(v,c,!1,i.type);const R=v._visualValues||(v._visualValues={});R[d]=I}}function xT(r,t){const e=r.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Opt(r,t){return mf(r,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Npt(r,t,e){return mf(r,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function hv(r,t){const e=r.controller.index,i=r.vScale&&r.vScale.axis;if(i){t=t||r._parsed;for(const o of t){const a=o._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const BT=r=>r==="reset"||r==="none",PH=(r,t)=>t?r:Object.assign({},r),Rpt=(r,t,e)=>r&&!t.hidden&&t._stacked&&{keys:mK(e,!0),values:null};class Xc{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ET(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hv(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),o=(w,v,k,y)=>w==="x"?v:w==="r"?y:k,a=e.xAxisID=mn(i.xAxisID,xT(t,"x")),c=e.yAxisID=mn(i.yAxisID,xT(t,"y")),d=e.rAxisID=mn(i.rAxisID,xT(t,"r")),h=e.indexAxis,p=e.iAxisID=o(h,a,c,d),g=e.vAxisID=o(h,c,a,d);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(d),e.iScale=this.getScaleForId(p),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&gH(this._data,this),t._stacked&&hv(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Nn(e)){const o=this._cachedMeta;this._data=Mpt(e,o)}else if(i!==e){if(i){gH(i,this);const o=this._cachedMeta;hv(o),o._parsed=[]}e&&Object.isExtensible(e)&&kft(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const a=e._stacked;e._stacked=ET(e.vScale,e),e.stack!==i.stack&&(o=!0,hv(e),e.stack=i.stack),this._resyncElements(t),(o||a!==e._stacked)&&(LH(this,e._parsed),e._stacked=ET(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:o}=this,{iScale:a,_stacked:c}=i,d=a.axis;let h=t===0&&e===o.length?!0:i._sorted,p=t>0&&i._parsed[t-1],g,w,v;if(this._parsing===!1)i._parsed=o,i._sorted=!0,v=o;else{ns(o[t])?v=this.parseArrayData(i,o,t,e):Nn(o[t])?v=this.parseObjectData(i,o,t,e):v=this.parsePrimitiveData(i,o,t,e);const k=()=>w[d]===null||p&&w[d]<p[d];for(g=0;g<e;++g)i._parsed[g+t]=w=v[g],h&&(k()&&(h=!1),p=w);i._sorted=h}c&&LH(this,v)}parsePrimitiveData(t,e,i,o){const{iScale:a,vScale:c}=t,d=a.axis,h=c.axis,p=a.getLabels(),g=a===c,w=new Array(o);let v,k,y;for(v=0,k=o;v<k;++v)y=v+i,w[v]={[d]:g||a.parse(p[y],y),[h]:c.parse(e[y],y)};return w}parseArrayData(t,e,i,o){const{xScale:a,yScale:c}=t,d=new Array(o);let h,p,g,w;for(h=0,p=o;h<p;++h)g=h+i,w=e[g],d[h]={x:a.parse(w[0],g),y:c.parse(w[1],g)};return d}parseObjectData(t,e,i,o){const{xScale:a,yScale:c}=t,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,p=new Array(o);let g,w,v,k;for(g=0,w=o;g<w;++g)v=g+i,k=e[v],p[g]={x:a.parse(cf(k,d),v),y:c.parse(cf(k,h),v)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const o=this.chart,a=this._cachedMeta,c=e[t.axis],d={keys:mK(o,!0),values:e._stacks[t.axis]._visualValues};return DH(d,c,a.index,{mode:i})}updateRangeFromParsed(t,e,i,o){const a=i[e.axis];let c=a===null?NaN:a;const d=o&&i._stacks[e.axis];o&&d&&(o.values=d,c=DH(o,a,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,o=i._parsed,a=i._sorted&&t===i.iScale,c=o.length,d=this._getOtherScale(t),h=Rpt(e,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:w}=Ppt(d);let v,k;function y(){k=o[v];const x=k[d.axis];return!ws(k[t.axis])||g>x||w<x}for(v=0;v<c&&!(!y()&&(this.updateRangeFromParsed(p,t,k,h),a));++v);if(a){for(v=c-1;v>=0;--v)if(!y()){this.updateRangeFromParsed(p,t,k,h);break}}return p}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let o,a,c;for(o=0,a=e.length;o<a;++o)c=e[o][t.axis],ws(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,o=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Dpt(mn(this.options.clip,Ipt(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,o=i.data||[],a=e.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||o.length-d,p=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,a,d,h),g=d;g<d+h;++g){const w=o[g];w.hidden||(w.active&&p?c.push(w):w.draw(t,a))}for(g=0;g<c.length;++g)c[g].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const o=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];a=c.$context||(c.$context=Npt(this.getContext(),t,c)),a.parsed=this.getParsed(t),a.raw=o.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=Opt(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const o=e==="active",a=this._cachedDataOpts,c=t+"-"+e,d=a[c],h=this.enableOptionSharing&&S_(i);if(d)return PH(d,h);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,t),w=o?[`${t}Hover`,"hover",t,""]:[t,""],v=p.getOptionScopes(this.getDataset(),g),k=Object.keys(ss.elements[t]),y=()=>this.getContext(i,o,e),x=p.resolveNamedOptions(v,k,y,w);return x.$shared&&(x.$shared=h,a[c]=Object.freeze(PH(x,h))),x}_resolveAnimations(t,e,i){const o=this.chart,a=this._cachedDataOpts,c=`animation-${e}`,d=a[c];if(d)return d;let h;if(o.options.animation!==!1){const g=this.chart.config,w=g.datasetAnimationScopeKeys(this._type,e),v=g.getOptionScopes(this.getDataset(),w);h=g.createResolver(v,this.getContext(t,i,e))}const p=new gK(o,h&&h.animations);return h&&h._cacheable&&(a[c]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||BT(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),o=this._sharedOptions,a=this.getSharedOptions(i),c=this.includeOptions(e,a)||a!==o;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:c}}updateElement(t,e,i,o){BT(o)?Object.assign(t,i):this._resolveAnimations(e,o).update(t,i)}updateSharedOptions(t,e,i){t&&!BT(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,o){t.active=o;const a=this.getStyle(e,o);this._resolveAnimations(e,i,o).update(t,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[d,h,p]of this._syncList)this[d](h,p);this._syncList=[];const o=i.length,a=e.length,c=Math.min(a,o);c&&this.parse(0,c),a>o?this._insertElements(o,a-o,t):a<o&&this._removeElements(a,o-a)}_insertElements(t,e,i=!0){const o=this._cachedMeta,a=o.data,c=t+e;let d;const h=p=>{for(p.length+=e,d=p.length-1;d>=c;d--)p[d]=p[d-e]};for(h(a),d=t;d<c;++d)a[d]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,o){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(t,e);i._stacked&&hv(i,o)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,o]=t;this[e](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ft(Xc,"defaults",{}),Ft(Xc,"datasetElementType",null),Ft(Xc,"dataElementType",null);function Upt(r,t){if(!r._cache.$bar){const e=r.getMatchingVisibleMetas(t);let i=[];for(let o=0,a=e.length;o<a;o++)i=i.concat(e[o].controller.getAllParsedValues(r));r._cache.$bar=Y6(i.sort((o,a)=>o-a))}return r._cache.$bar}function Qpt(r){const t=r.iScale,e=Upt(t,r.type);let i=t._length,o,a,c,d;const h=()=>{c===32767||c===-32768||(S_(d)&&(i=Math.min(i,Math.abs(c-d)||i)),d=c)};for(o=0,a=e.length;o<a;++o)c=t.getPixelForValue(e[o]),h();for(d=void 0,o=0,a=t.ticks.length;o<a;++o)c=t.getPixelForTick(o),h();return i}function Hpt(r,t,e,i){const o=e.barThickness;let a,c;return Ln(o)?(a=t.min*e.categoryPercentage,c=e.barPercentage):(a=o*i,c=1),{chunk:a/i,ratio:c,start:t.pixels[r]-a/2}}function zpt(r,t,e,i){const o=t.pixels,a=o[r];let c=r>0?o[r-1]:null,d=r<o.length-1?o[r+1]:null;const h=e.categoryPercentage;c===null&&(c=a-(d===null?t.end-t.start:d-a)),d===null&&(d=a+a-c);const p=a-(a-Math.min(c,d))/2*h;return{chunk:Math.abs(d-c)/2*h/i,ratio:e.barPercentage,start:p}}function jpt(r,t,e,i){const o=e.parse(r[0],i),a=e.parse(r[1],i),c=Math.min(o,a),d=Math.max(o,a);let h=c,p=d;Math.abs(c)>Math.abs(d)&&(h=d,p=c),t[e.axis]=p,t._custom={barStart:h,barEnd:p,start:o,end:a,min:c,max:d}}function bK(r,t,e,i){return ns(r)?jpt(r,t,e,i):t[e.axis]=e.parse(r,i),t}function FH(r,t,e,i){const o=r.iScale,a=r.vScale,c=o.getLabels(),d=o===a,h=[];let p,g,w,v;for(p=e,g=e+i;p<g;++p)v=t[p],w={},w[o.axis]=d||o.parse(c[p],p),h.push(bK(v,w,a,p));return h}function ST(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function Vpt(r,t,e){return r!==0?Zd(r):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Kpt(r){let t,e,i,o,a;return r.horizontal?(t=r.base>r.x,e="left",i="right"):(t=r.base<r.y,e="bottom",i="top"),t?(o="end",a="start"):(o="start",a="end"),{start:e,end:i,reverse:t,top:o,bottom:a}}function Gpt(r,t,e,i){let o=t.borderSkipped;const a={};if(!o){r.borderSkipped=a;return}if(o===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:h,top:p,bottom:g}=Kpt(r);o==="middle"&&e&&(r.enableBorderRadius=!0,(e._top||0)===i?o=p:(e._bottom||0)===i?o=g:(a[OH(g,c,d,h)]=!0,o=p)),a[OH(o,c,d,h)]=!0,r.borderSkipped=a}function OH(r,t,e,i){return i?(r=Wpt(r,t,e),r=NH(r,e,t)):r=NH(r,t,e),r}function Wpt(r,t,e){return r===t?e:r===e?t:r}function NH(r,t,e){return r==="start"?t:r==="end"?e:r}function $pt(r,{inflateAmount:t},e){r.inflateAmount=t==="auto"?e===1?.33:0:t}class kE extends Xc{parsePrimitiveData(t,e,i,o){return FH(t,e,i,o)}parseArrayData(t,e,i,o){return FH(t,e,i,o)}parseObjectData(t,e,i,o){const{iScale:a,vScale:c}=t,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,p=a.axis==="x"?d:h,g=c.axis==="x"?d:h,w=[];let v,k,y,x;for(v=i,k=i+o;v<k;++v)x=e[v],y={},y[a.axis]=a.parse(cf(x,p),v),w.push(bK(cf(x,g),y,c,v));return w}updateRangeFromParsed(t,e,i,o){super.updateRangeFromParsed(t,e,i,o);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:o}=e,a=this.getParsed(t),c=a._custom,d=ST(c)?"["+c.start+", "+c.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,o){const a=o==="reset",{index:c,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),p=d.isHorizontal(),g=this._getRuler(),{sharedOptions:w,includeOptions:v}=this._getSharedOptions(e,o);for(let k=e;k<e+i;k++){const y=this.getParsed(k),x=a||Ln(y[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(k),I=this._calculateBarIndexPixels(k,g),F=(y._stacks||{})[d.axis],R={horizontal:p,base:x.base,enableBorderRadius:!F||ST(y._custom)||c===F._top||c===F._bottom,x:p?x.head:I.center,y:p?I.center:x.head,height:p?I.size:Math.abs(x.size),width:p?Math.abs(x.size):I.size};v&&(R.options=w||this.resolveDataElementOptions(k,t[k].active?"active":o));const Q=R.options||t[k].options;Gpt(R,Q,F,c),$pt(R,Q,g.ratio),this.updateElement(t[k],k,R,o)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),a=i.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(e),h=d&&d[i.axis],p=g=>{const w=g._parsed.find(k=>k[i.axis]===h),v=w&&w[g.vScale.axis];if(Ln(v)||isNaN(v))return!0};for(const g of o)if(!(e!==void 0&&p(g))&&((a===!1||c.indexOf(g.stack)===-1||a===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const o=this._getStacks(t,i),a=e!==void 0?o.indexOf(e):-1;return a===-1?o.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,o=[];let a,c;for(a=0,c=e.data.length;a<c;++a)o.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const d=t.barThickness;return{min:d||Qpt(e),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:o},options:{base:a,minBarLength:c}}=this,d=a||0,h=this.getParsed(t),p=h._custom,g=ST(p);let w=h[e.axis],v=0,k=i?this.applyStack(e,h,i):w,y,x;k!==w&&(v=k-w,k=w),g&&(w=p.barStart,k=p.barEnd-p.barStart,w!==0&&Zd(w)!==Zd(p.barEnd)&&(v=0),v+=w);const I=!Ln(a)&&!g?a:v;let F=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?y=e.getPixelForValue(v+k):y=F,x=y-F,Math.abs(x)<c){x=Vpt(x,e,d)*c,w===d&&(F-=x/2);const R=e.getPixelForDecimal(0),Q=e.getPixelForDecimal(1),V=Math.min(R,Q),W=Math.max(R,Q);F=Math.max(Math.min(F,W),V),y=F+x,i&&!g&&(h._stacks[e.axis]._visualValues[o]=e.getValueForPixel(y)-e.getValueForPixel(F))}if(F===e.getPixelForValue(d)){const R=Zd(x)*e.getLineWidthForValue(d)/2;F+=R,x-=R}return{size:x,base:F,head:y,center:y+x/2}}_calculateBarIndexPixels(t,e){const i=e.scale,o=this.options,a=o.skipNull,c=mn(o.maxBarThickness,1/0);let d,h;if(e.grouped){const p=a?this._getStackCount(t):e.stackCount,g=o.barThickness==="flex"?zpt(t,e,o,p):Hpt(t,e,o,p),w=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);d=g.start+g.chunk*w+g.chunk/2,h=Math.min(c,g.chunk*g.ratio)}else d=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(c,e.min*e.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,o=i.length;let a=0;for(;a<o;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Ft(kE,"id","bar"),Ft(kE,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ft(kE,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class yE extends Xc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,o){const a=super.parsePrimitiveData(t,e,i,o);for(let c=0;c<a.length;c++)a[c]._custom=this.resolveDataElementOptions(c+i).radius;return a}parseArrayData(t,e,i,o){const a=super.parseArrayData(t,e,i,o);for(let c=0;c<a.length;c++){const d=e[i+c];a[c]._custom=mn(d[2],this.resolveDataElementOptions(c+i).radius)}return a}parseObjectData(t,e,i,o){const a=super.parseObjectData(t,e,i,o);for(let c=0;c<a.length;c++){const d=e[i+c];a[c]._custom=mn(d&&d.r&&+d.r,this.resolveDataElementOptions(c+i).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:a}=e,c=this.getParsed(t),d=o.getLabelForValue(c.x),h=a.getLabelForValue(c.y),p=c._custom;return{label:i[t]||"",value:"("+d+", "+h+(p?", "+p:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,o){const a=o==="reset",{iScale:c,vScale:d}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(e,o),g=c.axis,w=d.axis;for(let v=e;v<e+i;v++){const k=t[v],y=!a&&this.getParsed(v),x={},I=x[g]=a?c.getPixelForDecimal(.5):c.getPixelForValue(y[g]),F=x[w]=a?d.getBasePixel():d.getPixelForValue(y[w]);x.skip=isNaN(I)||isNaN(F),p&&(x.options=h||this.resolveDataElementOptions(v,k.active?"active":o),a&&(x.options.radius=0)),this.updateElement(k,v,x,o)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let o=super.resolveDataElementOptions(t,e);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const a=o.radius;return e!=="active"&&(o.radius=0),o.radius+=mn(i&&i._custom,a),o}}Ft(yE,"id","bubble"),Ft(yE,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ft(yE,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function qpt(r,t,e){let i=1,o=1,a=0,c=0;if(t<ji){const d=r,h=d+t,p=Math.cos(d),g=Math.sin(d),w=Math.cos(h),v=Math.sin(h),k=(Q,V,W)=>T_(Q,d,h,!0)?1:Math.max(V,V*e,W,W*e),y=(Q,V,W)=>T_(Q,d,h,!0)?-1:Math.min(V,V*e,W,W*e),x=k(0,p,w),I=k(Ps,g,v),F=y(Vi,p,w),R=y(Vi+Ps,g,v);i=(x-F)/2,o=(I-R)/2,a=-(x+F)/2,c=-(I+R)/2}return{ratioX:i,ratioY:o,offsetX:a,offsetY:c}}class up extends Xc{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let a=h=>+i[h];if(Nn(i[t])){const{key:h="value"}=this._parsing;a=p=>+cf(i[p],h)}let c,d;for(c=t,d=t+e;c<d;++c)o._parsed[c]=a(c)}}_getRotation(){return qc(this.options.rotation-90)}_getCircumference(){return qc(this.options.circumference)}_getRotationExtents(){let t=ji,e=-ji;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,a=o._getRotation(),c=o._getCircumference();t=Math.min(t,a),e=Math.max(e,a+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,o=this._cachedMeta,a=o.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,d=Math.max((Math.min(i.width,i.height)-c)/2,0),h=Math.min(aft(this.options.cutout,d),1),p=this._getRingWeight(this.index),{circumference:g,rotation:w}=this._getRotationExtents(),{ratioX:v,ratioY:k,offsetX:y,offsetY:x}=qpt(w,g,h),I=(i.width-c)/v,F=(i.height-c)/k,R=Math.max(Math.min(I,F)/2,0),Q=K6(this.options.radius,R),V=Math.max(Q*h,0),W=(Q-V)/this._getVisibleDatasetWeightTotal();this.offsetX=y*Q,this.offsetY=x*Q,o.total=this.calculateTotal(),this.outerRadius=Q-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*p,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const i=this.options,o=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*a/ji)}updateElements(t,e,i,o){const a=o==="reset",c=this.chart,d=c.chartArea,p=c.options.animation,g=(d.left+d.right)/2,w=(d.top+d.bottom)/2,v=a&&p.animateScale,k=v?0:this.innerRadius,y=v?0:this.outerRadius,{sharedOptions:x,includeOptions:I}=this._getSharedOptions(e,o);let F=this._getRotation(),R;for(R=0;R<e;++R)F+=this._circumference(R,a);for(R=e;R<e+i;++R){const Q=this._circumference(R,a),V=t[R],W={x:g+this.offsetX,y:w+this.offsetY,startAngle:F,endAngle:F+Q,circumference:Q,outerRadius:y,innerRadius:k};I&&(W.options=x||this.resolveDataElementOptions(R,V.active?"active":o)),F+=Q,this.updateElement(V,R,W,o)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,o;for(o=0;o<e.length;o++){const a=t._parsed[o];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!e[o].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ji*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,o=i.data.labels||[],a=k0(e._parsed[t],i.options.locale);return{label:o[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const i=this.chart;let o,a,c,d,h;if(!t){for(o=0,a=i.data.datasets.length;o<a;++o)if(i.isDatasetVisible(o)){c=i.getDatasetMeta(o),t=c.data,d=c.controller;break}}if(!t)return 0;for(o=0,a=t.length;o<a;++o)h=d.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,o=t.length;i<o;++i){const a=this.resolveDataElementOptions(i);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(mn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ft(up,"id","doughnut"),Ft(up,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ft(up,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Ft(up,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:o}}=t.legend.options;return e.labels.map((a,c)=>{const h=t.getDatasetMeta(0).controller.getStyle(c);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class CE extends Xc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:o=[],_dataset:a}=e,c=this.chart._animationsDisabled;let{start:d,count:h}=J6(e,o,c);this._drawStart=d,this._drawCount=h,tK(e)&&(d=0,h=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=o;const p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:p},t),this.updateElements(o,d,h,t)}updateElements(t,e,i,o){const a=o==="reset",{iScale:c,vScale:d,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:g,includeOptions:w}=this._getSharedOptions(e,o),v=c.axis,k=d.axis,{spanGaps:y,segment:x}=this.options,I=pw(y)?y:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||a||o==="none",R=e+i,Q=t.length;let V=e>0&&this.getParsed(e-1);for(let W=0;W<Q;++W){const X=t[W],P=F?X:{};if(W<e||W>=R){P.skip=!0;continue}const K=this.getParsed(W),J=Ln(K[k]),rt=P[v]=c.getPixelForValue(K[v],W),dt=P[k]=a||J?d.getBasePixel():d.getPixelForValue(h?this.applyStack(d,K,h):K[k],W);P.skip=isNaN(rt)||isNaN(dt)||J,P.stop=W>0&&Math.abs(K[v]-V[v])>I,x&&(P.parsed=K,P.raw=p.data[W]),w&&(P.options=g||this.resolveDataElementOptions(W,X.active?"active":o)),F||this.updateElement(X,W,P,o),V=K}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,o=t.data||[];if(!o.length)return i;const a=o[0].size(this.resolveDataElementOptions(0)),c=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,a,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ft(CE,"id","line"),Ft(CE,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ft(CE,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class h_ extends Xc{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,o=i.data.labels||[],a=k0(e._parsed[t].r,i.options.locale);return{label:o[t]||"",value:a}}parseObjectData(t,e,i,o){return lK.bind(this)(t,e,i,o)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,o)=>{const a=this.getParsed(o).r;!isNaN(a)&&this.chart.getDataVisibility(o)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,o=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(o/2,0),c=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),d=(a-c)/t.getVisibleDatasetCount();this.outerRadius=a-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(t,e,i,o){const a=o==="reset",c=this.chart,h=c.options.animation,p=this._cachedMeta.rScale,g=p.xCenter,w=p.yCenter,v=p.getIndexAngle(0)-.5*Vi;let k=v,y;const x=360/this.countVisibleElements();for(y=0;y<e;++y)k+=this._computeAngle(y,o,x);for(y=e;y<e+i;y++){const I=t[y];let F=k,R=k+this._computeAngle(y,o,x),Q=c.getDataVisibility(y)?p.getDistanceFromCenterForValue(this.getParsed(y).r):0;k=R,a&&(h.animateScale&&(Q=0),h.animateRotate&&(F=R=v));const V={x:g,y:w,innerRadius:0,outerRadius:Q,startAngle:F,endAngle:R,options:this.resolveDataElementOptions(y,I.active?"active":o)};this.updateElement(I,y,V,o)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?qc(this.resolveDataElementOptions(t,e).angle||i):0}}Ft(h_,"id","polarArea"),Ft(h_,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ft(h_,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:o}}=t.legend.options;return e.labels.map((a,c)=>{const h=t.getDatasetMeta(0).controller.getStyle(c);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class QD extends up{}Ft(QD,"id","pie"),Ft(QD,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class EE extends Xc{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,o){return lK.bind(this)(t,e,i,o)}update(t){const e=this._cachedMeta,i=e.dataset,o=e.data||[],a=e.iScale.getLabels();if(i.points=o,t!=="resize"){const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0);const d={_loop:!0,_fullLoop:a.length===o.length,options:c};this.updateElement(i,void 0,d,t)}this.updateElements(o,0,o.length,t)}updateElements(t,e,i,o){const a=this._cachedMeta.rScale,c=o==="reset";for(let d=e;d<e+i;d++){const h=t[d],p=this.resolveDataElementOptions(d,h.active?"active":o),g=a.getPointPositionForValue(d,this.getParsed(d).r),w=c?a.xCenter:g.x,v=c?a.yCenter:g.y,k={x:w,y:v,angle:g.angle,skip:isNaN(w)||isNaN(v),options:p};this.updateElement(h,d,k,o)}}}Ft(EE,"id","radar"),Ft(EE,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ft(EE,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class xE extends Xc{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:a}=e,c=this.getParsed(t),d=o.getLabelForValue(c.x),h=a.getLabelForValue(c.y);return{label:i[t]||"",value:"("+d+", "+h+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,o=this.chart._animationsDisabled;let{start:a,count:c}=J6(e,i,o);if(this._drawStart=a,this._drawCount=c,tK(e)&&(a=0,c=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:d,_dataset:h}=e;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!h._decimated,d.points=i;const p=this.resolveDatasetElementOptions(t);p.segment=this.options.segment,this.updateElement(d,void 0,{animated:!o,options:p},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,a,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,o){const a=o==="reset",{iScale:c,vScale:d,_stacked:h,_dataset:p}=this._cachedMeta,g=this.resolveDataElementOptions(e,o),w=this.getSharedOptions(g),v=this.includeOptions(o,w),k=c.axis,y=d.axis,{spanGaps:x,segment:I}=this.options,F=pw(x)?x:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||a||o==="none";let Q=e>0&&this.getParsed(e-1);for(let V=e;V<e+i;++V){const W=t[V],X=this.getParsed(V),P=R?W:{},K=Ln(X[y]),J=P[k]=c.getPixelForValue(X[k],V),rt=P[y]=a||K?d.getBasePixel():d.getPixelForValue(h?this.applyStack(d,X,h):X[y],V);P.skip=isNaN(J)||isNaN(rt)||K,P.stop=V>0&&Math.abs(X[k]-Q[k])>F,I&&(P.parsed=X,P.raw=p.data[V]),v&&(P.options=w||this.resolveDataElementOptions(V,W.active?"active":o)),R||this.updateElement(W,V,P,o),Q=X}this.updateSharedOptions(w,o,g)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let d=0;for(let h=e.length-1;h>=0;--h)d=Math.max(d,e[h].size(this.resolveDataElementOptions(h))/2);return d>0&&d}const i=t.dataset,o=i.options&&i.options.borderWidth||0;if(!e.length)return o;const a=e[0].size(this.resolveDataElementOptions(0)),c=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(o,a,c)/2}}Ft(xE,"id","scatter"),Ft(xE,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ft(xE,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Ypt=Object.freeze({__proto__:null,BarController:kE,BubbleController:yE,DoughnutController:up,LineController:CE,PieController:QD,PolarAreaController:h_,RadarController:EE,ScatterController:xE});function Yf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rL{constructor(t){Ft(this,"options");this.options=t||{}}static override(t){Object.assign(rL.prototype,t)}init(){}formats(){return Yf()}parse(){return Yf()}format(){return Yf()}add(){return Yf()}diff(){return Yf()}startOf(){return Yf()}endOf(){return Yf()}}var Xpt={_date:rL};function Zpt(r,t,e,i){const{controller:o,data:a,_sorted:c}=r,d=o._cachedMeta.iScale,h=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&c&&a.length){const p=d._reversePixels?vft:_u;if(i){if(o._sharedOptions){const g=a[0],w=typeof g.getRange=="function"&&g.getRange(t);if(w){const v=p(a,t,e-w),k=p(a,t,e+w);return{lo:v.lo,hi:k.hi}}}}else{const g=p(a,t,e);if(h){const{vScale:w}=o._cachedMeta,{_parsed:v}=r,k=v.slice(0,g.lo+1).reverse().findIndex(x=>!Ln(x[w.axis]));g.lo-=Math.max(0,k);const y=v.slice(g.hi).findIndex(x=>!Ln(x[w.axis]));g.hi+=Math.max(0,y)}return g}}return{lo:0,hi:a.length-1}}function wB(r,t,e,i,o){const a=r.getSortedVisibleDatasetMetas(),c=e[t];for(let d=0,h=a.length;d<h;++d){const{index:p,data:g}=a[d],{lo:w,hi:v}=Zpt(a[d],t,c,o);for(let k=w;k<=v;++k){const y=g[k];y.skip||i(y,p,k)}}}function Jpt(r){const t=r.indexOf("x")!==-1,e=r.indexOf("y")!==-1;return function(i,o){const a=t?Math.abs(i.x-o.x):0,c=e?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(c,2))}}function TT(r,t,e,i,o){const a=[];return!o&&!r.isPointInArea(t)||wB(r,e,t,function(d,h,p){!o&&!ku(d,r.chartArea,0)||d.inRange(t.x,t.y,i)&&a.push({element:d,datasetIndex:h,index:p})},!0),a}function tgt(r,t,e,i){let o=[];function a(c,d,h){const{startAngle:p,endAngle:g}=c.getProps(["startAngle","endAngle"],i),{angle:w}=$6(c,{x:t.x,y:t.y});T_(w,p,g)&&o.push({element:c,datasetIndex:d,index:h})}return wB(r,e,t,a),o}function egt(r,t,e,i,o,a){let c=[];const d=Jpt(e);let h=Number.POSITIVE_INFINITY;function p(g,w,v){const k=g.inRange(t.x,t.y,o);if(i&&!k)return;const y=g.getCenterPoint(o);if(!(!!a||r.isPointInArea(y))&&!k)return;const I=d(t,y);I<h?(c=[{element:g,datasetIndex:w,index:v}],h=I):I===h&&c.push({element:g,datasetIndex:w,index:v})}return wB(r,e,t,p),c}function IT(r,t,e,i,o,a){return!a&&!r.isPointInArea(t)?[]:e==="r"&&!i?tgt(r,t,e,o):egt(r,t,e,i,o,a)}function RH(r,t,e,i,o){const a=[],c=e==="x"?"inXRange":"inYRange";let d=!1;return wB(r,e,t,(h,p,g)=>{h[c]&&h[c](t[e],o)&&(a.push({element:h,datasetIndex:p,index:g}),d=d||h.inRange(t.x,t.y,o))}),i&&!d?[]:a}var ngt={modes:{index(r,t,e,i){const o=ep(t,r),a=e.axis||"x",c=e.includeInvisible||!1,d=e.intersect?TT(r,o,a,i,c):IT(r,o,a,!1,i,c),h=[];return d.length?(r.getSortedVisibleDatasetMetas().forEach(p=>{const g=d[0].index,w=p.data[g];w&&!w.skip&&h.push({element:w,datasetIndex:p.index,index:g})}),h):[]},dataset(r,t,e,i){const o=ep(t,r),a=e.axis||"xy",c=e.includeInvisible||!1;let d=e.intersect?TT(r,o,a,i,c):IT(r,o,a,!1,i,c);if(d.length>0){const h=d[0].datasetIndex,p=r.getDatasetMeta(h).data;d=[];for(let g=0;g<p.length;++g)d.push({element:p[g],datasetIndex:h,index:g})}return d},point(r,t,e,i){const o=ep(t,r),a=e.axis||"xy",c=e.includeInvisible||!1;return TT(r,o,a,i,c)},nearest(r,t,e,i){const o=ep(t,r),a=e.axis||"xy",c=e.includeInvisible||!1;return IT(r,o,a,e.intersect,i,c)},x(r,t,e,i){const o=ep(t,r);return RH(r,o,"x",e.intersect,i)},y(r,t,e,i){const o=ep(t,r);return RH(r,o,"y",e.intersect,i)}}};const wK=["left","top","right","bottom"];function fv(r,t){return r.filter(e=>e.pos===t)}function UH(r,t){return r.filter(e=>wK.indexOf(e.pos)===-1&&e.box.axis===t)}function pv(r,t){return r.sort((e,i)=>{const o=t?i:e,a=t?e:i;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function igt(r){const t=[];let e,i,o,a,c,d;for(e=0,i=(r||[]).length;e<i;++e)o=r[e],{position:a,options:{stack:c,stackWeight:d=1}}=o,t.push({index:e,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:c&&a+c,stackWeight:d});return t}function sgt(r){const t={};for(const e of r){const{stack:i,pos:o,stackWeight:a}=e;if(!i||!wK.includes(o))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=a}return t}function rgt(r,t){const e=sgt(r),{vBoxMaxWidth:i,hBoxMaxHeight:o}=t;let a,c,d;for(a=0,c=r.length;a<c;++a){d=r[a];const{fullSize:h}=d.box,p=e[d.stack],g=p&&d.stackWeight/p.weight;d.horizontal?(d.width=g?g*i:h&&t.availableWidth,d.height=o):(d.width=i,d.height=g?g*o:h&&t.availableHeight)}return e}function ogt(r){const t=igt(r),e=pv(t.filter(p=>p.box.fullSize),!0),i=pv(fv(t,"left"),!0),o=pv(fv(t,"right")),a=pv(fv(t,"top"),!0),c=pv(fv(t,"bottom")),d=UH(t,"x"),h=UH(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:o.concat(h).concat(c).concat(d),chartArea:fv(t,"chartArea"),vertical:i.concat(o).concat(h),horizontal:a.concat(c).concat(d)}}function QH(r,t,e,i){return Math.max(r[e],t[e])+Math.max(r[i],t[i])}function vK(r,t){r.top=Math.max(r.top,t.top),r.left=Math.max(r.left,t.left),r.bottom=Math.max(r.bottom,t.bottom),r.right=Math.max(r.right,t.right)}function agt(r,t,e,i){const{pos:o,box:a}=e,c=r.maxPadding;if(!Nn(o)){e.size&&(r[o]-=e.size);const w=i[e.stack]||{size:0,count:1};w.size=Math.max(w.size,e.horizontal?a.height:a.width),e.size=w.size/w.count,r[o]+=e.size}a.getPadding&&vK(c,a.getPadding());const d=Math.max(0,t.outerWidth-QH(c,r,"left","right")),h=Math.max(0,t.outerHeight-QH(c,r,"top","bottom")),p=d!==r.w,g=h!==r.h;return r.w=d,r.h=h,e.horizontal?{same:p,other:g}:{same:g,other:p}}function lgt(r){const t=r.maxPadding;function e(i){const o=Math.max(t[i]-r[i],0);return r[i]+=o,o}r.y+=e("top"),r.x+=e("left"),e("right"),e("bottom")}function cgt(r,t){const e=t.maxPadding;function i(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(c=>{a[c]=Math.max(t[c],e[c])}),a}return i(r?["left","right"]:["top","bottom"])}function $v(r,t,e,i){const o=[];let a,c,d,h,p,g;for(a=0,c=r.length,p=0;a<c;++a){d=r[a],h=d.box,h.update(d.width||t.w,d.height||t.h,cgt(d.horizontal,t));const{same:w,other:v}=agt(t,e,d,i);p|=w&&o.length,g=g||v,h.fullSize||o.push(d)}return p&&$v(o,t,e,i)||g}function CC(r,t,e,i,o){r.top=e,r.left=t,r.right=t+i,r.bottom=e+o,r.width=i,r.height=o}function HH(r,t,e,i){const o=e.padding;let{x:a,y:c}=t;for(const d of r){const h=d.box,p=i[d.stack]||{placed:0,weight:1},g=d.stackWeight/p.weight||1;if(d.horizontal){const w=t.w*g,v=p.size||h.height;S_(p.start)&&(c=p.start),h.fullSize?CC(h,o.left,c,e.outerWidth-o.right-o.left,v):CC(h,t.left+p.placed,c,w,v),p.start=c,p.placed+=w,c=h.bottom}else{const w=t.h*g,v=p.size||h.width;S_(p.start)&&(a=p.start),h.fullSize?CC(h,a,o.top,v,e.outerHeight-o.bottom-o.top):CC(h,a,t.top+p.placed,v,w),p.start=a,p.placed+=w,a=h.right}}t.x=a,t.y=c}var No={addBox(r,t){r.boxes||(r.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},r.boxes.push(t)},removeBox(r,t){const e=r.boxes?r.boxes.indexOf(t):-1;e!==-1&&r.boxes.splice(e,1)},configure(r,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(r,t,e,i){if(!r)return;const o=Ro(r.options.layout.padding),a=Math.max(t-o.width,0),c=Math.max(e-o.height,0),d=ogt(r.boxes),h=d.vertical,p=d.horizontal;vi(r.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const g=h.reduce((x,I)=>I.box.options&&I.box.options.display===!1?x:x+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:e,padding:o,availableWidth:a,availableHeight:c,vBoxMaxWidth:a/2/g,hBoxMaxHeight:c/2}),v=Object.assign({},o);vK(v,Ro(i));const k=Object.assign({maxPadding:v,w:a,h:c,x:o.left,y:o.top},o),y=rgt(h.concat(p),w);$v(d.fullSize,k,w,y),$v(h,k,w,y),$v(p,k,w,y)&&$v(h,k,w,y),lgt(k),HH(d.leftAndTop,k,w,y),k.x+=k.w,k.y+=k.h,HH(d.rightAndBottom,k,w,y),r.chartArea={left:k.left,top:k.top,right:k.left+k.w,bottom:k.top+k.h,height:k.h,width:k.w},vi(d.chartArea,x=>{const I=x.box;Object.assign(I,r.chartArea),I.update(k.w,k.h,{left:0,top:0,right:0,bottom:0})})}};class _K{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,o){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):i)}}isAttached(t){return!0}updateConfig(t){}}class dgt extends _K{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const BE="$chartjs",Agt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zH=r=>r===null||r==="";function ugt(r,t){const e=r.style,i=r.getAttribute("height"),o=r.getAttribute("width");if(r[BE]={initial:{height:i,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",zH(o)){const a=EH(r,"width");a!==void 0&&(r.width=a)}if(zH(i))if(r.style.height==="")r.height=r.width/(t||2);else{const a=EH(r,"height");a!==void 0&&(r.height=a)}return r}const kK=hpt?{passive:!0}:!1;function hgt(r,t,e){r&&r.addEventListener(t,e,kK)}function fgt(r,t,e){r&&r.canvas&&r.canvas.removeEventListener(t,e,kK)}function pgt(r,t){const e=Agt[r.type]||r.type,{x:i,y:o}=ep(r,t);return{type:e,chart:t,native:r,x:i!==void 0?i:null,y:o!==void 0?o:null}}function ux(r,t){for(const e of r)if(e===t||e.contains(t))return!0}function ggt(r,t,e){const i=r.canvas,o=new MutationObserver(a=>{let c=!1;for(const d of a)c=c||ux(d.addedNodes,i),c=c&&!ux(d.removedNodes,i);c&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function mgt(r,t,e){const i=r.canvas,o=new MutationObserver(a=>{let c=!1;for(const d of a)c=c||ux(d.removedNodes,i),c=c&&!ux(d.addedNodes,i);c&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}const D_=new Map;let jH=0;function yK(){const r=window.devicePixelRatio;r!==jH&&(jH=r,D_.forEach((t,e)=>{e.currentDevicePixelRatio!==r&&t()}))}function bgt(r,t){D_.size||window.addEventListener("resize",yK),D_.set(r,t)}function wgt(r){D_.delete(r),D_.size||window.removeEventListener("resize",yK)}function vgt(r,t,e){const i=r.canvas,o=i&&sL(i);if(!o)return;const a=Z6((d,h)=>{const p=o.clientWidth;e(d,h),p<o.clientWidth&&e()},window),c=new ResizeObserver(d=>{const h=d[0],p=h.contentRect.width,g=h.contentRect.height;p===0&&g===0||a(p,g)});return c.observe(o),bgt(r,a),c}function DT(r,t,e){e&&e.disconnect(),t==="resize"&&wgt(r)}function _gt(r,t,e){const i=r.canvas,o=Z6(a=>{r.ctx!==null&&e(pgt(a,r))},r);return hgt(i,t,o),o}class kgt extends _K{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(ugt(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[BE])return!1;const i=e[BE].initial;["height","width"].forEach(a=>{const c=i[a];Ln(c)?e.removeAttribute(a):e.setAttribute(a,c)});const o=i.style||{};return Object.keys(o).forEach(a=>{e.style[a]=o[a]}),e.width=e.width,delete e[BE],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const o=t.$proxies||(t.$proxies={}),c={attach:ggt,detach:mgt,resize:vgt}[e]||_gt;o[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),o=i[e];if(!o)return;({attach:DT,detach:DT,resize:DT}[e]||fgt)(t,e,o),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,o){return upt(t,e,i,o)}isAttached(t){const e=t&&sL(t);return!!(e&&e.isConnected)}}function ygt(r){return!iL()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?dgt:kgt}var DC;let Pu=(DC=class{constructor(){Ft(this,"x");Ft(this,"y");Ft(this,"active",!1);Ft(this,"options");Ft(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return pw(this.x)&&pw(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const o={};return t.forEach(a=>{o[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),o}},Ft(DC,"defaults",{}),Ft(DC,"defaultRoutes"),DC);function Cgt(r,t){const e=r.options.ticks,i=Egt(r),o=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?Bgt(t):[],c=a.length,d=a[0],h=a[c-1],p=[];if(c>o)return Sgt(t,p,a,c/o),p;const g=xgt(a,t,o);if(c>0){let w,v;const k=c>1?Math.round((h-d)/(c-1)):null;for(EC(t,p,g,Ln(k)?0:d-k,d),w=0,v=c-1;w<v;w++)EC(t,p,g,a[w],a[w+1]);return EC(t,p,g,h,Ln(k)?t.length:h+k),p}return EC(t,p,g),p}function Egt(r){const t=r.options.offset,e=r._tickSize(),i=r._length/e+(t?0:1),o=r._maxLength/e;return Math.floor(Math.min(i,o))}function xgt(r,t,e){const i=Tgt(r),o=t.length/e;if(!i)return Math.max(o,1);const a=pft(i);for(let c=0,d=a.length-1;c<d;c++){const h=a[c];if(h>o)return h}return Math.max(o,1)}function Bgt(r){const t=[];let e,i;for(e=0,i=r.length;e<i;e++)r[e].major&&t.push(e);return t}function Sgt(r,t,e,i){let o=0,a=e[0],c;for(i=Math.ceil(i),c=0;c<r.length;c++)c===a&&(t.push(r[c]),o++,a=e[o*i])}function EC(r,t,e,i,o){const a=mn(i,0),c=Math.min(mn(o,r.length),r.length);let d=0,h,p,g;for(e=Math.ceil(e),o&&(h=o-i,e=h/Math.floor(h/e)),g=a;g<0;)d++,g=Math.round(a+d*e);for(p=Math.max(a,0);p<c;p++)p===g&&(t.push(r[p]),d++,g=Math.round(a+d*e))}function Tgt(r){const t=r.length;let e,i;if(t<2)return!1;for(i=r[0],e=1;e<t;++e)if(r[e]-r[e-1]!==i)return!1;return i}const Igt=r=>r==="left"?"right":r==="right"?"left":r,VH=(r,t,e)=>t==="top"||t==="left"?r[t]+e:r[t]-e,KH=(r,t)=>Math.min(t||r,r);function GH(r,t){const e=[],i=r.length/t,o=r.length;let a=0;for(;a<o;a+=i)e.push(r[Math.floor(a)]);return e}function Dgt(r,t,e){const i=r.ticks.length,o=Math.min(t,i-1),a=r._startPixel,c=r._endPixel,d=1e-6;let h=r.getPixelForTick(o),p;if(!(e&&(i===1?p=Math.max(h-a,c-h):t===0?p=(r.getPixelForTick(1)-h)/2:p=(h-r.getPixelForTick(o-1))/2,h+=o<t?p:-p,h<a-d||h>c+d)))return h}function Mgt(r,t){vi(r,e=>{const i=e.gc,o=i.length/2;let a;if(o>t){for(a=0;a<o;++a)delete e.data[i[a]];i.splice(0,o)}})}function gv(r){return r.drawTicks?r.tickLength:0}function WH(r,t){if(!r.display)return 0;const e=mr(r.font,t),i=Ro(r.padding);return(ns(r.text)?r.text.length:1)*e.lineHeight+i.height}function Lgt(r,t){return mf(r,{scale:t,type:"scale"})}function Pgt(r,t,e){return mf(r,{tick:e,index:t,type:"tick"})}function Fgt(r,t,e){let i=XM(r);return(e&&t!=="right"||!e&&t==="right")&&(i=Igt(i)),i}function Ogt(r,t,e,i){const{top:o,left:a,bottom:c,right:d,chart:h}=r,{chartArea:p,scales:g}=h;let w=0,v,k,y;const x=c-o,I=d-a;if(r.isHorizontal()){if(k=Mo(i,a,d),Nn(e)){const F=Object.keys(e)[0],R=e[F];y=g[F].getPixelForValue(R)+x-t}else e==="center"?y=(p.bottom+p.top)/2+x-t:y=VH(r,e,t);v=d-a}else{if(Nn(e)){const F=Object.keys(e)[0],R=e[F];k=g[F].getPixelForValue(R)-I+t}else e==="center"?k=(p.left+p.right)/2-I+t:k=VH(r,e,t);y=Mo(i,c,o),w=e==="left"?-Ps:Ps}return{titleX:k,titleY:y,maxWidth:v,rotation:w}}class Ug extends Pu{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:o}=this;return t=al(t,Number.POSITIVE_INFINITY),e=al(e,Number.NEGATIVE_INFINITY),i=al(i,Number.POSITIVE_INFINITY),o=al(o,Number.NEGATIVE_INFINITY),{min:al(t,i),max:al(e,o),minDefined:ws(t),maxDefined:ws(e)}}getMinMax(t){let{min:e,max:i,minDefined:o,maxDefined:a}=this.getUserBounds(),c;if(o&&a)return{min:e,max:i};const d=this.getMatchingVisibleMetas();for(let h=0,p=d.length;h<p;++h)c=d[h].controller.getMinMax(this,t),o||(e=Math.min(e,c.min)),a||(i=Math.max(i,c.max));return e=a&&e>i?i:e,i=o&&e>i?e:i,{min:al(e,al(i,e)),max:al(i,al(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pi(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:o,grace:a,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Vft(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?GH(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Cgt(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pi(this.options.afterUpdate,[this])}beforeSetDimensions(){Pi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,o,a;for(i=0,o=t.length;i<o;i++)a=t[i],a.label=Pi(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Pi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=KH(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,a=e.maxRotation;let c=o,d,h,p;if(!this._isVisible()||!e.display||o>=a||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),w=g.widest.width,v=g.highest.height,k=Ur(this.chart.width-w,0,this.maxWidth);d=t.offset?this.maxWidth/i:k/(i-1),w+6>d&&(d=k/(i-(t.offset?.5:1)),h=this.maxHeight-gv(t.grid)-e.padding-WH(t.title,this.chart.options.font),p=Math.sqrt(w*w+v*v),c=qM(Math.min(Math.asin(Ur((g.highest.height+6)/d,-1,1)),Math.asin(Ur(h/p,-1,1))-Math.asin(Ur(v/p,-1,1)))),c=Math.max(o,Math.min(a,c))),this.labelRotation=c}afterCalculateLabelRotation(){Pi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pi(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:o,grid:a}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const h=WH(o,e.options.font);if(d?(t.width=this.maxWidth,t.height=gv(a)+h):(t.height=this.maxHeight,t.width=gv(a)+h),i.display&&this.ticks.length){const{first:p,last:g,widest:w,highest:v}=this._getLabelSizes(),k=i.padding*2,y=qc(this.labelRotation),x=Math.cos(y),I=Math.sin(y);if(d){const F=i.mirror?0:I*w.width+x*v.height;t.height=Math.min(this.maxHeight,t.height+F+k)}else{const F=i.mirror?0:x*w.width+I*v.height;t.width=Math.min(this.maxWidth,t.width+F+k)}this._calculatePadding(p,g,I,x)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,o){const{ticks:{align:a,padding:c},position:d}=this.options,h=this.labelRotation!==0,p=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,k=0;h?p?(v=o*t.width,k=i*e.height):(v=i*t.height,k=o*e.width):a==="start"?k=e.width:a==="end"?v=t.width:a!=="inner"&&(v=t.width/2,k=e.width/2),this.paddingLeft=Math.max((v-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((k-w+c)*this.width/(this.width-w),0)}else{let g=e.height/2,w=t.height/2;a==="start"?(g=0,w=t.height):a==="end"&&(g=e.height,w=0),this.paddingTop=g+c,this.paddingBottom=w+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ln(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=GH(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:o,_longestTextCache:a}=this,c=[],d=[],h=Math.floor(e/KH(e,i));let p=0,g=0,w,v,k,y,x,I,F,R,Q,V,W;for(w=0;w<e;w+=h){if(y=t[w].label,x=this._resolveTickFontOptions(w),o.font=I=x.string,F=a[I]=a[I]||{data:{},gc:[]},R=x.lineHeight,Q=V=0,!Ln(y)&&!ns(y))Q=dx(o,F.data,F.gc,Q,y),V=R;else if(ns(y))for(v=0,k=y.length;v<k;++v)W=y[v],!Ln(W)&&!ns(W)&&(Q=dx(o,F.data,F.gc,Q,W),V+=R);c.push(Q),d.push(V),p=Math.max(Q,p),g=Math.max(V,g)}Mgt(a,e);const X=c.indexOf(p),P=d.indexOf(g),K=J=>({width:c[J]||0,height:d[J]||0});return{first:K(0),last:K(e-1),widest:K(X),highest:K(P),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return wft(this._alignToPixels?qf(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=Pgt(this.getContext(),t,i))}return this.$context||(this.$context=Lgt(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=qc(this.labelRotation),i=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),a=this._getLabelSizes(),c=t.autoSkipPadding||0,d=a?a.widest.width+c:0,h=a?a.highest.height+c:0;return this.isHorizontal()?h*i>d*o?d/i:h/o:h*o<d*i?h/i:d/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,o=this.options,{grid:a,position:c,border:d}=o,h=a.offset,p=this.isHorizontal(),w=this.ticks.length+(h?1:0),v=gv(a),k=[],y=d.setContext(this.getContext()),x=y.display?y.width:0,I=x/2,F=function(vt){return qf(i,vt,x)};let R,Q,V,W,X,P,K,J,rt,dt,ht,ut;if(c==="top")R=F(this.bottom),P=this.bottom-v,J=R-I,dt=F(t.top)+I,ut=t.bottom;else if(c==="bottom")R=F(this.top),dt=t.top,ut=F(t.bottom)-I,P=R+I,J=this.top+v;else if(c==="left")R=F(this.right),X=this.right-v,K=R-I,rt=F(t.left)+I,ht=t.right;else if(c==="right")R=F(this.left),rt=t.left,ht=F(t.right)-I,X=R+I,K=this.left+v;else if(e==="x"){if(c==="center")R=F((t.top+t.bottom)/2+.5);else if(Nn(c)){const vt=Object.keys(c)[0],pt=c[vt];R=F(this.chart.scales[vt].getPixelForValue(pt))}dt=t.top,ut=t.bottom,P=R+I,J=P+v}else if(e==="y"){if(c==="center")R=F((t.left+t.right)/2);else if(Nn(c)){const vt=Object.keys(c)[0],pt=c[vt];R=F(this.chart.scales[vt].getPixelForValue(pt))}X=R-I,K=X-v,rt=t.left,ht=t.right}const mt=mn(o.ticks.maxTicksLimit,w),St=Math.max(1,Math.ceil(w/mt));for(Q=0;Q<w;Q+=St){const vt=this.getContext(Q),pt=a.setContext(vt),_t=d.setContext(vt),Dt=pt.lineWidth,yt=pt.color,se=_t.dash||[],oe=_t.dashOffset,ie=pt.tickWidth,le=pt.tickColor,Lt=pt.tickBorderDash||[],Tt=pt.tickBorderDashOffset;V=Dgt(this,Q,h),V!==void 0&&(W=qf(i,V,Dt),p?X=K=rt=ht=W:P=J=dt=ut=W,k.push({tx1:X,ty1:P,tx2:K,ty2:J,x1:rt,y1:dt,x2:ht,y2:ut,width:Dt,color:yt,borderDash:se,borderDashOffset:oe,tickWidth:ie,tickColor:le,tickBorderDash:Lt,tickBorderDashOffset:Tt}))}return this._ticksLength=w,this._borderValue=R,k}_computeLabelItems(t){const e=this.axis,i=this.options,{position:o,ticks:a}=i,c=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:p,padding:g,mirror:w}=a,v=gv(i.grid),k=v+g,y=w?-g:k,x=-qc(this.labelRotation),I=[];let F,R,Q,V,W,X,P,K,J,rt,dt,ht,ut="middle";if(o==="top")X=this.bottom-y,P=this._getXAxisLabelAlignment();else if(o==="bottom")X=this.top+y,P=this._getXAxisLabelAlignment();else if(o==="left"){const St=this._getYAxisLabelAlignment(v);P=St.textAlign,W=St.x}else if(o==="right"){const St=this._getYAxisLabelAlignment(v);P=St.textAlign,W=St.x}else if(e==="x"){if(o==="center")X=(t.top+t.bottom)/2+k;else if(Nn(o)){const St=Object.keys(o)[0],vt=o[St];X=this.chart.scales[St].getPixelForValue(vt)+k}P=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")W=(t.left+t.right)/2-k;else if(Nn(o)){const St=Object.keys(o)[0],vt=o[St];W=this.chart.scales[St].getPixelForValue(vt)}P=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(h==="start"?ut="top":h==="end"&&(ut="bottom"));const mt=this._getLabelSizes();for(F=0,R=d.length;F<R;++F){Q=d[F],V=Q.label;const St=a.setContext(this.getContext(F));K=this.getPixelForTick(F)+a.labelOffset,J=this._resolveTickFontOptions(F),rt=J.lineHeight,dt=ns(V)?V.length:1;const vt=dt/2,pt=St.color,_t=St.textStrokeColor,Dt=St.textStrokeWidth;let yt=P;c?(W=K,P==="inner"&&(F===R-1?yt=this.options.reverse?"left":"right":F===0?yt=this.options.reverse?"right":"left":yt="center"),o==="top"?p==="near"||x!==0?ht=-dt*rt+rt/2:p==="center"?ht=-mt.highest.height/2-vt*rt+rt:ht=-mt.highest.height+rt/2:p==="near"||x!==0?ht=rt/2:p==="center"?ht=mt.highest.height/2-vt*rt:ht=mt.highest.height-dt*rt,w&&(ht*=-1),x!==0&&!St.showLabelBackdrop&&(W+=rt/2*Math.sin(x))):(X=K,ht=(1-dt)*rt/2);let se;if(St.showLabelBackdrop){const oe=Ro(St.backdropPadding),ie=mt.heights[F],le=mt.widths[F];let Lt=ht-oe.top,Tt=0-oe.left;switch(ut){case"middle":Lt-=ie/2;break;case"bottom":Lt-=ie;break}switch(P){case"center":Tt-=le/2;break;case"right":Tt-=le;break;case"inner":F===R-1?Tt-=le:F>0&&(Tt-=le/2);break}se={left:Tt,top:Lt,width:le+oe.width,height:ie+oe.height,color:St.backdropColor}}I.push({label:V,font:J,textOffset:ht,options:{rotation:x,color:pt,strokeColor:_t,strokeWidth:Dt,textAlign:yt,textBaseline:ut,translation:[W,X],backdrop:se}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-qc(this.labelRotation))return t==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:o,padding:a}}=this.options,c=this._getLabelSizes(),d=t+a,h=c.widest.width;let p,g;return e==="left"?o?(g=this.right+a,i==="near"?p="left":i==="center"?(p="center",g+=h/2):(p="right",g+=h)):(g=this.right-d,i==="near"?p="right":i==="center"?(p="center",g-=h/2):(p="left",g=this.left)):e==="right"?o?(g=this.left+a,i==="near"?p="right":i==="center"?(p="center",g-=h/2):(p="left",g-=h)):(g=this.left+d,i==="near"?p="left":i==="center"?(p="center",g+=h/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:o,width:a,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,o,a,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const o=this.ticks.findIndex(a=>a.value===t);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,c;const d=(h,p,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(e.display)for(a=0,c=o.length;a<c;++a){const h=o[a];e.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:o}}=this,a=i.setContext(this.getContext()),c=i.display?a.width:0;if(!c)return;const d=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,g,w,v;this.isHorizontal()?(p=qf(t,this.left,c)-c/2,g=qf(t,this.right,d)+d/2,w=v=h):(w=qf(t,this.top,c)-c/2,v=qf(t,this.bottom,d)+d/2,p=g=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(p,w),e.lineTo(g,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&gB(i,o);const a=this.getLabelItems(t);for(const c of a){const d=c.options,h=c.font,p=c.label,g=c.textOffset;Lg(i,p,0,g,h,d)}o&&mB(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:o}}=this;if(!i.display)return;const a=mr(i.font),c=Ro(i.padding),d=i.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||Nn(e)?(h+=c.bottom,ns(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=c.top;const{titleX:p,titleY:g,maxWidth:w,rotation:v}=Ogt(this,h,e,d);Lg(t,i.text,0,0,a,{color:i.color,maxWidth:w,rotation:v,textAlign:Fgt(d,e,o),textBaseline:"middle",translation:[p,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=mn(t.grid&&t.grid.z,-1),o=mn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ug.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let a,c;for(a=0,c=e.length;a<c;++a){const d=e[a];d[i]===this.id&&(!t||d.type===t)&&o.push(d)}return o}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return mr(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class xC{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Ugt(e)&&(i=this.register(e));const o=this.items,a=t.id,c=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in o||(o[a]=t,Ngt(t,c,i),this.override&&ss.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,o=this.scope;i in e&&delete e[i],o&&i in ss[o]&&(delete ss[o][i],this.override&&delete Mg[i])}}function Ngt(r,t,e){const i=B_(Object.create(null),[e?ss.get(e):{},ss.get(t),r.defaults]);ss.set(t,i),r.defaultRoutes&&Rgt(t,r.defaultRoutes),r.descriptors&&ss.describe(t,r.descriptors)}function Rgt(r,t){Object.keys(t).forEach(e=>{const i=e.split("."),o=i.pop(),a=[r].concat(i).join("."),c=t[e].split("."),d=c.pop(),h=c.join(".");ss.route(a,o,h,d)})}function Ugt(r){return"id"in r&&"defaults"in r}class Qgt{constructor(){this.controllers=new xC(Xc,"datasets",!0),this.elements=new xC(Pu,"elements"),this.plugins=new xC(Object,"plugins"),this.scales=new xC(Ug,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(o=>{const a=i||this._getRegistryForType(o);i||a.isForType(o)||a===this.plugins&&o.id?this._exec(t,a,o):vi(o,c=>{const d=i||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,e,i){const o=$M(t);Pi(i["before"+o],[],i),e[t](i),Pi(i["after"+o],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const o=e.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return o}}var Id=new Qgt;class Hgt{constructor(){this._init=[]}notify(t,e,i,o){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=o?this._descriptors(t).filter(o):this._descriptors(t),c=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,o){o=o||{};for(const a of t){const c=a.plugin,d=c[i],h=[e,o,a.options];if(Pi(d,h,c)===!1&&o.cancelable)return!1}return!0}invalidate(){Ln(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,o=mn(i.options&&i.options.plugins,{}),a=zgt(i);return o===!1&&!e?[]:Vgt(t,a,o,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,o=(a,c)=>a.filter(d=>!c.some(h=>d.plugin.id===h.plugin.id));this._notify(o(e,i),t,"stop"),this._notify(o(i,e),t,"start")}}function zgt(r){const t={},e=[],i=Object.keys(Id.plugins.items);for(let a=0;a<i.length;a++)e.push(Id.getPlugin(i[a]));const o=r.plugins||[];for(let a=0;a<o.length;a++){const c=o[a];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function jgt(r,t){return!t&&r===!1?null:r===!0?{}:r}function Vgt(r,{plugins:t,localIds:e},i,o){const a=[],c=r.getContext();for(const d of t){const h=d.id,p=jgt(i[h],o);p!==null&&a.push({plugin:d,options:Kgt(r.config,{plugin:d,local:e[h]},p,c)})}return a}function Kgt(r,{plugin:t,local:e},i,o){const a=r.pluginScopeKeys(t),c=r.getOptionScopes(i,a);return e&&t.defaults&&c.push(t.defaults),r.createResolver(c,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function HD(r,t){const e=ss.datasets[r]||{};return((t.datasets||{})[r]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Ggt(r,t){let e=r;return r==="_index_"?e=t:r==="_value_"&&(e=t==="x"?"y":"x"),e}function Wgt(r,t){return r===t?"_index_":"_value_"}function $H(r){if(r==="x"||r==="y"||r==="r")return r}function $gt(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function zD(r,...t){if($H(r))return r;for(const e of t){const i=e.axis||$gt(e.position)||r.length>1&&$H(r[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function qH(r,t,e){if(e[t+"AxisID"]===r)return{axis:t}}function qgt(r,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===r||i.yAxisID===r);if(e.length)return qH(r,"x",e[0])||qH(r,"y",e[0])}return{}}function Ygt(r,t){const e=Mg[r.type]||{scales:{}},i=t.scales||{},o=HD(r.type,t),a=Object.create(null);return Object.keys(i).forEach(c=>{const d=i[c];if(!Nn(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=zD(c,d,qgt(c,r),ss.scales[d.type]),p=Wgt(h,o),g=e.scales||{};a[c]=c_(Object.create(null),[{axis:h},d,g[h],g[p]])}),r.data.datasets.forEach(c=>{const d=c.type||r.type,h=c.indexAxis||HD(d,t),g=(Mg[d]||{}).scales||{};Object.keys(g).forEach(w=>{const v=Ggt(w,h),k=c[v+"AxisID"]||v;a[k]=a[k]||Object.create(null),c_(a[k],[{axis:v},i[k],g[w]])})}),Object.keys(a).forEach(c=>{const d=a[c];c_(d,[ss.scales[d.type],ss.scale])}),a}function CK(r){const t=r.options||(r.options={});t.plugins=mn(t.plugins,{}),t.scales=Ygt(r,t)}function EK(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function Xgt(r){return r=r||{},r.data=EK(r.data),CK(r),r}const YH=new Map,xK=new Set;function BC(r,t){let e=YH.get(r);return e||(e=t(),YH.set(r,e),xK.add(e)),e}const mv=(r,t,e)=>{const i=cf(t,e);i!==void 0&&r.add(i)};class Zgt{constructor(t){this._config=Xgt(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=EK(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),CK(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return BC(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return BC(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return BC(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return BC(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let o=i.get(t);return(!o||e)&&(o=new Map,i.set(t,o)),o}getOptionScopes(t,e,i){const{options:o,type:a}=this,c=this._cachedScopes(t,i),d=c.get(e);if(d)return d;const h=new Set;e.forEach(g=>{t&&(h.add(t),g.forEach(w=>mv(h,t,w))),g.forEach(w=>mv(h,o,w)),g.forEach(w=>mv(h,Mg[a]||{},w)),g.forEach(w=>mv(h,ss,w)),g.forEach(w=>mv(h,RD,w))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),xK.has(e)&&c.set(e,p),p}chartOptionScopes(){const{options:t,type:e}=this;return[t,Mg[e]||{},ss.datasets[e]||{},{type:e},ss,RD]}resolveNamedOptions(t,e,i,o=[""]){const a={$shared:!0},{resolver:c,subPrefixes:d}=XH(this._resolverCache,t,o);let h=c;if(tmt(c,e)){a.$shared=!1,i=df(i)?i():i;const p=this.createResolver(t,i,d);h=gw(c,i,p)}for(const p of e)a[p]=h[p];return a}createResolver(t,e,i=[""],o){const{resolver:a}=XH(this._resolverCache,t,i);return Nn(e)?gw(a,e,void 0,o):a}}function XH(r,t,e){let i=r.get(t);i||(i=new Map,r.set(t,i));const o=e.join();let a=i.get(o);return a||(a={resolver:tL(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(o,a)),a}const Jgt=r=>Nn(r)&&Object.getOwnPropertyNames(r).some(t=>df(r[t]));function tmt(r,t){const{isScriptable:e,isIndexable:i}=sK(r);for(const o of t){const a=e(o),c=i(o),d=(c||a)&&r[o];if(a&&(df(d)||Jgt(d))||c&&ns(d))return!0}return!1}var emt="4.4.9";const nmt=["top","bottom","left","right","chartArea"];function ZH(r,t){return r==="top"||r==="bottom"||nmt.indexOf(r)===-1&&t==="x"}function JH(r,t){return function(e,i){return e[r]===i[r]?e[t]-i[t]:e[r]-i[r]}}function t5(r){const t=r.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Pi(e&&e.onComplete,[r],t)}function imt(r){const t=r.chart,e=t.options.animation;Pi(e&&e.onProgress,[r],t)}function BK(r){return iL()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const SE={},e5=r=>{const t=BK(r);return Object.values(SE).filter(e=>e.canvas===t).pop()};function smt(r,t,e){const i=Object.keys(r);for(const o of i){const a=+o;if(a>=t){const c=r[o];delete r[o],(e>0||a>t)&&(r[a+e]=c)}}}function rmt(r,t,e,i){return!e||r.type==="mouseout"?null:i?t:r}class zA{static register(...t){Id.add(...t),n5()}static unregister(...t){Id.remove(...t),n5()}constructor(t,e){const i=this.config=new Zgt(e),o=BK(t),a=e5(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||ygt(o)),this.platform.updateConfig(i);const d=this.platform.acquireContext(o,c.aspectRatio),h=d&&d.canvas,p=h&&h.height,g=h&&h.width;if(this.id=oft(),this.ctx=d,this.canvas=h,this.width=g,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Hgt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yft(w=>this.update(w),c.resizeDelay||0),this._dataChanges=[],SE[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}NA.listen(this,"complete",t5),NA.listen(this,"progress",imt),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:o,_aspectRatio:a}=this;return Ln(t)?e&&a?a:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Id}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():CH(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _H(this.canvas,this.ctx),this}stop(){return NA.stop(this),this}resize(t,e){NA.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,o=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(o,t,e,a),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,CH(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),Pi(i.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};vi(e,(i,o)=>{i.id=o})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,o=Object.keys(i).reduce((c,d)=>(c[d]=!1,c),{});let a=[];e&&(a=a.concat(Object.keys(e).map(c=>{const d=e[c],h=zD(c,d),p=h==="r",g=h==="x";return{options:d,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),vi(a,c=>{const d=c.options,h=d.id,p=zD(h,d),g=mn(d.type,c.dtype);(d.position===void 0||ZH(d.position,p)!==ZH(c.dposition))&&(d.position=c.dposition),o[h]=!0;let w=null;if(h in i&&i[h].type===g)w=i[h];else{const v=Id.getScale(g);w=new v({id:h,type:g,ctx:this.ctx,chart:this}),i[w.id]=w}w.init(d,t)}),vi(o,(c,d)=>{c||delete i[d]}),vi(i,c=>{No.configure(this,c,c.options),No.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((o,a)=>o.index-a.index),i>e){for(let o=e;o<i;++o)this._destroyDatasetMeta(o);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(JH("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,o)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=e.length;i<o;i++){const a=e[i];let c=this.getDatasetMeta(i);const d=a.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=d,c.indexAxis=a.indexAxis||HD(d,this.options),c.order=a.order||0,c.index=i,c.label=""+a.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const h=Id.getController(d),{datasetElementType:p,dataElementType:g}=ss.datasets[d];Object.assign(h,{dataElementType:Id.getElement(g),datasetElementType:p&&Id.getElement(p)}),c.controller=new h(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){vi(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:w}=this.getDatasetMeta(p),v=!o&&a.indexOf(w)===-1;w.buildOrUpdateElements(v),c=Math.max(+w.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),o||vi(a,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(JH("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){vi(this.scales,t=>{No.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!uH(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:a}of e){const c=i==="_removeElements"?-a:a;smt(t,o,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(c=>c[0]===a).map((c,d)=>d+","+c.splice(1).join(","))),o=i(0);for(let a=1;a<e;a++)if(!uH(o,i(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;No.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],vi(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,df(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),o={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(e),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(NA.has(this)?this.attached&&!NA.running(this)&&NA.start(this):(this.draw(),t5({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let o,a;for(o=0,a=e.length;o<a;++o){const c=e[o];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},o=pK(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&gB(e,o),t.controller.draw(),o&&mB(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return ku(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,o){const a=ngt.modes[e];return typeof a=="function"?a(this,t,i,o):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let o=i.filter(a=>a&&a._dataset===e).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=mf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const o=i?"show":"hide",a=this.getDatasetMeta(t),c=a.controller._resolveAnimations(void 0,o);S_(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(a,{visible:i}),this.update(d=>d.datasetIndex===t?o:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),NA.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),_H(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete SE[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,c)=>{e.addEventListener(this,a,c),t[a]=c},o=(a,c,d)=>{a.offsetX=c,a.offsetY=d,this._eventHandler(a)};vi(this.options.events,a=>i(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,p)=>{e.addEventListener(this,h,p),t[h]=p},o=(h,p)=>{t[h]&&(e.removeEventListener(this,h,p),delete t[h])},a=(h,p)=>{this.canvas&&this.resize(h,p)};let c;const d=()=>{o("attach",d),this.attached=!0,this.resize(),i("resize",a),i("detach",c)};c=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),i("attach",d)},e.isAttached(this.canvas)?d():c()}unbindEvents(){vi(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},vi(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const o=i?"set":"remove";let a,c,d,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),d=0,h=t.length;d<h;++d){c=t[d];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[o+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:c})=>{const d=this.getDatasetMeta(a);if(!d)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:d.data[c],index:c}});!ax(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const o=this.options.hover,a=(h,p)=>h.filter(g=>!p.some(w=>g.datasetIndex===w.datasetIndex&&g.index===w.index)),c=a(e,t),d=i?t:a(t,e);c.length&&this.updateHoverStyle(c,o.mode,!1),d.length&&o.mode&&this.updateHoverStyle(d,o.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},o=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:o=[],options:a}=this,c=e,d=this._getActiveElements(t,o,i,c),h=uft(t),p=rmt(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Pi(a.onHover,[t,d,this],this),h&&Pi(a.onClick,[t,d,this],this));const g=!ax(d,o);return(g||e)&&(this._active=d,this._updateHoverStyles(d,o,e)),this._lastEvent=p,g}_getActiveElements(t,e,i,o){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,o)}}Ft(zA,"defaults",ss),Ft(zA,"instances",SE),Ft(zA,"overrides",Mg),Ft(zA,"registry",Id),Ft(zA,"version",emt),Ft(zA,"getChart",e5);function n5(){return vi(zA.instances,r=>r._plugins.invalidate())}function omt(r,t,e){const{startAngle:i,pixelMargin:o,x:a,y:c,outerRadius:d,innerRadius:h}=t;let p=o/d;r.beginPath(),r.arc(a,c,d,i-p,e+p),h>o?(p=o/h,r.arc(a,c,h,e+p,i-p,!0)):r.arc(a,c,o,e+Ps,i-Ps),r.closePath(),r.clip()}function amt(r){return JM(r,["outerStart","outerEnd","innerStart","innerEnd"])}function lmt(r,t,e,i){const o=amt(r.options.borderRadius),a=(e-t)/2,c=Math.min(a,i*t/2),d=h=>{const p=(e-Math.min(a,h))*i/2;return Ur(h,0,Math.min(a,p))};return{outerStart:d(o.outerStart),outerEnd:d(o.outerEnd),innerStart:Ur(o.innerStart,0,c),innerEnd:Ur(o.innerEnd,0,c)}}function Im(r,t,e,i){return{x:e+r*Math.cos(t),y:i+r*Math.sin(t)}}function hx(r,t,e,i,o,a){const{x:c,y:d,startAngle:h,pixelMargin:p,innerRadius:g}=t,w=Math.max(t.outerRadius+i+e-p,0),v=g>0?g+i+e+p:0;let k=0;const y=o-h;if(i){const St=g>0?g-i:0,vt=w>0?w-i:0,pt=(St+vt)/2,_t=pt!==0?y*pt/(pt+i):y;k=(y-_t)/2}const x=Math.max(.001,y*w-e/Vi)/w,I=(y-x)/2,F=h+I+k,R=o-I-k,{outerStart:Q,outerEnd:V,innerStart:W,innerEnd:X}=lmt(t,v,w,R-F),P=w-Q,K=w-V,J=F+Q/P,rt=R-V/K,dt=v+W,ht=v+X,ut=F+W/dt,mt=R-X/ht;if(r.beginPath(),a){const St=(J+rt)/2;if(r.arc(c,d,w,J,St),r.arc(c,d,w,St,rt),V>0){const Dt=Im(K,rt,c,d);r.arc(Dt.x,Dt.y,V,rt,R+Ps)}const vt=Im(ht,R,c,d);if(r.lineTo(vt.x,vt.y),X>0){const Dt=Im(ht,mt,c,d);r.arc(Dt.x,Dt.y,X,R+Ps,mt+Math.PI)}const pt=(R-X/v+(F+W/v))/2;if(r.arc(c,d,v,R-X/v,pt,!0),r.arc(c,d,v,pt,F+W/v,!0),W>0){const Dt=Im(dt,ut,c,d);r.arc(Dt.x,Dt.y,W,ut+Math.PI,F-Ps)}const _t=Im(P,F,c,d);if(r.lineTo(_t.x,_t.y),Q>0){const Dt=Im(P,J,c,d);r.arc(Dt.x,Dt.y,Q,F-Ps,J)}}else{r.moveTo(c,d);const St=Math.cos(J)*w+c,vt=Math.sin(J)*w+d;r.lineTo(St,vt);const pt=Math.cos(rt)*w+c,_t=Math.sin(rt)*w+d;r.lineTo(pt,_t)}r.closePath()}function cmt(r,t,e,i,o){const{fullCircles:a,startAngle:c,circumference:d}=t;let h=t.endAngle;if(a){hx(r,t,e,i,h,o);for(let p=0;p<a;++p)r.fill();isNaN(d)||(h=c+(d%ji||ji))}return hx(r,t,e,i,h,o),r.fill(),h}function dmt(r,t,e,i,o){const{fullCircles:a,startAngle:c,circumference:d,options:h}=t,{borderWidth:p,borderJoinStyle:g,borderDash:w,borderDashOffset:v}=h,k=h.borderAlign==="inner";if(!p)return;r.setLineDash(w||[]),r.lineDashOffset=v,k?(r.lineWidth=p*2,r.lineJoin=g||"round"):(r.lineWidth=p,r.lineJoin=g||"bevel");let y=t.endAngle;if(a){hx(r,t,e,i,y,o);for(let x=0;x<a;++x)r.stroke();isNaN(d)||(y=c+(d%ji||ji))}k&&omt(r,t,y),a||(hx(r,t,e,i,y,o),r.stroke())}class qv extends Pu{constructor(e){super();Ft(this,"circumference");Ft(this,"endAngle");Ft(this,"fullCircles");Ft(this,"innerRadius");Ft(this,"outerRadius");Ft(this,"pixelMargin");Ft(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,o){const a=this.getProps(["x","y"],o),{angle:c,distance:d}=$6(a,{x:e,y:i}),{startAngle:h,endAngle:p,innerRadius:g,outerRadius:w,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),k=(this.options.spacing+this.options.borderWidth)/2,y=mn(v,p-h),x=T_(c,h,p)&&h!==p,I=y>=ji||x,F=vu(d,g+k,w+k);return I&&F}getCenterPoint(e){const{x:i,y:o,startAngle:a,endAngle:c,innerRadius:d,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:p,spacing:g}=this.options,w=(a+c)/2,v=(d+h+g+p)/2;return{x:i+Math.cos(w)*v,y:o+Math.sin(w)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:o}=this,a=(i.offset||0)/4,c=(i.spacing||0)/2,d=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=o>ji?Math.floor(o/ji):0,o===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*a,Math.sin(h)*a);const p=1-Math.sin(Math.min(Vi,o||0)),g=a*p;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,cmt(e,this,g,c,d),dmt(e,this,g,c,d),e.restore()}}Ft(qv,"id","arc"),Ft(qv,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ft(qv,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ft(qv,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function SK(r,t,e=t){r.lineCap=mn(e.borderCapStyle,t.borderCapStyle),r.setLineDash(mn(e.borderDash,t.borderDash)),r.lineDashOffset=mn(e.borderDashOffset,t.borderDashOffset),r.lineJoin=mn(e.borderJoinStyle,t.borderJoinStyle),r.lineWidth=mn(e.borderWidth,t.borderWidth),r.strokeStyle=mn(e.borderColor,t.borderColor)}function Amt(r,t,e){r.lineTo(e.x,e.y)}function umt(r){return r.stepped?Fft:r.tension||r.cubicInterpolationMode==="monotone"?Oft:Amt}function TK(r,t,e={}){const i=r.length,{start:o=0,end:a=i-1}=e,{start:c,end:d}=t,h=Math.max(o,c),p=Math.min(a,d),g=o<c&&a<c||o>d&&a>d;return{count:i,start:h,loop:t.loop,ilen:p<h&&!g?i+p-h:p-h}}function hmt(r,t,e,i){const{points:o,options:a}=t,{count:c,start:d,loop:h,ilen:p}=TK(o,e,i),g=umt(a);let{move:w=!0,reverse:v}=i||{},k,y,x;for(k=0;k<=p;++k)y=o[(d+(v?p-k:k))%c],!y.skip&&(w?(r.moveTo(y.x,y.y),w=!1):g(r,x,y,v,a.stepped),x=y);return h&&(y=o[(d+(v?p:0))%c],g(r,x,y,v,a.stepped)),!!h}function fmt(r,t,e,i){const o=t.points,{count:a,start:c,ilen:d}=TK(o,e,i),{move:h=!0,reverse:p}=i||{};let g=0,w=0,v,k,y,x,I,F;const R=V=>(c+(p?d-V:V))%a,Q=()=>{x!==I&&(r.lineTo(g,I),r.lineTo(g,x),r.lineTo(g,F))};for(h&&(k=o[R(0)],r.moveTo(k.x,k.y)),v=0;v<=d;++v){if(k=o[R(v)],k.skip)continue;const V=k.x,W=k.y,X=V|0;X===y?(W<x?x=W:W>I&&(I=W),g=(w*g+V)/++w):(Q(),r.lineTo(V,W),y=X,w=0,x=I=W),F=W}Q()}function jD(r){const t=r.options,e=t.borderDash&&t.borderDash.length;return!r._decimated&&!r._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?fmt:hmt}function pmt(r){return r.stepped?fpt:r.tension||r.cubicInterpolationMode==="monotone"?ppt:np}function gmt(r,t,e,i){let o=t._path;o||(o=t._path=new Path2D,t.path(o,e,i)&&o.closePath()),SK(r,t.options),r.stroke(o)}function mmt(r,t,e,i){const{segments:o,options:a}=t,c=jD(t);for(const d of o)SK(r,a,d.style),r.beginPath(),c(r,t,d,{start:e,end:e+i-1})&&r.closePath(),r.stroke()}const bmt=typeof Path2D=="function";function wmt(r,t,e,i){bmt&&!t.options.segment?gmt(r,t,e,i):mmt(r,t,e,i)}class Xh extends Pu{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;opt(this._points,i,t,o,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_pt(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,o=t[e],a=this.points,c=fK(this,{property:e,start:o,end:o});if(!c.length)return;const d=[],h=pmt(i);let p,g;for(p=0,g=c.length;p<g;++p){const{start:w,end:v}=c[p],k=a[w],y=a[v];if(k===y){d.push(k);continue}const x=Math.abs((o-k[e])/(y[e]-k[e])),I=h(k,y,x,i.stepped);I[e]=t[e],d.push(I)}return d.length===1?d[0]:d}pathSegment(t,e,i){return jD(this)(t,this,e,i)}path(t,e,i){const o=this.segments,a=jD(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const d of o)c&=a(t,this,d,{start:e,end:e+i-1});return!!c}draw(t,e,i,o){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),wmt(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ft(Xh,"id","line"),Ft(Xh,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ft(Xh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ft(Xh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function i5(r,t,e,i){const o=r.options,{[e]:a}=r.getProps([e],i);return Math.abs(t-a)<o.radius+o.hitRadius}class TE extends Pu{constructor(e){super();Ft(this,"parsed");Ft(this,"skip");Ft(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,o){const a=this.options,{x:c,y:d}=this.getProps(["x","y"],o);return Math.pow(e-c,2)+Math.pow(i-d,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,i){return i5(this,e,"x",i)}inYRange(e,i){return i5(this,e,"y",i)}getCenterPoint(e){const{x:i,y:o}=this.getProps(["x","y"],e);return{x:i,y:o}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const o=i&&e.borderWidth||0;return(i+o)*2}draw(e,i){const o=this.options;this.skip||o.radius<.1||!ku(this,i,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,UD(e,o,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Ft(TE,"id","point"),Ft(TE,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ft(TE,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function IK(r,t){const{x:e,y:i,base:o,width:a,height:c}=r.getProps(["x","y","base","width","height"],t);let d,h,p,g,w;return r.horizontal?(w=c/2,d=Math.min(e,o),h=Math.max(e,o),p=i-w,g=i+w):(w=a/2,d=e-w,h=e+w,p=Math.min(i,o),g=Math.max(i,o)),{left:d,top:p,right:h,bottom:g}}function Zh(r,t,e,i){return r?0:Ur(t,e,i)}function vmt(r,t,e){const i=r.options.borderWidth,o=r.borderSkipped,a=iK(i);return{t:Zh(o.top,a.top,0,e),r:Zh(o.right,a.right,0,t),b:Zh(o.bottom,a.bottom,0,e),l:Zh(o.left,a.left,0,t)}}function _mt(r,t,e){const{enableBorderRadius:i}=r.getProps(["enableBorderRadius"]),o=r.options.borderRadius,a=Cg(o),c=Math.min(t,e),d=r.borderSkipped,h=i||Nn(o);return{topLeft:Zh(!h||d.top||d.left,a.topLeft,0,c),topRight:Zh(!h||d.top||d.right,a.topRight,0,c),bottomLeft:Zh(!h||d.bottom||d.left,a.bottomLeft,0,c),bottomRight:Zh(!h||d.bottom||d.right,a.bottomRight,0,c)}}function kmt(r){const t=IK(r),e=t.right-t.left,i=t.bottom-t.top,o=vmt(r,e/2,i/2),a=_mt(r,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+o.l,y:t.top+o.t,w:e-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function MT(r,t,e,i){const o=t===null,a=e===null,d=r&&!(o&&a)&&IK(r,i);return d&&(o||vu(t,d.left,d.right))&&(a||vu(e,d.top,d.bottom))}function ymt(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function Cmt(r,t){r.rect(t.x,t.y,t.w,t.h)}function LT(r,t,e={}){const i=r.x!==e.x?-t:0,o=r.y!==e.y?-t:0,a=(r.x+r.w!==e.x+e.w?t:0)-i,c=(r.y+r.h!==e.y+e.h?t:0)-o;return{x:r.x+i,y:r.y+o,w:r.w+a,h:r.h+c,radius:r.radius}}class IE extends Pu{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:o}}=this,{inner:a,outer:c}=kmt(this),d=ymt(c.radius)?I_:Cmt;t.save(),(c.w!==a.w||c.h!==a.h)&&(t.beginPath(),d(t,LT(c,e,a)),t.clip(),d(t,LT(a,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),d(t,LT(a,e)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,e,i){return MT(this,t,e,i)}inXRange(t,e){return MT(this,t,null,e)}inYRange(t,e){return MT(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+o)/2:e,y:a?i:(i+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Ft(IE,"id","bar"),Ft(IE,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ft(IE,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Emt=Object.freeze({__proto__:null,ArcElement:qv,BarElement:IE,LineElement:Xh,PointElement:TE});const VD=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],s5=VD.map(r=>r.replace("rgb(","rgba(").replace(")",", 0.5)"));function DK(r){return VD[r%VD.length]}function MK(r){return s5[r%s5.length]}function xmt(r,t){return r.borderColor=DK(t),r.backgroundColor=MK(t),++t}function Bmt(r,t){return r.backgroundColor=r.data.map(()=>DK(t++)),t}function Smt(r,t){return r.backgroundColor=r.data.map(()=>MK(t++)),t}function Tmt(r){let t=0;return(e,i)=>{const o=r.getDatasetMeta(i).controller;o instanceof up?t=Bmt(e,t):o instanceof h_?t=Smt(e,t):o&&(t=xmt(e,t))}}function r5(r){let t;for(t in r)if(r[t].borderColor||r[t].backgroundColor)return!0;return!1}function Imt(r){return r&&(r.borderColor||r.backgroundColor)}function Dmt(){return ss.borderColor!=="rgba(0,0,0,0.1)"||ss.backgroundColor!=="rgba(0,0,0,0.1)"}var Mmt={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(r,t,e){if(!e.enabled)return;const{data:{datasets:i},options:o}=r.config,{elements:a}=o,c=r5(i)||Imt(o)||a&&r5(a)||Dmt();if(!e.forceOverride&&c)return;const d=Tmt(r);i.forEach(d)}};function Lmt(r,t,e,i,o){const a=o.samples||i;if(a>=e)return r.slice(t,t+e);const c=[],d=(e-2)/(a-2);let h=0;const p=t+e-1;let g=t,w,v,k,y,x;for(c[h++]=r[g],w=0;w<a-2;w++){let I=0,F=0,R;const Q=Math.floor((w+1)*d)+1+t,V=Math.min(Math.floor((w+2)*d)+1,e)+t,W=V-Q;for(R=Q;R<V;R++)I+=r[R].x,F+=r[R].y;I/=W,F/=W;const X=Math.floor(w*d)+1+t,P=Math.min(Math.floor((w+1)*d)+1,e)+t,{x:K,y:J}=r[g];for(k=y=-1,R=X;R<P;R++)y=.5*Math.abs((K-I)*(r[R].y-J)-(K-r[R].x)*(F-J)),y>k&&(k=y,v=r[R],x=R);c[h++]=v,g=x}return c[h++]=r[p],c}function Pmt(r,t,e,i){let o=0,a=0,c,d,h,p,g,w,v,k,y,x;const I=[],F=t+e-1,R=r[t].x,V=r[F].x-R;for(c=t;c<t+e;++c){d=r[c],h=(d.x-R)/V*i,p=d.y;const W=h|0;if(W===g)p<y?(y=p,w=c):p>x&&(x=p,v=c),o=(a*o+d.x)/++a;else{const X=c-1;if(!Ln(w)&&!Ln(v)){const P=Math.min(w,v),K=Math.max(w,v);P!==k&&P!==X&&I.push({...r[P],x:o}),K!==k&&K!==X&&I.push({...r[K],x:o})}c>0&&X!==k&&I.push(r[X]),I.push(d),g=W,a=0,y=x=p,w=v=k=c}}return I}function LK(r){if(r._decimated){const t=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function o5(r){r.data.datasets.forEach(t=>{LK(t)})}function Fmt(r,t){const e=t.length;let i=0,o;const{iScale:a}=r,{min:c,max:d,minDefined:h,maxDefined:p}=a.getUserBounds();return h&&(i=Ur(_u(t,a.axis,c).lo,0,e-1)),p?o=Ur(_u(t,a.axis,d).hi+1,i,e)-i:o=e-i,{start:i,count:o}}var Omt={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,t,e)=>{if(!e.enabled){o5(r);return}const i=r.width;r.data.datasets.forEach((o,a)=>{const{_data:c,indexAxis:d}=o,h=r.getDatasetMeta(a),p=c||o.data;if(Wv([d,r.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const g=r.scales[h.xAxisID];if(g.type!=="linear"&&g.type!=="time"||r.options.parsing)return;let{start:w,count:v}=Fmt(h,p);const k=e.threshold||4*i;if(v<=k){LK(o);return}Ln(c)&&(o._data=p,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let y;switch(e.algorithm){case"lttb":y=Lmt(p,w,v,i,e);break;case"min-max":y=Pmt(p,w,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=y})},destroy(r){o5(r)}};function Nmt(r,t,e){const i=r.segments,o=r.points,a=t.points,c=[];for(const d of i){let{start:h,end:p}=d;p=oL(h,p,o);const g=KD(e,o[h],o[p],d.loop);if(!t.segments){c.push({source:d,target:g,start:o[h],end:o[p]});continue}const w=fK(t,g);for(const v of w){const k=KD(e,a[v.start],a[v.end],v.loop),y=hK(d,o,k);for(const x of y)c.push({source:x,target:v,start:{[e]:a5(g,k,"start",Math.max)},end:{[e]:a5(g,k,"end",Math.min)}})}}return c}function KD(r,t,e,i){if(i)return;let o=t[r],a=e[r];return r==="angle"&&(o=Cl(o),a=Cl(a)),{property:r,start:o,end:a}}function Rmt(r,t){const{x:e=null,y:i=null}=r||{},o=t.points,a=[];return t.segments.forEach(({start:c,end:d})=>{d=oL(c,d,o);const h=o[c],p=o[d];i!==null?(a.push({x:h.x,y:i}),a.push({x:p.x,y:i})):e!==null&&(a.push({x:e,y:h.y}),a.push({x:e,y:p.y}))}),a}function oL(r,t,e){for(;t>r;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function a5(r,t,e,i){return r&&t?i(r[e],t[e]):r?r[e]:t?t[e]:0}function PK(r,t){let e=[],i=!1;return ns(r)?(i=!0,e=r):e=Rmt(r,t),e.length?new Xh({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function l5(r){return r&&r.fill!==!1}function Umt(r,t,e){let o=r[t].fill;const a=[t];let c;if(!e)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!ws(o))return o;if(c=r[o],!c)return!1;if(c.visible)return o;a.push(o),o=c.fill}return!1}function Qmt(r,t,e){const i=Vmt(r);if(Nn(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return ws(o)&&Math.floor(o)===o?Hmt(i[0],t,o,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Hmt(r,t,e,i){return(r==="-"||r==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function zmt(r,t){let e=null;return r==="start"?e=t.bottom:r==="end"?e=t.top:Nn(r)?e=t.getPixelForValue(r.value):t.getBasePixel&&(e=t.getBasePixel()),e}function jmt(r,t,e){let i;return r==="start"?i=e:r==="end"?i=t.options.reverse?t.min:t.max:Nn(r)?i=r.value:i=t.getBaseValue(),i}function Vmt(r){const t=r.options,e=t.fill;let i=mn(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Kmt(r){const{scale:t,index:e,line:i}=r,o=[],a=i.segments,c=i.points,d=Gmt(t,e);d.push(PK({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const p=a[h];for(let g=p.start;g<=p.end;g++)Wmt(o,c[g],d)}return new Xh({points:o,options:{}})}function Gmt(r,t){const e=[],i=r.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const a=i[o];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function Wmt(r,t,e){const i=[];for(let o=0;o<e.length;o++){const a=e[o],{first:c,last:d,point:h}=$mt(a,t,"x");if(!(!h||c&&d)){if(c)i.unshift(h);else if(r.push(h),!d)break}}r.push(...i)}function $mt(r,t,e){const i=r.interpolate(t,e);if(!i)return{};const o=i[e],a=r.segments,c=r.points;let d=!1,h=!1;for(let p=0;p<a.length;p++){const g=a[p],w=c[g.start][e],v=c[g.end][e];if(vu(o,w,v)){d=o===w,h=o===v;break}}return{first:d,last:h,point:i}}class FK{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:o,y:a,radius:c}=this;return e=e||{start:0,end:ji},t.arc(o,a,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:o}=this,a=t.angle;return{x:e+Math.cos(a)*o,y:i+Math.sin(a)*o,angle:a}}}function qmt(r){const{chart:t,fill:e,line:i}=r;if(ws(e))return Ymt(t,e);if(e==="stack")return Kmt(r);if(e==="shape")return!0;const o=Xmt(r);return o instanceof FK?o:PK(o,i)}function Ymt(r,t){const e=r.getDatasetMeta(t);return e&&r.isDatasetVisible(t)?e.dataset:null}function Xmt(r){return(r.scale||{}).getPointPositionForValue?Jmt(r):Zmt(r)}function Zmt(r){const{scale:t={},fill:e}=r,i=zmt(e,t);if(ws(i)){const o=t.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function Jmt(r){const{scale:t,fill:e}=r,i=t.options,o=t.getLabels().length,a=i.reverse?t.max:t.min,c=jmt(e,t,a),d=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new FK({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(c)})}for(let h=0;h<o;++h)d.push(t.getPointPositionForValue(h,c));return d}function PT(r,t,e){const i=qmt(t),{chart:o,index:a,line:c,scale:d,axis:h}=t,p=c.options,g=p.fill,w=p.backgroundColor,{above:v=w,below:k=w}=g||{},y=o.getDatasetMeta(a),x=pK(o,y);i&&c.points.length&&(gB(r,e),tbt(r,{line:c,target:i,above:v,below:k,area:e,scale:d,axis:h,clip:x}),mB(r))}function tbt(r,t){const{line:e,target:i,above:o,below:a,area:c,scale:d,clip:h}=t,p=e._loop?"angle":t.axis;r.save(),p==="x"&&a!==o&&(c5(r,i,c.top),d5(r,{line:e,target:i,color:o,scale:d,property:p,clip:h}),r.restore(),r.save(),c5(r,i,c.bottom)),d5(r,{line:e,target:i,color:a,scale:d,property:p,clip:h}),r.restore()}function c5(r,t,e){const{segments:i,points:o}=t;let a=!0,c=!1;r.beginPath();for(const d of i){const{start:h,end:p}=d,g=o[h],w=o[oL(h,p,o)];a?(r.moveTo(g.x,g.y),a=!1):(r.lineTo(g.x,e),r.lineTo(g.x,g.y)),c=!!t.pathSegment(r,d,{move:c}),c?r.closePath():r.lineTo(w.x,e)}r.lineTo(t.first().x,e),r.closePath(),r.clip()}function d5(r,t){const{line:e,target:i,property:o,color:a,scale:c,clip:d}=t,h=Nmt(e,i,o);for(const{source:p,target:g,start:w,end:v}of h){const{style:{backgroundColor:k=a}={}}=p,y=i!==!0;r.save(),r.fillStyle=k,ebt(r,c,d,y&&KD(o,w,v)),r.beginPath();const x=!!e.pathSegment(r,p);let I;if(y){x?r.closePath():A5(r,i,v,o);const F=!!i.pathSegment(r,g,{move:x,reverse:!0});I=x&&F,I||A5(r,i,w,o)}r.closePath(),r.fill(I?"evenodd":"nonzero"),r.restore()}}function ebt(r,t,e,i){const o=t.chart.chartArea,{property:a,start:c,end:d}=i||{};if(a==="x"||a==="y"){let h,p,g,w;a==="x"?(h=c,p=o.top,g=d,w=o.bottom):(h=o.left,p=c,g=o.right,w=d),r.beginPath(),e&&(h=Math.max(h,e.left),g=Math.min(g,e.right),p=Math.max(p,e.top),w=Math.min(w,e.bottom)),r.rect(h,p,g-h,w-p),r.clip()}}function A5(r,t,e,i){const o=t.interpolate(e,i);o&&r.lineTo(o.x,o.y)}var nbt={id:"filler",afterDatasetsUpdate(r,t,e){const i=(r.data.datasets||[]).length,o=[];let a,c,d,h;for(c=0;c<i;++c)a=r.getDatasetMeta(c),d=a.dataset,h=null,d&&d.options&&d instanceof Xh&&(h={visible:r.isDatasetVisible(c),index:c,fill:Qmt(d,c,i),chart:r,axis:a.controller.options.indexAxis,scale:a.vScale,line:d}),a.$filler=h,o.push(h);for(c=0;c<i;++c)h=o[c],!(!h||h.fill===!1)&&(h.fill=Umt(o,c,e.propagate))},beforeDraw(r,t,e){const i=e.drawTime==="beforeDraw",o=r.getSortedVisibleDatasetMetas(),a=r.chartArea;for(let c=o.length-1;c>=0;--c){const d=o[c].$filler;d&&(d.line.updateControlPoints(a,d.axis),i&&d.fill&&PT(r.ctx,d,a))}},beforeDatasetsDraw(r,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=r.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;l5(a)&&PT(r.ctx,a,r.chartArea)}},beforeDatasetDraw(r,t,e){const i=t.meta.$filler;!l5(i)||e.drawTime!=="beforeDatasetDraw"||PT(r.ctx,i,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const u5=(r,t)=>{let{boxHeight:e=t,boxWidth:i=t}=r;return r.usePointStyle&&(e=Math.min(e,t),i=r.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},ibt=(r,t)=>r!==null&&t!==null&&r.datasetIndex===t.datasetIndex&&r.index===t.index;class h5 extends Pu{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Pi(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,o)=>t.sort(i,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,o=mr(i.font),a=o.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=u5(i,a);let p,g;e.font=o.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(c,a,d,h)+10):(g=this.maxHeight,p=this._fitCols(c,o,d,h)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,o){const{ctx:a,maxWidth:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],g=o+d;let w=t;a.textAlign="left",a.textBaseline="middle";let v=-1,k=-g;return this.legendItems.forEach((y,x)=>{const I=i+e/2+a.measureText(y.text).width;(x===0||p[p.length-1]+I+2*d>c)&&(w+=g,p[p.length-(x>0?0:1)]=0,k+=g,v++),h[x]={left:0,top:k,row:v,width:I,height:o},p[p.length-1]+=I+d}),w}_fitCols(t,e,i,o){const{ctx:a,maxHeight:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],g=c-t;let w=d,v=0,k=0,y=0,x=0;return this.legendItems.forEach((I,F)=>{const{itemWidth:R,itemHeight:Q}=sbt(i,e,a,I,o);F>0&&k+Q+2*d>g&&(w+=v+d,p.push({width:v,height:k}),y+=v+d,x++,v=k=0),h[F]={left:y,top:k,col:x,width:R,height:Q},v=Math.max(v,R),k+=Q+d}),w+=v,p.push({width:v,height:k}),w}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:o},rtl:a}}=this,c=Xm(a,this.left,this.width);if(this.isHorizontal()){let d=0,h=Mo(i,this.left+o,this.right-this.lineWidths[d]);for(const p of e)d!==p.row&&(d=p.row,h=Mo(i,this.left+o,this.right-this.lineWidths[d])),p.top+=this.top+t+o,p.left=c.leftForLtr(c.x(h),p.width),h+=p.width+o}else{let d=0,h=Mo(i,this.top+t+o,this.bottom-this.columnSizes[d].height);for(const p of e)p.col!==d&&(d=p.col,h=Mo(i,this.top+t+o,this.bottom-this.columnSizes[d].height)),p.top=h,p.left+=this.left+o,p.left=c.leftForLtr(c.x(p.left),p.width),h+=p.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;gB(t,this),this._draw(),mB(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:o}=this,{align:a,labels:c}=t,d=ss.color,h=Xm(t.rtl,this.left,this.width),p=mr(c.font),{padding:g}=c,w=p.size,v=w/2;let k;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=p.string;const{boxWidth:y,boxHeight:x,itemHeight:I}=u5(c,w),F=function(X,P,K){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;o.save();const J=mn(K.lineWidth,1);if(o.fillStyle=mn(K.fillStyle,d),o.lineCap=mn(K.lineCap,"butt"),o.lineDashOffset=mn(K.lineDashOffset,0),o.lineJoin=mn(K.lineJoin,"miter"),o.lineWidth=J,o.strokeStyle=mn(K.strokeStyle,d),o.setLineDash(mn(K.lineDash,[])),c.usePointStyle){const rt={radius:x*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:J},dt=h.xPlus(X,y/2),ht=P+v;nK(o,rt,dt,ht,c.pointStyleWidth&&y)}else{const rt=P+Math.max((w-x)/2,0),dt=h.leftForLtr(X,y),ht=Cg(K.borderRadius);o.beginPath(),Object.values(ht).some(ut=>ut!==0)?I_(o,{x:dt,y:rt,w:y,h:x,radius:ht}):o.rect(dt,rt,y,x),o.fill(),J!==0&&o.stroke()}o.restore()},R=function(X,P,K){Lg(o,K.text,X,P+I/2,p,{strikethrough:K.hidden,textAlign:h.textAlign(K.textAlign)})},Q=this.isHorizontal(),V=this._computeTitleHeight();Q?k={x:Mo(a,this.left+g,this.right-i[0]),y:this.top+g+V,line:0}:k={x:this.left+g,y:Mo(a,this.top+V+g,this.bottom-e[0].height),line:0},dK(this.ctx,t.textDirection);const W=I+g;this.legendItems.forEach((X,P)=>{o.strokeStyle=X.fontColor,o.fillStyle=X.fontColor;const K=o.measureText(X.text).width,J=h.textAlign(X.textAlign||(X.textAlign=c.textAlign)),rt=y+v+K;let dt=k.x,ht=k.y;h.setWidth(this.width),Q?P>0&&dt+rt+g>this.right&&(ht=k.y+=W,k.line++,dt=k.x=Mo(a,this.left+g,this.right-i[k.line])):P>0&&ht+W>this.bottom&&(dt=k.x=dt+e[k.line].width+g,k.line++,ht=k.y=Mo(a,this.top+V+g,this.bottom-e[k.line].height));const ut=h.x(dt);if(F(ut,ht,X),dt=Cft(J,dt+y+v,Q?dt+rt:this.right,t.rtl),R(h.x(dt),ht,X),Q)k.x+=rt+g;else if(typeof X.text!="string"){const mt=p.lineHeight;k.y+=OK(X,mt)+g}else k.y+=W}),AK(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=mr(e.font),o=Ro(e.padding);if(!e.display)return;const a=Xm(t.rtl,this.left,this.width),c=this.ctx,d=e.position,h=i.size/2,p=o.top+h;let g,w=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+p,w=Mo(t.align,w,this.right-v);else{const y=this.columnSizes.reduce((x,I)=>Math.max(x,I.height),0);g=p+Mo(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const k=Mo(d,w,w+v);c.textAlign=a.textAlign(XM(d)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Lg(c,e.text,k,g,i)}_computeTitleHeight(){const t=this.options.title,e=mr(t.font),i=Ro(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,o,a;if(vu(t,this.left,this.right)&&vu(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(o=a[i],vu(t,o.left,o.left+o.width)&&vu(e,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!abt(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const o=this._hoveredItem,a=ibt(o,i);o&&!a&&Pi(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!a&&Pi(e.onHover,[t,i,this],this)}else i&&Pi(e.onClick,[t,i,this],this)}}function sbt(r,t,e,i,o){const a=rbt(i,r,t,e),c=obt(o,i,t.lineHeight);return{itemWidth:a,itemHeight:c}}function rbt(r,t,e,i){let o=r.text;return o&&typeof o!="string"&&(o=o.reduce((a,c)=>a.length>c.length?a:c)),t+e.size/2+i.measureText(o).width}function obt(r,t,e){let i=r;return typeof t.text!="string"&&(i=OK(t,e)),i}function OK(r,t){const e=r.text?r.text.length:0;return t*e}function abt(r,t){return!!((r==="mousemove"||r==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(r==="click"||r==="mouseup"))}var lbt={id:"legend",_element:h5,start(r,t,e){const i=r.legend=new h5({ctx:r.ctx,options:e,chart:r});No.configure(r,i,e),No.addBox(r,i)},stop(r){No.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,t,e){const i=r.legend;No.configure(r,i,e),i.options=e},afterUpdate(r){const t=r.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(r,t){t.replay||r.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,t,e){const i=t.datasetIndex,o=e.chart;o.isDatasetVisible(i)?(o.hide(i),t.hidden=!0):(o.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const t=r.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:o,color:a,useBorderRadius:c,borderRadius:d}}=r.legend.options;return r._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(e?0:void 0),g=Ro(p.borderWidth);return{text:t[h.index].label,fillStyle:p.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:o||p.textAlign,borderRadius:c&&(d||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class aL extends Pu{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const o=ns(i.text)?i.text.length:1;this._padding=Ro(i.padding);const a=o*mr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:o,right:a,options:c}=this,d=c.align;let h=0,p,g,w;return this.isHorizontal()?(g=Mo(d,i,a),w=e+t,p=a-i):(c.position==="left"?(g=i+t,w=Mo(d,o,e),h=Vi*-.5):(g=a-t,w=Mo(d,e,o),h=Vi*.5),p=o-e),{titleX:g,titleY:w,maxWidth:p,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=mr(e.font),a=i.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:h,rotation:p}=this._drawArgs(a);Lg(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:p,textAlign:XM(e.align),textBaseline:"middle",translation:[c,d]})}}function cbt(r,t){const e=new aL({ctx:r.ctx,options:t,chart:r});No.configure(r,e,t),No.addBox(r,e),r.titleBlock=e}var dbt={id:"title",_element:aL,start(r,t,e){cbt(r,e)},stop(r){const t=r.titleBlock;No.removeBox(r,t),delete r.titleBlock},beforeUpdate(r,t,e){const i=r.titleBlock;No.configure(r,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const SC=new WeakMap;var Abt={id:"subtitle",start(r,t,e){const i=new aL({ctx:r.ctx,options:e,chart:r});No.configure(r,i,e),No.addBox(r,i),SC.set(r,i)},stop(r){No.removeBox(r,SC.get(r)),SC.delete(r)},beforeUpdate(r,t,e){const i=SC.get(r);No.configure(r,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yv={average(r){if(!r.length)return!1;let t,e,i=new Set,o=0,a=0;for(t=0,e=r.length;t<e;++t){const d=r[t].element;if(d&&d.hasValue()){const h=d.tooltipPosition();i.add(h.x),o+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((d,h)=>d+h)/i.size,y:o/a}},nearest(r,t){if(!r.length)return!1;let e=t.x,i=t.y,o=Number.POSITIVE_INFINITY,a,c,d;for(a=0,c=r.length;a<c;++a){const h=r[a].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),g=ND(t,p);g<o&&(o=g,d=h)}}if(d){const h=d.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Td(r,t){return t&&(ns(t)?Array.prototype.push.apply(r,t):r.push(t)),r}function RA(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function ubt(r,t){const{element:e,datasetIndex:i,index:o}=t,a=r.getDatasetMeta(i).controller,{label:c,value:d}=a.getLabelAndValue(o);return{chart:r,label:c,parsed:a.getParsed(o),raw:r.data.datasets[i].data[o],formattedValue:d,dataset:a.getDataset(),dataIndex:o,datasetIndex:i,element:e}}function f5(r,t){const e=r.chart.ctx,{body:i,footer:o,title:a}=r,{boxWidth:c,boxHeight:d}=t,h=mr(t.bodyFont),p=mr(t.titleFont),g=mr(t.footerFont),w=a.length,v=o.length,k=i.length,y=Ro(t.padding);let x=y.height,I=0,F=i.reduce((V,W)=>V+W.before.length+W.lines.length+W.after.length,0);if(F+=r.beforeBody.length+r.afterBody.length,w&&(x+=w*p.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),F){const V=t.displayColors?Math.max(d,h.lineHeight):h.lineHeight;x+=k*V+(F-k)*h.lineHeight+(F-1)*t.bodySpacing}v&&(x+=t.footerMarginTop+v*g.lineHeight+(v-1)*t.footerSpacing);let R=0;const Q=function(V){I=Math.max(I,e.measureText(V).width+R)};return e.save(),e.font=p.string,vi(r.title,Q),e.font=h.string,vi(r.beforeBody.concat(r.afterBody),Q),R=t.displayColors?c+2+t.boxPadding:0,vi(i,V=>{vi(V.before,Q),vi(V.lines,Q),vi(V.after,Q)}),R=0,e.font=g.string,vi(r.footer,Q),e.restore(),I+=y.width,{width:I,height:x}}function hbt(r,t){const{y:e,height:i}=t;return e<i/2?"top":e>r.height-i/2?"bottom":"center"}function fbt(r,t,e,i){const{x:o,width:a}=i,c=e.caretSize+e.caretPadding;if(r==="left"&&o+a+c>t.width||r==="right"&&o-a-c<0)return!0}function pbt(r,t,e,i){const{x:o,width:a}=e,{width:c,chartArea:{left:d,right:h}}=r;let p="center";return i==="center"?p=o<=(d+h)/2?"left":"right":o<=a/2?p="left":o>=c-a/2&&(p="right"),fbt(p,r,t,e)&&(p="center"),p}function p5(r,t,e){const i=e.yAlign||t.yAlign||hbt(r,e);return{xAlign:e.xAlign||t.xAlign||pbt(r,t,e,i),yAlign:i}}function gbt(r,t){let{x:e,width:i}=r;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function mbt(r,t,e){let{y:i,height:o}=r;return t==="top"?i+=e:t==="bottom"?i-=o+e:i-=o/2,i}function g5(r,t,e,i){const{caretSize:o,caretPadding:a,cornerRadius:c}=r,{xAlign:d,yAlign:h}=e,p=o+a,{topLeft:g,topRight:w,bottomLeft:v,bottomRight:k}=Cg(c);let y=gbt(t,d);const x=mbt(t,h,p);return h==="center"?d==="left"?y+=p:d==="right"&&(y-=p):d==="left"?y-=Math.max(g,v)+o:d==="right"&&(y+=Math.max(w,k)+o),{x:Ur(y,0,i.width-t.width),y:Ur(x,0,i.height-t.height)}}function TC(r,t,e){const i=Ro(e.padding);return t==="center"?r.x+r.width/2:t==="right"?r.x+r.width-i.right:r.x+i.left}function m5(r){return Td([],RA(r))}function bbt(r,t,e){return mf(r,{tooltip:t,tooltipItems:e,type:"tooltip"})}function b5(r,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?r.override(e):r}const NK={beforeTitle:LA,title(r){if(r.length>0){const t=r[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:LA,beforeBody:LA,beforeLabel:LA,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let t=r.dataset.label||"";t&&(t+=": ");const e=r.formattedValue;return Ln(e)||(t+=e),t},labelColor(r){const e=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const e=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:LA,afterBody:LA,beforeFooter:LA,footer:LA,afterFooter:LA};function xa(r,t,e,i){const o=r[t].call(e,i);return typeof o>"u"?NK[t].call(e,i):o}class GD extends Pu{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&e.options.animation&&i.animations,a=new gK(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=bbt(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,o=xa(i,"beforeTitle",this,t),a=xa(i,"title",this,t),c=xa(i,"afterTitle",this,t);let d=[];return d=Td(d,RA(o)),d=Td(d,RA(a)),d=Td(d,RA(c)),d}getBeforeBody(t,e){return m5(xa(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,o=[];return vi(t,a=>{const c={before:[],lines:[],after:[]},d=b5(i,a);Td(c.before,RA(xa(d,"beforeLabel",this,a))),Td(c.lines,xa(d,"label",this,a)),Td(c.after,RA(xa(d,"afterLabel",this,a))),o.push(c)}),o}getAfterBody(t,e){return m5(xa(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,o=xa(i,"beforeFooter",this,t),a=xa(i,"footer",this,t),c=xa(i,"afterFooter",this,t);let d=[];return d=Td(d,RA(o)),d=Td(d,RA(a)),d=Td(d,RA(c)),d}_createItems(t){const e=this._active,i=this.chart.data,o=[],a=[],c=[];let d=[],h,p;for(h=0,p=e.length;h<p;++h)d.push(ubt(this.chart,e[h]));return t.filter&&(d=d.filter((g,w,v)=>t.filter(g,w,v,i))),t.itemSort&&(d=d.sort((g,w)=>t.itemSort(g,w,i))),vi(d,g=>{const w=b5(t.callbacks,g);o.push(xa(w,"labelColor",this,g)),a.push(xa(w,"labelPointStyle",this,g)),c.push(xa(w,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=d,d}update(t,e){const i=this.options.setContext(this.getContext()),o=this._active;let a,c=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const d=Yv[i.position].call(this,o,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const h=this._size=f5(this,i),p=Object.assign({},d,h),g=p5(this.chart,i,p),w=g5(i,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:w.x,y:w.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,o){const a=this.getCaretPosition(t,i,o);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:o,yAlign:a}=this,{caretSize:c,cornerRadius:d}=i,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:w}=Cg(d),{x:v,y:k}=t,{width:y,height:x}=e;let I,F,R,Q,V,W;return a==="center"?(V=k+x/2,o==="left"?(I=v,F=I-c,Q=V+c,W=V-c):(I=v+y,F=I+c,Q=V-c,W=V+c),R=I):(o==="left"?F=v+Math.max(h,g)+c:o==="right"?F=v+y-Math.max(p,w)-c:F=this.caretX,a==="top"?(Q=k,V=Q-c,I=F-c,R=F+c):(Q=k+x,V=Q+c,I=F+c,R=F-c),W=Q),{x1:I,x2:F,x3:R,y1:Q,y2:V,y3:W}}drawTitle(t,e,i){const o=this.title,a=o.length;let c,d,h;if(a){const p=Xm(i.rtl,this.x,this.width);for(t.x=TC(this,i.titleAlign,i),e.textAlign=p.textAlign(i.titleAlign),e.textBaseline="middle",c=mr(i.titleFont),d=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,h=0;h<a;++h)e.fillText(o[h],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,h+1===a&&(t.y+=i.titleMarginBottom-d)}}_drawColorBox(t,e,i,o,a){const c=this.labelColors[i],d=this.labelPointStyles[i],{boxHeight:h,boxWidth:p}=a,g=mr(a.bodyFont),w=TC(this,"left",a),v=o.x(w),k=h<g.lineHeight?(g.lineHeight-h)/2:0,y=e.y+k;if(a.usePointStyle){const x={radius:Math.min(p,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},I=o.leftForLtr(v,p)+p/2,F=y+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,UD(t,x,I,F),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,UD(t,x,I,F)}else{t.lineWidth=Nn(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const x=o.leftForLtr(v,p),I=o.leftForLtr(o.xPlus(v,1),p-2),F=Cg(c.borderRadius);Object.values(F).some(R=>R!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,I_(t,{x,y,w:p,h,radius:F}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),I_(t,{x:I,y:y+1,w:p-2,h:h-2,radius:F}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(x,y,p,h),t.strokeRect(x,y,p,h),t.fillStyle=c.backgroundColor,t.fillRect(I,y+1,p-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:o}=this,{bodySpacing:a,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:p,boxPadding:g}=i,w=mr(i.bodyFont);let v=w.lineHeight,k=0;const y=Xm(i.rtl,this.x,this.width),x=function(K){e.fillText(K,y.x(t.x+k),t.y+v/2),t.y+=v+a},I=y.textAlign(c);let F,R,Q,V,W,X,P;for(e.textAlign=c,e.textBaseline="middle",e.font=w.string,t.x=TC(this,I,i),e.fillStyle=i.bodyColor,vi(this.beforeBody,x),k=d&&I!=="right"?c==="center"?p/2+g:p+2+g:0,V=0,X=o.length;V<X;++V){for(F=o[V],R=this.labelTextColors[V],e.fillStyle=R,vi(F.before,x),Q=F.lines,d&&Q.length&&(this._drawColorBox(e,t,V,y,i),v=Math.max(w.lineHeight,h)),W=0,P=Q.length;W<P;++W)x(Q[W]),v=w.lineHeight;vi(F.after,x)}k=0,v=w.lineHeight,vi(this.afterBody,x),t.y-=a}drawFooter(t,e,i){const o=this.footer,a=o.length;let c,d;if(a){const h=Xm(i.rtl,this.x,this.width);for(t.x=TC(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",c=mr(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,d=0;d<a;++d)e.fillText(o[d],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,o){const{xAlign:a,yAlign:c}=this,{x:d,y:h}=t,{width:p,height:g}=i,{topLeft:w,topRight:v,bottomLeft:k,bottomRight:y}=Cg(o.cornerRadius);e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(d+w,h),c==="top"&&this.drawCaret(t,e,i,o),e.lineTo(d+p-v,h),e.quadraticCurveTo(d+p,h,d+p,h+v),c==="center"&&a==="right"&&this.drawCaret(t,e,i,o),e.lineTo(d+p,h+g-y),e.quadraticCurveTo(d+p,h+g,d+p-y,h+g),c==="bottom"&&this.drawCaret(t,e,i,o),e.lineTo(d+k,h+g),e.quadraticCurveTo(d,h+g,d,h+g-k),c==="center"&&a==="left"&&this.drawCaret(t,e,i,o),e.lineTo(d,h+w),e.quadraticCurveTo(d,h,d+w,h),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,o=i&&i.x,a=i&&i.y;if(o||a){const c=Yv[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=f5(this,t),h=Object.assign({},c,this._size),p=p5(e,t,h),g=g5(t,h,p,e);(o._to!==g.x||a._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Ro(e.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&d&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,o,e),dK(t,e.textDirection),a.y+=c.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),AK(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,o=t.map(({datasetIndex:d,index:h})=>{const p=this.chart.getDatasetMeta(d);if(!p)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:p.data[h],index:h}}),a=!ax(i,o),c=this._positionChanged(o,e);(a||c)&&(this._active=o,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],c=this._getActiveElements(t,a,e,i),d=this._positionChanged(c,t),h=e||!ax(c,a)||d;return h&&(this._active=c,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,o){const a=this.options;if(t.type==="mouseout")return[];if(!o)return e.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:o,options:a}=this,c=Yv[a.position].call(this,t,e);return c!==!1&&(i!==c.x||o!==c.y)}}Ft(GD,"positioners",Yv);var wbt={id:"tooltip",_element:GD,positioners:Yv,afterInit(r,t,e){e&&(r.tooltip=new GD({chart:r,options:e}))},beforeUpdate(r,t,e){r.tooltip&&r.tooltip.initialize(e)},reset(r,t,e){r.tooltip&&r.tooltip.initialize(e)},afterDraw(r){const t=r.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(r.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",e)}},afterEvent(r,t){if(r.tooltip){const e=t.replay;r.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,t)=>t.bodyFont.size,boxWidth:(r,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:NK},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vbt=Object.freeze({__proto__:null,Colors:Mmt,Decimation:Omt,Filler:nbt,Legend:lbt,SubTitle:Abt,Title:dbt,Tooltip:wbt});const _bt=(r,t,e,i)=>(typeof t=="string"?(e=r.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function kbt(r,t,e,i){const o=r.indexOf(t);if(o===-1)return _bt(r,t,e,i);const a=r.lastIndexOf(t);return o!==a?e:o}const ybt=(r,t)=>r===null?null:Ur(Math.round(r),0,t);function w5(r){const t=this.getLabels();return r>=0&&r<t.length?t[r]:r}class WD extends Ug{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:o,label:a}of e)i[o]===a&&i.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ln(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:kbt(i,t,mn(e,t),this._addedLabels),ybt(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,o=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)o.push({value:c});return o}getLabelForValue(t){return w5.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ft(WD,"id","category"),Ft(WD,"defaults",{ticks:{callback:w5}});function Cbt(r,t){const e=[],{bounds:o,step:a,min:c,max:d,precision:h,count:p,maxTicks:g,maxDigits:w,includeBounds:v}=r,k=a||1,y=g-1,{min:x,max:I}=t,F=!Ln(c),R=!Ln(d),Q=!Ln(p),V=(I-x)/(w+1);let W=fH((I-x)/y/k)*k,X,P,K,J;if(W<1e-14&&!F&&!R)return[{value:x},{value:I}];J=Math.ceil(I/W)-Math.floor(x/W),J>y&&(W=fH(J*W/y/k)*k),Ln(h)||(X=Math.pow(10,h),W=Math.ceil(W*X)/X),o==="ticks"?(P=Math.floor(x/W)*W,K=Math.ceil(I/W)*W):(P=x,K=I),F&&R&&a&&mft((d-c)/a,W/1e3)?(J=Math.round(Math.min((d-c)/W,g)),W=(d-c)/J,P=c,K=d):Q?(P=F?c:P,K=R?d:K,J=p-1,W=(K-P)/J):(J=(K-P)/W,d_(J,Math.round(J),W/1e3)?J=Math.round(J):J=Math.ceil(J));const rt=Math.max(pH(W),pH(P));X=Math.pow(10,Ln(h)?rt:h),P=Math.round(P*X)/X,K=Math.round(K*X)/X;let dt=0;for(F&&(v&&P!==c?(e.push({value:c}),P<c&&dt++,d_(Math.round((P+dt*W)*X)/X,c,v5(c,V,r))&&dt++):P<c&&dt++);dt<J;++dt){const ht=Math.round((P+dt*W)*X)/X;if(R&&ht>d)break;e.push({value:ht})}return R&&v&&K!==d?e.length&&d_(e[e.length-1].value,d,v5(d,V,r))?e[e.length-1].value=d:e.push({value:d}):(!R||K===d)&&e.push({value:K}),e}function v5(r,t,{horizontal:e,minRotation:i}){const o=qc(i),a=(e?Math.sin(o):Math.cos(o))||.001,c=.75*t*(""+r).length;return Math.min(t/a,c)}class fx extends Ug{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ln(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:o,max:a}=this;const c=h=>o=e?o:h,d=h=>a=i?a:h;if(t){const h=Zd(o),p=Zd(a);h<0&&p<0?d(0):h>0&&p>0&&c(0)}if(o===a){let h=a===0?1:Math.abs(a*.05);d(a+h),t||c(o-h)}this.min=o,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,c=Cbt(o,a);return t.bounds==="ticks"&&W6(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const o=(i-e)/Math.max(t.length-1,1)/2;e-=o,i+=o}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return k0(t,this.chart.options.locale,this.options.ticks.format)}}class $D extends fx{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ws(t)?t:0,this.max=ws(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=qc(this.options.ticks.minRotation),o=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ft($D,"id","linear"),Ft($D,"defaults",{ticks:{callback:pB.formatters.numeric}});const M_=r=>Math.floor(Yh(r)),Xf=(r,t)=>Math.pow(10,M_(r)+t);function _5(r){return r/Math.pow(10,M_(r))===1}function k5(r,t,e){const i=Math.pow(10,e),o=Math.floor(r/i);return Math.ceil(t/i)-o}function Ebt(r,t){const e=t-r;let i=M_(e);for(;k5(r,t,i)>10;)i++;for(;k5(r,t,i)<10;)i--;return Math.min(i,M_(r))}function xbt(r,{min:t,max:e}){t=al(r.min,t);const i=[],o=M_(t);let a=Ebt(t,e),c=a<0?Math.pow(10,Math.abs(a)):1;const d=Math.pow(10,a),h=o>a?Math.pow(10,o):0,p=Math.round((t-h)*c)/c,g=Math.floor((t-h)/d/10)*d*10;let w=Math.floor((p-g)/Math.pow(10,a)),v=al(r.min,Math.round((h+g+w*Math.pow(10,a))*c)/c);for(;v<e;)i.push({value:v,major:_5(v),significand:w}),w>=10?w=w<15?15:20:w++,w>=20&&(a++,w=2,c=a>=0?1:c),v=Math.round((h+g+w*Math.pow(10,a))*c)/c;const k=al(r.max,v);return i.push({value:k,major:_5(k),significand:w}),i}class qD extends Ug{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=fx.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return ws(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ws(t)?Math.max(0,t):null,this.max=ws(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ws(this._userMin)&&(this.min=t===Xf(this.min,0)?Xf(this.min,-1):Xf(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,o=this.max;const a=d=>i=t?i:d,c=d=>o=e?o:d;i===o&&(i<=0?(a(1),c(10)):(a(Xf(i,-1)),c(Xf(o,1)))),i<=0&&a(Xf(o,-1)),o<=0&&c(Xf(i,1)),this.min=i,this.max=o}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=xbt(e,this);return t.bounds==="ticks"&&W6(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":k0(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Yh(t),this._valueRange=Yh(this.max)-Yh(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Yh(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}Ft(qD,"id","logarithmic"),Ft(qD,"defaults",{ticks:{callback:pB.formatters.logarithmic,major:{enabled:!0}}});function YD(r){const t=r.ticks;if(t.display&&r.display){const e=Ro(t.backdropPadding);return mn(t.font&&t.font.size,ss.font.size)+e.height}return 0}function Bbt(r,t,e){return e=ns(e)?e:[e],{w:Pft(r,t.string,e),h:e.length*t.lineHeight}}function y5(r,t,e,i,o){return r===i||r===o?{start:t-e/2,end:t+e/2}:r<i||r>o?{start:t-e,end:t}:{start:t,end:t+e}}function Sbt(r){const t={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},e=Object.assign({},t),i=[],o=[],a=r._pointLabels.length,c=r.options.pointLabels,d=c.centerPointLabels?Vi/a:0;for(let h=0;h<a;h++){const p=c.setContext(r.getPointLabelContext(h));o[h]=p.padding;const g=r.getPointPosition(h,r.drawingArea+o[h],d),w=mr(p.font),v=Bbt(r.ctx,w,r._pointLabels[h]);i[h]=v;const k=Cl(r.getIndexAngle(h)+d),y=Math.round(qM(k)),x=y5(y,g.x,v.w,0,180),I=y5(y,g.y,v.h,90,270);Tbt(e,t,k,x,I)}r.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),r._pointLabelItems=Mbt(r,i,o)}function Tbt(r,t,e,i,o){const a=Math.abs(Math.sin(e)),c=Math.abs(Math.cos(e));let d=0,h=0;i.start<t.l?(d=(t.l-i.start)/a,r.l=Math.min(r.l,t.l-d)):i.end>t.r&&(d=(i.end-t.r)/a,r.r=Math.max(r.r,t.r+d)),o.start<t.t?(h=(t.t-o.start)/c,r.t=Math.min(r.t,t.t-h)):o.end>t.b&&(h=(o.end-t.b)/c,r.b=Math.max(r.b,t.b+h))}function Ibt(r,t,e){const i=r.drawingArea,{extra:o,additionalAngle:a,padding:c,size:d}=e,h=r.getPointPosition(t,i+o+c,a),p=Math.round(qM(Cl(h.angle+Ps))),g=Fbt(h.y,d.h,p),w=Lbt(p),v=Pbt(h.x,d.w,w);return{visible:!0,x:h.x,y:g,textAlign:w,left:v,top:g,right:v+d.w,bottom:g+d.h}}function Dbt(r,t){if(!t)return!0;const{left:e,top:i,right:o,bottom:a}=r;return!(ku({x:e,y:i},t)||ku({x:e,y:a},t)||ku({x:o,y:i},t)||ku({x:o,y:a},t))}function Mbt(r,t,e){const i=[],o=r._pointLabels.length,a=r.options,{centerPointLabels:c,display:d}=a.pointLabels,h={extra:YD(a)/2,additionalAngle:c?Vi/o:0};let p;for(let g=0;g<o;g++){h.padding=e[g],h.size=t[g];const w=Ibt(r,g,h);i.push(w),d==="auto"&&(w.visible=Dbt(w,p),w.visible&&(p=w))}return i}function Lbt(r){return r===0||r===180?"center":r<180?"left":"right"}function Pbt(r,t,e){return e==="right"?r-=t:e==="center"&&(r-=t/2),r}function Fbt(r,t,e){return e===90||e===270?r-=t/2:(e>270||e<90)&&(r-=t),r}function Obt(r,t,e){const{left:i,top:o,right:a,bottom:c}=e,{backdropColor:d}=t;if(!Ln(d)){const h=Cg(t.borderRadius),p=Ro(t.backdropPadding);r.fillStyle=d;const g=i-p.left,w=o-p.top,v=a-i+p.width,k=c-o+p.height;Object.values(h).some(y=>y!==0)?(r.beginPath(),I_(r,{x:g,y:w,w:v,h:k,radius:h}),r.fill()):r.fillRect(g,w,v,k)}}function Nbt(r,t){const{ctx:e,options:{pointLabels:i}}=r;for(let o=t-1;o>=0;o--){const a=r._pointLabelItems[o];if(!a.visible)continue;const c=i.setContext(r.getPointLabelContext(o));Obt(e,c,a);const d=mr(c.font),{x:h,y:p,textAlign:g}=a;Lg(e,r._pointLabels[o],h,p+d.lineHeight/2,d,{color:c.color,textAlign:g,textBaseline:"middle"})}}function RK(r,t,e,i){const{ctx:o}=r;if(e)o.arc(r.xCenter,r.yCenter,t,0,ji);else{let a=r.getPointPosition(0,t);o.moveTo(a.x,a.y);for(let c=1;c<i;c++)a=r.getPointPosition(c,t),o.lineTo(a.x,a.y)}}function Rbt(r,t,e,i,o){const a=r.ctx,c=t.circular,{color:d,lineWidth:h}=t;!c&&!i||!d||!h||e<0||(a.save(),a.strokeStyle=d,a.lineWidth=h,a.setLineDash(o.dash||[]),a.lineDashOffset=o.dashOffset,a.beginPath(),RK(r,e,c,i),a.closePath(),a.stroke(),a.restore())}function Ubt(r,t,e){return mf(r,{label:e,index:t,type:"pointLabel"})}class Xv extends fx{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ro(YD(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ws(t)&&!isNaN(t)?t:0,this.max=ws(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/YD(this.options))}generateTickLabels(t){fx.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const o=Pi(this.options.pointLabels.callback,[e,i],this);return o||o===0?o:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?Sbt(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,o){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,o))}getIndexAngle(t){const e=ji/(this._pointLabels.length||1),i=this.options.startAngle||0;return Cl(t*e+qc(i))}getDistanceFromCenterForValue(t){if(Ln(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ln(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return Ubt(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const o=this.getIndexAngle(t)-Ps+i;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:o,bottom:a}=this._pointLabelItems[t];return{left:e,top:i,right:o,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),RK(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:o,border:a}=e,c=this._pointLabels.length;let d,h,p;if(e.pointLabels.display&&Nbt(this,c),o.display&&this.ticks.forEach((g,w)=>{if(w!==0||w===0&&this.min<0){h=this.getDistanceFromCenterForValue(g.value);const v=this.getContext(w),k=o.setContext(v),y=a.setContext(v);Rbt(this,k,h,c,y)}}),i.display){for(t.save(),d=c-1;d>=0;d--){const g=i.setContext(this.getPointLabelContext(d)),{color:w,lineWidth:v}=g;!v||!w||(t.lineWidth=v,t.strokeStyle=w,t.setLineDash(g.borderDash),t.lineDashOffset=g.borderDashOffset,h=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),p=this.getPointPosition(d,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(p.x,p.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const o=this.getIndexAngle(0);let a,c;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((d,h)=>{if(h===0&&this.min>=0&&!e.reverse)return;const p=i.setContext(this.getContext(h)),g=mr(p.font);if(a=this.getDistanceFromCenterForValue(this.ticks[h].value),p.showLabelBackdrop){t.font=g.string,c=t.measureText(d.label).width,t.fillStyle=p.backdropColor;const w=Ro(p.backdropPadding);t.fillRect(-c/2-w.left,-a-g.size/2-w.top,c+w.width,g.size+w.height)}Lg(t,d.label,0,-a,g,{color:p.color,strokeColor:p.textStrokeColor,strokeWidth:p.textStrokeWidth})}),t.restore()}drawTitle(){}}Ft(Xv,"id","radialLinear"),Ft(Xv,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pB.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Ft(Xv,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ft(Xv,"descriptors",{angleLines:{_fallback:"grid"}});const vB={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Na=Object.keys(vB);function C5(r,t){return r-t}function E5(r,t){if(Ln(t))return null;const e=r._adapter,{parser:i,round:o,isoWeekday:a}=r._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ws(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(o&&(c=o==="week"&&(pw(a)||a===!0)?e.startOf(c,"isoWeek",a):e.startOf(c,o)),+c)}function x5(r,t,e,i){const o=Na.length;for(let a=Na.indexOf(r);a<o-1;++a){const c=vB[Na[a]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(d*c.size))<=i)return Na[a]}return Na[o-1]}function Qbt(r,t,e,i,o){for(let a=Na.length-1;a>=Na.indexOf(e);a--){const c=Na[a];if(vB[c].common&&r._adapter.diff(o,i,c)>=t-1)return c}return Na[e?Na.indexOf(e):0]}function Hbt(r){for(let t=Na.indexOf(r)+1,e=Na.length;t<e;++t)if(vB[Na[t]].common)return Na[t]}function B5(r,t,e){if(!e)r[t]=!0;else if(e.length){const{lo:i,hi:o}=YM(e,t),a=e[i]>=t?e[i]:e[o];r[a]=!0}}function zbt(r,t,e,i){const o=r._adapter,a=+o.startOf(t[0].value,i),c=t[t.length-1].value;let d,h;for(d=a;d<=c;d=+o.add(d,1,i))h=e[d],h>=0&&(t[h].major=!0);return t}function S5(r,t,e){const i=[],o={},a=t.length;let c,d;for(c=0;c<a;++c)d=t[c],o[d]=c,i.push({value:d,major:!1});return a===0||!e?i:zbt(r,i,o,e)}class L_ extends Ug{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),o=this._adapter=new Xpt._date(t.adapters.date);o.init(e),c_(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:E5(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:o,max:a,minDefined:c,maxDefined:d}=this.getUserBounds();function h(p){!c&&!isNaN(p.min)&&(o=Math.min(o,p.min)),!d&&!isNaN(p.max)&&(a=Math.max(a,p.max))}(!c||!d)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=ws(o)&&!isNaN(o)?o:+e.startOf(Date.now(),i),a=ws(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,c=this.max,d=_ft(o,a,c);return this._unit=e.unit||(i.autoSkip?x5(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):Qbt(this,d.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Hbt(this._unit),this.initOffsets(o),t.reverse&&d.reverse(),S5(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,o,a;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?e=1-o:e=(this.getDecimalForValue(t[1])-o)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Ur(e,0,c),i=Ur(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,o=this.options,a=o.time,c=a.unit||x5(a.minUnit,e,i,this._getLabelCapacity(e)),d=mn(o.ticks.stepSize,1),h=c==="week"?a.isoWeekday:!1,p=pw(h)||h===!0,g={};let w=e,v,k;if(p&&(w=+t.startOf(w,"isoWeek",h)),w=+t.startOf(w,p?"day":c),t.diff(i,e,c)>1e5*d)throw new Error(e+" and "+i+" are too far apart with stepSize of "+d+" "+c);const y=o.ticks.source==="data"&&this.getDataTimestamps();for(v=w,k=0;v<i;v=+t.add(v,d,c),k++)B5(g,v,y);return(v===i||o.bounds==="ticks"||k===1)&&B5(g,v,y),Object.keys(g).sort(C5).map(x=>+x)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const o=this.options.time.displayFormats,a=this._unit,c=e||o[a];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,o){const a=this.options,c=a.ticks.callback;if(c)return Pi(c,[t,e,i],this);const d=a.time.displayFormats,h=this._unit,p=this._majorUnit,g=h&&d[h],w=p&&d[p],v=i[e],k=p&&w&&v&&v.major;return this._adapter.format(t,o||(k?w:g))}generateTickLabels(t){let e,i,o;for(e=0,i=t.length;e<i;++e)o=t[e],o.label=this._tickFormatFunction(o.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,o=qc(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(o),c=Math.sin(o),d=this._resolveTickFontOptions(0).size;return{w:i*a+d*c,h:i*c+d*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,o=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,S5(this,[t],this._majorUnit),o),c=this._getLabelSize(a),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(e=0,i=o.length;e<i;++e)t=t.concat(o[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const o=this.getLabels();for(e=0,i=o.length;e<i;++e)t.push(E5(this,o[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Y6(t.sort(C5))}}Ft(L_,"id","time"),Ft(L_,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function IC(r,t,e){let i=0,o=r.length-1,a,c,d,h;e?(t>=r[i].pos&&t<=r[o].pos&&({lo:i,hi:o}=_u(r,"pos",t)),{pos:a,time:d}=r[i],{pos:c,time:h}=r[o]):(t>=r[i].time&&t<=r[o].time&&({lo:i,hi:o}=_u(r,"time",t)),{time:a,pos:d}=r[i],{time:c,pos:h}=r[o]);const p=c-a;return p?d+(h-d)*(t-a)/p:d}class XD extends L_{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=IC(e,this.min),this._tableRange=IC(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,o=[],a=[];let c,d,h,p,g;for(c=0,d=t.length;c<d;++c)p=t[c],p>=e&&p<=i&&o.push(p);if(o.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,d=o.length;c<d;++c)g=o[c+1],h=o[c-1],p=o[c],Math.round((g+h)/2)!==p&&a.push({time:p,pos:c/(d-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((o,a)=>o-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(IC(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return IC(this._table,i*this._tableRange+this._minPos,!0)}}Ft(XD,"id","timeseries"),Ft(XD,"defaults",L_.defaults);var jbt=Object.freeze({__proto__:null,CategoryScale:WD,LinearScale:$D,LogarithmicScale:qD,RadialLinearScale:Xv,TimeScale:L_,TimeSeriesScale:XD});const Vbt=[Ypt,Emt,vbt,jbt];zA.register(...Vbt);var Zv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Kbt=Zv.exports,T5;function Gbt(){return T5||(T5=1,function(r,t){(function(e,i){i(t)})(Kbt,function(e){var i="1.9.4";function o(m){var C,M,z,Y;for(M=1,z=arguments.length;M<z;M++){Y=arguments[M];for(C in Y)m[C]=Y[C]}return m}var a=Object.create||function(){function m(){}return function(C){return m.prototype=C,new m}}();function c(m,C){var M=Array.prototype.slice;if(m.bind)return m.bind.apply(m,M.call(arguments,1));var z=M.call(arguments,2);return function(){return m.apply(C,z.length?z.concat(M.call(arguments)):arguments)}}var d=0;function h(m){return"_leaflet_id"in m||(m._leaflet_id=++d),m._leaflet_id}function p(m,C,M){var z,Y,ct,Ct;return Ct=function(){z=!1,Y&&(ct.apply(M,Y),Y=!1)},ct=function(){z?Y=arguments:(m.apply(M,arguments),setTimeout(Ct,C),z=!0)},ct}function g(m,C,M){var z=C[1],Y=C[0],ct=z-Y;return m===z&&M?m:((m-Y)%ct+ct)%ct+Y}function w(){return!1}function v(m,C){if(C===!1)return m;var M=Math.pow(10,C===void 0?6:C);return Math.round(m*M)/M}function k(m){return m.trim?m.trim():m.replace(/^\s+|\s+$/g,"")}function y(m){return k(m).split(/\s+/)}function x(m,C){Object.prototype.hasOwnProperty.call(m,"options")||(m.options=m.options?a(m.options):{});for(var M in C)m.options[M]=C[M];return m.options}function I(m,C,M){var z=[];for(var Y in m)z.push(encodeURIComponent(M?Y.toUpperCase():Y)+"="+encodeURIComponent(m[Y]));return(!C||C.indexOf("?")===-1?"?":"&")+z.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function R(m,C){return m.replace(F,function(M,z){var Y=C[z];if(Y===void 0)throw new Error("No value provided for variable "+M);return typeof Y=="function"&&(Y=Y(C)),Y})}var Q=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function V(m,C){for(var M=0;M<m.length;M++)if(m[M]===C)return M;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function X(m){return window["webkit"+m]||window["moz"+m]||window["ms"+m]}var P=0;function K(m){var C=+new Date,M=Math.max(0,16-(C-P));return P=C+M,window.setTimeout(m,M)}var J=window.requestAnimationFrame||X("RequestAnimationFrame")||K,rt=window.cancelAnimationFrame||X("CancelAnimationFrame")||X("CancelRequestAnimationFrame")||function(m){window.clearTimeout(m)};function dt(m,C,M){if(M&&J===K)m.call(C);else return J.call(window,c(m,C))}function ht(m){m&&rt.call(window,m)}var ut={__proto__:null,extend:o,create:a,bind:c,get lastId(){return d},stamp:h,throttle:p,wrapNum:g,falseFn:w,formatNum:v,trim:k,splitWords:y,setOptions:x,getParamString:I,template:R,isArray:Q,indexOf:V,emptyImageUrl:W,requestFn:J,cancelFn:rt,requestAnimFrame:dt,cancelAnimFrame:ht};function mt(){}mt.extend=function(m){var C=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},M=C.__super__=this.prototype,z=a(M);z.constructor=C,C.prototype=z;for(var Y in this)Object.prototype.hasOwnProperty.call(this,Y)&&Y!=="prototype"&&Y!=="__super__"&&(C[Y]=this[Y]);return m.statics&&o(C,m.statics),m.includes&&(St(m.includes),o.apply(null,[z].concat(m.includes))),o(z,m),delete z.statics,delete z.includes,z.options&&(z.options=M.options?a(M.options):{},o(z.options,m.options)),z._initHooks=[],z.callInitHooks=function(){if(!this._initHooksCalled){M.callInitHooks&&M.callInitHooks.call(this),this._initHooksCalled=!0;for(var ct=0,Ct=z._initHooks.length;ct<Ct;ct++)z._initHooks[ct].call(this)}},C},mt.include=function(m){var C=this.prototype.options;return o(this.prototype,m),m.options&&(this.prototype.options=C,this.mergeOptions(m.options)),this},mt.mergeOptions=function(m){return o(this.prototype.options,m),this},mt.addInitHook=function(m){var C=Array.prototype.slice.call(arguments,1),M=typeof m=="function"?m:function(){this[m].apply(this,C)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(M),this};function St(m){if(!(typeof L>"u"||!L||!L.Mixin)){m=Q(m)?m:[m];for(var C=0;C<m.length;C++)m[C]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var vt={on:function(m,C,M){if(typeof m=="object")for(var z in m)this._on(z,m[z],C);else{m=y(m);for(var Y=0,ct=m.length;Y<ct;Y++)this._on(m[Y],C,M)}return this},off:function(m,C,M){if(!arguments.length)delete this._events;else if(typeof m=="object")for(var z in m)this._off(z,m[z],C);else{m=y(m);for(var Y=arguments.length===1,ct=0,Ct=m.length;ct<Ct;ct++)Y?this._off(m[ct]):this._off(m[ct],C,M)}return this},_on:function(m,C,M,z){if(typeof C!="function"){console.warn("wrong listener type: "+typeof C);return}if(this._listens(m,C,M)===!1){M===this&&(M=void 0);var Y={fn:C,ctx:M};z&&(Y.once=!0),this._events=this._events||{},this._events[m]=this._events[m]||[],this._events[m].push(Y)}},_off:function(m,C,M){var z,Y,ct;if(this._events&&(z=this._events[m],!!z)){if(arguments.length===1){if(this._firingCount)for(Y=0,ct=z.length;Y<ct;Y++)z[Y].fn=w;delete this._events[m];return}if(typeof C!="function"){console.warn("wrong listener type: "+typeof C);return}var Ct=this._listens(m,C,M);if(Ct!==!1){var Ot=z[Ct];this._firingCount&&(Ot.fn=w,this._events[m]=z=z.slice()),z.splice(Ct,1)}}},fire:function(m,C,M){if(!this.listens(m,M))return this;var z=o({},C,{type:m,target:this,sourceTarget:C&&C.sourceTarget||this});if(this._events){var Y=this._events[m];if(Y){this._firingCount=this._firingCount+1||1;for(var ct=0,Ct=Y.length;ct<Ct;ct++){var Ot=Y[ct],Qt=Ot.fn;Ot.once&&this.off(m,Qt,Ot.ctx),Qt.call(Ot.ctx||this,z)}this._firingCount--}}return M&&this._propagateEvent(z),this},listens:function(m,C,M,z){typeof m!="string"&&console.warn('"string" type argument expected');var Y=C;typeof C!="function"&&(z=!!C,Y=void 0,M=void 0);var ct=this._events&&this._events[m];if(ct&&ct.length&&this._listens(m,Y,M)!==!1)return!0;if(z){for(var Ct in this._eventParents)if(this._eventParents[Ct].listens(m,C,M,z))return!0}return!1},_listens:function(m,C,M){if(!this._events)return!1;var z=this._events[m]||[];if(!C)return!!z.length;M===this&&(M=void 0);for(var Y=0,ct=z.length;Y<ct;Y++)if(z[Y].fn===C&&z[Y].ctx===M)return Y;return!1},once:function(m,C,M){if(typeof m=="object")for(var z in m)this._on(z,m[z],C,!0);else{m=y(m);for(var Y=0,ct=m.length;Y<ct;Y++)this._on(m[Y],C,M,!0)}return this},addEventParent:function(m){return this._eventParents=this._eventParents||{},this._eventParents[h(m)]=m,this},removeEventParent:function(m){return this._eventParents&&delete this._eventParents[h(m)],this},_propagateEvent:function(m){for(var C in this._eventParents)this._eventParents[C].fire(m.type,o({layer:m.target,propagatedFrom:m.target},m),!0)}};vt.addEventListener=vt.on,vt.removeEventListener=vt.clearAllEventListeners=vt.off,vt.addOneTimeEventListener=vt.once,vt.fireEvent=vt.fire,vt.hasEventListeners=vt.listens;var pt=mt.extend(vt);function _t(m,C,M){this.x=M?Math.round(m):m,this.y=M?Math.round(C):C}var Dt=Math.trunc||function(m){return m>0?Math.floor(m):Math.ceil(m)};_t.prototype={clone:function(){return new _t(this.x,this.y)},add:function(m){return this.clone()._add(yt(m))},_add:function(m){return this.x+=m.x,this.y+=m.y,this},subtract:function(m){return this.clone()._subtract(yt(m))},_subtract:function(m){return this.x-=m.x,this.y-=m.y,this},divideBy:function(m){return this.clone()._divideBy(m)},_divideBy:function(m){return this.x/=m,this.y/=m,this},multiplyBy:function(m){return this.clone()._multiplyBy(m)},_multiplyBy:function(m){return this.x*=m,this.y*=m,this},scaleBy:function(m){return new _t(this.x*m.x,this.y*m.y)},unscaleBy:function(m){return new _t(this.x/m.x,this.y/m.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Dt(this.x),this.y=Dt(this.y),this},distanceTo:function(m){m=yt(m);var C=m.x-this.x,M=m.y-this.y;return Math.sqrt(C*C+M*M)},equals:function(m){return m=yt(m),m.x===this.x&&m.y===this.y},contains:function(m){return m=yt(m),Math.abs(m.x)<=Math.abs(this.x)&&Math.abs(m.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function yt(m,C,M){return m instanceof _t?m:Q(m)?new _t(m[0],m[1]):m==null?m:typeof m=="object"&&"x"in m&&"y"in m?new _t(m.x,m.y):new _t(m,C,M)}function se(m,C){if(m)for(var M=C?[m,C]:m,z=0,Y=M.length;z<Y;z++)this.extend(M[z])}se.prototype={extend:function(m){var C,M;if(!m)return this;if(m instanceof _t||typeof m[0]=="number"||"x"in m)C=M=yt(m);else if(m=oe(m),C=m.min,M=m.max,!C||!M)return this;return!this.min&&!this.max?(this.min=C.clone(),this.max=M.clone()):(this.min.x=Math.min(C.x,this.min.x),this.max.x=Math.max(M.x,this.max.x),this.min.y=Math.min(C.y,this.min.y),this.max.y=Math.max(M.y,this.max.y)),this},getCenter:function(m){return yt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,m)},getBottomLeft:function(){return yt(this.min.x,this.max.y)},getTopRight:function(){return yt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(m){var C,M;return typeof m[0]=="number"||m instanceof _t?m=yt(m):m=oe(m),m instanceof se?(C=m.min,M=m.max):C=M=m,C.x>=this.min.x&&M.x<=this.max.x&&C.y>=this.min.y&&M.y<=this.max.y},intersects:function(m){m=oe(m);var C=this.min,M=this.max,z=m.min,Y=m.max,ct=Y.x>=C.x&&z.x<=M.x,Ct=Y.y>=C.y&&z.y<=M.y;return ct&&Ct},overlaps:function(m){m=oe(m);var C=this.min,M=this.max,z=m.min,Y=m.max,ct=Y.x>C.x&&z.x<M.x,Ct=Y.y>C.y&&z.y<M.y;return ct&&Ct},isValid:function(){return!!(this.min&&this.max)},pad:function(m){var C=this.min,M=this.max,z=Math.abs(C.x-M.x)*m,Y=Math.abs(C.y-M.y)*m;return oe(yt(C.x-z,C.y-Y),yt(M.x+z,M.y+Y))},equals:function(m){return m?(m=oe(m),this.min.equals(m.getTopLeft())&&this.max.equals(m.getBottomRight())):!1}};function oe(m,C){return!m||m instanceof se?m:new se(m,C)}function ie(m,C){if(m)for(var M=C?[m,C]:m,z=0,Y=M.length;z<Y;z++)this.extend(M[z])}ie.prototype={extend:function(m){var C=this._southWest,M=this._northEast,z,Y;if(m instanceof Lt)z=m,Y=m;else if(m instanceof ie){if(z=m._southWest,Y=m._northEast,!z||!Y)return this}else return m?this.extend(Tt(m)||le(m)):this;return!C&&!M?(this._southWest=new Lt(z.lat,z.lng),this._northEast=new Lt(Y.lat,Y.lng)):(C.lat=Math.min(z.lat,C.lat),C.lng=Math.min(z.lng,C.lng),M.lat=Math.max(Y.lat,M.lat),M.lng=Math.max(Y.lng,M.lng)),this},pad:function(m){var C=this._southWest,M=this._northEast,z=Math.abs(C.lat-M.lat)*m,Y=Math.abs(C.lng-M.lng)*m;return new ie(new Lt(C.lat-z,C.lng-Y),new Lt(M.lat+z,M.lng+Y))},getCenter:function(){return new Lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(m){typeof m[0]=="number"||m instanceof Lt||"lat"in m?m=Tt(m):m=le(m);var C=this._southWest,M=this._northEast,z,Y;return m instanceof ie?(z=m.getSouthWest(),Y=m.getNorthEast()):z=Y=m,z.lat>=C.lat&&Y.lat<=M.lat&&z.lng>=C.lng&&Y.lng<=M.lng},intersects:function(m){m=le(m);var C=this._southWest,M=this._northEast,z=m.getSouthWest(),Y=m.getNorthEast(),ct=Y.lat>=C.lat&&z.lat<=M.lat,Ct=Y.lng>=C.lng&&z.lng<=M.lng;return ct&&Ct},overlaps:function(m){m=le(m);var C=this._southWest,M=this._northEast,z=m.getSouthWest(),Y=m.getNorthEast(),ct=Y.lat>C.lat&&z.lat<M.lat,Ct=Y.lng>C.lng&&z.lng<M.lng;return ct&&Ct},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(m,C){return m?(m=le(m),this._southWest.equals(m.getSouthWest(),C)&&this._northEast.equals(m.getNorthEast(),C)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(m,C){return m instanceof ie?m:new ie(m,C)}function Lt(m,C,M){if(isNaN(m)||isNaN(C))throw new Error("Invalid LatLng object: ("+m+", "+C+")");this.lat=+m,this.lng=+C,M!==void 0&&(this.alt=+M)}Lt.prototype={equals:function(m,C){if(!m)return!1;m=Tt(m);var M=Math.max(Math.abs(this.lat-m.lat),Math.abs(this.lng-m.lng));return M<=(C===void 0?1e-9:C)},toString:function(m){return"LatLng("+v(this.lat,m)+", "+v(this.lng,m)+")"},distanceTo:function(m){return jt.distance(this,Tt(m))},wrap:function(){return jt.wrapLatLng(this)},toBounds:function(m){var C=180*m/40075017,M=C/Math.cos(Math.PI/180*this.lat);return le([this.lat-C,this.lng-M],[this.lat+C,this.lng+M])},clone:function(){return new Lt(this.lat,this.lng,this.alt)}};function Tt(m,C,M){return m instanceof Lt?m:Q(m)&&typeof m[0]!="object"?m.length===3?new Lt(m[0],m[1],m[2]):m.length===2?new Lt(m[0],m[1]):null:m==null?m:typeof m=="object"&&"lat"in m?new Lt(m.lat,"lng"in m?m.lng:m.lon,m.alt):C===void 0?null:new Lt(m,C,M)}var Pt={latLngToPoint:function(m,C){var M=this.projection.project(m),z=this.scale(C);return this.transformation._transform(M,z)},pointToLatLng:function(m,C){var M=this.scale(C),z=this.transformation.untransform(m,M);return this.projection.unproject(z)},project:function(m){return this.projection.project(m)},unproject:function(m){return this.projection.unproject(m)},scale:function(m){return 256*Math.pow(2,m)},zoom:function(m){return Math.log(m/256)/Math.LN2},getProjectedBounds:function(m){if(this.infinite)return null;var C=this.projection.bounds,M=this.scale(m),z=this.transformation.transform(C.min,M),Y=this.transformation.transform(C.max,M);return new se(z,Y)},infinite:!1,wrapLatLng:function(m){var C=this.wrapLng?g(m.lng,this.wrapLng,!0):m.lng,M=this.wrapLat?g(m.lat,this.wrapLat,!0):m.lat,z=m.alt;return new Lt(M,C,z)},wrapLatLngBounds:function(m){var C=m.getCenter(),M=this.wrapLatLng(C),z=C.lat-M.lat,Y=C.lng-M.lng;if(z===0&&Y===0)return m;var ct=m.getSouthWest(),Ct=m.getNorthEast(),Ot=new Lt(ct.lat-z,ct.lng-Y),Qt=new Lt(Ct.lat-z,Ct.lng-Y);return new ie(Ot,Qt)}},jt=o({},Pt,{wrapLng:[-180,180],R:6371e3,distance:function(m,C){var M=Math.PI/180,z=m.lat*M,Y=C.lat*M,ct=Math.sin((C.lat-m.lat)*M/2),Ct=Math.sin((C.lng-m.lng)*M/2),Ot=ct*ct+Math.cos(z)*Math.cos(Y)*Ct*Ct,Qt=2*Math.atan2(Math.sqrt(Ot),Math.sqrt(1-Ot));return this.R*Qt}}),Ne=6378137,Ge={R:Ne,MAX_LATITUDE:85.0511287798,project:function(m){var C=Math.PI/180,M=this.MAX_LATITUDE,z=Math.max(Math.min(M,m.lat),-M),Y=Math.sin(z*C);return new _t(this.R*m.lng*C,this.R*Math.log((1+Y)/(1-Y))/2)},unproject:function(m){var C=180/Math.PI;return new Lt((2*Math.atan(Math.exp(m.y/this.R))-Math.PI/2)*C,m.x*C/this.R)},bounds:function(){var m=Ne*Math.PI;return new se([-m,-m],[m,m])}()};function hn(m,C,M,z){if(Q(m)){this._a=m[0],this._b=m[1],this._c=m[2],this._d=m[3];return}this._a=m,this._b=C,this._c=M,this._d=z}hn.prototype={transform:function(m,C){return this._transform(m.clone(),C)},_transform:function(m,C){return C=C||1,m.x=C*(this._a*m.x+this._b),m.y=C*(this._c*m.y+this._d),m},untransform:function(m,C){return C=C||1,new _t((m.x/C-this._b)/this._a,(m.y/C-this._d)/this._c)}};function Ye(m,C,M,z){return new hn(m,C,M,z)}var Se=o({},jt,{code:"EPSG:3857",projection:Ge,transformation:function(){var m=.5/(Math.PI*Ge.R);return Ye(m,.5,-m,.5)}()}),ae=o({},Se,{code:"EPSG:900913"});function rn(m){return document.createElementNS("http://www.w3.org/2000/svg",m)}function Rn(m,C){var M="",z,Y,ct,Ct,Ot,Qt;for(z=0,ct=m.length;z<ct;z++){for(Ot=m[z],Y=0,Ct=Ot.length;Y<Ct;Y++)Qt=Ot[Y],M+=(Y?"L":"M")+Qt.x+" "+Qt.y;M+=C?Te.svg?"z":"x":""}return M||"M0 0"}var Le=document.documentElement.style,Hn="ActiveXObject"in window,$s=Hn&&!document.addEventListener,rs="msLaunchUri"in navigator&&!("documentMode"in document),vs=Zs("webkit"),xn=Zs("android"),ti=Zs("android 2")||Zs("android 3"),os=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),fe=xn&&Zs("Google")&&os<537&&!("AudioNode"in window),vn=!!window.opera,Ii=!rs&&Zs("chrome"),Uo=Zs("gecko")&&!vs&&!vn&&!Hn,zr=!Ii&&Zs("safari"),Aa=Zs("phantom"),wr="OTransition"in Le,ua=navigator.platform.indexOf("Win")===0,go=Hn&&"transition"in Le,jr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ti,ha="MozPerspective"in Le,fa=!window.L_DISABLE_3D&&(go||jr||ha)&&!wr&&!Aa,_i=typeof orientation<"u"||Zs("mobile"),qs=_i&&vs,sA=_i&&jr,rA=!window.PointerEvent&&window.MSPointerEvent,Qo=!!(window.PointerEvent||rA),Vr="ontouchstart"in window||!!window.TouchEvent,oA=!window.L_NO_TOUCH&&(Vr||Qo),aA=_i&&vn,Ys=_i&&Uo,Ns=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lA=function(){var m=!1;try{var C=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassiveEventSupport",w,C),window.removeEventListener("testPassiveEventSupport",w,C)}catch{}return m}(),Xs=function(){return!!document.createElement("canvas").getContext}(),Ho=!!(document.createElementNS&&rn("svg").createSVGRect),mo=!!Ho&&function(){var m=document.createElement("div");return m.innerHTML="<svg/>",(m.firstChild&&m.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),zo=!Ho&&function(){try{var m=document.createElement("div");m.innerHTML='<v:shape adj="1"/>';var C=m.firstChild;return C.style.behavior="url(#default#VML)",C&&typeof C.adj=="object"}catch{return!1}}(),Ml=navigator.platform.indexOf("Mac")===0,cA=navigator.platform.indexOf("Linux")===0;function Zs(m){return navigator.userAgent.toLowerCase().indexOf(m)>=0}var Te={ie:Hn,ielt9:$s,edge:rs,webkit:vs,android:xn,android23:ti,androidStock:fe,opera:vn,chrome:Ii,gecko:Uo,safari:zr,phantom:Aa,opera12:wr,win:ua,ie3d:go,webkit3d:jr,gecko3d:ha,any3d:fa,mobile:_i,mobileWebkit:qs,mobileWebkit3d:sA,msPointer:rA,pointer:Qo,touch:oA,touchNative:Vr,mobileOpera:aA,mobileGecko:Ys,retina:Ns,passiveEvents:lA,canvas:Xs,svg:Ho,vml:zo,inlineSvg:mo,mac:Ml,linux:cA},id=Te.msPointer?"MSPointerDown":"pointerdown",vr=Te.msPointer?"MSPointerMove":"pointermove",jo=Te.msPointer?"MSPointerUp":"pointerup",Fu=Te.msPointer?"MSPointerCancel":"pointercancel",vc={touchstart:id,touchmove:vr,touchend:jo,touchcancel:Fu},dA={touchstart:Qa,touchmove:Rs,touchend:Rs,touchcancel:Rs},Ll={},Ki=!1;function Gi(m,C,M){return C==="touchstart"&&Pl(),dA[C]?(M=dA[C].bind(this,M),m.addEventListener(vc[C],M,!1),M):(console.warn("wrong event specified:",C),w)}function fs(m,C,M){if(!vc[C]){console.warn("wrong event specified:",C);return}m.removeEventListener(vc[C],M,!1)}function _s(m){Ll[m.pointerId]=m}function Wi(m){Ll[m.pointerId]&&(Ll[m.pointerId]=m)}function _r(m){delete Ll[m.pointerId]}function Pl(){Ki||(document.addEventListener(id,_s,!0),document.addEventListener(vr,Wi,!0),document.addEventListener(jo,_r,!0),document.addEventListener(Fu,_r,!0),Ki=!0)}function Rs(m,C){if(C.pointerType!==(C.MSPOINTER_TYPE_MOUSE||"mouse")){C.touches=[];for(var M in Ll)C.touches.push(Ll[M]);C.changedTouches=[C],m(C)}}function Qa(m,C){C.MSPOINTER_TYPE_TOUCH&&C.pointerType===C.MSPOINTER_TYPE_TOUCH&&Ri(C),Rs(m,C)}function AA(m){var C={},M,z;for(z in m)M=m[z],C[z]=M&&M.bind?M.bind(m):M;return m=C,C.type="dblclick",C.detail=2,C.isTrusted=!1,C._simulated=!0,C}var sd=200;function Ha(m,C){m.addEventListener("dblclick",C);var M=0,z;function Y(ct){if(ct.detail!==1){z=ct.detail;return}if(!(ct.pointerType==="mouse"||ct.sourceCapabilities&&!ct.sourceCapabilities.firesTouchEvents)){var Ct=fA(ct);if(!(Ct.some(function(Qt){return Qt instanceof HTMLLabelElement&&Qt.attributes.for})&&!Ct.some(function(Qt){return Qt instanceof HTMLInputElement||Qt instanceof HTMLSelectElement}))){var Ot=Date.now();Ot-M<=sd?(z++,z===2&&C(AA(ct))):z=1,M=Ot}}}return m.addEventListener("click",Y),{dblclick:C,simDblclick:Y}}function Ou(m,C){m.removeEventListener("dblclick",C.dblclick),m.removeEventListener("click",C.simDblclick)}var za=Fl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Js=Fl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ja=Js==="webkitTransition"||Js==="OTransition"?Js+"End":"transitionend";function pa(m){return typeof m=="string"?document.getElementById(m):m}function Va(m,C){var M=m.style[C]||m.currentStyle&&m.currentStyle[C];if((!M||M==="auto")&&document.defaultView){var z=document.defaultView.getComputedStyle(m,null);M=z?z[C]:null}return M==="auto"?null:M}function wn(m,C,M){var z=document.createElement(m);return z.className=C||"",M&&M.appendChild(z),z}function ei(m){var C=m.parentNode;C&&C.removeChild(m)}function $i(m){for(;m.firstChild;)m.removeChild(m.firstChild)}function kr(m){var C=m.parentNode;C&&C.lastChild!==m&&C.appendChild(m)}function bo(m){var C=m.parentNode;C&&C.firstChild!==m&&C.insertBefore(m,C.firstChild)}function rd(m,C){if(m.classList!==void 0)return m.classList.contains(C);var M=tr(m);return M.length>0&&new RegExp("(^|\\s)"+C+"(\\s|$)").test(M)}function Qe(m,C){if(m.classList!==void 0)for(var M=y(C),z=0,Y=M.length;z<Y;z++)m.classList.add(M[z]);else if(!rd(m,C)){var ct=tr(m);ps(m,(ct?ct+" ":"")+C)}}function Cn(m,C){m.classList!==void 0?m.classList.remove(C):ps(m,k((" "+tr(m)+" ").replace(" "+C+" "," ")))}function ps(m,C){m.className.baseVal===void 0?m.className=C:m.className.baseVal=C}function tr(m){return m.correspondingElement&&(m=m.correspondingElement),m.className.baseVal===void 0?m.className:m.className.baseVal}function zn(m,C){"opacity"in m.style?m.style.opacity=C:"filter"in m.style&&uA(m,C)}function uA(m,C){var M=!1,z="DXImageTransform.Microsoft.Alpha";try{M=m.filters.item(z)}catch{if(C===1)return}C=Math.round(C*100),M?(M.Enabled=C!==100,M.Opacity=C):m.style.filter+=" progid:"+z+"(opacity="+C+")"}function Fl(m){for(var C=document.documentElement.style,M=0;M<m.length;M++)if(m[M]in C)return m[M];return!1}function Xn(m,C,M){var z=C||new _t(0,0);m.style[za]=(Te.ie3d?"translate("+z.x+"px,"+z.y+"px)":"translate3d("+z.x+"px,"+z.y+"px,0)")+(M?" scale("+M+")":"")}function jn(m,C){m._leaflet_pos=C,Te.any3d?Xn(m,C):(m.style.left=C.x+"px",m.style.top=C.y+"px")}function Ni(m){return m._leaflet_pos||new _t(0,0)}var er,Ka,ks;if("onselectstart"in document)er=function(){He(window,"selectstart",Ri)},Ka=function(){In(window,"selectstart",Ri)};else{var Di=Fl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);er=function(){if(Di){var m=document.documentElement.style;ks=m[Di],m[Di]="none"}},Ka=function(){Di&&(document.documentElement.style[Di]=ks,ks=void 0)}}function Ga(){He(window,"dragstart",Ri)}function Wa(){In(window,"dragstart",Ri)}var qi,od;function Us(m){for(;m.tabIndex===-1;)m=m.parentNode;m.style&&(nr(),qi=m,od=m.style.outlineStyle,m.style.outlineStyle="none",He(window,"keydown",nr))}function nr(){qi&&(qi.style.outlineStyle=od,qi=void 0,od=void 0,In(window,"keydown",nr))}function ad(m){do m=m.parentNode;while((!m.offsetWidth||!m.offsetHeight)&&m!==document.body);return m}function ga(m){var C=m.getBoundingClientRect();return{x:C.width/m.offsetWidth||1,y:C.height/m.offsetHeight||1,boundingClientRect:C}}var _c={__proto__:null,TRANSFORM:za,TRANSITION:Js,TRANSITION_END:ja,get:pa,getStyle:Va,create:wn,remove:ei,empty:$i,toFront:kr,toBack:bo,hasClass:rd,addClass:Qe,removeClass:Cn,setClass:ps,getClass:tr,setOpacity:zn,testProp:Fl,setTransform:Xn,setPosition:jn,getPosition:Ni,get disableTextSelection(){return er},get enableTextSelection(){return Ka},disableImageDrag:Ga,enableImageDrag:Wa,preventOutline:Us,restoreOutline:nr,getSizedParentNode:ad,getScale:ga};function He(m,C,M,z){if(C&&typeof C=="object")for(var Y in C)ld(m,Y,C[Y],M);else{C=y(C);for(var ct=0,Ct=C.length;ct<Ct;ct++)ld(m,C[ct],M,z)}return this}var Kr="_leaflet_events";function In(m,C,M,z){if(arguments.length===1)hA(m),delete m[Kr];else if(C&&typeof C=="object")for(var Y in C)kc(m,Y,C[Y],M);else if(C=y(C),arguments.length===2)hA(m,function(Ot){return V(C,Ot)!==-1});else for(var ct=0,Ct=C.length;ct<Ct;ct++)kc(m,C[ct],M,z);return this}function hA(m,C){for(var M in m[Kr]){var z=M.split(/\d/)[0];(!C||C(z))&&kc(m,z,null,null,M)}}var Vo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ld(m,C,M,z){var Y=C+h(M)+(z?"_"+h(z):"");if(m[Kr]&&m[Kr][Y])return this;var ct=function(Ot){return M.call(z||m,Ot||window.event)},Ct=ct;!Te.touchNative&&Te.pointer&&C.indexOf("touch")===0?ct=Gi(m,C,ct):Te.touch&&C==="dblclick"?ct=Ha(m,ct):"addEventListener"in m?C==="touchstart"||C==="touchmove"||C==="wheel"||C==="mousewheel"?m.addEventListener(Vo[C]||C,ct,Te.passiveEvents?{passive:!1}:!1):C==="mouseenter"||C==="mouseleave"?(ct=function(Ot){Ot=Ot||window.event,Wo(m,Ot)&&Ct(Ot)},m.addEventListener(Vo[C],ct,!1)):m.addEventListener(C,Ct,!1):m.attachEvent("on"+C,ct),m[Kr]=m[Kr]||{},m[Kr][Y]=ct}function kc(m,C,M,z,Y){Y=Y||C+h(M)+(z?"_"+h(z):"");var ct=m[Kr]&&m[Kr][Y];if(!ct)return this;!Te.touchNative&&Te.pointer&&C.indexOf("touch")===0?fs(m,C,ct):Te.touch&&C==="dblclick"?Ou(m,ct):"removeEventListener"in m?m.removeEventListener(Vo[C]||C,ct,!1):m.detachEvent("on"+C,ct),m[Kr][Y]=null}function ir(m){return m.stopPropagation?m.stopPropagation():m.originalEvent?m.originalEvent._stopped=!0:m.cancelBubble=!0,this}function Ol(m){return ld(m,"wheel",ir),this}function Ko(m){return He(m,"mousedown touchstart dblclick contextmenu",ir),m._leaflet_disable_click=!0,this}function Ri(m){return m.preventDefault?m.preventDefault():m.returnValue=!1,this}function fn(m){return Ri(m),ir(m),this}function fA(m){if(m.composedPath)return m.composedPath();for(var C=[],M=m.target;M;)C.push(M),M=M.parentNode;return C}function $a(m,C){if(!C)return new _t(m.clientX,m.clientY);var M=ga(C),z=M.boundingClientRect;return new _t((m.clientX-z.left)/M.x-C.clientLeft,(m.clientY-z.top)/M.y-C.clientTop)}var yc=Te.linux&&Te.chrome?window.devicePixelRatio:Te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Go(m){return Te.edge?m.wheelDeltaY/2:m.deltaY&&m.deltaMode===0?-m.deltaY/yc:m.deltaY&&m.deltaMode===1?-m.deltaY*20:m.deltaY&&m.deltaMode===2?-m.deltaY*60:m.deltaX||m.deltaZ?0:m.wheelDelta?(m.wheelDeltaY||m.wheelDelta)/2:m.detail&&Math.abs(m.detail)<32765?-m.detail*20:m.detail?m.detail/-32765*60:0}function Wo(m,C){var M=C.relatedTarget;if(!M)return!0;try{for(;M&&M!==m;)M=M.parentNode}catch{return!1}return M!==m}var qa={__proto__:null,on:He,off:In,stopPropagation:ir,disableScrollPropagation:Ol,disableClickPropagation:Ko,preventDefault:Ri,stop:fn,getPropagationPath:fA,getMousePosition:$a,getWheelDelta:Go,isExternalTarget:Wo,addListener:He,removeListener:In},Ya=pt.extend({run:function(m,C,M,z){this.stop(),this._el=m,this._inProgress=!0,this._duration=M||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=Ni(m),this._offset=C.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=dt(this._animate,this),this._step()},_step:function(m){var C=+new Date-this._startTime,M=this._duration*1e3;C<M?this._runFrame(this._easeOut(C/M),m):(this._runFrame(1),this._complete())},_runFrame:function(m,C){var M=this._startPos.add(this._offset.multiplyBy(m));C&&M._round(),jn(this._el,M),this.fire("step")},_complete:function(){ht(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(m){return 1-Math.pow(1-m,this._easeOutPower)}}),ln=pt.extend({options:{crs:Se,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(m,C){C=x(this,C),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(m),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),C.maxBounds&&this.setMaxBounds(C.maxBounds),C.zoom!==void 0&&(this._zoom=this._limitZoom(C.zoom)),C.center&&C.zoom!==void 0&&this.setView(Tt(C.center),C.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Js&&Te.any3d&&!Te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),He(this._proxy,ja,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(m,C,M){if(C=C===void 0?this._zoom:this._limitZoom(C),m=this._limitCenter(Tt(m),C,this.options.maxBounds),M=M||{},this._stop(),this._loaded&&!M.reset&&M!==!0){M.animate!==void 0&&(M.zoom=o({animate:M.animate},M.zoom),M.pan=o({animate:M.animate,duration:M.duration},M.pan));var z=this._zoom!==C?this._tryAnimatedZoom&&this._tryAnimatedZoom(m,C,M.zoom):this._tryAnimatedPan(m,M.pan);if(z)return clearTimeout(this._sizeTimer),this}return this._resetView(m,C,M.pan&&M.pan.noMoveStart),this},setZoom:function(m,C){return this._loaded?this.setView(this.getCenter(),m,{zoom:C}):(this._zoom=m,this)},zoomIn:function(m,C){return m=m||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+m,C)},zoomOut:function(m,C){return m=m||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-m,C)},setZoomAround:function(m,C,M){var z=this.getZoomScale(C),Y=this.getSize().divideBy(2),ct=m instanceof _t?m:this.latLngToContainerPoint(m),Ct=ct.subtract(Y).multiplyBy(1-1/z),Ot=this.containerPointToLatLng(Y.add(Ct));return this.setView(Ot,C,{zoom:M})},_getBoundsCenterZoom:function(m,C){C=C||{},m=m.getBounds?m.getBounds():le(m);var M=yt(C.paddingTopLeft||C.padding||[0,0]),z=yt(C.paddingBottomRight||C.padding||[0,0]),Y=this.getBoundsZoom(m,!1,M.add(z));if(Y=typeof C.maxZoom=="number"?Math.min(C.maxZoom,Y):Y,Y===1/0)return{center:m.getCenter(),zoom:Y};var ct=z.subtract(M).divideBy(2),Ct=this.project(m.getSouthWest(),Y),Ot=this.project(m.getNorthEast(),Y),Qt=this.unproject(Ct.add(Ot).divideBy(2).add(ct),Y);return{center:Qt,zoom:Y}},fitBounds:function(m,C){if(m=le(m),!m.isValid())throw new Error("Bounds are not valid.");var M=this._getBoundsCenterZoom(m,C);return this.setView(M.center,M.zoom,C)},fitWorld:function(m){return this.fitBounds([[-90,-180],[90,180]],m)},panTo:function(m,C){return this.setView(m,this._zoom,{pan:C})},panBy:function(m,C){if(m=yt(m).round(),C=C||{},!m.x&&!m.y)return this.fire("moveend");if(C.animate!==!0&&!this.getSize().contains(m))return this._resetView(this.unproject(this.project(this.getCenter()).add(m)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ya,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),C.noMoveStart||this.fire("movestart"),C.animate!==!1){Qe(this._mapPane,"leaflet-pan-anim");var M=this._getMapPanePos().subtract(m).round();this._panAnim.run(this._mapPane,M,C.duration||.25,C.easeLinearity)}else this._rawPanBy(m),this.fire("move").fire("moveend");return this},flyTo:function(m,C,M){if(M=M||{},M.animate===!1||!Te.any3d)return this.setView(m,C,M);this._stop();var z=this.project(this.getCenter()),Y=this.project(m),ct=this.getSize(),Ct=this._zoom;m=Tt(m),C=C===void 0?Ct:C;var Ot=Math.max(ct.x,ct.y),Qt=Ot*this.getZoomScale(Ct,C),Xt=Y.distanceTo(z)||1,qt=1.42,Oe=qt*qt;function tn(Kn){var eo=Kn?-1:1,kf=Kn?Qt:Ot,yf=Qt*Qt-Ot*Ot+eo*Oe*Oe*Xt*Xt,Cf=2*kf*Oe*Xt,Ef=yf/Cf,xf=Math.sqrt(Ef*Ef+1)-Ef,Za=xf<1e-9?-18:Math.log(xf);return Za}function ls(Kn){return(Math.exp(Kn)-Math.exp(-Kn))/2}function cs(Kn){return(Math.exp(Kn)+Math.exp(-Kn))/2}function ds(Kn){return ls(Kn)/cs(Kn)}var Dn=tn(0);function Bc(Kn){return Ot*(cs(Dn)/cs(Dn+qt*Kn))}function xw(Kn){return Ot*(cs(Dn)*ds(Dn+qt*Kn)-ls(Dn))/Oe}function jg(Kn){return 1-Math.pow(1-Kn,1.5)}var Bw=Date.now(),Hs=(tn(1)-Dn)/qt,ai=M.duration?1e3*M.duration:1e3*Hs*.8;function to(){var Kn=(Date.now()-Bw)/ai,eo=jg(Kn)*Hs;Kn<=1?(this._flyToFrame=dt(to,this),this._move(this.unproject(z.add(Y.subtract(z).multiplyBy(xw(eo)/Xt)),Ct),this.getScaleZoom(Ot/Bc(eo),Ct),{flyTo:!0})):this._move(m,C)._moveEnd(!0)}return this._moveStart(!0,M.noMoveStart),to.call(this),this},flyToBounds:function(m,C){var M=this._getBoundsCenterZoom(m,C);return this.flyTo(M.center,M.zoom,C)},setMaxBounds:function(m){return m=le(m),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),m.isValid()?(this.options.maxBounds=m,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(m){var C=this.options.minZoom;return this.options.minZoom=m,this._loaded&&C!==m&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(m):this},setMaxZoom:function(m){var C=this.options.maxZoom;return this.options.maxZoom=m,this._loaded&&C!==m&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(m):this},panInsideBounds:function(m,C){this._enforcingBounds=!0;var M=this.getCenter(),z=this._limitCenter(M,this._zoom,le(m));return M.equals(z)||this.panTo(z,C),this._enforcingBounds=!1,this},panInside:function(m,C){C=C||{};var M=yt(C.paddingTopLeft||C.padding||[0,0]),z=yt(C.paddingBottomRight||C.padding||[0,0]),Y=this.project(this.getCenter()),ct=this.project(m),Ct=this.getPixelBounds(),Ot=oe([Ct.min.add(M),Ct.max.subtract(z)]),Qt=Ot.getSize();if(!Ot.contains(ct)){this._enforcingBounds=!0;var Xt=ct.subtract(Ot.getCenter()),qt=Ot.extend(ct).getSize().subtract(Qt);Y.x+=Xt.x<0?-qt.x:qt.x,Y.y+=Xt.y<0?-qt.y:qt.y,this.panTo(this.unproject(Y),C),this._enforcingBounds=!1}return this},invalidateSize:function(m){if(!this._loaded)return this;m=o({animate:!1,pan:!0},m===!0?{animate:!0}:m);var C=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var M=this.getSize(),z=C.divideBy(2).round(),Y=M.divideBy(2).round(),ct=z.subtract(Y);return!ct.x&&!ct.y?this:(m.animate&&m.pan?this.panBy(ct):(m.pan&&this._rawPanBy(ct),this.fire("move"),m.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:C,newSize:M}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(m){if(m=this._locateOptions=o({timeout:1e4,watch:!1},m),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var C=c(this._handleGeolocationResponse,this),M=c(this._handleGeolocationError,this);return m.watch?this._locationWatchId=navigator.geolocation.watchPosition(C,M,m):navigator.geolocation.getCurrentPosition(C,M,m),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(m){if(this._container._leaflet_id){var C=m.code,M=m.message||(C===1?"permission denied":C===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:C,message:"Geolocation error: "+M+"."})}},_handleGeolocationResponse:function(m){if(this._container._leaflet_id){var C=m.coords.latitude,M=m.coords.longitude,z=new Lt(C,M),Y=z.toBounds(m.coords.accuracy*2),ct=this._locateOptions;if(ct.setView){var Ct=this.getBoundsZoom(Y);this.setView(z,ct.maxZoom?Math.min(Ct,ct.maxZoom):Ct)}var Ot={latlng:z,bounds:Y,timestamp:m.timestamp};for(var Qt in m.coords)typeof m.coords[Qt]=="number"&&(Ot[Qt]=m.coords[Qt]);this.fire("locationfound",Ot)}},addHandler:function(m,C){if(!C)return this;var M=this[m]=new C(this);return this._handlers.push(M),this.options[m]&&M.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ei(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ht(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var m;for(m in this._layers)this._layers[m].remove();for(m in this._panes)ei(this._panes[m]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(m,C){var M="leaflet-pane"+(m?" leaflet-"+m.replace("Pane","")+"-pane":""),z=wn("div",M,C||this._mapPane);return m&&(this._panes[m]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var m=this.getPixelBounds(),C=this.unproject(m.getBottomLeft()),M=this.unproject(m.getTopRight());return new ie(C,M)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(m,C,M){m=le(m),M=yt(M||[0,0]);var z=this.getZoom()||0,Y=this.getMinZoom(),ct=this.getMaxZoom(),Ct=m.getNorthWest(),Ot=m.getSouthEast(),Qt=this.getSize().subtract(M),Xt=oe(this.project(Ot,z),this.project(Ct,z)).getSize(),qt=Te.any3d?this.options.zoomSnap:1,Oe=Qt.x/Xt.x,tn=Qt.y/Xt.y,ls=C?Math.max(Oe,tn):Math.min(Oe,tn);return z=this.getScaleZoom(ls,z),qt&&(z=Math.round(z/(qt/100))*(qt/100),z=C?Math.ceil(z/qt)*qt:Math.floor(z/qt)*qt),Math.max(Y,Math.min(ct,z))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _t(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(m,C){var M=this._getTopLeftPoint(m,C);return new se(M,M.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(m){return this.options.crs.getProjectedBounds(m===void 0?this.getZoom():m)},getPane:function(m){return typeof m=="string"?this._panes[m]:m},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(m,C){var M=this.options.crs;return C=C===void 0?this._zoom:C,M.scale(m)/M.scale(C)},getScaleZoom:function(m,C){var M=this.options.crs;C=C===void 0?this._zoom:C;var z=M.zoom(m*M.scale(C));return isNaN(z)?1/0:z},project:function(m,C){return C=C===void 0?this._zoom:C,this.options.crs.latLngToPoint(Tt(m),C)},unproject:function(m,C){return C=C===void 0?this._zoom:C,this.options.crs.pointToLatLng(yt(m),C)},layerPointToLatLng:function(m){var C=yt(m).add(this.getPixelOrigin());return this.unproject(C)},latLngToLayerPoint:function(m){var C=this.project(Tt(m))._round();return C._subtract(this.getPixelOrigin())},wrapLatLng:function(m){return this.options.crs.wrapLatLng(Tt(m))},wrapLatLngBounds:function(m){return this.options.crs.wrapLatLngBounds(le(m))},distance:function(m,C){return this.options.crs.distance(Tt(m),Tt(C))},containerPointToLayerPoint:function(m){return yt(m).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(m){return yt(m).add(this._getMapPanePos())},containerPointToLatLng:function(m){var C=this.containerPointToLayerPoint(yt(m));return this.layerPointToLatLng(C)},latLngToContainerPoint:function(m){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(m)))},mouseEventToContainerPoint:function(m){return $a(m,this._container)},mouseEventToLayerPoint:function(m){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(m))},mouseEventToLatLng:function(m){return this.layerPointToLatLng(this.mouseEventToLayerPoint(m))},_initContainer:function(m){var C=this._container=pa(m);if(C){if(C._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");He(C,"scroll",this._onScroll,this),this._containerId=h(C)},_initLayout:function(){var m=this._container;this._fadeAnimated=this.options.fadeAnimation&&Te.any3d,Qe(m,"leaflet-container"+(Te.touch?" leaflet-touch":"")+(Te.retina?" leaflet-retina":"")+(Te.ielt9?" leaflet-oldie":"")+(Te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var C=Va(m,"position");C!=="absolute"&&C!=="relative"&&C!=="fixed"&&C!=="sticky"&&(m.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var m=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jn(this._mapPane,new _t(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Qe(m.markerPane,"leaflet-zoom-hide"),Qe(m.shadowPane,"leaflet-zoom-hide"))},_resetView:function(m,C,M){jn(this._mapPane,new _t(0,0));var z=!this._loaded;this._loaded=!0,C=this._limitZoom(C),this.fire("viewprereset");var Y=this._zoom!==C;this._moveStart(Y,M)._move(m,C)._moveEnd(Y),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(m,C){return m&&this.fire("zoomstart"),C||this.fire("movestart"),this},_move:function(m,C,M,z){C===void 0&&(C=this._zoom);var Y=this._zoom!==C;return this._zoom=C,this._lastCenter=m,this._pixelOrigin=this._getNewPixelOrigin(m),z?M&&M.pinch&&this.fire("zoom",M):((Y||M&&M.pinch)&&this.fire("zoom",M),this.fire("move",M)),this},_moveEnd:function(m){return m&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ht(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(m){jn(this._mapPane,this._getMapPanePos().subtract(m))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(m){this._targets={},this._targets[h(this._container)]=this;var C=m?In:He;C(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&C(window,"resize",this._onResize,this),Te.any3d&&this.options.transform3DLimit&&(m?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ht(this._resizeRequest),this._resizeRequest=dt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var m=this._getMapPanePos();Math.max(Math.abs(m.x),Math.abs(m.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(m,C){for(var M=[],z,Y=C==="mouseout"||C==="mouseover",ct=m.target||m.srcElement,Ct=!1;ct;){if(z=this._targets[h(ct)],z&&(C==="click"||C==="preclick")&&this._draggableMoved(z)){Ct=!0;break}if(z&&z.listens(C,!0)&&(Y&&!Wo(ct,m)||(M.push(z),Y))||ct===this._container)break;ct=ct.parentNode}return!M.length&&!Ct&&!Y&&this.listens(C,!0)&&(M=[this]),M},_isClickDisabled:function(m){for(;m&&m!==this._container;){if(m._leaflet_disable_click)return!0;m=m.parentNode}},_handleDOMEvent:function(m){var C=m.target||m.srcElement;if(!(!this._loaded||C._leaflet_disable_events||m.type==="click"&&this._isClickDisabled(C))){var M=m.type;M==="mousedown"&&Us(C),this._fireDOMEvent(m,M)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(m,C,M){if(m.type==="click"){var z=o({},m);z.type="preclick",this._fireDOMEvent(z,z.type,M)}var Y=this._findEventTargets(m,C);if(M){for(var ct=[],Ct=0;Ct<M.length;Ct++)M[Ct].listens(C,!0)&&ct.push(M[Ct]);Y=ct.concat(Y)}if(Y.length){C==="contextmenu"&&Ri(m);var Ot=Y[0],Qt={originalEvent:m};if(m.type!=="keypress"&&m.type!=="keydown"&&m.type!=="keyup"){var Xt=Ot.getLatLng&&(!Ot._radius||Ot._radius<=10);Qt.containerPoint=Xt?this.latLngToContainerPoint(Ot.getLatLng()):this.mouseEventToContainerPoint(m),Qt.layerPoint=this.containerPointToLayerPoint(Qt.containerPoint),Qt.latlng=Xt?Ot.getLatLng():this.layerPointToLatLng(Qt.layerPoint)}for(Ct=0;Ct<Y.length;Ct++)if(Y[Ct].fire(C,Qt,!0),Qt.originalEvent._stopped||Y[Ct].options.bubblingMouseEvents===!1&&V(this._mouseEvents,C)!==-1)return}},_draggableMoved:function(m){return m=m.dragging&&m.dragging.enabled()?m:this,m.dragging&&m.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var m=0,C=this._handlers.length;m<C;m++)this._handlers[m].disable()},whenReady:function(m,C){return this._loaded?m.call(C||this,{target:this}):this.on("load",m,C),this},_getMapPanePos:function(){return Ni(this._mapPane)||new _t(0,0)},_moved:function(){var m=this._getMapPanePos();return m&&!m.equals([0,0])},_getTopLeftPoint:function(m,C){var M=m&&C!==void 0?this._getNewPixelOrigin(m,C):this.getPixelOrigin();return M.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(m,C){var M=this.getSize()._divideBy(2);return this.project(m,C)._subtract(M)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(m,C,M){var z=this._getNewPixelOrigin(M,C);return this.project(m,C)._subtract(z)},_latLngBoundsToNewLayerBounds:function(m,C,M){var z=this._getNewPixelOrigin(M,C);return oe([this.project(m.getSouthWest(),C)._subtract(z),this.project(m.getNorthWest(),C)._subtract(z),this.project(m.getSouthEast(),C)._subtract(z),this.project(m.getNorthEast(),C)._subtract(z)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(m){return this.latLngToLayerPoint(m).subtract(this._getCenterLayerPoint())},_limitCenter:function(m,C,M){if(!M)return m;var z=this.project(m,C),Y=this.getSize().divideBy(2),ct=new se(z.subtract(Y),z.add(Y)),Ct=this._getBoundsOffset(ct,M,C);return Math.abs(Ct.x)<=1&&Math.abs(Ct.y)<=1?m:this.unproject(z.add(Ct),C)},_limitOffset:function(m,C){if(!C)return m;var M=this.getPixelBounds(),z=new se(M.min.add(m),M.max.add(m));return m.add(this._getBoundsOffset(z,C))},_getBoundsOffset:function(m,C,M){var z=oe(this.project(C.getNorthEast(),M),this.project(C.getSouthWest(),M)),Y=z.min.subtract(m.min),ct=z.max.subtract(m.max),Ct=this._rebound(Y.x,-ct.x),Ot=this._rebound(Y.y,-ct.y);return new _t(Ct,Ot)},_rebound:function(m,C){return m+C>0?Math.round(m-C)/2:Math.max(0,Math.ceil(m))-Math.max(0,Math.floor(C))},_limitZoom:function(m){var C=this.getMinZoom(),M=this.getMaxZoom(),z=Te.any3d?this.options.zoomSnap:1;return z&&(m=Math.round(m/z)*z),Math.max(C,Math.min(M,m))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Cn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(m,C){var M=this._getCenterOffset(m)._trunc();return(C&&C.animate)!==!0&&!this.getSize().contains(M)?!1:(this.panBy(M,C),!0)},_createAnimProxy:function(){var m=this._proxy=wn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(m),this.on("zoomanim",function(C){var M=za,z=this._proxy.style[M];Xn(this._proxy,this.project(C.center,C.zoom),this.getZoomScale(C.zoom,1)),z===this._proxy.style[M]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ei(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var m=this.getCenter(),C=this.getZoom();Xn(this._proxy,this.project(m,C),this.getZoomScale(C,1))},_catchTransitionEnd:function(m){this._animatingZoom&&m.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(m,C,M){if(this._animatingZoom)return!0;if(M=M||{},!this._zoomAnimated||M.animate===!1||this._nothingToAnimate()||Math.abs(C-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(C),Y=this._getCenterOffset(m)._divideBy(1-1/z);return M.animate!==!0&&!this.getSize().contains(Y)?!1:(dt(function(){this._moveStart(!0,M.noMoveStart||!1)._animateZoom(m,C,!0)},this),!0)},_animateZoom:function(m,C,M,z){this._mapPane&&(M&&(this._animatingZoom=!0,this._animateToCenter=m,this._animateToZoom=C,Qe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:m,zoom:C,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Cn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nl(m,C){return new ln(m,C)}var Qs=mt.extend({options:{position:"topright"},initialize:function(m){x(this,m)},getPosition:function(){return this.options.position},setPosition:function(m){var C=this._map;return C&&C.removeControl(this),this.options.position=m,C&&C.addControl(this),this},getContainer:function(){return this._container},addTo:function(m){this.remove(),this._map=m;var C=this._container=this.onAdd(m),M=this.getPosition(),z=m._controlCorners[M];return Qe(C,"leaflet-control"),M.indexOf("bottom")!==-1?z.insertBefore(C,z.firstChild):z.appendChild(C),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ei(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(m){this._map&&m&&m.screenX>0&&m.screenY>0&&this._map.getContainer().focus()}}),yr=function(m){return new Qs(m)};ln.include({addControl:function(m){return m.addTo(this),this},removeControl:function(m){return m.remove(),this},_initControlPos:function(){var m=this._controlCorners={},C="leaflet-",M=this._controlContainer=wn("div",C+"control-container",this._container);function z(Y,ct){var Ct=C+Y+" "+C+ct;m[Y+ct]=wn("div",Ct,M)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var m in this._controlCorners)ei(this._controlCorners[m]);ei(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cd=Qs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(m,C,M,z){return M<z?-1:z<M?1:0}},initialize:function(m,C,M){x(this,M),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var z in m)this._addLayer(m[z],z);for(z in C)this._addLayer(C[z],z,!0)},onAdd:function(m){this._initLayout(),this._update(),this._map=m,m.on("zoomend",this._checkDisabledLayers,this);for(var C=0;C<this._layers.length;C++)this._layers[C].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(m){return Qs.prototype.addTo.call(this,m),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(m,C){return this._addLayer(m,C),this._map?this._update():this},addOverlay:function(m,C){return this._addLayer(m,C,!0),this._map?this._update():this},removeLayer:function(m){m.off("add remove",this._onLayerChange,this);var C=this._getLayer(h(m));return C&&this._layers.splice(this._layers.indexOf(C),1),this._map?this._update():this},expand:function(){Qe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var m=this._map.getSize().y-(this._container.offsetTop+50);return m<this._section.clientHeight?(Qe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=m+"px"):Cn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Cn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var m="leaflet-control-layers",C=this._container=wn("div",m),M=this.options.collapsed;C.setAttribute("aria-haspopup",!0),Ko(C),Ol(C);var z=this._section=wn("section",m+"-list");M&&(this._map.on("click",this.collapse,this),He(C,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Y=this._layersLink=wn("a",m+"-toggle",C);Y.href="#",Y.title="Layers",Y.setAttribute("role","button"),He(Y,{keydown:function(ct){ct.keyCode===13&&this._expandSafely()},click:function(ct){Ri(ct),this._expandSafely()}},this),M||this.expand(),this._baseLayersList=wn("div",m+"-base",z),this._separator=wn("div",m+"-separator",z),this._overlaysList=wn("div",m+"-overlays",z),C.appendChild(z)},_getLayer:function(m){for(var C=0;C<this._layers.length;C++)if(this._layers[C]&&h(this._layers[C].layer)===m)return this._layers[C]},_addLayer:function(m,C,M){this._map&&m.on("add remove",this._onLayerChange,this),this._layers.push({layer:m,name:C,overlay:M}),this.options.sortLayers&&this._layers.sort(c(function(z,Y){return this.options.sortFunction(z.layer,Y.layer,z.name,Y.name)},this)),this.options.autoZIndex&&m.setZIndex&&(this._lastZIndex++,m.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$i(this._baseLayersList),$i(this._overlaysList),this._layerControlInputs=[];var m,C,M,z,Y=0;for(M=0;M<this._layers.length;M++)z=this._layers[M],this._addItem(z),C=C||z.overlay,m=m||!z.overlay,Y+=z.overlay?0:1;return this.options.hideSingleBase&&(m=m&&Y>1,this._baseLayersList.style.display=m?"":"none"),this._separator.style.display=C&&m?"":"none",this},_onLayerChange:function(m){this._handlingClick||this._update();var C=this._getLayer(h(m.target)),M=C.overlay?m.type==="add"?"overlayadd":"overlayremove":m.type==="add"?"baselayerchange":null;M&&this._map.fire(M,C)},_createRadioElement:function(m,C){var M='<input type="radio" class="leaflet-control-layers-selector" name="'+m+'"'+(C?' checked="checked"':"")+"/>",z=document.createElement("div");return z.innerHTML=M,z.firstChild},_addItem:function(m){var C=document.createElement("label"),M=this._map.hasLayer(m.layer),z;m.overlay?(z=document.createElement("input"),z.type="checkbox",z.className="leaflet-control-layers-selector",z.defaultChecked=M):z=this._createRadioElement("leaflet-base-layers_"+h(this),M),this._layerControlInputs.push(z),z.layerId=h(m.layer),He(z,"click",this._onInputClick,this);var Y=document.createElement("span");Y.innerHTML=" "+m.name;var ct=document.createElement("span");C.appendChild(ct),ct.appendChild(z),ct.appendChild(Y);var Ct=m.overlay?this._overlaysList:this._baseLayersList;return Ct.appendChild(C),this._checkDisabledLayers(),C},_onInputClick:function(){if(!this._preventClick){var m=this._layerControlInputs,C,M,z=[],Y=[];this._handlingClick=!0;for(var ct=m.length-1;ct>=0;ct--)C=m[ct],M=this._getLayer(C.layerId).layer,C.checked?z.push(M):C.checked||Y.push(M);for(ct=0;ct<Y.length;ct++)this._map.hasLayer(Y[ct])&&this._map.removeLayer(Y[ct]);for(ct=0;ct<z.length;ct++)this._map.hasLayer(z[ct])||this._map.addLayer(z[ct]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var m=this._layerControlInputs,C,M,z=this._map.getZoom(),Y=m.length-1;Y>=0;Y--)C=m[Y],M=this._getLayer(C.layerId).layer,C.disabled=M.options.minZoom!==void 0&&z<M.options.minZoom||M.options.maxZoom!==void 0&&z>M.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var m=this._section;this._preventClick=!0,He(m,"click",Ri),this.expand();var C=this;setTimeout(function(){In(m,"click",Ri),C._preventClick=!1})}}),Nu=function(m,C,M){return new cd(m,C,M)},dd=Qs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(m){var C="leaflet-control-zoom",M=wn("div",C+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,C+"-in",M,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,C+"-out",M,this._zoomOut),this._updateDisabled(),m.on("zoomend zoomlevelschange",this._updateDisabled,this),M},onRemove:function(m){m.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(m){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(m.shiftKey?3:1))},_zoomOut:function(m){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(m.shiftKey?3:1))},_createButton:function(m,C,M,z,Y){var ct=wn("a",M,z);return ct.innerHTML=m,ct.href="#",ct.title=C,ct.setAttribute("role","button"),ct.setAttribute("aria-label",C),Ko(ct),He(ct,"click",fn),He(ct,"click",Y,this),He(ct,"click",this._refocusOnMap,this),ct},_updateDisabled:function(){var m=this._map,C="leaflet-disabled";Cn(this._zoomInButton,C),Cn(this._zoomOutButton,C),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||m._zoom===m.getMinZoom())&&(Qe(this._zoomOutButton,C),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||m._zoom===m.getMaxZoom())&&(Qe(this._zoomInButton,C),this._zoomInButton.setAttribute("aria-disabled","true"))}});ln.mergeOptions({zoomControl:!0}),ln.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dd,this.addControl(this.zoomControl))});var S=function(m){return new dd(m)},O=Qs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(m){var C="leaflet-control-scale",M=wn("div",C),z=this.options;return this._addScales(z,C+"-line",M),m.on(z.updateWhenIdle?"moveend":"move",this._update,this),m.whenReady(this._update,this),M},onRemove:function(m){m.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(m,C,M){m.metric&&(this._mScale=wn("div",C,M)),m.imperial&&(this._iScale=wn("div",C,M))},_update:function(){var m=this._map,C=m.getSize().y/2,M=m.distance(m.containerPointToLatLng([0,C]),m.containerPointToLatLng([this.options.maxWidth,C]));this._updateScales(M)},_updateScales:function(m){this.options.metric&&m&&this._updateMetric(m),this.options.imperial&&m&&this._updateImperial(m)},_updateMetric:function(m){var C=this._getRoundNum(m),M=C<1e3?C+" m":C/1e3+" km";this._updateScale(this._mScale,M,C/m)},_updateImperial:function(m){var C=m*3.2808399,M,z,Y;C>5280?(M=C/5280,z=this._getRoundNum(M),this._updateScale(this._iScale,z+" mi",z/M)):(Y=this._getRoundNum(C),this._updateScale(this._iScale,Y+" ft",Y/C))},_updateScale:function(m,C,M){m.style.width=Math.round(this.options.maxWidth*M)+"px",m.innerHTML=C},_getRoundNum:function(m){var C=Math.pow(10,(Math.floor(m)+"").length-1),M=m/C;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:1,C*M}}),j=function(m){return new O(m)},G='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',et=Qs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Te.inlineSvg?G+" ":"")+"Leaflet</a>"},initialize:function(m){x(this,m),this._attributions={}},onAdd:function(m){m.attributionControl=this,this._container=wn("div","leaflet-control-attribution"),Ko(this._container);for(var C in m._layers)m._layers[C].getAttribution&&this.addAttribution(m._layers[C].getAttribution());return this._update(),m.on("layeradd",this._addAttribution,this),this._container},onRemove:function(m){m.off("layeradd",this._addAttribution,this)},_addAttribution:function(m){m.layer.getAttribution&&(this.addAttribution(m.layer.getAttribution()),m.layer.once("remove",function(){this.removeAttribution(m.layer.getAttribution())},this))},setPrefix:function(m){return this.options.prefix=m,this._update(),this},addAttribution:function(m){return m?(this._attributions[m]||(this._attributions[m]=0),this._attributions[m]++,this._update(),this):this},removeAttribution:function(m){return m?(this._attributions[m]&&(this._attributions[m]--,this._update()),this):this},_update:function(){if(this._map){var m=[];for(var C in this._attributions)this._attributions[C]&&m.push(C);var M=[];this.options.prefix&&M.push(this.options.prefix),m.length&&M.push(m.join(", ")),this._container.innerHTML=M.join(' <span aria-hidden="true">|</span> ')}}});ln.mergeOptions({attributionControl:!0}),ln.addInitHook(function(){this.options.attributionControl&&new et().addTo(this)});var nt=function(m){return new et(m)};Qs.Layers=cd,Qs.Zoom=dd,Qs.Scale=O,Qs.Attribution=et,yr.layers=Nu,yr.zoom=S,yr.scale=j,yr.attribution=nt;var at=mt.extend({initialize:function(m){this._map=m},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});at.addTo=function(m,C){return m.addHandler(C,this),this};var kt={Events:vt},wt=Te.touch?"touchstart mousedown":"mousedown",Bt=pt.extend({options:{clickTolerance:3},initialize:function(m,C,M,z){x(this,z),this._element=m,this._dragStartTarget=C||m,this._preventOutline=M},enable:function(){this._enabled||(He(this._dragStartTarget,wt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Bt._dragging===this&&this.finishDrag(!0),In(this._dragStartTarget,wt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(m){if(this._enabled&&(this._moved=!1,!rd(this._element,"leaflet-zoom-anim"))){if(m.touches&&m.touches.length!==1){Bt._dragging===this&&this.finishDrag();return}if(!(Bt._dragging||m.shiftKey||m.which!==1&&m.button!==1&&!m.touches)&&(Bt._dragging=this,this._preventOutline&&Us(this._element),Ga(),er(),!this._moving)){this.fire("down");var C=m.touches?m.touches[0]:m,M=ad(this._element);this._startPoint=new _t(C.clientX,C.clientY),this._startPos=Ni(this._element),this._parentScale=ga(M);var z=m.type==="mousedown";He(document,z?"mousemove":"touchmove",this._onMove,this),He(document,z?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(m){if(this._enabled){if(m.touches&&m.touches.length>1){this._moved=!0;return}var C=m.touches&&m.touches.length===1?m.touches[0]:m,M=new _t(C.clientX,C.clientY)._subtract(this._startPoint);!M.x&&!M.y||Math.abs(M.x)+Math.abs(M.y)<this.options.clickTolerance||(M.x/=this._parentScale.x,M.y/=this._parentScale.y,Ri(m),this._moved||(this.fire("dragstart"),this._moved=!0,Qe(document.body,"leaflet-dragging"),this._lastTarget=m.target||m.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Qe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(M),this._moving=!0,this._lastEvent=m,this._updatePosition())}},_updatePosition:function(){var m={originalEvent:this._lastEvent};this.fire("predrag",m),jn(this._element,this._newPos),this.fire("drag",m)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(m){Cn(document.body,"leaflet-dragging"),this._lastTarget&&(Cn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),In(document,"mousemove touchmove",this._onMove,this),In(document,"mouseup touchend touchcancel",this._onUp,this),Wa(),Ka();var C=this._moved&&this._moving;this._moving=!1,Bt._dragging=!1,C&&this.fire("dragend",{noInertia:m,distance:this._newPos.distanceTo(this._startPos)})}});function Ht(m,C,M){var z,Y=[1,4,2,8],ct,Ct,Ot,Qt,Xt,qt,Oe,tn;for(ct=0,qt=m.length;ct<qt;ct++)m[ct]._code=nn(m[ct],C);for(Ot=0;Ot<4;Ot++){for(Oe=Y[Ot],z=[],ct=0,qt=m.length,Ct=qt-1;ct<qt;Ct=ct++)Qt=m[ct],Xt=m[Ct],Qt._code&Oe?Xt._code&Oe||(tn=Wr(Xt,Qt,Oe,C,M),tn._code=nn(tn,C),z.push(tn)):(Xt._code&Oe&&(tn=Wr(Xt,Qt,Oe,C,M),tn._code=nn(tn,C),z.push(tn)),z.push(Qt));m=z}return m}function $t(m,C){var M,z,Y,ct,Ct,Ot,Qt,Xt,qt;if(!m||m.length===0)throw new Error("latlngs not passed");Ui(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var Oe=Tt([0,0]),tn=le(m),ls=tn.getNorthWest().distanceTo(tn.getSouthWest())*tn.getNorthEast().distanceTo(tn.getNorthWest());ls<1700&&(Oe=Rt(m));var cs=m.length,ds=[];for(M=0;M<cs;M++){var Dn=Tt(m[M]);ds.push(C.project(Tt([Dn.lat-Oe.lat,Dn.lng-Oe.lng])))}for(Ot=Qt=Xt=0,M=0,z=cs-1;M<cs;z=M++)Y=ds[M],ct=ds[z],Ct=Y.y*ct.x-ct.y*Y.x,Qt+=(Y.x+ct.x)*Ct,Xt+=(Y.y+ct.y)*Ct,Ot+=Ct*3;Ot===0?qt=ds[0]:qt=[Qt/Ot,Xt/Ot];var Bc=C.unproject(yt(qt));return Tt([Bc.lat+Oe.lat,Bc.lng+Oe.lng])}function Rt(m){for(var C=0,M=0,z=0,Y=0;Y<m.length;Y++){var ct=Tt(m[Y]);C+=ct.lat,M+=ct.lng,z++}return Tt([C/z,M/z])}var te={__proto__:null,clipPolygon:Ht,polygonCenter:$t,centroid:Rt};function Pe(m,C){if(!C||!m.length)return m.slice();var M=C*C;return m=Cr(m,M),m=as(m,M),m}function Je(m,C,M){return Math.sqrt($r(m,C,M,!0))}function We(m,C,M){return $r(m,C,M)}function as(m,C){var M=m.length,z=typeof Uint8Array<"u"?Uint8Array:Array,Y=new z(M);Y[0]=Y[M-1]=1,hi(m,Y,C,0,M-1);var ct,Ct=[];for(ct=0;ct<M;ct++)Y[ct]&&Ct.push(m[ct]);return Ct}function hi(m,C,M,z,Y){var ct=0,Ct,Ot,Qt;for(Ot=z+1;Ot<=Y-1;Ot++)Qt=$r(m[Ot],m[z],m[Y],!0),Qt>ct&&(Ct=Ot,ct=Qt);ct>M&&(C[Ct]=1,hi(m,C,M,z,Ct),hi(m,C,M,Ct,Y))}function Cr(m,C){for(var M=[m[0]],z=1,Y=0,ct=m.length;z<ct;z++)oi(m[z],m[Y])>C&&(M.push(m[z]),Y=z);return Y<ct-1&&M.push(m[ct-1]),M}var Gr;function cn(m,C,M,z,Y){var ct=z?Gr:nn(m,M),Ct=nn(C,M),Ot,Qt,Xt;for(Gr=Ct;;){if(!(ct|Ct))return[m,C];if(ct&Ct)return!1;Ot=ct||Ct,Qt=Wr(m,C,Ot,M,Y),Xt=nn(Qt,M),Ot===ct?(m=Qt,ct=Xt):(C=Qt,Ct=Xt)}}function Wr(m,C,M,z,Y){var ct=C.x-m.x,Ct=C.y-m.y,Ot=z.min,Qt=z.max,Xt,qt;return M&8?(Xt=m.x+ct*(Qt.y-m.y)/Ct,qt=Qt.y):M&4?(Xt=m.x+ct*(Ot.y-m.y)/Ct,qt=Ot.y):M&2?(Xt=Qt.x,qt=m.y+Ct*(Qt.x-m.x)/ct):M&1&&(Xt=Ot.x,qt=m.y+Ct*(Ot.x-m.x)/ct),new _t(Xt,qt,Y)}function nn(m,C){var M=0;return m.x<C.min.x?M|=1:m.x>C.max.x&&(M|=2),m.y<C.min.y?M|=4:m.y>C.max.y&&(M|=8),M}function oi(m,C){var M=C.x-m.x,z=C.y-m.y;return M*M+z*z}function $r(m,C,M,z){var Y=C.x,ct=C.y,Ct=M.x-Y,Ot=M.y-ct,Qt=Ct*Ct+Ot*Ot,Xt;return Qt>0&&(Xt=((m.x-Y)*Ct+(m.y-ct)*Ot)/Qt,Xt>1?(Y=M.x,ct=M.y):Xt>0&&(Y+=Ct*Xt,ct+=Ot*Xt)),Ct=m.x-Y,Ot=m.y-ct,z?Ct*Ct+Ot*Ot:new _t(Y,ct)}function Ui(m){return!Q(m[0])||typeof m[0][0]!="object"&&typeof m[0][0]<"u"}function Qi(m){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ui(m)}function ma(m,C){var M,z,Y,ct,Ct,Ot,Qt,Xt;if(!m||m.length===0)throw new Error("latlngs not passed");Ui(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var qt=Tt([0,0]),Oe=le(m),tn=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());tn<1700&&(qt=Rt(m));var ls=m.length,cs=[];for(M=0;M<ls;M++){var ds=Tt(m[M]);cs.push(C.project(Tt([ds.lat-qt.lat,ds.lng-qt.lng])))}for(M=0,z=0;M<ls-1;M++)z+=cs[M].distanceTo(cs[M+1])/2;if(z===0)Xt=cs[0];else for(M=0,ct=0;M<ls-1;M++)if(Ct=cs[M],Ot=cs[M+1],Y=Ct.distanceTo(Ot),ct+=Y,ct>z){Qt=(ct-z)/Y,Xt=[Ot.x-Qt*(Ot.x-Ct.x),Ot.y-Qt*(Ot.y-Ct.y)];break}var Dn=C.unproject(yt(Xt));return Tt([Dn.lat+qt.lat,Dn.lng+qt.lng])}var ys={__proto__:null,simplify:Pe,pointToSegmentDistance:Je,closestPointOnSegment:We,clipSegment:cn,_getEdgeIntersection:Wr,_getBitCode:nn,_sqClosestPointOnSegment:$r,isFlat:Ui,_flat:Qi,polylineCenter:ma},Er={project:function(m){return new _t(m.lng,m.lat)},unproject:function(m){return new Lt(m.y,m.x)},bounds:new se([-180,-90],[180,90])},qr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new se([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(m){var C=Math.PI/180,M=this.R,z=m.lat*C,Y=this.R_MINOR/M,ct=Math.sqrt(1-Y*Y),Ct=ct*Math.sin(z),Ot=Math.tan(Math.PI/4-z/2)/Math.pow((1-Ct)/(1+Ct),ct/2);return z=-M*Math.log(Math.max(Ot,1e-10)),new _t(m.lng*C*M,z)},unproject:function(m){for(var C=180/Math.PI,M=this.R,z=this.R_MINOR/M,Y=Math.sqrt(1-z*z),ct=Math.exp(-m.y/M),Ct=Math.PI/2-2*Math.atan(ct),Ot=0,Qt=.1,Xt;Ot<15&&Math.abs(Qt)>1e-7;Ot++)Xt=Y*Math.sin(Ct),Xt=Math.pow((1-Xt)/(1+Xt),Y/2),Qt=Math.PI/2-2*Math.atan(ct*Xt)-Ct,Ct+=Qt;return new Lt(Ct*C,m.x*C/M)}},sr={__proto__:null,LonLat:Er,Mercator:qr,SphericalMercator:Ge},Ad=o({},jt,{code:"EPSG:3395",projection:qr,transformation:function(){var m=.5/(Math.PI*qr.R);return Ye(m,.5,-m,.5)}()}),Yr=o({},jt,{code:"EPSG:4326",projection:Er,transformation:Ye(1/180,1,-1/180,.5)}),wo=o({},Pt,{projection:Er,transformation:Ye(1,0,-1,0),scale:function(m){return Math.pow(2,m)},zoom:function(m){return Math.log(m)/Math.LN2},distance:function(m,C){var M=C.lng-m.lng,z=C.lat-m.lat;return Math.sqrt(M*M+z*z)},infinite:!0});Pt.Earth=jt,Pt.EPSG3395=Ad,Pt.EPSG3857=Se,Pt.EPSG900913=ae,Pt.EPSG4326=Yr,Pt.Simple=wo;var Xr=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(m){return m.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(m){return m&&m.removeLayer(this),this},getPane:function(m){return this._map.getPane(m?this.options[m]||m:this.options.pane)},addInteractiveTarget:function(m){return this._map._targets[h(m)]=this,this},removeInteractiveTarget:function(m){return delete this._map._targets[h(m)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(m){var C=m.target;if(C.hasLayer(this)){if(this._map=C,this._zoomAnimated=C._zoomAnimated,this.getEvents){var M=this.getEvents();C.on(M,this),this.once("remove",function(){C.off(M,this)},this)}this.onAdd(C),this.fire("add"),C.fire("layeradd",{layer:this})}}});ln.include({addLayer:function(m){if(!m._layerAdd)throw new Error("The provided object is not a Layer.");var C=h(m);return this._layers[C]?this:(this._layers[C]=m,m._mapToAdd=this,m.beforeAdd&&m.beforeAdd(this),this.whenReady(m._layerAdd,m),this)},removeLayer:function(m){var C=h(m);return this._layers[C]?(this._loaded&&m.onRemove(this),delete this._layers[C],this._loaded&&(this.fire("layerremove",{layer:m}),m.fire("remove")),m._map=m._mapToAdd=null,this):this},hasLayer:function(m){return h(m)in this._layers},eachLayer:function(m,C){for(var M in this._layers)m.call(C,this._layers[M]);return this},_addLayers:function(m){m=m?Q(m)?m:[m]:[];for(var C=0,M=m.length;C<M;C++)this.addLayer(m[C])},_addZoomLimit:function(m){(!isNaN(m.options.maxZoom)||!isNaN(m.options.minZoom))&&(this._zoomBoundLayers[h(m)]=m,this._updateZoomLevels())},_removeZoomLimit:function(m){var C=h(m);this._zoomBoundLayers[C]&&(delete this._zoomBoundLayers[C],this._updateZoomLevels())},_updateZoomLevels:function(){var m=1/0,C=-1/0,M=this._getZoomSpan();for(var z in this._zoomBoundLayers){var Y=this._zoomBoundLayers[z].options;m=Y.minZoom===void 0?m:Math.min(m,Y.minZoom),C=Y.maxZoom===void 0?C:Math.max(C,Y.maxZoom)}this._layersMaxZoom=C===-1/0?void 0:C,this._layersMinZoom=m===1/0?void 0:m,M!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rl=Xr.extend({initialize:function(m,C){x(this,C),this._layers={};var M,z;if(m)for(M=0,z=m.length;M<z;M++)this.addLayer(m[M])},addLayer:function(m){var C=this.getLayerId(m);return this._layers[C]=m,this._map&&this._map.addLayer(m),this},removeLayer:function(m){var C=m in this._layers?m:this.getLayerId(m);return this._map&&this._layers[C]&&this._map.removeLayer(this._layers[C]),delete this._layers[C],this},hasLayer:function(m){var C=typeof m=="number"?m:this.getLayerId(m);return C in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(m){var C=Array.prototype.slice.call(arguments,1),M,z;for(M in this._layers)z=this._layers[M],z[m]&&z[m].apply(z,C);return this},onAdd:function(m){this.eachLayer(m.addLayer,m)},onRemove:function(m){this.eachLayer(m.removeLayer,m)},eachLayer:function(m,C){for(var M in this._layers)m.call(C,this._layers[M]);return this},getLayer:function(m){return this._layers[m]},getLayers:function(){var m=[];return this.eachLayer(m.push,m),m},setZIndex:function(m){return this.invoke("setZIndex",m)},getLayerId:function(m){return h(m)}}),Zr=function(m,C){return new Rl(m,C)},dn=Rl.extend({addLayer:function(m){return this.hasLayer(m)?this:(m.addEventParent(this),Rl.prototype.addLayer.call(this,m),this.fire("layeradd",{layer:m}))},removeLayer:function(m){return this.hasLayer(m)?(m in this._layers&&(m=this._layers[m]),m.removeEventParent(this),Rl.prototype.removeLayer.call(this,m),this.fire("layerremove",{layer:m})):this},setStyle:function(m){return this.invoke("setStyle",m)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var m=new ie;for(var C in this._layers){var M=this._layers[C];m.extend(M.getBounds?M.getBounds():M.getLatLng())}return m}}),Cc=function(m,C){return new dn(m,C)},fi=mt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(m){x(this,m)},createIcon:function(m){return this._createIcon("icon",m)},createShadow:function(m){return this._createIcon("shadow",m)},_createIcon:function(m,C){var M=this._getIconUrl(m);if(!M){if(m==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var z=this._createImg(M,C&&C.tagName==="IMG"?C:null);return this._setIconStyles(z,m),(this.options.crossOrigin||this.options.crossOrigin==="")&&(z.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),z},_setIconStyles:function(m,C){var M=this.options,z=M[C+"Size"];typeof z=="number"&&(z=[z,z]);var Y=yt(z),ct=yt(C==="shadow"&&M.shadowAnchor||M.iconAnchor||Y&&Y.divideBy(2,!0));m.className="leaflet-marker-"+C+" "+(M.className||""),ct&&(m.style.marginLeft=-ct.x+"px",m.style.marginTop=-ct.y+"px"),Y&&(m.style.width=Y.x+"px",m.style.height=Y.y+"px")},_createImg:function(m,C){return C=C||document.createElement("img"),C.src=m,C},_getIconUrl:function(m){return Te.retina&&this.options[m+"RetinaUrl"]||this.options[m+"Url"]}});function vo(m){return new fi(m)}var Ec=fi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(m){return typeof Ec.imagePath!="string"&&(Ec.imagePath=this._detectIconPath()),(this.options.imagePath||Ec.imagePath)+fi.prototype._getIconUrl.call(this,m)},_stripUrl:function(m){var C=function(M,z,Y){var ct=z.exec(M);return ct&&ct[Y]};return m=C(m,/^url\((['"])?(.+)\1\)$/,2),m&&C(m,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var m=wn("div","leaflet-default-icon-path",document.body),C=Va(m,"background-image")||Va(m,"backgroundImage");if(document.body.removeChild(m),C=this._stripUrl(C),C)return C;var M=document.querySelector('link[href$="leaflet.css"]');return M?M.href.substring(0,M.href.length-11-1):""}}),pA=at.extend({initialize:function(m){this._marker=m},addHooks:function(){var m=this._marker._icon;this._draggable||(this._draggable=new Bt(m,m,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Qe(m,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Cn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(m){var C=this._marker,M=C._map,z=this._marker.options.autoPanSpeed,Y=this._marker.options.autoPanPadding,ct=Ni(C._icon),Ct=M.getPixelBounds(),Ot=M.getPixelOrigin(),Qt=oe(Ct.min._subtract(Ot).add(Y),Ct.max._subtract(Ot).subtract(Y));if(!Qt.contains(ct)){var Xt=yt((Math.max(Qt.max.x,ct.x)-Qt.max.x)/(Ct.max.x-Qt.max.x)-(Math.min(Qt.min.x,ct.x)-Qt.min.x)/(Ct.min.x-Qt.min.x),(Math.max(Qt.max.y,ct.y)-Qt.max.y)/(Ct.max.y-Qt.max.y)-(Math.min(Qt.min.y,ct.y)-Qt.min.y)/(Ct.min.y-Qt.min.y)).multiplyBy(z);M.panBy(Xt,{animate:!1}),this._draggable._newPos._add(Xt),this._draggable._startPos._add(Xt),jn(C._icon,this._draggable._newPos),this._onDrag(m),this._panRequest=dt(this._adjustPan.bind(this,m))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(m){this._marker.options.autoPan&&(ht(this._panRequest),this._panRequest=dt(this._adjustPan.bind(this,m)))},_onDrag:function(m){var C=this._marker,M=C._shadow,z=Ni(C._icon),Y=C._map.layerPointToLatLng(z);M&&jn(M,z),C._latlng=Y,m.latlng=Y,m.oldLatLng=this._oldLatLng,C.fire("move",m).fire("drag",m)},_onDragEnd:function(m){ht(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",m)}}),Jr=Xr.extend({options:{icon:new Ec,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(m,C){x(this,C),this._latlng=Tt(m)},onAdd:function(m){this._zoomAnimated=this._zoomAnimated&&m.options.markerZoomAnimation,this._zoomAnimated&&m.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(m){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&m.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(m){var C=this._latlng;return this._latlng=Tt(m),this.update(),this.fire("move",{oldLatLng:C,latlng:this._latlng})},setZIndexOffset:function(m){return this.options.zIndexOffset=m,this.update()},getIcon:function(){return this.options.icon},setIcon:function(m){return this.options.icon=m,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var m=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(m)}return this},_initIcon:function(){var m=this.options,C="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),M=m.icon.createIcon(this._icon),z=!1;M!==this._icon&&(this._icon&&this._removeIcon(),z=!0,m.title&&(M.title=m.title),M.tagName==="IMG"&&(M.alt=m.alt||"")),Qe(M,C),m.keyboard&&(M.tabIndex="0",M.setAttribute("role","button")),this._icon=M,m.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&He(M,"focus",this._panOnFocus,this);var Y=m.icon.createShadow(this._shadow),ct=!1;Y!==this._shadow&&(this._removeShadow(),ct=!0),Y&&(Qe(Y,C),Y.alt=""),this._shadow=Y,m.opacity<1&&this._updateOpacity(),z&&this.getPane().appendChild(this._icon),this._initInteraction(),Y&&ct&&this.getPane(m.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&In(this._icon,"focus",this._panOnFocus,this),ei(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ei(this._shadow),this._shadow=null},_setPos:function(m){this._icon&&jn(this._icon,m),this._shadow&&jn(this._shadow,m),this._zIndex=m.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(m){this._icon&&(this._icon.style.zIndex=this._zIndex+m)},_animateZoom:function(m){var C=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center).round();this._setPos(C)},_initInteraction:function(){if(this.options.interactive&&(Qe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pA)){var m=this.options.draggable;this.dragging&&(m=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pA(this),m&&this.dragging.enable()}},setOpacity:function(m){return this.options.opacity=m,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var m=this.options.opacity;this._icon&&zn(this._icon,m),this._shadow&&zn(this._shadow,m)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var m=this._map;if(m){var C=this.options.icon.options,M=C.iconSize?yt(C.iconSize):yt(0,0),z=C.iconAnchor?yt(C.iconAnchor):yt(0,0);m.panInside(this._latlng,{paddingTopLeft:z,paddingBottomRight:M.subtract(z)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $o(m,C){return new Jr(m,C)}var _o=Xr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(m){this._renderer=m.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(m){return x(this,m),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&m&&Object.prototype.hasOwnProperty.call(m,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xr=_o.extend({options:{fill:!0,radius:10},initialize:function(m,C){x(this,C),this._latlng=Tt(m),this._radius=this.options.radius},setLatLng:function(m){var C=this._latlng;return this._latlng=Tt(m),this.redraw(),this.fire("move",{oldLatLng:C,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(m){return this.options.radius=this._radius=m,this.redraw()},getRadius:function(){return this._radius},setStyle:function(m){var C=m&&m.radius||this._radius;return _o.prototype.setStyle.call(this,m),this.setRadius(C),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var m=this._radius,C=this._radiusY||m,M=this._clickTolerance(),z=[m+M,C+M];this._pxBounds=new se(this._point.subtract(z),this._point.add(z))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(m){return m.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ru(m,C){return new xr(m,C)}var ba=xr.extend({initialize:function(m,C,M){if(typeof C=="number"&&(C=o({},M,{radius:C})),x(this,C),this._latlng=Tt(m),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(m){return this._mRadius=m,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var m=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(m)),this._map.layerPointToLatLng(this._point.add(m)))},setStyle:_o.prototype.setStyle,_project:function(){var m=this._latlng.lng,C=this._latlng.lat,M=this._map,z=M.options.crs;if(z.distance===jt.distance){var Y=Math.PI/180,ct=this._mRadius/jt.R/Y,Ct=M.project([C+ct,m]),Ot=M.project([C-ct,m]),Qt=Ct.add(Ot).divideBy(2),Xt=M.unproject(Qt).lat,qt=Math.acos((Math.cos(ct*Y)-Math.sin(C*Y)*Math.sin(Xt*Y))/(Math.cos(C*Y)*Math.cos(Xt*Y)))/Y;(isNaN(qt)||qt===0)&&(qt=ct/Math.cos(Math.PI/180*C)),this._point=Qt.subtract(M.getPixelOrigin()),this._radius=isNaN(qt)?0:Qt.x-M.project([Xt,m-qt]).x,this._radiusY=Qt.y-Ct.y}else{var Oe=z.unproject(z.project(this._latlng).subtract([this._mRadius,0]));this._point=M.latLngToLayerPoint(this._latlng),this._radius=this._point.x-M.latLngToLayerPoint(Oe).x}this._updateBounds()}});function Ul(m,C,M){return new ba(m,C,M)}var rr=_o.extend({options:{smoothFactor:1,noClip:!1},initialize:function(m,C){x(this,C),this._setLatLngs(m)},getLatLngs:function(){return this._latlngs},setLatLngs:function(m){return this._setLatLngs(m),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(m){for(var C=1/0,M=null,z=$r,Y,ct,Ct=0,Ot=this._parts.length;Ct<Ot;Ct++)for(var Qt=this._parts[Ct],Xt=1,qt=Qt.length;Xt<qt;Xt++){Y=Qt[Xt-1],ct=Qt[Xt];var Oe=z(m,Y,ct,!0);Oe<C&&(C=Oe,M=z(m,Y,ct))}return M&&(M.distance=Math.sqrt(C)),M},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ma(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(m,C){return C=C||this._defaultShape(),m=Tt(m),C.push(m),this._bounds.extend(m),this.redraw()},_setLatLngs:function(m){this._bounds=new ie,this._latlngs=this._convertLatLngs(m)},_defaultShape:function(){return Ui(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(m){for(var C=[],M=Ui(m),z=0,Y=m.length;z<Y;z++)M?(C[z]=Tt(m[z]),this._bounds.extend(C[z])):C[z]=this._convertLatLngs(m[z]);return C},_project:function(){var m=new se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,m),this._bounds.isValid()&&m.isValid()&&(this._rawPxBounds=m,this._updateBounds())},_updateBounds:function(){var m=this._clickTolerance(),C=new _t(m,m);this._rawPxBounds&&(this._pxBounds=new se([this._rawPxBounds.min.subtract(C),this._rawPxBounds.max.add(C)]))},_projectLatlngs:function(m,C,M){var z=m[0]instanceof Lt,Y=m.length,ct,Ct;if(z){for(Ct=[],ct=0;ct<Y;ct++)Ct[ct]=this._map.latLngToLayerPoint(m[ct]),M.extend(Ct[ct]);C.push(Ct)}else for(ct=0;ct<Y;ct++)this._projectLatlngs(m[ct],C,M)},_clipPoints:function(){var m=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}var C=this._parts,M,z,Y,ct,Ct,Ot,Qt;for(M=0,Y=0,ct=this._rings.length;M<ct;M++)for(Qt=this._rings[M],z=0,Ct=Qt.length;z<Ct-1;z++)Ot=cn(Qt[z],Qt[z+1],m,z,!0),Ot&&(C[Y]=C[Y]||[],C[Y].push(Ot[0]),(Ot[1]!==Qt[z+1]||z===Ct-2)&&(C[Y].push(Ot[1]),Y++))}},_simplifyPoints:function(){for(var m=this._parts,C=this.options.smoothFactor,M=0,z=m.length;M<z;M++)m[M]=Pe(m[M],C)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(m,C){var M,z,Y,ct,Ct,Ot,Qt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(M=0,ct=this._parts.length;M<ct;M++)for(Ot=this._parts[M],z=0,Ct=Ot.length,Y=Ct-1;z<Ct;Y=z++)if(!(!C&&z===0)&&Je(m,Ot[Y],Ot[z])<=Qt)return!0;return!1}});function xc(m,C){return new rr(m,C)}rr._flat=Qi;var qo=rr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $t(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(m){var C=rr.prototype._convertLatLngs.call(this,m),M=C.length;return M>=2&&C[0]instanceof Lt&&C[0].equals(C[M-1])&&C.pop(),C},_setLatLngs:function(m){rr.prototype._setLatLngs.call(this,m),Ui(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ui(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var m=this._renderer._bounds,C=this.options.weight,M=new _t(C,C);if(m=new se(m.min.subtract(M),m.max.add(M)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}for(var z=0,Y=this._rings.length,ct;z<Y;z++)ct=Ht(this._rings[z],m,!0),ct.length&&this._parts.push(ct)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(m){var C=!1,M,z,Y,ct,Ct,Ot,Qt,Xt;if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(ct=0,Qt=this._parts.length;ct<Qt;ct++)for(M=this._parts[ct],Ct=0,Xt=M.length,Ot=Xt-1;Ct<Xt;Ot=Ct++)z=M[Ct],Y=M[Ot],z.y>m.y!=Y.y>m.y&&m.x<(Y.x-z.x)*(m.y-z.y)/(Y.y-z.y)+z.x&&(C=!C);return C||rr.prototype._containsPoint.call(this,m,!0)}});function Ql(m,C){return new qo(m,C)}var or=dn.extend({initialize:function(m,C){x(this,C),this._layers={},m&&this.addData(m)},addData:function(m){var C=Q(m)?m:m.features,M,z,Y;if(C){for(M=0,z=C.length;M<z;M++)Y=C[M],(Y.geometries||Y.geometry||Y.features||Y.coordinates)&&this.addData(Y);return this}var ct=this.options;if(ct.filter&&!ct.filter(m))return this;var Ct=Yi(m,ct);return Ct?(Ct.feature=Ut(m),Ct.defaultOptions=Ct.options,this.resetStyle(Ct),ct.onEachFeature&&ct.onEachFeature(m,Ct),this.addLayer(Ct)):this},resetStyle:function(m){return m===void 0?this.eachLayer(this.resetStyle,this):(m.options=o({},m.defaultOptions),this._setLayerStyle(m,this.options.style),this)},setStyle:function(m){return this.eachLayer(function(C){this._setLayerStyle(C,m)},this)},_setLayerStyle:function(m,C){m.setStyle&&(typeof C=="function"&&(C=C(m.feature)),m.setStyle(C))}});function Yi(m,C){var M=m.type==="Feature"?m.geometry:m,z=M?M.coordinates:null,Y=[],ct=C&&C.pointToLayer,Ct=C&&C.coordsToLatLng||Hl,Ot,Qt,Xt,qt;if(!z&&!M)return null;switch(M.type){case"Point":return Ot=Ct(z),Uu(ct,m,Ot,C);case"MultiPoint":for(Xt=0,qt=z.length;Xt<qt;Xt++)Ot=Ct(z[Xt]),Y.push(Uu(ct,m,Ot,C));return new dn(Y);case"LineString":case"MultiLineString":return Qt=zl(z,M.type==="LineString"?0:1,Ct),new rr(Qt,C);case"Polygon":case"MultiPolygon":return Qt=zl(z,M.type==="Polygon"?1:2,Ct),new qo(Qt,C);case"GeometryCollection":for(Xt=0,qt=M.geometries.length;Xt<qt;Xt++){var Oe=Yi({geometry:M.geometries[Xt],type:"Feature",properties:m.properties},C);Oe&&Y.push(Oe)}return new dn(Y);case"FeatureCollection":for(Xt=0,qt=M.features.length;Xt<qt;Xt++){var tn=Yi(M.features[Xt],C);tn&&Y.push(tn)}return new dn(Y);default:throw new Error("Invalid GeoJSON object.")}}function Uu(m,C,M,z){return m?m(C,M):new Jr(M,z&&z.markersInheritOptions&&z)}function Hl(m){return new Lt(m[1],m[0],m[2])}function zl(m,C,M){for(var z=[],Y=0,ct=m.length,Ct;Y<ct;Y++)Ct=C?zl(m[Y],C-1,M):(M||Hl)(m[Y]),z.push(Ct);return z}function gt(m,C){return m=Tt(m),m.alt!==void 0?[v(m.lng,C),v(m.lat,C),v(m.alt,C)]:[v(m.lng,C),v(m.lat,C)]}function Et(m,C,M,z){for(var Y=[],ct=0,Ct=m.length;ct<Ct;ct++)Y.push(C?Et(m[ct],Ui(m[ct])?0:C-1,M,z):gt(m[ct],z));return!C&&M&&Y.length>0&&Y.push(Y[0].slice()),Y}function Nt(m,C){return m.feature?o({},m.feature,{geometry:C}):Ut(C)}function Ut(m){return m.type==="Feature"||m.type==="FeatureCollection"?m:{type:"Feature",properties:{},geometry:m}}var Gt={toGeoJSON:function(m){return Nt(this,{type:"Point",coordinates:gt(this.getLatLng(),m)})}};Jr.include(Gt),ba.include(Gt),xr.include(Gt),rr.include({toGeoJSON:function(m){var C=!Ui(this._latlngs),M=Et(this._latlngs,C?1:0,!1,m);return Nt(this,{type:(C?"Multi":"")+"LineString",coordinates:M})}}),qo.include({toGeoJSON:function(m){var C=!Ui(this._latlngs),M=C&&!Ui(this._latlngs[0]),z=Et(this._latlngs,M?2:C?1:0,!0,m);return C||(z=[z]),Nt(this,{type:(M?"Multi":"")+"Polygon",coordinates:z})}}),Rl.include({toMultiPoint:function(m){var C=[];return this.eachLayer(function(M){C.push(M.toGeoJSON(m).geometry.coordinates)}),Nt(this,{type:"MultiPoint",coordinates:C})},toGeoJSON:function(m){var C=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(C==="MultiPoint")return this.toMultiPoint(m);var M=C==="GeometryCollection",z=[];return this.eachLayer(function(Y){if(Y.toGeoJSON){var ct=Y.toGeoJSON(m);if(M)z.push(ct.geometry);else{var Ct=Ut(ct);Ct.type==="FeatureCollection"?z.push.apply(z,Ct.features):z.push(Ct)}}}),M?Nt(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});function re(m,C){return new or(m,C)}var ee=re,we=Xr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(m,C,M){this._url=m,this._bounds=le(C),x(this,M)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Qe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ei(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(m){return this.options.opacity=m,this._image&&this._updateOpacity(),this},setStyle:function(m){return m.opacity&&this.setOpacity(m.opacity),this},bringToFront:function(){return this._map&&kr(this._image),this},bringToBack:function(){return this._map&&bo(this._image),this},setUrl:function(m){return this._url=m,this._image&&(this._image.src=m),this},setBounds:function(m){return this._bounds=le(m),this._map&&this._reset(),this},getEvents:function(){var m={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var m=this._url.tagName==="IMG",C=this._image=m?this._url:wn("img");if(Qe(C,"leaflet-image-layer"),this._zoomAnimated&&Qe(C,"leaflet-zoom-animated"),this.options.className&&Qe(C,this.options.className),C.onselectstart=w,C.onmousemove=w,C.onload=c(this.fire,this,"load"),C.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),m){this._url=C.src;return}C.src=this._url,C.alt=this.options.alt},_animateZoom:function(m){var C=this._map.getZoomScale(m.zoom),M=this._map._latLngBoundsToNewLayerBounds(this._bounds,m.zoom,m.center).min;Xn(this._image,M,C)},_reset:function(){var m=this._image,C=new se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),M=C.getSize();jn(m,C.min),m.style.width=M.x+"px",m.style.height=M.y+"px"},_updateOpacity:function(){zn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var m=this.options.errorOverlayUrl;m&&this._url!==m&&(this._url=m,this._image.src=m)},getCenter:function(){return this._bounds.getCenter()}}),ue=function(m,C,M){return new we(m,C,M)},ze=we.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var m=this._url.tagName==="VIDEO",C=this._image=m?this._url:wn("video");if(Qe(C,"leaflet-image-layer"),this._zoomAnimated&&Qe(C,"leaflet-zoom-animated"),this.options.className&&Qe(C,this.options.className),C.onselectstart=w,C.onmousemove=w,C.onloadeddata=c(this.fire,this,"load"),m){for(var M=C.getElementsByTagName("source"),z=[],Y=0;Y<M.length;Y++)z.push(M[Y].src);this._url=M.length>0?z:[C.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(C.style,"objectFit")&&(C.style.objectFit="fill"),C.autoplay=!!this.options.autoplay,C.loop=!!this.options.loop,C.muted=!!this.options.muted,C.playsInline=!!this.options.playsInline;for(var ct=0;ct<this._url.length;ct++){var Ct=wn("source");Ct.src=this._url[ct],C.appendChild(Ct)}}});function Fe(m,C,M){return new ze(m,C,M)}var Re=we.extend({_initImage:function(){var m=this._image=this._url;Qe(m,"leaflet-image-layer"),this._zoomAnimated&&Qe(m,"leaflet-zoom-animated"),this.options.className&&Qe(m,this.options.className),m.onselectstart=w,m.onmousemove=w}});function $e(m,C,M){return new Re(m,C,M)}var Ae=Xr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(m,C){m&&(m instanceof Lt||Q(m))?(this._latlng=Tt(m),x(this,C)):(x(this,m),this._source=C),this.options.content&&(this._content=this.options.content)},openOn:function(m){return m=arguments.length?m:this._source._map,m.hasLayer(this)||m.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(m){return this._map?this.close():(arguments.length?this._source=m:m=this._source,this._prepareOpen(),this.openOn(m._map)),this},onAdd:function(m){this._zoomAnimated=m._zoomAnimated,this._container||this._initLayout(),m._fadeAnimated&&zn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),m._fadeAnimated&&zn(this._container,1),this.bringToFront(),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(m){m._fadeAnimated?(zn(this._container,0),this._removeTimeout=setTimeout(c(ei,void 0,this._container),200)):ei(this._container),this.options.interactive&&(Cn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(m){return this._latlng=Tt(m),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(m){return this._content=m,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var m={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&kr(this._container),this},bringToBack:function(){return this._map&&bo(this._container),this},_prepareOpen:function(m){var C=this._source;if(!C._map)return!1;if(C instanceof dn){C=null;var M=this._source._layers;for(var z in M)if(M[z]._map){C=M[z];break}if(!C)return!1;this._source=C}if(!m)if(C.getCenter)m=C.getCenter();else if(C.getLatLng)m=C.getLatLng();else if(C.getBounds)m=C.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(m),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var m=this._contentNode,C=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof C=="string")m.innerHTML=C;else{for(;m.hasChildNodes();)m.removeChild(m.firstChild);m.appendChild(C)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var m=this._map.latLngToLayerPoint(this._latlng),C=yt(this.options.offset),M=this._getAnchor();this._zoomAnimated?jn(this._container,m.add(M)):C=C.add(m).add(M);var z=this._containerBottom=-C.y,Y=this._containerLeft=-Math.round(this._containerWidth/2)+C.x;this._container.style.bottom=z+"px",this._container.style.left=Y+"px"}},_getAnchor:function(){return[0,0]}});ln.include({_initOverlay:function(m,C,M,z){var Y=C;return Y instanceof m||(Y=new m(z).setContent(C)),M&&Y.setLatLng(M),Y}}),Xr.include({_initOverlay:function(m,C,M,z){var Y=M;return Y instanceof m?(x(Y,z),Y._source=this):(Y=C&&!z?C:new m(z,this),Y.setContent(M)),Y}});var En=Ae.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(m){return m=arguments.length?m:this._source._map,!m.hasLayer(this)&&m._popup&&m._popup.options.autoClose&&m.removeLayer(m._popup),m._popup=this,Ae.prototype.openOn.call(this,m)},onAdd:function(m){Ae.prototype.onAdd.call(this,m),m.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _o||this._source.on("preclick",ir))},onRemove:function(m){Ae.prototype.onRemove.call(this,m),m.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _o||this._source.off("preclick",ir))},getEvents:function(){var m=Ae.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(m.preclick=this.close),this.options.keepInView&&(m.moveend=this._adjustPan),m},_initLayout:function(){var m="leaflet-popup",C=this._container=wn("div",m+" "+(this.options.className||"")+" leaflet-zoom-animated"),M=this._wrapper=wn("div",m+"-content-wrapper",C);if(this._contentNode=wn("div",m+"-content",M),Ko(C),Ol(this._contentNode),He(C,"contextmenu",ir),this._tipContainer=wn("div",m+"-tip-container",C),this._tip=wn("div",m+"-tip",this._tipContainer),this.options.closeButton){var z=this._closeButton=wn("a",m+"-close-button",C);z.setAttribute("role","button"),z.setAttribute("aria-label","Close popup"),z.href="#close",z.innerHTML='<span aria-hidden="true">&#215;</span>',He(z,"click",function(Y){Ri(Y),this.close()},this)}},_updateLayout:function(){var m=this._contentNode,C=m.style;C.width="",C.whiteSpace="nowrap";var M=m.offsetWidth;M=Math.min(M,this.options.maxWidth),M=Math.max(M,this.options.minWidth),C.width=M+1+"px",C.whiteSpace="",C.height="";var z=m.offsetHeight,Y=this.options.maxHeight,ct="leaflet-popup-scrolled";Y&&z>Y?(C.height=Y+"px",Qe(m,ct)):Cn(m,ct),this._containerWidth=this._container.offsetWidth},_animateZoom:function(m){var C=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center),M=this._getAnchor();jn(this._container,C.add(M))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var m=this._map,C=parseInt(Va(this._container,"marginBottom"),10)||0,M=this._container.offsetHeight+C,z=this._containerWidth,Y=new _t(this._containerLeft,-M-this._containerBottom);Y._add(Ni(this._container));var ct=m.layerPointToContainerPoint(Y),Ct=yt(this.options.autoPanPadding),Ot=yt(this.options.autoPanPaddingTopLeft||Ct),Qt=yt(this.options.autoPanPaddingBottomRight||Ct),Xt=m.getSize(),qt=0,Oe=0;ct.x+z+Qt.x>Xt.x&&(qt=ct.x+z-Xt.x+Qt.x),ct.x-qt-Ot.x<0&&(qt=ct.x-Ot.x),ct.y+M+Qt.y>Xt.y&&(Oe=ct.y+M-Xt.y+Qt.y),ct.y-Oe-Ot.y<0&&(Oe=ct.y-Ot.y),(qt||Oe)&&(this.options.keepInView&&(this._autopanning=!0),m.fire("autopanstart").panBy([qt,Oe]))}},_getAnchor:function(){return yt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Cs=function(m,C){return new En(m,C)};ln.mergeOptions({closePopupOnClick:!0}),ln.include({openPopup:function(m,C,M){return this._initOverlay(En,m,C,M).openOn(this),this},closePopup:function(m){return m=arguments.length?m:this._popup,m&&m.close(),this}}),Xr.include({bindPopup:function(m,C){return this._popup=this._initOverlay(En,this._popup,m,C),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(m){return this._popup&&(this instanceof dn||(this._popup._source=this),this._popup._prepareOpen(m||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(m){return this._popup&&this._popup.setContent(m),this},getPopup:function(){return this._popup},_openPopup:function(m){if(!(!this._popup||!this._map)){fn(m);var C=m.layer||m.target;if(this._popup._source===C&&!(C instanceof _o)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(m.latlng);return}this._popup._source=C,this.openPopup(m.latlng)}},_movePopup:function(m){this._popup.setLatLng(m.latlng)},_onKeyPress:function(m){m.originalEvent.keyCode===13&&this._openPopup(m)}});var Vn=Ae.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(m){Ae.prototype.onAdd.call(this,m),this.setOpacity(this.options.opacity),m.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(m){Ae.prototype.onRemove.call(this,m),m.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var m=Ae.prototype.getEvents.call(this);return this.options.permanent||(m.preclick=this.close),m},_initLayout:function(){var m="leaflet-tooltip",C=m+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=wn("div",C),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(m){var C,M,z=this._map,Y=this._container,ct=z.latLngToContainerPoint(z.getCenter()),Ct=z.layerPointToContainerPoint(m),Ot=this.options.direction,Qt=Y.offsetWidth,Xt=Y.offsetHeight,qt=yt(this.options.offset),Oe=this._getAnchor();Ot==="top"?(C=Qt/2,M=Xt):Ot==="bottom"?(C=Qt/2,M=0):Ot==="center"?(C=Qt/2,M=Xt/2):Ot==="right"?(C=0,M=Xt/2):Ot==="left"?(C=Qt,M=Xt/2):Ct.x<ct.x?(Ot="right",C=0,M=Xt/2):(Ot="left",C=Qt+(qt.x+Oe.x)*2,M=Xt/2),m=m.subtract(yt(C,M,!0)).add(qt).add(Oe),Cn(Y,"leaflet-tooltip-right"),Cn(Y,"leaflet-tooltip-left"),Cn(Y,"leaflet-tooltip-top"),Cn(Y,"leaflet-tooltip-bottom"),Qe(Y,"leaflet-tooltip-"+Ot),jn(Y,m)},_updatePosition:function(){var m=this._map.latLngToLayerPoint(this._latlng);this._setPosition(m)},setOpacity:function(m){this.options.opacity=m,this._container&&zn(this._container,m)},_animateZoom:function(m){var C=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center);this._setPosition(C)},_getAnchor:function(){return yt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ar=function(m,C){return new Vn(m,C)};ln.include({openTooltip:function(m,C,M){return this._initOverlay(Vn,m,C,M).openOn(this),this},closeTooltip:function(m){return m.close(),this}}),Xr.include({bindTooltip:function(m,C){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vn,this._tooltip,m,C),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(m){if(!(!m&&this._tooltipHandlersAdded)){var C=m?"off":"on",M={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?M.add=this._openTooltip:(M.mouseover=this._openTooltip,M.mouseout=this.closeTooltip,M.click=this._openTooltip,this._map?this._addFocusListeners():M.add=this._addFocusListeners),this._tooltip.options.sticky&&(M.mousemove=this._moveTooltip),this[C](M),this._tooltipHandlersAdded=!m}},openTooltip:function(m){return this._tooltip&&(this instanceof dn||(this._tooltip._source=this),this._tooltip._prepareOpen(m)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(m){return this._tooltip&&this._tooltip.setContent(m),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(m){var C=typeof m.getElement=="function"&&m.getElement();C&&(He(C,"focus",function(){this._tooltip._source=m,this.openTooltip()},this),He(C,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(m){var C=typeof m.getElement=="function"&&m.getElement();C&&C.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(m){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var C=this;this._map.once("moveend",function(){C._openOnceFlag=!1,C._openTooltip(m)});return}this._tooltip._source=m.layer||m.target,this.openTooltip(this._tooltip.options.sticky?m.latlng:void 0)}},_moveTooltip:function(m){var C=m.latlng,M,z;this._tooltip.options.sticky&&m.originalEvent&&(M=this._map.mouseEventToContainerPoint(m.originalEvent),z=this._map.containerPointToLayerPoint(M),C=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(C)}});var lr=fi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(m){var C=m&&m.tagName==="DIV"?m:document.createElement("div"),M=this.options;if(M.html instanceof Element?($i(C),C.appendChild(M.html)):C.innerHTML=M.html!==!1?M.html:"",M.bgPos){var z=yt(M.bgPos);C.style.backgroundPosition=-z.x+"px "+-z.y+"px"}return this._setIconStyles(C,"icon"),C},createShadow:function(){return null}});function Yo(m){return new lr(m)}fi.Default=Ec;var Ce=Xr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(m){x(this,m)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(m){m._addZoomLimit(this)},onRemove:function(m){this._removeAllTiles(),ei(this._container),m._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(kr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(m){return this.options.opacity=m,this._updateOpacity(),this},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var m=this._clampZoom(this._map.getZoom());m!==this._tileZoom&&(this._tileZoom=m,this._updateLevels()),this._update()}return this},getEvents:function(){var m={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),m.move=this._onMove),this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},createTile:function(){return document.createElement("div")},getTileSize:function(){var m=this.options.tileSize;return m instanceof _t?m:new _t(m,m)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(m){for(var C=this.getPane().children,M=-m(-1/0,1/0),z=0,Y=C.length,ct;z<Y;z++)ct=C[z].style.zIndex,C[z]!==this._container&&ct&&(M=m(M,+ct));isFinite(M)&&(this.options.zIndex=M+m(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Te.ielt9){zn(this._container,this.options.opacity);var m=+new Date,C=!1,M=!1;for(var z in this._tiles){var Y=this._tiles[z];if(!(!Y.current||!Y.loaded)){var ct=Math.min(1,(m-Y.loaded)/200);zn(Y.el,ct),ct<1?C=!0:(Y.active?M=!0:this._onOpaqueTile(Y),Y.active=!0)}}M&&!this._noPrune&&this._pruneTiles(),C&&(ht(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=wn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var m=this._tileZoom,C=this.options.maxZoom;if(m!==void 0){for(var M in this._levels)M=Number(M),this._levels[M].el.children.length||M===m?(this._levels[M].el.style.zIndex=C-Math.abs(m-M),this._onUpdateLevel(M)):(ei(this._levels[M].el),this._removeTilesAtZoom(M),this._onRemoveLevel(M),delete this._levels[M]);var z=this._levels[m],Y=this._map;return z||(z=this._levels[m]={},z.el=wn("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=C,z.origin=Y.project(Y.unproject(Y.getPixelOrigin()),m).round(),z.zoom=m,this._setZoomTransform(z,Y.getCenter(),Y.getZoom()),w(z.el.offsetWidth),this._onCreateLevel(z)),this._level=z,z}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var m,C,M=this._map.getZoom();if(M>this.options.maxZoom||M<this.options.minZoom){this._removeAllTiles();return}for(m in this._tiles)C=this._tiles[m],C.retain=C.current;for(m in this._tiles)if(C=this._tiles[m],C.current&&!C.active){var z=C.coords;this._retainParent(z.x,z.y,z.z,z.z-5)||this._retainChildren(z.x,z.y,z.z,z.z+2)}for(m in this._tiles)this._tiles[m].retain||this._removeTile(m)}},_removeTilesAtZoom:function(m){for(var C in this._tiles)this._tiles[C].coords.z===m&&this._removeTile(C)},_removeAllTiles:function(){for(var m in this._tiles)this._removeTile(m)},_invalidateAll:function(){for(var m in this._levels)ei(this._levels[m].el),this._onRemoveLevel(Number(m)),delete this._levels[m];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(m,C,M,z){var Y=Math.floor(m/2),ct=Math.floor(C/2),Ct=M-1,Ot=new _t(+Y,+ct);Ot.z=+Ct;var Qt=this._tileCoordsToKey(Ot),Xt=this._tiles[Qt];return Xt&&Xt.active?(Xt.retain=!0,!0):(Xt&&Xt.loaded&&(Xt.retain=!0),Ct>z?this._retainParent(Y,ct,Ct,z):!1)},_retainChildren:function(m,C,M,z){for(var Y=2*m;Y<2*m+2;Y++)for(var ct=2*C;ct<2*C+2;ct++){var Ct=new _t(Y,ct);Ct.z=M+1;var Ot=this._tileCoordsToKey(Ct),Qt=this._tiles[Ot];if(Qt&&Qt.active){Qt.retain=!0;continue}else Qt&&Qt.loaded&&(Qt.retain=!0);M+1<z&&this._retainChildren(Y,ct,M+1,z)}},_resetView:function(m){var C=m&&(m.pinch||m.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),C,C)},_animateZoom:function(m){this._setView(m.center,m.zoom,!0,m.noUpdate)},_clampZoom:function(m){var C=this.options;return C.minNativeZoom!==void 0&&m<C.minNativeZoom?C.minNativeZoom:C.maxNativeZoom!==void 0&&C.maxNativeZoom<m?C.maxNativeZoom:m},_setView:function(m,C,M,z){var Y=Math.round(C);this.options.maxZoom!==void 0&&Y>this.options.maxZoom||this.options.minZoom!==void 0&&Y<this.options.minZoom?Y=void 0:Y=this._clampZoom(Y);var ct=this.options.updateWhenZooming&&Y!==this._tileZoom;(!z||ct)&&(this._tileZoom=Y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Y!==void 0&&this._update(m),M||this._pruneTiles(),this._noPrune=!!M),this._setZoomTransforms(m,C)},_setZoomTransforms:function(m,C){for(var M in this._levels)this._setZoomTransform(this._levels[M],m,C)},_setZoomTransform:function(m,C,M){var z=this._map.getZoomScale(M,m.zoom),Y=m.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(C,M)).round();Te.any3d?Xn(m.el,Y,z):jn(m.el,Y)},_resetGrid:function(){var m=this._map,C=m.options.crs,M=this._tileSize=this.getTileSize(),z=this._tileZoom,Y=this._map.getPixelWorldBounds(this._tileZoom);Y&&(this._globalTileRange=this._pxBoundsToTileRange(Y)),this._wrapX=C.wrapLng&&!this.options.noWrap&&[Math.floor(m.project([0,C.wrapLng[0]],z).x/M.x),Math.ceil(m.project([0,C.wrapLng[1]],z).x/M.y)],this._wrapY=C.wrapLat&&!this.options.noWrap&&[Math.floor(m.project([C.wrapLat[0],0],z).y/M.x),Math.ceil(m.project([C.wrapLat[1],0],z).y/M.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(m){var C=this._map,M=C._animatingZoom?Math.max(C._animateToZoom,C.getZoom()):C.getZoom(),z=C.getZoomScale(M,this._tileZoom),Y=C.project(m,this._tileZoom).floor(),ct=C.getSize().divideBy(z*2);return new se(Y.subtract(ct),Y.add(ct))},_update:function(m){var C=this._map;if(C){var M=this._clampZoom(C.getZoom());if(m===void 0&&(m=C.getCenter()),this._tileZoom!==void 0){var z=this._getTiledPixelBounds(m),Y=this._pxBoundsToTileRange(z),ct=Y.getCenter(),Ct=[],Ot=this.options.keepBuffer,Qt=new se(Y.getBottomLeft().subtract([Ot,-Ot]),Y.getTopRight().add([Ot,-Ot]));if(!(isFinite(Y.min.x)&&isFinite(Y.min.y)&&isFinite(Y.max.x)&&isFinite(Y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Xt in this._tiles){var qt=this._tiles[Xt].coords;(qt.z!==this._tileZoom||!Qt.contains(new _t(qt.x,qt.y)))&&(this._tiles[Xt].current=!1)}if(Math.abs(M-this._tileZoom)>1){this._setView(m,M);return}for(var Oe=Y.min.y;Oe<=Y.max.y;Oe++)for(var tn=Y.min.x;tn<=Y.max.x;tn++){var ls=new _t(tn,Oe);if(ls.z=this._tileZoom,!!this._isValidTile(ls)){var cs=this._tiles[this._tileCoordsToKey(ls)];cs?cs.current=!0:Ct.push(ls)}}if(Ct.sort(function(Dn,Bc){return Dn.distanceTo(ct)-Bc.distanceTo(ct)}),Ct.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ds=document.createDocumentFragment();for(tn=0;tn<Ct.length;tn++)this._addTile(Ct[tn],ds);this._level.el.appendChild(ds)}}}},_isValidTile:function(m){var C=this._map.options.crs;if(!C.infinite){var M=this._globalTileRange;if(!C.wrapLng&&(m.x<M.min.x||m.x>M.max.x)||!C.wrapLat&&(m.y<M.min.y||m.y>M.max.y))return!1}if(!this.options.bounds)return!0;var z=this._tileCoordsToBounds(m);return le(this.options.bounds).overlaps(z)},_keyToBounds:function(m){return this._tileCoordsToBounds(this._keyToTileCoords(m))},_tileCoordsToNwSe:function(m){var C=this._map,M=this.getTileSize(),z=m.scaleBy(M),Y=z.add(M),ct=C.unproject(z,m.z),Ct=C.unproject(Y,m.z);return[ct,Ct]},_tileCoordsToBounds:function(m){var C=this._tileCoordsToNwSe(m),M=new ie(C[0],C[1]);return this.options.noWrap||(M=this._map.wrapLatLngBounds(M)),M},_tileCoordsToKey:function(m){return m.x+":"+m.y+":"+m.z},_keyToTileCoords:function(m){var C=m.split(":"),M=new _t(+C[0],+C[1]);return M.z=+C[2],M},_removeTile:function(m){var C=this._tiles[m];C&&(ei(C.el),delete this._tiles[m],this.fire("tileunload",{tile:C.el,coords:this._keyToTileCoords(m)}))},_initTile:function(m){Qe(m,"leaflet-tile");var C=this.getTileSize();m.style.width=C.x+"px",m.style.height=C.y+"px",m.onselectstart=w,m.onmousemove=w,Te.ielt9&&this.options.opacity<1&&zn(m,this.options.opacity)},_addTile:function(m,C){var M=this._getTilePos(m),z=this._tileCoordsToKey(m),Y=this.createTile(this._wrapCoords(m),c(this._tileReady,this,m));this._initTile(Y),this.createTile.length<2&&dt(c(this._tileReady,this,m,null,Y)),jn(Y,M),this._tiles[z]={el:Y,coords:m,current:!0},C.appendChild(Y),this.fire("tileloadstart",{tile:Y,coords:m})},_tileReady:function(m,C,M){C&&this.fire("tileerror",{error:C,tile:M,coords:m});var z=this._tileCoordsToKey(m);M=this._tiles[z],M&&(M.loaded=+new Date,this._map._fadeAnimated?(zn(M.el,0),ht(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this)):(M.active=!0,this._pruneTiles()),C||(Qe(M.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:M.el,coords:m})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Te.ielt9||!this._map._fadeAnimated?dt(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(m){return m.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(m){var C=new _t(this._wrapX?g(m.x,this._wrapX):m.x,this._wrapY?g(m.y,this._wrapY):m.y);return C.z=m.z,C},_pxBoundsToTileRange:function(m){var C=this.getTileSize();return new se(m.min.unscaleBy(C).floor(),m.max.unscaleBy(C).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var m in this._tiles)if(!this._tiles[m].loaded)return!1;return!0}});function bf(m){return new Ce(m)}var Xa=Ce.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(m,C){this._url=m,C=x(this,C),C.detectRetina&&Te.retina&&C.maxZoom>0?(C.tileSize=Math.floor(C.tileSize/2),C.zoomReverse?(C.zoomOffset--,C.minZoom=Math.min(C.maxZoom,C.minZoom+1)):(C.zoomOffset++,C.maxZoom=Math.max(C.minZoom,C.maxZoom-1)),C.minZoom=Math.max(0,C.minZoom)):C.zoomReverse?C.minZoom=Math.min(C.maxZoom,C.minZoom):C.maxZoom=Math.max(C.minZoom,C.maxZoom),typeof C.subdomains=="string"&&(C.subdomains=C.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(m,C){return this._url===m&&C===void 0&&(C=!0),this._url=m,C||this.redraw(),this},createTile:function(m,C){var M=document.createElement("img");return He(M,"load",c(this._tileOnLoad,this,C,M)),He(M,"error",c(this._tileOnError,this,C,M)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(M.referrerPolicy=this.options.referrerPolicy),M.alt="",M.src=this.getTileUrl(m),M},getTileUrl:function(m){var C={r:Te.retina?"@2x":"",s:this._getSubdomain(m),x:m.x,y:m.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var M=this._globalTileRange.max.y-m.y;this.options.tms&&(C.y=M),C["-y"]=M}return R(this._url,o(C,this.options))},_tileOnLoad:function(m,C){Te.ielt9?setTimeout(c(m,this,null,C),0):m(null,C)},_tileOnError:function(m,C,M){var z=this.options.errorTileUrl;z&&C.getAttribute("src")!==z&&(C.src=z),m(M,C)},_onTileRemove:function(m){m.tile.onload=null},_getZoomForUrl:function(){var m=this._tileZoom,C=this.options.maxZoom,M=this.options.zoomReverse,z=this.options.zoomOffset;return M&&(m=C-m),m+z},_getSubdomain:function(m){var C=Math.abs(m.x+m.y)%this.options.subdomains.length;return this.options.subdomains[C]},_abortLoading:function(){var m,C;for(m in this._tiles)if(this._tiles[m].coords.z!==this._tileZoom&&(C=this._tiles[m].el,C.onload=w,C.onerror=w,!C.complete)){C.src=W;var M=this._tiles[m].coords;ei(C),delete this._tiles[m],this.fire("tileabort",{tile:C,coords:M})}},_removeTile:function(m){var C=this._tiles[m];if(C)return C.el.setAttribute("src",W),Ce.prototype._removeTile.call(this,m)},_tileReady:function(m,C,M){if(!(!this._map||M&&M.getAttribute("src")===W))return Ce.prototype._tileReady.call(this,m,C,M)}});function Qu(m,C){return new Xa(m,C)}var Mi=Xa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(m,C){this._url=m;var M=o({},this.defaultWmsParams);for(var z in C)z in this.options||(M[z]=C[z]);C=x(this,C);var Y=C.detectRetina&&Te.retina?2:1,ct=this.getTileSize();M.width=ct.x*Y,M.height=ct.y*Y,this.wmsParams=M},onAdd:function(m){this._crs=this.options.crs||m.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var C=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[C]=this._crs.code,Xa.prototype.onAdd.call(this,m)},getTileUrl:function(m){var C=this._tileCoordsToNwSe(m),M=this._crs,z=oe(M.project(C[0]),M.project(C[1])),Y=z.min,ct=z.max,Ct=(this._wmsVersion>=1.3&&this._crs===Yr?[Y.y,Y.x,ct.y,ct.x]:[Y.x,Y.y,ct.x,ct.y]).join(","),Ot=Xa.prototype.getTileUrl.call(this,m);return Ot+I(this.wmsParams,Ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ct},setParams:function(m,C){return o(this.wmsParams,m),C||this.redraw(),this}});function Qg(m,C){return new Mi(m,C)}Xa.WMS=Mi,Qu.wms=Qg;var _n=Xr.extend({options:{padding:.1},initialize:function(m){x(this,m),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Qe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var m={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(m.zoomanim=this._onAnimZoom),m},_onAnimZoom:function(m){this._updateTransform(m.center,m.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(m,C){var M=this._map.getZoomScale(C,this._zoom),z=this._map.getSize().multiplyBy(.5+this.options.padding),Y=this._map.project(this._center,C),ct=z.multiplyBy(-M).add(Y).subtract(this._map._getNewPixelOrigin(m,C));Te.any3d?Xn(this._container,ct,M):jn(this._container,ct)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var m in this._layers)this._layers[m]._reset()},_onZoomEnd:function(){for(var m in this._layers)this._layers[m]._project()},_updatePaths:function(){for(var m in this._layers)this._layers[m]._update()},_update:function(){var m=this.options.padding,C=this._map.getSize(),M=this._map.containerPointToLayerPoint(C.multiplyBy(-m)).round();this._bounds=new se(M,M.add(C.multiplyBy(1+m*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gA=_n.extend({options:{tolerance:0},getEvents:function(){var m=_n.prototype.getEvents.call(this);return m.viewprereset=this._onViewPreReset,m},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_n.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var m=this._container=document.createElement("canvas");He(m,"mousemove",this._onMouseMove,this),He(m,"click dblclick mousedown mouseup contextmenu",this._onClick,this),He(m,"mouseout",this._handleMouseOut,this),m._leaflet_disable_events=!0,this._ctx=m.getContext("2d")},_destroyContainer:function(){ht(this._redrawRequest),delete this._ctx,ei(this._container),In(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var m;this._redrawBounds=null;for(var C in this._layers)m=this._layers[C],m._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_n.prototype._update.call(this);var m=this._bounds,C=this._container,M=m.getSize(),z=Te.retina?2:1;jn(C,m.min),C.width=z*M.x,C.height=z*M.y,C.style.width=M.x+"px",C.style.height=M.y+"px",Te.retina&&this._ctx.scale(2,2),this._ctx.translate(-m.min.x,-m.min.y),this.fire("update")}},_reset:function(){_n.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(m){this._updateDashArray(m),this._layers[h(m)]=m;var C=m._order={layer:m,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=C),this._drawLast=C,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(m){this._requestRedraw(m)},_removePath:function(m){var C=m._order,M=C.next,z=C.prev;M?M.prev=z:this._drawLast=z,z?z.next=M:this._drawFirst=M,delete m._order,delete this._layers[h(m)],this._requestRedraw(m)},_updatePath:function(m){this._extendRedrawBounds(m),m._project(),m._update(),this._requestRedraw(m)},_updateStyle:function(m){this._updateDashArray(m),this._requestRedraw(m)},_updateDashArray:function(m){if(typeof m.options.dashArray=="string"){var C=m.options.dashArray.split(/[, ]+/),M=[],z,Y;for(Y=0;Y<C.length;Y++){if(z=Number(C[Y]),isNaN(z))return;M.push(z)}m.options._dashArray=M}else m.options._dashArray=m.options.dashArray},_requestRedraw:function(m){this._map&&(this._extendRedrawBounds(m),this._redrawRequest=this._redrawRequest||dt(this._redraw,this))},_extendRedrawBounds:function(m){if(m._pxBounds){var C=(m.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new se,this._redrawBounds.extend(m._pxBounds.min.subtract([C,C])),this._redrawBounds.extend(m._pxBounds.max.add([C,C]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var m=this._redrawBounds;if(m){var C=m.getSize();this._ctx.clearRect(m.min.x,m.min.y,C.x,C.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var m,C=this._redrawBounds;if(this._ctx.save(),C){var M=C.getSize();this._ctx.beginPath(),this._ctx.rect(C.min.x,C.min.y,M.x,M.y),this._ctx.clip()}this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)m=z.layer,(!C||m._pxBounds&&m._pxBounds.intersects(C))&&m._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(m,C){if(this._drawing){var M,z,Y,ct,Ct=m._parts,Ot=Ct.length,Qt=this._ctx;if(Ot){for(Qt.beginPath(),M=0;M<Ot;M++){for(z=0,Y=Ct[M].length;z<Y;z++)ct=Ct[M][z],Qt[z?"lineTo":"moveTo"](ct.x,ct.y);C&&Qt.closePath()}this._fillStroke(Qt,m)}}},_updateCircle:function(m){if(!(!this._drawing||m._empty())){var C=m._point,M=this._ctx,z=Math.max(Math.round(m._radius),1),Y=(Math.max(Math.round(m._radiusY),1)||z)/z;Y!==1&&(M.save(),M.scale(1,Y)),M.beginPath(),M.arc(C.x,C.y/Y,z,0,Math.PI*2,!1),Y!==1&&M.restore(),this._fillStroke(M,m)}},_fillStroke:function(m,C){var M=C.options;M.fill&&(m.globalAlpha=M.fillOpacity,m.fillStyle=M.fillColor||M.color,m.fill(M.fillRule||"evenodd")),M.stroke&&M.weight!==0&&(m.setLineDash&&m.setLineDash(C.options&&C.options._dashArray||[]),m.globalAlpha=M.opacity,m.lineWidth=M.weight,m.strokeStyle=M.color,m.lineCap=M.lineCap,m.lineJoin=M.lineJoin,m.stroke())},_onClick:function(m){for(var C=this._map.mouseEventToLayerPoint(m),M,z,Y=this._drawFirst;Y;Y=Y.next)M=Y.layer,M.options.interactive&&M._containsPoint(C)&&(!(m.type==="click"||m.type==="preclick")||!this._map._draggableMoved(M))&&(z=M);this._fireEvent(z?[z]:!1,m)},_onMouseMove:function(m){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var C=this._map.mouseEventToLayerPoint(m);this._handleMouseHover(m,C)}},_handleMouseOut:function(m){var C=this._hoveredLayer;C&&(Cn(this._container,"leaflet-interactive"),this._fireEvent([C],m,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(m,C){if(!this._mouseHoverThrottled){for(var M,z,Y=this._drawFirst;Y;Y=Y.next)M=Y.layer,M.options.interactive&&M._containsPoint(C)&&(z=M);z!==this._hoveredLayer&&(this._handleMouseOut(m),z&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([z],m,"mouseover"),this._hoveredLayer=z)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,m),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(m,C,M){this._map._fireDOMEvent(C,M||C.type,m)},_bringToFront:function(m){var C=m._order;if(C){var M=C.next,z=C.prev;if(M)M.prev=z;else return;z?z.next=M:M&&(this._drawFirst=M),C.prev=this._drawLast,this._drawLast.next=C,C.next=null,this._drawLast=C,this._requestRedraw(m)}},_bringToBack:function(m){var C=m._order;if(C){var M=C.next,z=C.prev;if(z)z.next=M;else return;M?M.prev=z:z&&(this._drawLast=z),C.prev=null,C.next=this._drawFirst,this._drawFirst.prev=C,this._drawFirst=C,this._requestRedraw(m)}}});function wf(m){return Te.canvas?new gA(m):null}var ud=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(m){return document.createElement("<lvml:"+m+' class="lvml">')}}catch{}return function(m){return document.createElement("<"+m+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),wa={_initContainer:function(){this._container=wn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_n.prototype._update.call(this),this.fire("update"))},_initPath:function(m){var C=m._container=ud("shape");Qe(C,"leaflet-vml-shape "+(this.options.className||"")),C.coordsize="1 1",m._path=ud("path"),C.appendChild(m._path),this._updateStyle(m),this._layers[h(m)]=m},_addPath:function(m){var C=m._container;this._container.appendChild(C),m.options.interactive&&m.addInteractiveTarget(C)},_removePath:function(m){var C=m._container;ei(C),m.removeInteractiveTarget(C),delete this._layers[h(m)]},_updateStyle:function(m){var C=m._stroke,M=m._fill,z=m.options,Y=m._container;Y.stroked=!!z.stroke,Y.filled=!!z.fill,z.stroke?(C||(C=m._stroke=ud("stroke")),Y.appendChild(C),C.weight=z.weight+"px",C.color=z.color,C.opacity=z.opacity,z.dashArray?C.dashStyle=Q(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):C.dashStyle="",C.endcap=z.lineCap.replace("butt","flat"),C.joinstyle=z.lineJoin):C&&(Y.removeChild(C),m._stroke=null),z.fill?(M||(M=m._fill=ud("fill")),Y.appendChild(M),M.color=z.fillColor||z.color,M.opacity=z.fillOpacity):M&&(Y.removeChild(M),m._fill=null)},_updateCircle:function(m){var C=m._point.round(),M=Math.round(m._radius),z=Math.round(m._radiusY||M);this._setPath(m,m._empty()?"M0 0":"AL "+C.x+","+C.y+" "+M+","+z+" 0,"+65535*360)},_setPath:function(m,C){m._path.v=C},_bringToFront:function(m){kr(m._container)},_bringToBack:function(m){bo(m._container)}},pi=Te.vml?ud:rn,jl=_n.extend({_initContainer:function(){this._container=pi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ei(this._container),In(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_n.prototype._update.call(this);var m=this._bounds,C=m.getSize(),M=this._container;(!this._svgSize||!this._svgSize.equals(C))&&(this._svgSize=C,M.setAttribute("width",C.x),M.setAttribute("height",C.y)),jn(M,m.min),M.setAttribute("viewBox",[m.min.x,m.min.y,C.x,C.y].join(" ")),this.fire("update")}},_initPath:function(m){var C=m._path=pi("path");m.options.className&&Qe(C,m.options.className),m.options.interactive&&Qe(C,"leaflet-interactive"),this._updateStyle(m),this._layers[h(m)]=m},_addPath:function(m){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(m._path),m.addInteractiveTarget(m._path)},_removePath:function(m){ei(m._path),m.removeInteractiveTarget(m._path),delete this._layers[h(m)]},_updatePath:function(m){m._project(),m._update()},_updateStyle:function(m){var C=m._path,M=m.options;C&&(M.stroke?(C.setAttribute("stroke",M.color),C.setAttribute("stroke-opacity",M.opacity),C.setAttribute("stroke-width",M.weight),C.setAttribute("stroke-linecap",M.lineCap),C.setAttribute("stroke-linejoin",M.lineJoin),M.dashArray?C.setAttribute("stroke-dasharray",M.dashArray):C.removeAttribute("stroke-dasharray"),M.dashOffset?C.setAttribute("stroke-dashoffset",M.dashOffset):C.removeAttribute("stroke-dashoffset")):C.setAttribute("stroke","none"),M.fill?(C.setAttribute("fill",M.fillColor||M.color),C.setAttribute("fill-opacity",M.fillOpacity),C.setAttribute("fill-rule",M.fillRule||"evenodd")):C.setAttribute("fill","none"))},_updatePoly:function(m,C){this._setPath(m,Rn(m._parts,C))},_updateCircle:function(m){var C=m._point,M=Math.max(Math.round(m._radius),1),z=Math.max(Math.round(m._radiusY),1)||M,Y="a"+M+","+z+" 0 1,0 ",ct=m._empty()?"M0 0":"M"+(C.x-M)+","+C.y+Y+M*2+",0 "+Y+-M*2+",0 ";this._setPath(m,ct)},_setPath:function(m,C){m._path.setAttribute("d",C)},_bringToFront:function(m){kr(m._path)},_bringToBack:function(m){bo(m._path)}});Te.vml&&jl.include(wa);function Hg(m){return Te.svg||Te.vml?new jl(m):null}ln.include({getRenderer:function(m){var C=m.options.renderer||this._getPaneRenderer(m.options.pane)||this.options.renderer||this._renderer;return C||(C=this._renderer=this._createRenderer()),this.hasLayer(C)||this.addLayer(C),C},_getPaneRenderer:function(m){if(m==="overlayPane"||m===void 0)return!1;var C=this._paneRenderers[m];return C===void 0&&(C=this._createRenderer({pane:m}),this._paneRenderers[m]=C),C},_createRenderer:function(m){return this.options.preferCanvas&&wf(m)||Hg(m)}});var Hu=qo.extend({initialize:function(m,C){qo.prototype.initialize.call(this,this._boundsToLatLngs(m),C)},setBounds:function(m){return this.setLatLngs(this._boundsToLatLngs(m))},_boundsToLatLngs:function(m){return m=le(m),[m.getSouthWest(),m.getNorthWest(),m.getNorthEast(),m.getSouthEast()]}});function zu(m,C){return new Hu(m,C)}jl.create=pi,jl.pointsToPath=Rn,or.geometryToLayer=Yi,or.coordsToLatLng=Hl,or.coordsToLatLngs=zl,or.latLngToCoords=gt,or.latLngsToCoords=Et,or.getFeature=Nt,or.asFeature=Ut,ln.mergeOptions({boxZoom:!0});var vf=at.extend({initialize:function(m){this._map=m,this._container=m._container,this._pane=m._panes.overlayPane,this._resetStateTimeout=0,m.on("unload",this._destroy,this)},addHooks:function(){He(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){In(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ei(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(m){if(!m.shiftKey||m.which!==1&&m.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),er(),Ga(),this._startPoint=this._map.mouseEventToContainerPoint(m),He(document,{contextmenu:fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(m){this._moved||(this._moved=!0,this._box=wn("div","leaflet-zoom-box",this._container),Qe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(m);var C=new se(this._point,this._startPoint),M=C.getSize();jn(this._box,C.min),this._box.style.width=M.x+"px",this._box.style.height=M.y+"px"},_finish:function(){this._moved&&(ei(this._box),Cn(this._container,"leaflet-crosshair")),Ka(),Wa(),In(document,{contextmenu:fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(m){if(!(m.which!==1&&m.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var C=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(C).fire("boxzoomend",{boxZoomBounds:C})}},_onKeyDown:function(m){m.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ln.addInitHook("addHandler","boxZoom",vf),ln.mergeOptions({doubleClickZoom:!0});var hd=at.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(m){var C=this._map,M=C.getZoom(),z=C.options.zoomDelta,Y=m.originalEvent.shiftKey?M-z:M+z;C.options.doubleClickZoom==="center"?C.setZoom(Y):C.setZoomAround(m.containerPoint,Y)}});ln.addInitHook("addHandler","doubleClickZoom",hd),ln.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vl=at.extend({addHooks:function(){if(!this._draggable){var m=this._map;this._draggable=new Bt(m._mapPane,m._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),m.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),m.on("zoomend",this._onZoomEnd,this),m.whenReady(this._onZoomEnd,this))}Qe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Cn(this._map._container,"leaflet-grab"),Cn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var m=this._map;if(m._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var C=le(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(C.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(C.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;m.fire("movestart").fire("dragstart"),m.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(m){if(this._map.options.inertia){var C=this._lastTime=+new Date,M=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(M),this._times.push(C),this._prunePositions(C)}this._map.fire("move",m).fire("drag",m)},_prunePositions:function(m){for(;this._positions.length>1&&m-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var m=this._map.getSize().divideBy(2),C=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=C.subtract(m).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(m,C){return m-(m-C)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var m=this._draggable._newPos.subtract(this._draggable._startPos),C=this._offsetLimit;m.x<C.min.x&&(m.x=this._viscousLimit(m.x,C.min.x)),m.y<C.min.y&&(m.y=this._viscousLimit(m.y,C.min.y)),m.x>C.max.x&&(m.x=this._viscousLimit(m.x,C.max.x)),m.y>C.max.y&&(m.y=this._viscousLimit(m.y,C.max.y)),this._draggable._newPos=this._draggable._startPos.add(m)}},_onPreDragWrap:function(){var m=this._worldWidth,C=Math.round(m/2),M=this._initialWorldOffset,z=this._draggable._newPos.x,Y=(z-C+M)%m+C-M,ct=(z+C+M)%m-C-M,Ct=Math.abs(Y+M)<Math.abs(ct+M)?Y:ct;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ct},_onDragEnd:function(m){var C=this._map,M=C.options,z=!M.inertia||m.noInertia||this._times.length<2;if(C.fire("dragend",m),z)C.fire("moveend");else{this._prunePositions(+new Date);var Y=this._lastPos.subtract(this._positions[0]),ct=(this._lastTime-this._times[0])/1e3,Ct=M.easeLinearity,Ot=Y.multiplyBy(Ct/ct),Qt=Ot.distanceTo([0,0]),Xt=Math.min(M.inertiaMaxSpeed,Qt),qt=Ot.multiplyBy(Xt/Qt),Oe=Xt/(M.inertiaDeceleration*Ct),tn=qt.multiplyBy(-Oe/2).round();!tn.x&&!tn.y?C.fire("moveend"):(tn=C._limitOffset(tn,C.options.maxBounds),dt(function(){C.panBy(tn,{duration:Oe,easeLinearity:Ct,noMoveStart:!0,animate:!0})}))}}});ln.addInitHook("addHandler","dragging",Vl),ln.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _f=at.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(m){this._map=m,this._setPanDelta(m.options.keyboardPanDelta),this._setZoomDelta(m.options.zoomDelta)},addHooks:function(){var m=this._map._container;m.tabIndex<=0&&(m.tabIndex="0"),He(m,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),In(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var m=document.body,C=document.documentElement,M=m.scrollTop||C.scrollTop,z=m.scrollLeft||C.scrollLeft;this._map._container.focus(),window.scrollTo(z,M)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(m){var C=this._panKeys={},M=this.keyCodes,z,Y;for(z=0,Y=M.left.length;z<Y;z++)C[M.left[z]]=[-1*m,0];for(z=0,Y=M.right.length;z<Y;z++)C[M.right[z]]=[m,0];for(z=0,Y=M.down.length;z<Y;z++)C[M.down[z]]=[0,m];for(z=0,Y=M.up.length;z<Y;z++)C[M.up[z]]=[0,-1*m]},_setZoomDelta:function(m){var C=this._zoomKeys={},M=this.keyCodes,z,Y;for(z=0,Y=M.zoomIn.length;z<Y;z++)C[M.zoomIn[z]]=m;for(z=0,Y=M.zoomOut.length;z<Y;z++)C[M.zoomOut[z]]=-m},_addHooks:function(){He(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){In(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(m){if(!(m.altKey||m.ctrlKey||m.metaKey)){var C=m.keyCode,M=this._map,z;if(C in this._panKeys){if(!M._panAnim||!M._panAnim._inProgress)if(z=this._panKeys[C],m.shiftKey&&(z=yt(z).multiplyBy(3)),M.options.maxBounds&&(z=M._limitOffset(yt(z),M.options.maxBounds)),M.options.worldCopyJump){var Y=M.wrapLatLng(M.unproject(M.project(M.getCenter()).add(z)));M.panTo(Y)}else M.panBy(z)}else if(C in this._zoomKeys)M.setZoom(M.getZoom()+(m.shiftKey?3:1)*this._zoomKeys[C]);else if(C===27&&M._popup&&M._popup.options.closeOnEscapeKey)M.closePopup();else return;fn(m)}}});ln.addInitHook("addHandler","keyboard",_f),ln.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var mA=at.extend({addHooks:function(){He(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){In(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(m){var C=Go(m),M=this._map.options.wheelDebounceTime;this._delta+=C,this._lastMousePos=this._map.mouseEventToContainerPoint(m),this._startTime||(this._startTime=+new Date);var z=Math.max(M-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),z),fn(m)},_performZoom:function(){var m=this._map,C=m.getZoom(),M=this._map.options.zoomSnap||0;m._stop();var z=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Y=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,ct=M?Math.ceil(Y/M)*M:Y,Ct=m._limitZoom(C+(this._delta>0?ct:-ct))-C;this._delta=0,this._startTime=null,Ct&&(m.options.scrollWheelZoom==="center"?m.setZoom(C+Ct):m.setZoomAround(this._lastMousePos,C+Ct))}});ln.addInitHook("addHandler","scrollWheelZoom",mA);var bA=600;ln.mergeOptions({tapHold:Te.touchNative&&Te.safari&&Te.mobile,tapTolerance:15});var ju=at.extend({addHooks:function(){He(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){In(this._map._container,"touchstart",this._onDown,this)},_onDown:function(m){if(clearTimeout(this._holdTimeout),m.touches.length===1){var C=m.touches[0];this._startPos=this._newPos=new _t(C.clientX,C.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(He(document,"touchend",Ri),He(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",C))},this),bA),He(document,"touchend touchcancel contextmenu",this._cancel,this),He(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function m(){In(document,"touchend",Ri),In(document,"touchend touchcancel",m)},_cancel:function(){clearTimeout(this._holdTimeout),In(document,"touchend touchcancel contextmenu",this._cancel,this),In(document,"touchmove",this._onMove,this)},_onMove:function(m){var C=m.touches[0];this._newPos=new _t(C.clientX,C.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(m,C){var M=new MouseEvent(m,{bubbles:!0,cancelable:!0,view:window,screenX:C.screenX,screenY:C.screenY,clientX:C.clientX,clientY:C.clientY});M._simulated=!0,C.target.dispatchEvent(M)}});ln.addInitHook("addHandler","tapHold",ju),ln.mergeOptions({touchZoom:Te.touch,bounceAtZoomLimits:!0});var Vu=at.extend({addHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),He(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Cn(this._map._container,"leaflet-touch-zoom"),In(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(m){var C=this._map;if(!(!m.touches||m.touches.length!==2||C._animatingZoom||this._zooming)){var M=C.mouseEventToContainerPoint(m.touches[0]),z=C.mouseEventToContainerPoint(m.touches[1]);this._centerPoint=C.getSize()._divideBy(2),this._startLatLng=C.containerPointToLatLng(this._centerPoint),C.options.touchZoom!=="center"&&(this._pinchStartLatLng=C.containerPointToLatLng(M.add(z)._divideBy(2))),this._startDist=M.distanceTo(z),this._startZoom=C.getZoom(),this._moved=!1,this._zooming=!0,C._stop(),He(document,"touchmove",this._onTouchMove,this),He(document,"touchend touchcancel",this._onTouchEnd,this),Ri(m)}},_onTouchMove:function(m){if(!(!m.touches||m.touches.length!==2||!this._zooming)){var C=this._map,M=C.mouseEventToContainerPoint(m.touches[0]),z=C.mouseEventToContainerPoint(m.touches[1]),Y=M.distanceTo(z)/this._startDist;if(this._zoom=C.getScaleZoom(Y,this._startZoom),!C.options.bounceAtZoomLimits&&(this._zoom<C.getMinZoom()&&Y<1||this._zoom>C.getMaxZoom()&&Y>1)&&(this._zoom=C._limitZoom(this._zoom)),C.options.touchZoom==="center"){if(this._center=this._startLatLng,Y===1)return}else{var ct=M._add(z)._divideBy(2)._subtract(this._centerPoint);if(Y===1&&ct.x===0&&ct.y===0)return;this._center=C.unproject(C.project(this._pinchStartLatLng,this._zoom).subtract(ct),this._zoom)}this._moved||(C._moveStart(!0,!1),this._moved=!0),ht(this._animRequest);var Ct=c(C._move,C,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=dt(Ct,this,!0),Ri(m)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ht(this._animRequest),In(document,"touchmove",this._onTouchMove,this),In(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ln.addInitHook("addHandler","touchZoom",Vu),ln.BoxZoom=vf,ln.DoubleClickZoom=hd,ln.Drag=Vl,ln.Keyboard=_f,ln.ScrollWheelZoom=mA,ln.TapHold=ju,ln.TouchZoom=Vu,e.Bounds=se,e.Browser=Te,e.CRS=Pt,e.Canvas=gA,e.Circle=ba,e.CircleMarker=xr,e.Class=mt,e.Control=Qs,e.DivIcon=lr,e.DivOverlay=Ae,e.DomEvent=qa,e.DomUtil=_c,e.Draggable=Bt,e.Evented=pt,e.FeatureGroup=dn,e.GeoJSON=or,e.GridLayer=Ce,e.Handler=at,e.Icon=fi,e.ImageOverlay=we,e.LatLng=Lt,e.LatLngBounds=ie,e.Layer=Xr,e.LayerGroup=Rl,e.LineUtil=ys,e.Map=ln,e.Marker=Jr,e.Mixin=kt,e.Path=_o,e.Point=_t,e.PolyUtil=te,e.Polygon=qo,e.Polyline=rr,e.Popup=En,e.PosAnimation=Ya,e.Projection=sr,e.Rectangle=Hu,e.Renderer=_n,e.SVG=jl,e.SVGOverlay=Re,e.TileLayer=Xa,e.Tooltip=Vn,e.Transformation=hn,e.Util=ut,e.VideoOverlay=ze,e.bind=c,e.bounds=oe,e.canvas=wf,e.circle=Ul,e.circleMarker=Ru,e.control=yr,e.divIcon=Yo,e.extend=o,e.featureGroup=Cc,e.geoJSON=re,e.geoJson=ee,e.gridLayer=bf,e.icon=vo,e.imageOverlay=ue,e.latLng=Tt,e.latLngBounds=le,e.layerGroup=Zr,e.map=Nl,e.marker=$o,e.point=yt,e.polygon=Ql,e.polyline=xc,e.popup=Cs,e.rectangle=zu,e.setOptions=x,e.stamp=h,e.svg=Hg,e.svgOverlay=$e,e.tileLayer=Qu,e.tooltip=ar,e.transformation=Ye,e.version=i,e.videoOverlay=Fe;var zg=window.L;e.noConflict=function(){return window.L=zg,this},window.L=e})}(Zv,Zv.exports)),Zv.exports}Gbt();window.Chart=zA;window.$=xo;window.jQuery=xo;window.toastr=dlt;window.html2canvas=Fht;$c.workerSrc=new URL("/build/assets/pdf.worker-DHtGXOM1.mjs",import.meta.url).toString();window.pdfjsLib=alt;vst.init();document.addEventListener("DOMContentLoaded",function(){const r=document.querySelector("#editor");r&&aQ.create(r,{toolbar:["undo","redo","|","heading","|","bold","italic","|","link","blockQuote","|","bulletedList","numberedList","|","indent","outdent","|"]}).then(v=>{console.log("Editor berhasil diinisialisasi",v)}).catch(v=>{console.error(v)}),["editor1","editor2","editor3","editor4","tentang"].forEach(v=>{const k=document.getElementById(v);k&&aQ.create(k,{toolbar:["undo","redo","|","heading","|","bold","italic","|","link","blockQuote","|","bulletedList","numberedList","|","indent","outdent","|"]}).then(y=>{console.log(`Editor untuk ${v} berhasil`,y)}).catch(y=>{console.error(`Editor untuk ${v} gagal:`,y)})});const e=document.querySelector(".artikelSwiper"),i=document.querySelector(".swiper-prev"),o=document.querySelector(".swiper-next"),a=document.querySelector(".swiper-current-index");if(e){let k=function(x){const I=x.realIndex+1,F=document.querySelectorAll(".artikelSwiper .swiper-slide").length;a&&(a.textContent=`${I} dari ${F}`)},y=function(x){const F=document.querySelectorAll(".artikelSwiper .swiper-slide").length>=2;i&&o&&(i.style.display=F?"inline-block":"none",o.style.display=F?"inline-block":"none"),a&&(a.style.display=F?"inline-block":"none")};const v=new La(e,{loop:document.querySelectorAll(".artikelSwiper .swiper-slide").length>=2,autoplay:document.querySelectorAll(".artikelSwiper .swiper-slide").length>=2?{delay:5e3,disableOnInteraction:!1}:!1,effect:"slide",speed:1e3,allowTouchMove:document.querySelectorAll(".artikelSwiper .swiper-slide").length>=2,spaceBetween:0,slidesPerView:1,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},on:{init:function(){k(this),y()},slideChange:function(){k(this)}}});window.artikelSwiper=v}new La(".mySwiperCarousel",{loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},effect:"slide",speed:1e3,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(){c(this),document.querySelector(".mySwiperCarousel").addEventListener("mouseenter",function(){document.querySelectorAll(".custom-swiper-button").forEach(v=>{v.style.display="flex"})}),document.querySelector(".mySwiperCarousel").addEventListener("mouseleave",function(){document.querySelectorAll(".custom-swiper-button").forEach(v=>{v.style.display="none"})})},slideChange:function(){c(this)}}});function c(v){const k=v.realIndex+1,y=v.slides.length-v.loopedSlides*2,x=document.querySelector(".swiper-custom-indicator");x&&(x.textContent=`${k} dari ${y}`)}Qn.bind('[data-fancybox="gallery"]',{Thumbs:!1,Toolbar:!0});const d=document.querySelectorAll(".galeri-item.hidden"),h=document.getElementById("lihat-lebih-btn");let p=0;const g=3;h==null||h.addEventListener("click",()=>{for(let v=0;v<g;v++){const k=d[p+v];k&&setTimeout(()=>{k.classList.remove("hidden"),k.style.display="block",requestAnimationFrame(()=>{k.classList.add("show")})},v*800)}p+=g,p>=d.length&&(h.style.display="none")});const w=document.getElementById("scrollTopBtn");w&&(window.addEventListener("scroll",()=>{w.style.display=window.scrollY>300?"block":"none"}),w.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})),xo(document).ready(function(){const v="/filter-artikel";function k(){xo("#artikel-list").hide().html(`
                <div class="text-center py-5">
                    <div class="spinner-border text-danger" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
            `).fadeIn()}function y(I=1){const F=xo("#search-input").val(),R=xo("#filter-bidang").val(),Q=xo("#filter-sort").val();k(),xo.ajax({url:`${v}?page=${I}`,method:"GET",data:{search:F,bidang_id:R,sort:Q},success:function(V){V.html&&xo("#artikel-list").html(V.html)},error:function(V){console.error("AJAX Error:",V)}})}xo("#filter-bidang, #filter-sort, #search-input").on("change keyup",function(){y(1)}),xo("#reset-filter").on("click",function(){xo("#search-input").val(""),xo("#filter-bidang").val(""),xo("#filter-sort").val(""),y(1)}),["/articles","/filter-artikel"].includes(window.location.pathname)&&xo(document).on("click",".pagination a",function(I){I.preventDefault();const F=xo(this).attr("href").split("page=")[1];y(F)})})});
